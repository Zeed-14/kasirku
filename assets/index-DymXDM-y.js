var Pk=Object.defineProperty;var kk=(e,t,r)=>t in e?Pk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var zp=(e,t,r)=>kk(e,typeof t!="symbol"?t+"":t,r);function Dk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var MC={exports:{}},Kh={},jC={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),Mk=Symbol.for("react.portal"),jk=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),Lk=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),Uk=Symbol.for("react.forward_ref"),Wk=Symbol.for("react.suspense"),zk=Symbol.for("react.memo"),Gk=Symbol.for("react.lazy"),vb=Symbol.iterator;function Hk(e){return e===null||typeof e!="object"?null:(e=vb&&e[vb]||e["@@iterator"],typeof e=="function"?e:null)}var BC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LC=Object.assign,FC={};function Ml(e,t,r){this.props=e,this.context=t,this.refs=FC,this.updater=r||BC}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $C(){}$C.prototype=Ml.prototype;function hv(e,t,r){this.props=e,this.context=t,this.refs=FC,this.updater=r||BC}var pv=hv.prototype=new $C;pv.constructor=hv;LC(pv,Ml.prototype);pv.isPureReactComponent=!0;var yb=Array.isArray,UC=Object.prototype.hasOwnProperty,gv={current:null},WC={key:!0,ref:!0,__self:!0,__source:!0};function zC(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)UC.call(t,n)&&!WC.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Dc,type:e,key:a,ref:s,props:i,_owner:gv.current}}function Vk(e,t){return{$$typeof:Dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dc}function Kk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xb=/\/+/g;function Gp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kk(""+e.key):t.toString(36)}function ff(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Dc:case Mk:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Gp(s,0):n,yb(i)?(r="",e!=null&&(r=e.replace(xb,"$&/")+"/"),ff(i,t,r,"",function(h){return h})):i!=null&&(mv(i)&&(i=Vk(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",yb(e))for(var c=0;c<e.length;c++){a=e[c];var d=n+Gp(a,c);s+=ff(a,t,r,d,i)}else if(d=Hk(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=n+Gp(a,c++),s+=ff(a,t,r,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Od(e,t,r){if(e==null)return e;var n=[],i=0;return ff(e,n,"","",function(a){return t.call(r,a,i++)}),n}function qk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},hf={transition:null},Xk={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:hf,ReactCurrentOwner:gv};function GC(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Od,forEach:function(e,t,r){Od(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Od(e,function(){t++}),t},toArray:function(e){return Od(e,function(t){return t})||[]},only:function(e){if(!mv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Ml;Ye.Fragment=jk;Ye.Profiler=Lk;Ye.PureComponent=hv;Ye.StrictMode=Bk;Ye.Suspense=Wk;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk;Ye.act=GC;Ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=LC({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=gv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)UC.call(t,d)&&!WC.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];n.children=c}return{$$typeof:Dc,type:e.type,key:i,ref:a,props:n,_owner:s}};Ye.createContext=function(e){return e={$$typeof:$k,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fk,_context:e},e.Consumer=e};Ye.createElement=zC;Ye.createFactory=function(e){var t=zC.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:Uk,render:e}};Ye.isValidElement=mv;Ye.lazy=function(e){return{$$typeof:Gk,_payload:{_status:-1,_result:e},_init:qk}};Ye.memo=function(e,t){return{$$typeof:zk,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=hf.transition;hf.transition={};try{e()}finally{hf.transition=t}};Ye.unstable_act=GC;Ye.useCallback=function(e,t){return en.current.useCallback(e,t)};Ye.useContext=function(e){return en.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return en.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return en.current.useEffect(e,t)};Ye.useId=function(){return en.current.useId()};Ye.useImperativeHandle=function(e,t,r){return en.current.useImperativeHandle(e,t,r)};Ye.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return en.current.useMemo(e,t)};Ye.useReducer=function(e,t,r){return en.current.useReducer(e,t,r)};Ye.useRef=function(e){return en.current.useRef(e)};Ye.useState=function(e){return en.current.useState(e)};Ye.useSyncExternalStore=function(e,t,r){return en.current.useSyncExternalStore(e,t,r)};Ye.useTransition=function(){return en.current.useTransition()};Ye.version="18.3.1";jC.exports=Ye;var N=jC.exports;const _t=Ln(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=N,Zk=Symbol.for("react.element"),Qk=Symbol.for("react.fragment"),Jk=Object.prototype.hasOwnProperty,e6=Yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t6={key:!0,ref:!0,__self:!0,__source:!0};function HC(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Jk.call(t,n)&&!t6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Zk,type:e,key:a,ref:s,props:i,_owner:e6.current}}Kh.Fragment=Qk;Kh.jsx=HC;Kh.jsxs=HC;MC.exports=Kh;var E=MC.exports,VC={exports:{}},Fn={},KC={exports:{}},qC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,fe){var ie=te.length;te.push(fe);e:for(;0<ie;){var ve=ie-1>>>1,re=te[ve];if(0<i(re,fe))te[ve]=fe,te[ie]=re,ie=ve;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var fe=te[0],ie=te.pop();if(ie!==fe){te[0]=ie;e:for(var ve=0,re=te.length,Ue=re>>>1;ve<Ue;){var $e=2*(ve+1)-1,qe=te[$e],xe=$e+1,cr=te[xe];if(0>i(qe,ie))xe<re&&0>i(cr,qe)?(te[ve]=cr,te[xe]=ie,ve=xe):(te[ve]=qe,te[$e]=ie,ve=$e);else if(xe<re&&0>i(cr,ie))te[ve]=cr,te[xe]=ie,ve=xe;else break e}}return fe}function i(te,fe){var ie=te.sortIndex-fe.sortIndex;return ie!==0?ie:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],h=[],g=1,v=null,y=3,w=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var fe=r(h);fe!==null;){if(fe.callback===null)n(h);else if(fe.startTime<=te)n(h),fe.sortIndex=fe.expirationTime,t(d,fe);else break;fe=r(h)}}function D(te){if(C=!1,T(te),!A)if(r(d)!==null)A=!0,we(M);else{var fe=r(h);fe!==null&&ee(D,fe.startTime-te)}}function M(te,fe){A=!1,C&&(C=!1,O(z),z=-1),w=!0;var ie=y;try{for(T(fe),v=r(d);v!==null&&(!(v.expirationTime>fe)||te&&!X());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,y=v.priorityLevel;var re=ve(v.expirationTime<=fe);fe=e.unstable_now(),typeof re=="function"?v.callback=re:v===r(d)&&n(d),T(fe)}else n(d);v=r(d)}if(v!==null)var Ue=!0;else{var $e=r(h);$e!==null&&ee(D,$e.startTime-fe),Ue=!1}return Ue}finally{v=null,y=ie,w=!1}}var j=!1,L=null,z=-1,U=5,J=-1;function X(){return!(e.unstable_now()-J<U)}function q(){if(L!==null){var te=e.unstable_now();J=te;var fe=!0;try{fe=L(!0,te)}finally{fe?oe():(j=!1,L=null)}}else j=!1}var oe;if(typeof _=="function")oe=function(){_(q)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,H=de.port2;de.port1.onmessage=q,oe=function(){H.postMessage(null)}}else oe=function(){I(q,0)};function we(te){L=te,j||(j=!0,oe())}function ee(te,fe){z=I(function(){te(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){A||w||(A=!0,we(M))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(te){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var ie=y;y=fe;try{return te()}finally{y=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=y;y=te;try{return fe()}finally{y=ie}},e.unstable_scheduleCallback=function(te,fe,ie){var ve=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,te){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ie+re,te={id:g++,callback:fe,priorityLevel:te,startTime:ie,expirationTime:re,sortIndex:-1},ie>ve?(te.sortIndex=ie,t(h,te),r(d)===null&&te===r(h)&&(C?(O(z),z=-1):C=!0,ee(D,ie-ve))):(te.sortIndex=re,t(d,te),A||w||(A=!0,we(M))),te},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(te){var fe=y;return function(){var ie=y;y=fe;try{return te.apply(this,arguments)}finally{y=ie}}}})(qC);KC.exports=qC;var r6=KC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6=N,Dn=r6;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XC=new Set,Qu={};function hs(e,t){fl(e,t),fl(e+"Capture",t)}function fl(e,t){for(Qu[e]=t,e=0;e<t.length;e++)XC.add(t[e])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s1=Object.prototype.hasOwnProperty,i6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb={},bb={};function a6(e){return s1.call(bb,e)?!0:s1.call(wb,e)?!1:i6.test(e)?bb[e]=!0:(wb[e]=!0,!1)}function o6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s6(e,t,r,n){if(t===null||typeof t>"u"||o6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dr[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dr[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dr[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dr[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dr[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dr[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dr[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dr[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dr[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var vv=/[\-:]([a-z])/g;function yv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vv,yv);Dr[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vv,yv);Dr[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vv,yv);Dr[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dr[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dr[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function xv(e,t,r,n){var i=Dr.hasOwnProperty(t)?Dr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s6(t,r,i,n)&&(r=null),n||i===null?a6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ma=n6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Id=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),YC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),QC=Symbol.for("react.offscreen"),Eb=Symbol.iterator;function su(e){return e===null||typeof e!="object"?null:(e=Eb&&e[Eb]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Object.assign,Hp;function Tu(e){if(Hp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hp=t&&t[1]||""}return`
`+Hp+e}var Vp=!1;function Kp(e,t){if(!e||Vp)return"";Vp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,c=a.length-1;1<=s&&0<=c&&i[s]!==a[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==a[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==a[c]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=c);break}}}finally{Vp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tu(e):""}function l6(e){switch(e.tag){case 5:return Tu(e.type);case 16:return Tu("Lazy");case 13:return Tu("Suspense");case 19:return Tu("SuspenseList");case 0:case 2:case 15:return e=Kp(e.type,!1),e;case 11:return e=Kp(e.type.render,!1),e;case 1:return e=Kp(e.type,!0),e;default:return""}}function d1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gs:return"Fragment";case zs:return"Portal";case l1:return"Profiler";case wv:return"StrictMode";case u1:return"Suspense";case c1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZC:return(e.displayName||"Context")+".Consumer";case YC:return(e._context.displayName||"Context")+".Provider";case bv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ev:return t=e.displayName||null,t!==null?t:d1(e.type)||"Memo";case Ma:t=e._payload,e=e._init;try{return d1(e(t))}catch{}}return null}function u6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d1(t);case 8:return t===wv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c6(e){var t=JC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _d(e){e._valueTracker||(e._valueTracker=c6(e))}function e3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function If(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f1(e,t){var r=t.checked;return Lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ab(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t3(e,t){t=t.checked,t!=null&&xv(e,"checked",t,!1)}function h1(e,t){t3(e,t);var r=ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?p1(e,t.type,r):t.hasOwnProperty("defaultValue")&&p1(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function p1(e,t,r){(t!=="number"||If(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nu=Array.isArray;function il(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ao(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function g1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Nu(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ao(r)}}function r3(e,t){var r=ao(t.value),n=ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ob(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Td,i3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Td=Td||document.createElement("div"),Td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ju(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d6=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(e){d6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ju[t]=ju[e]})});function a3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ju.hasOwnProperty(e)&&ju[e]?(""+t).trim():t+"px"}function o3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=a3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var f6=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v1(e,t){if(t){if(f6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=null;function Av(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w1=null,al=null,ol=null;function Ib(e){if(e=jc(e)){if(typeof w1!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Qh(t),w1(e.stateNode,e.type,t))}}function s3(e){al?ol?ol.push(e):ol=[e]:al=e}function l3(){if(al){var e=al,t=ol;if(ol=al=null,Ib(e),t)for(e=0;e<t.length;e++)Ib(t[e])}}function u3(e,t){return e(t)}function c3(){}var qp=!1;function d3(e,t,r){if(qp)return e(t,r);qp=!0;try{return u3(e,t,r)}finally{qp=!1,(al!==null||ol!==null)&&(c3(),l3())}}function ec(e,t){var r=e.stateNode;if(r===null)return null;var n=Qh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var b1=!1;if(sa)try{var lu={};Object.defineProperty(lu,"passive",{get:function(){b1=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{b1=!1}function h6(e,t,r,n,i,a,s,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(g){this.onError(g)}}var Bu=!1,_f=null,Tf=!1,E1=null,p6={onError:function(e){Bu=!0,_f=e}};function g6(e,t,r,n,i,a,s,c,d){Bu=!1,_f=null,h6.apply(p6,arguments)}function m6(e,t,r,n,i,a,s,c,d){if(g6.apply(this,arguments),Bu){if(Bu){var h=_f;Bu=!1,_f=null}else throw Error(le(198));Tf||(Tf=!0,E1=h)}}function ps(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _b(e){if(ps(e)!==e)throw Error(le(188))}function v6(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return _b(i),e;if(a===n)return _b(i),t;a=a.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}if(!s)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function h3(e){return e=v6(e),e!==null?p3(e):null}function p3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p3(e);if(t!==null)return t;e=e.sibling}return null}var g3=Dn.unstable_scheduleCallback,Tb=Dn.unstable_cancelCallback,y6=Dn.unstable_shouldYield,x6=Dn.unstable_requestPaint,Kt=Dn.unstable_now,w6=Dn.unstable_getCurrentPriorityLevel,Sv=Dn.unstable_ImmediatePriority,m3=Dn.unstable_UserBlockingPriority,Nf=Dn.unstable_NormalPriority,b6=Dn.unstable_LowPriority,v3=Dn.unstable_IdlePriority,qh=null,$i=null;function E6(e){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(qh,e,void 0,(e.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:C6,A6=Math.log,S6=Math.LN2;function C6(e){return e>>>=0,e===0?32:31-(A6(e)/S6|0)|0}var Nd=64,Pd=4194304;function Pu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var c=s&~i;c!==0?n=Pu(c):(a&=s,a!==0&&(n=Pu(a)))}else s=r&~i,s!==0?n=Pu(s):a!==0&&(n=Pu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Si(t),i=1<<r,n|=e[r],t&=~i;return n}function O6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Si(a),c=1<<s,d=i[s];d===-1?(!(c&r)||c&n)&&(i[s]=O6(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function A1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y3(){var e=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),e}function Xp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Si(t),e[t]=r}function _6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Si(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Cv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Si(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ct=0;function x3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w3,Ov,b3,E3,A3,S1=!1,kd=[],Ka=null,qa=null,Xa=null,tc=new Map,rc=new Map,$a=[],T6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nb(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(t.pointerId)}}function uu(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=jc(t),t!==null&&Ov(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function N6(e,t,r,n,i){switch(t){case"focusin":return Ka=uu(Ka,e,t,r,n,i),!0;case"dragenter":return qa=uu(qa,e,t,r,n,i),!0;case"mouseover":return Xa=uu(Xa,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return tc.set(a,uu(tc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,rc.set(a,uu(rc.get(a)||null,e,t,r,n,i)),!0}return!1}function S3(e){var t=Fo(e.target);if(t!==null){var r=ps(t);if(r!==null){if(t=r.tag,t===13){if(t=f3(r),t!==null){e.blockedOn=t,A3(e.priority,function(){b3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);x1=n,r.target.dispatchEvent(n),x1=null}else return t=jc(r),t!==null&&Ov(t),e.blockedOn=r,!1;t.shift()}return!0}function Pb(e,t,r){pf(e)&&r.delete(t)}function P6(){S1=!1,Ka!==null&&pf(Ka)&&(Ka=null),qa!==null&&pf(qa)&&(qa=null),Xa!==null&&pf(Xa)&&(Xa=null),tc.forEach(Pb),rc.forEach(Pb)}function cu(e,t){e.blockedOn===t&&(e.blockedOn=null,S1||(S1=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,P6)))}function nc(e){function t(i){return cu(i,e)}if(0<kd.length){cu(kd[0],e);for(var r=1;r<kd.length;r++){var n=kd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ka!==null&&cu(Ka,e),qa!==null&&cu(qa,e),Xa!==null&&cu(Xa,e),tc.forEach(t),rc.forEach(t),r=0;r<$a.length;r++)n=$a[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$a.length&&(r=$a[0],r.blockedOn===null);)S3(r),r.blockedOn===null&&$a.shift()}var sl=ma.ReactCurrentBatchConfig,kf=!0;function k6(e,t,r,n){var i=ct,a=sl.transition;sl.transition=null;try{ct=1,Iv(e,t,r,n)}finally{ct=i,sl.transition=a}}function D6(e,t,r,n){var i=ct,a=sl.transition;sl.transition=null;try{ct=4,Iv(e,t,r,n)}finally{ct=i,sl.transition=a}}function Iv(e,t,r,n){if(kf){var i=C1(e,t,r,n);if(i===null)ag(e,t,n,Df,r),Nb(e,n);else if(N6(i,e,t,r,n))n.stopPropagation();else if(Nb(e,n),t&4&&-1<T6.indexOf(e)){for(;i!==null;){var a=jc(i);if(a!==null&&w3(a),a=C1(e,t,r,n),a===null&&ag(e,t,n,Df,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ag(e,t,n,null,r)}}var Df=null;function C1(e,t,r,n){if(Df=null,e=Av(n),e=Fo(e),e!==null)if(t=ps(e),t===null)e=null;else if(r=t.tag,r===13){if(e=f3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Df=e,null}function C3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w6()){case Sv:return 1;case m3:return 4;case Nf:case b6:return 16;case v3:return 536870912;default:return 16}default:return 16}}var Ha=null,_v=null,gf=null;function O3(){if(gf)return gf;var e,t=_v,r=t.length,n,i="value"in Ha?Ha.value:Ha.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return gf=i.slice(e,1<n?1-n:void 0)}function mf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dd(){return!0}function kb(){return!1}function $n(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dd:kb,this.isPropagationStopped=kb,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tv=$n(jl),Mc=Lt({},jl,{view:0,detail:0}),R6=$n(Mc),Yp,Zp,du,Xh=Lt({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==du&&(du&&e.type==="mousemove"?(Yp=e.screenX-du.screenX,Zp=e.screenY-du.screenY):Zp=Yp=0,du=e),Yp)},movementY:function(e){return"movementY"in e?e.movementY:Zp}}),Db=$n(Xh),M6=Lt({},Xh,{dataTransfer:0}),j6=$n(M6),B6=Lt({},Mc,{relatedTarget:0}),Qp=$n(B6),L6=Lt({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),F6=$n(L6),$6=Lt({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U6=$n($6),W6=Lt({},jl,{data:0}),Rb=$n(W6),z6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H6[e])?!!t[e]:!1}function Nv(){return V6}var K6=Lt({},Mc,{key:function(e){if(e.key){var t=z6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(e){return e.type==="keypress"?mf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q6=$n(K6),X6=Lt({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mb=$n(X6),Y6=Lt({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),Z6=$n(Y6),Q6=Lt({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),J6=$n(Q6),e5=Lt({},Xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t5=$n(e5),r5=[9,13,27,32],Pv=sa&&"CompositionEvent"in window,Lu=null;sa&&"documentMode"in document&&(Lu=document.documentMode);var n5=sa&&"TextEvent"in window&&!Lu,I3=sa&&(!Pv||Lu&&8<Lu&&11>=Lu),jb=" ",Bb=!1;function _3(e,t){switch(e){case"keyup":return r5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hs=!1;function i5(e,t){switch(e){case"compositionend":return T3(t);case"keypress":return t.which!==32?null:(Bb=!0,jb);case"textInput":return e=t.data,e===jb&&Bb?null:e;default:return null}}function a5(e,t){if(Hs)return e==="compositionend"||!Pv&&_3(e,t)?(e=O3(),gf=_v=Ha=null,Hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I3&&t.locale!=="ko"?null:t.data;default:return null}}var o5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o5[e.type]:t==="textarea"}function N3(e,t,r,n){s3(n),t=Rf(t,"onChange"),0<t.length&&(r=new Tv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fu=null,ic=null;function s5(e){U3(e,0)}function Yh(e){var t=qs(e);if(e3(t))return e}function l5(e,t){if(e==="change")return t}var P3=!1;if(sa){var Jp;if(sa){var eg="oninput"in document;if(!eg){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),eg=typeof Fb.oninput=="function"}Jp=eg}else Jp=!1;P3=Jp&&(!document.documentMode||9<document.documentMode)}function $b(){Fu&&(Fu.detachEvent("onpropertychange",k3),ic=Fu=null)}function k3(e){if(e.propertyName==="value"&&Yh(ic)){var t=[];N3(t,ic,e,Av(e)),d3(s5,t)}}function u5(e,t,r){e==="focusin"?($b(),Fu=t,ic=r,Fu.attachEvent("onpropertychange",k3)):e==="focusout"&&$b()}function c5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yh(ic)}function d5(e,t){if(e==="click")return Yh(t)}function f5(e,t){if(e==="input"||e==="change")return Yh(t)}function h5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oi=typeof Object.is=="function"?Object.is:h5;function ac(e,t){if(Oi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!s1.call(t,i)||!Oi(e[i],t[i]))return!1}return!0}function Ub(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wb(e,t){var r=Ub(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ub(r)}}function D3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R3(){for(var e=window,t=If();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=If(e.document)}return t}function kv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p5(e){var t=R3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&D3(r.ownerDocument.documentElement,r)){if(n!==null&&kv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Wb(r,a);var s=Wb(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g5=sa&&"documentMode"in document&&11>=document.documentMode,Vs=null,O1=null,$u=null,I1=!1;function zb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;I1||Vs==null||Vs!==If(n)||(n=Vs,"selectionStart"in n&&kv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$u&&ac($u,n)||($u=n,n=Rf(O1,"onSelect"),0<n.length&&(t=new Tv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vs)))}function Rd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ks={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},tg={},M3={};sa&&(M3=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Zh(e){if(tg[e])return tg[e];if(!Ks[e])return e;var t=Ks[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in M3)return tg[e]=t[r];return e}var j3=Zh("animationend"),B3=Zh("animationiteration"),L3=Zh("animationstart"),F3=Zh("transitionend"),$3=new Map,Gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(e,t){$3.set(e,t),hs(t,[e])}for(var rg=0;rg<Gb.length;rg++){var ng=Gb[rg],m5=ng.toLowerCase(),v5=ng[0].toUpperCase()+ng.slice(1);co(m5,"on"+v5)}co(j3,"onAnimationEnd");co(B3,"onAnimationIteration");co(L3,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(F3,"onTransitionEnd");fl("onMouseEnter",["mouseout","mouseover"]);fl("onMouseLeave",["mouseout","mouseover"]);fl("onPointerEnter",["pointerout","pointerover"]);fl("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function Hb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,m6(n,t,void 0,e),e.currentTarget=null}function U3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var c=n[s],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;Hb(i,c,h),a=d}else for(s=0;s<n.length;s++){if(c=n[s],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;Hb(i,c,h),a=d}}}if(Tf)throw e=E1,Tf=!1,E1=null,e}function Ct(e,t){var r=t[k1];r===void 0&&(r=t[k1]=new Set);var n=e+"__bubble";r.has(n)||(W3(t,e,2,!1),r.add(n))}function ig(e,t,r){var n=0;t&&(n|=4),W3(r,e,n,t)}var Md="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[Md]){e[Md]=!0,XC.forEach(function(r){r!=="selectionchange"&&(y5.has(r)||ig(r,!1,e),ig(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Md]||(t[Md]=!0,ig("selectionchange",!1,t))}}function W3(e,t,r,n){switch(C3(t)){case 1:var i=k6;break;case 4:i=D6;break;default:i=Iv}r=i.bind(null,t,r,e),i=void 0,!b1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ag(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;c!==null;){if(s=Fo(c),s===null)return;if(d=s.tag,d===5||d===6){n=a=s;continue e}c=c.parentNode}}n=n.return}d3(function(){var h=a,g=Av(r),v=[];e:{var y=$3.get(e);if(y!==void 0){var w=Tv,A=e;switch(e){case"keypress":if(mf(r)===0)break e;case"keydown":case"keyup":w=q6;break;case"focusin":A="focus",w=Qp;break;case"focusout":A="blur",w=Qp;break;case"beforeblur":case"afterblur":w=Qp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=j6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Z6;break;case j3:case B3:case L3:w=F6;break;case F3:w=J6;break;case"scroll":w=R6;break;case"wheel":w=t5;break;case"copy":case"cut":case"paste":w=U6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Mb}var C=(t&4)!==0,I=!C&&e==="scroll",O=C?y!==null?y+"Capture":null:y;C=[];for(var _=h,T;_!==null;){T=_;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,O!==null&&(D=ec(_,O),D!=null&&C.push(sc(_,D,T)))),I)break;_=_.return}0<C.length&&(y=new w(y,A,null,r,g),v.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",y&&r!==x1&&(A=r.relatedTarget||r.fromElement)&&(Fo(A)||A[la]))break e;if((w||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,w?(A=r.relatedTarget||r.toElement,w=h,A=A?Fo(A):null,A!==null&&(I=ps(A),A!==I||A.tag!==5&&A.tag!==6)&&(A=null)):(w=null,A=h),w!==A)){if(C=Db,D="onMouseLeave",O="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(C=Mb,D="onPointerLeave",O="onPointerEnter",_="pointer"),I=w==null?y:qs(w),T=A==null?y:qs(A),y=new C(D,_+"leave",w,r,g),y.target=I,y.relatedTarget=T,D=null,Fo(g)===h&&(C=new C(O,_+"enter",A,r,g),C.target=T,C.relatedTarget=I,D=C),I=D,w&&A)t:{for(C=w,O=A,_=0,T=C;T;T=ks(T))_++;for(T=0,D=O;D;D=ks(D))T++;for(;0<_-T;)C=ks(C),_--;for(;0<T-_;)O=ks(O),T--;for(;_--;){if(C===O||O!==null&&C===O.alternate)break t;C=ks(C),O=ks(O)}C=null}else C=null;w!==null&&Vb(v,y,w,C,!1),A!==null&&I!==null&&Vb(v,I,A,C,!0)}}e:{if(y=h?qs(h):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var M=l5;else if(Lb(y))if(P3)M=f5;else{M=c5;var j=u5}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(M=d5);if(M&&(M=M(e,h))){N3(v,M,r,g);break e}j&&j(e,y,h),e==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&p1(y,"number",y.value)}switch(j=h?qs(h):window,e){case"focusin":(Lb(j)||j.contentEditable==="true")&&(Vs=j,O1=h,$u=null);break;case"focusout":$u=O1=Vs=null;break;case"mousedown":I1=!0;break;case"contextmenu":case"mouseup":case"dragend":I1=!1,zb(v,r,g);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":zb(v,r,g)}var L;if(Pv)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Hs?_3(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(I3&&r.locale!=="ko"&&(Hs||z!=="onCompositionStart"?z==="onCompositionEnd"&&Hs&&(L=O3()):(Ha=g,_v="value"in Ha?Ha.value:Ha.textContent,Hs=!0)),j=Rf(h,z),0<j.length&&(z=new Rb(z,e,null,r,g),v.push({event:z,listeners:j}),L?z.data=L:(L=T3(r),L!==null&&(z.data=L)))),(L=n5?i5(e,r):a5(e,r))&&(h=Rf(h,"onBeforeInput"),0<h.length&&(g=new Rb("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:h}),g.data=L))}U3(v,t)})}function sc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ec(e,r),a!=null&&n.unshift(sc(e,a,i)),a=ec(e,t),a!=null&&n.push(sc(e,a,i))),e=e.return}return n}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vb(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var c=r,d=c.alternate,h=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&h!==null&&(c=h,i?(d=ec(r,a),d!=null&&s.unshift(sc(r,d,c))):i||(d=ec(r,a),d!=null&&s.push(sc(r,d,c)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var x5=/\r\n?/g,w5=/\u0000|\uFFFD/g;function Kb(e){return(typeof e=="string"?e:""+e).replace(x5,`
`).replace(w5,"")}function jd(e,t,r){if(t=Kb(t),Kb(e)!==t&&r)throw Error(le(425))}function Mf(){}var _1=null,T1=null;function N1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var P1=typeof setTimeout=="function"?setTimeout:void 0,b5=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,E5=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(e){return qb.resolve(null).then(e).catch(A5)}:P1;function A5(e){setTimeout(function(){throw e})}function og(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),nc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);nc(t)}function Ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Li="__reactFiber$"+Bl,lc="__reactProps$"+Bl,la="__reactContainer$"+Bl,k1="__reactEvents$"+Bl,S5="__reactListeners$"+Bl,C5="__reactHandles$"+Bl;function Fo(e){var t=e[Li];if(t)return t;for(var r=e.parentNode;r;){if(t=r[la]||r[Li]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xb(e);e!==null;){if(r=e[Li])return r;e=Xb(e)}return t}e=r,r=e.parentNode}return null}function jc(e){return e=e[Li]||e[la],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Qh(e){return e[lc]||null}var D1=[],Xs=-1;function fo(e){return{current:e}}function Tt(e){0>Xs||(e.current=D1[Xs],D1[Xs]=null,Xs--)}function At(e,t){Xs++,D1[Xs]=e.current,e.current=t}var oo={},Gr=fo(oo),gn=fo(!1),ts=oo;function hl(e,t){var r=e.type.contextTypes;if(!r)return oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mn(e){return e=e.childContextTypes,e!=null}function jf(){Tt(gn),Tt(Gr)}function Yb(e,t,r){if(Gr.current!==oo)throw Error(le(168));At(Gr,t),At(gn,r)}function z3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(le(108,u6(e)||"Unknown",i));return Lt({},r,n)}function Bf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,ts=Gr.current,At(Gr,e),At(gn,gn.current),!0}function Zb(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=z3(e,t,ts),n.__reactInternalMemoizedMergedChildContext=e,Tt(gn),Tt(Gr),At(Gr,e)):Tt(gn),At(gn,r)}var Zi=null,Jh=!1,sg=!1;function G3(e){Zi===null?Zi=[e]:Zi.push(e)}function O5(e){Jh=!0,G3(e)}function ho(){if(!sg&&Zi!==null){sg=!0;var e=0,t=ct;try{var r=Zi;for(ct=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zi=null,Jh=!1}catch(i){throw Zi!==null&&(Zi=Zi.slice(e+1)),g3(Sv,ho),i}finally{ct=t,sg=!1}}return null}var Ys=[],Zs=0,Lf=null,Ff=0,Zn=[],Qn=0,rs=null,ea=1,ta="";function Po(e,t){Ys[Zs++]=Ff,Ys[Zs++]=Lf,Lf=e,Ff=t}function H3(e,t,r){Zn[Qn++]=ea,Zn[Qn++]=ta,Zn[Qn++]=rs,rs=e;var n=ea;e=ta;var i=32-Si(n)-1;n&=~(1<<i),r+=1;var a=32-Si(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ea=1<<32-Si(t)+i|r<<i|n,ta=a+e}else ea=1<<a|r<<i|n,ta=e}function Dv(e){e.return!==null&&(Po(e,1),H3(e,1,0))}function Rv(e){for(;e===Lf;)Lf=Ys[--Zs],Ys[Zs]=null,Ff=Ys[--Zs],Ys[Zs]=null;for(;e===rs;)rs=Zn[--Qn],Zn[Qn]=null,ta=Zn[--Qn],Zn[Qn]=null,ea=Zn[--Qn],Zn[Qn]=null}var Tn=null,In=null,Pt=!1,wi=null;function V3(e,t){var r=ei(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tn=e,In=Ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tn=e,In=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rs!==null?{id:ea,overflow:ta}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ei(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tn=e,In=null,!0):!1;default:return!1}}function R1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function M1(e){if(Pt){var t=In;if(t){var r=t;if(!Qb(e,t)){if(R1(e))throw Error(le(418));t=Ya(r.nextSibling);var n=Tn;t&&Qb(e,t)?V3(n,r):(e.flags=e.flags&-4097|2,Pt=!1,Tn=e)}}else{if(R1(e))throw Error(le(418));e.flags=e.flags&-4097|2,Pt=!1,Tn=e}}}function Jb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tn=e}function Bd(e){if(e!==Tn)return!1;if(!Pt)return Jb(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N1(e.type,e.memoizedProps)),t&&(t=In)){if(R1(e))throw K3(),Error(le(418));for(;t;)V3(e,t),t=Ya(t.nextSibling)}if(Jb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){In=Ya(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}In=null}}else In=Tn?Ya(e.stateNode.nextSibling):null;return!0}function K3(){for(var e=In;e;)e=Ya(e.nextSibling)}function pl(){In=Tn=null,Pt=!1}function Mv(e){wi===null?wi=[e]:wi.push(e)}var I5=ma.ReactCurrentBatchConfig;function fu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var c=i.refs;s===null?delete c[a]:c[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Ld(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function e2(e){var t=e._init;return t(e._payload)}function q3(e){function t(O,_){if(e){var T=O.deletions;T===null?(O.deletions=[_],O.flags|=16):T.push(_)}}function r(O,_){if(!e)return null;for(;_!==null;)t(O,_),_=_.sibling;return null}function n(O,_){for(O=new Map;_!==null;)_.key!==null?O.set(_.key,_):O.set(_.index,_),_=_.sibling;return O}function i(O,_){return O=eo(O,_),O.index=0,O.sibling=null,O}function a(O,_,T){return O.index=T,e?(T=O.alternate,T!==null?(T=T.index,T<_?(O.flags|=2,_):T):(O.flags|=2,_)):(O.flags|=1048576,_)}function s(O){return e&&O.alternate===null&&(O.flags|=2),O}function c(O,_,T,D){return _===null||_.tag!==6?(_=pg(T,O.mode,D),_.return=O,_):(_=i(_,T),_.return=O,_)}function d(O,_,T,D){var M=T.type;return M===Gs?g(O,_,T.props.children,D,T.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ma&&e2(M)===_.type)?(D=i(_,T.props),D.ref=fu(O,_,T),D.return=O,D):(D=Af(T.type,T.key,T.props,null,O.mode,D),D.ref=fu(O,_,T),D.return=O,D)}function h(O,_,T,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=gg(T,O.mode,D),_.return=O,_):(_=i(_,T.children||[]),_.return=O,_)}function g(O,_,T,D,M){return _===null||_.tag!==7?(_=Xo(T,O.mode,D,M),_.return=O,_):(_=i(_,T),_.return=O,_)}function v(O,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=pg(""+_,O.mode,T),_.return=O,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Id:return T=Af(_.type,_.key,_.props,null,O.mode,T),T.ref=fu(O,null,_),T.return=O,T;case zs:return _=gg(_,O.mode,T),_.return=O,_;case Ma:var D=_._init;return v(O,D(_._payload),T)}if(Nu(_)||su(_))return _=Xo(_,O.mode,T,null),_.return=O,_;Ld(O,_)}return null}function y(O,_,T,D){var M=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:c(O,_,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Id:return T.key===M?d(O,_,T,D):null;case zs:return T.key===M?h(O,_,T,D):null;case Ma:return M=T._init,y(O,_,M(T._payload),D)}if(Nu(T)||su(T))return M!==null?null:g(O,_,T,D,null);Ld(O,T)}return null}function w(O,_,T,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return O=O.get(T)||null,c(_,O,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Id:return O=O.get(D.key===null?T:D.key)||null,d(_,O,D,M);case zs:return O=O.get(D.key===null?T:D.key)||null,h(_,O,D,M);case Ma:var j=D._init;return w(O,_,T,j(D._payload),M)}if(Nu(D)||su(D))return O=O.get(T)||null,g(_,O,D,M,null);Ld(_,D)}return null}function A(O,_,T,D){for(var M=null,j=null,L=_,z=_=0,U=null;L!==null&&z<T.length;z++){L.index>z?(U=L,L=null):U=L.sibling;var J=y(O,L,T[z],D);if(J===null){L===null&&(L=U);break}e&&L&&J.alternate===null&&t(O,L),_=a(J,_,z),j===null?M=J:j.sibling=J,j=J,L=U}if(z===T.length)return r(O,L),Pt&&Po(O,z),M;if(L===null){for(;z<T.length;z++)L=v(O,T[z],D),L!==null&&(_=a(L,_,z),j===null?M=L:j.sibling=L,j=L);return Pt&&Po(O,z),M}for(L=n(O,L);z<T.length;z++)U=w(L,O,z,T[z],D),U!==null&&(e&&U.alternate!==null&&L.delete(U.key===null?z:U.key),_=a(U,_,z),j===null?M=U:j.sibling=U,j=U);return e&&L.forEach(function(X){return t(O,X)}),Pt&&Po(O,z),M}function C(O,_,T,D){var M=su(T);if(typeof M!="function")throw Error(le(150));if(T=M.call(T),T==null)throw Error(le(151));for(var j=M=null,L=_,z=_=0,U=null,J=T.next();L!==null&&!J.done;z++,J=T.next()){L.index>z?(U=L,L=null):U=L.sibling;var X=y(O,L,J.value,D);if(X===null){L===null&&(L=U);break}e&&L&&X.alternate===null&&t(O,L),_=a(X,_,z),j===null?M=X:j.sibling=X,j=X,L=U}if(J.done)return r(O,L),Pt&&Po(O,z),M;if(L===null){for(;!J.done;z++,J=T.next())J=v(O,J.value,D),J!==null&&(_=a(J,_,z),j===null?M=J:j.sibling=J,j=J);return Pt&&Po(O,z),M}for(L=n(O,L);!J.done;z++,J=T.next())J=w(L,O,z,J.value,D),J!==null&&(e&&J.alternate!==null&&L.delete(J.key===null?z:J.key),_=a(J,_,z),j===null?M=J:j.sibling=J,j=J);return e&&L.forEach(function(q){return t(O,q)}),Pt&&Po(O,z),M}function I(O,_,T,D){if(typeof T=="object"&&T!==null&&T.type===Gs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Id:e:{for(var M=T.key,j=_;j!==null;){if(j.key===M){if(M=T.type,M===Gs){if(j.tag===7){r(O,j.sibling),_=i(j,T.props.children),_.return=O,O=_;break e}}else if(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ma&&e2(M)===j.type){r(O,j.sibling),_=i(j,T.props),_.ref=fu(O,j,T),_.return=O,O=_;break e}r(O,j);break}else t(O,j);j=j.sibling}T.type===Gs?(_=Xo(T.props.children,O.mode,D,T.key),_.return=O,O=_):(D=Af(T.type,T.key,T.props,null,O.mode,D),D.ref=fu(O,_,T),D.return=O,O=D)}return s(O);case zs:e:{for(j=T.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){r(O,_.sibling),_=i(_,T.children||[]),_.return=O,O=_;break e}else{r(O,_);break}else t(O,_);_=_.sibling}_=gg(T,O.mode,D),_.return=O,O=_}return s(O);case Ma:return j=T._init,I(O,_,j(T._payload),D)}if(Nu(T))return A(O,_,T,D);if(su(T))return C(O,_,T,D);Ld(O,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(r(O,_.sibling),_=i(_,T),_.return=O,O=_):(r(O,_),_=pg(T,O.mode,D),_.return=O,O=_),s(O)):r(O,_)}return I}var gl=q3(!0),X3=q3(!1),$f=fo(null),Uf=null,Qs=null,jv=null;function Bv(){jv=Qs=Uf=null}function Lv(e){var t=$f.current;Tt($f),e._currentValue=t}function j1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ll(e,t){Uf=e,jv=Qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function ai(e){var t=e._currentValue;if(jv!==e)if(e={context:e,memoizedValue:t,next:null},Qs===null){if(Uf===null)throw Error(le(308));Qs=e,Uf.dependencies={lanes:0,firstContext:e}}else Qs=Qs.next=e;return t}var $o=null;function Fv(e){$o===null?$o=[e]:$o.push(e)}function Y3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Fv(t)):(r.next=i.next,i.next=r),t.interleaved=r,ua(e,n)}function ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ja=!1;function $v(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Za(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ua(e,r)}return i=n.interleaved,i===null?(t.next=t,Fv(n)):(t.next=i.next,i.next=t),n.interleaved=t,ua(e,r)}function vf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cv(e,r)}}function t2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wf(e,t,r,n){var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,h=d.next;d.next=null,s===null?a=h:s.next=h,s=d;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==s&&(c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=d))}if(a!==null){var v=i.baseState;s=0,g=h=d=null,c=a;do{var y=c.lane,w=c.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var A=e,C=c;switch(y=t,w=r,C.tag){case 1:if(A=C.payload,typeof A=="function"){v=A.call(w,v,y);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,y=typeof A=="function"?A.call(w,v,y):A,y==null)break e;v=Lt({},v,y);break e;case 2:ja=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[c]:y.push(c))}else w={eventTime:w,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(h=g=w,d=v):g=g.next=w,s|=y;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(g===null&&(d=v),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);is|=s,e.lanes=s,e.memoizedState=v}}function r2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var Bc={},Ui=fo(Bc),uc=fo(Bc),cc=fo(Bc);function Uo(e){if(e===Bc)throw Error(le(174));return e}function Uv(e,t){switch(At(cc,t),At(uc,e),At(Ui,Bc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m1(t,e)}Tt(Ui),At(Ui,t)}function ml(){Tt(Ui),Tt(uc),Tt(cc)}function Q3(e){Uo(cc.current);var t=Uo(Ui.current),r=m1(t,e.type);t!==r&&(At(uc,e),At(Ui,r))}function Wv(e){uc.current===e&&(Tt(Ui),Tt(uc))}var jt=fo(0);function zf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lg=[];function zv(){for(var e=0;e<lg.length;e++)lg[e]._workInProgressVersionPrimary=null;lg.length=0}var yf=ma.ReactCurrentDispatcher,ug=ma.ReactCurrentBatchConfig,ns=0,Bt=null,or=null,gr=null,Gf=!1,Uu=!1,dc=0,_5=0;function Br(){throw Error(le(321))}function Gv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Oi(e[r],t[r]))return!1;return!0}function Hv(e,t,r,n,i,a){if(ns=a,Bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?k5:D5,e=r(n,i),Uu){a=0;do{if(Uu=!1,dc=0,25<=a)throw Error(le(301));a+=1,gr=or=null,t.updateQueue=null,yf.current=R5,e=r(n,i)}while(Uu)}if(yf.current=Hf,t=or!==null&&or.next!==null,ns=0,gr=or=Bt=null,Gf=!1,t)throw Error(le(300));return e}function Vv(){var e=dc!==0;return dc=0,e}function Bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Bt.memoizedState=gr=e:gr=gr.next=e,gr}function oi(){if(or===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var t=gr===null?Bt.memoizedState:gr.next;if(t!==null)gr=t,or=e;else{if(e===null)throw Error(le(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},gr===null?Bt.memoizedState=gr=e:gr=gr.next=e}return gr}function fc(e,t){return typeof t=="function"?t(e):t}function cg(e){var t=oi(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=or,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=s=null,d=null,h=a;do{var g=h.lane;if((ns&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=v,s=n):d=d.next=v,Bt.lanes|=g,is|=g}h=h.next}while(h!==null&&h!==a);d===null?s=n:d.next=c,Oi(n,t.memoizedState)||(hn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Bt.lanes|=a,is|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dg(e){var t=oi(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Oi(a,t.memoizedState)||(hn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function J3(){}function eO(e,t){var r=Bt,n=oi(),i=t(),a=!Oi(n.memoizedState,i);if(a&&(n.memoizedState=i,hn=!0),n=n.queue,Kv(nO.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||gr!==null&&gr.memoizedState.tag&1){if(r.flags|=2048,hc(9,rO.bind(null,r,n,i,t),void 0,null),vr===null)throw Error(le(349));ns&30||tO(r,t,i)}return i}function tO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rO(e,t,r,n){t.value=r,t.getSnapshot=n,iO(t)&&aO(e)}function nO(e,t,r){return r(function(){iO(t)&&aO(e)})}function iO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Oi(e,r)}catch{return!0}}function aO(e){var t=ua(e,1);t!==null&&Ci(t,e,1,-1)}function n2(e){var t=Bi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:e},t.queue=e,e=e.dispatch=P5.bind(null,Bt,e),[t.memoizedState,e]}function hc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oO(){return oi().memoizedState}function xf(e,t,r,n){var i=Bi();Bt.flags|=e,i.memoizedState=hc(1|t,r,void 0,n===void 0?null:n)}function e0(e,t,r,n){var i=oi();n=n===void 0?null:n;var a=void 0;if(or!==null){var s=or.memoizedState;if(a=s.destroy,n!==null&&Gv(n,s.deps)){i.memoizedState=hc(t,r,a,n);return}}Bt.flags|=e,i.memoizedState=hc(1|t,r,a,n)}function i2(e,t){return xf(8390656,8,e,t)}function Kv(e,t){return e0(2048,8,e,t)}function sO(e,t){return e0(4,2,e,t)}function lO(e,t){return e0(4,4,e,t)}function uO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cO(e,t,r){return r=r!=null?r.concat([e]):null,e0(4,4,uO.bind(null,t,e),r)}function qv(){}function dO(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fO(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hO(e,t,r){return ns&21?(Oi(r,t)||(r=y3(),Bt.lanes|=r,is|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=r)}function T5(e,t){var r=ct;ct=r!==0&&4>r?r:4,e(!0);var n=ug.transition;ug.transition={};try{e(!1),t()}finally{ct=r,ug.transition=n}}function pO(){return oi().memoizedState}function N5(e,t,r){var n=Ja(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gO(e))mO(t,r);else if(r=Y3(e,t,r,n),r!==null){var i=Zr();Ci(r,e,n,i),vO(r,t,n)}}function P5(e,t,r){var n=Ja(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gO(e))mO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,c=a(s,r);if(i.hasEagerState=!0,i.eagerState=c,Oi(c,s)){var d=t.interleaved;d===null?(i.next=i,Fv(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=Y3(e,t,i,n),r!==null&&(i=Zr(),Ci(r,e,n,i),vO(r,t,n))}}function gO(e){var t=e.alternate;return e===Bt||t!==null&&t===Bt}function mO(e,t){Uu=Gf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cv(e,r)}}var Hf={readContext:ai,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},k5={readContext:ai,useCallback:function(e,t){return Bi().memoizedState=[e,t===void 0?null:t],e},useContext:ai,useEffect:i2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xf(4194308,4,uO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return xf(4,2,e,t)},useMemo:function(e,t){var r=Bi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=N5.bind(null,Bt,e),[n.memoizedState,e]},useRef:function(e){var t=Bi();return e={current:e},t.memoizedState=e},useState:n2,useDebugValue:qv,useDeferredValue:function(e){return Bi().memoizedState=e},useTransition:function(){var e=n2(!1),t=e[0];return e=T5.bind(null,e[1]),Bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bt,i=Bi();if(Pt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),vr===null)throw Error(le(349));ns&30||tO(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,i2(nO.bind(null,n,a,e),[e]),n.flags|=2048,hc(9,rO.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Bi(),t=vr.identifierPrefix;if(Pt){var r=ta,n=ea;r=(n&~(1<<32-Si(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D5={readContext:ai,useCallback:dO,useContext:ai,useEffect:Kv,useImperativeHandle:cO,useInsertionEffect:sO,useLayoutEffect:lO,useMemo:fO,useReducer:cg,useRef:oO,useState:function(){return cg(fc)},useDebugValue:qv,useDeferredValue:function(e){var t=oi();return hO(t,or.memoizedState,e)},useTransition:function(){var e=cg(fc)[0],t=oi().memoizedState;return[e,t]},useMutableSource:J3,useSyncExternalStore:eO,useId:pO,unstable_isNewReconciler:!1},R5={readContext:ai,useCallback:dO,useContext:ai,useEffect:Kv,useImperativeHandle:cO,useInsertionEffect:sO,useLayoutEffect:lO,useMemo:fO,useReducer:dg,useRef:oO,useState:function(){return dg(fc)},useDebugValue:qv,useDeferredValue:function(e){var t=oi();return or===null?t.memoizedState=e:hO(t,or.memoizedState,e)},useTransition:function(){var e=dg(fc)[0],t=oi().memoizedState;return[e,t]},useMutableSource:J3,useSyncExternalStore:eO,useId:pO,unstable_isNewReconciler:!1};function vi(e,t){if(e&&e.defaultProps){t=Lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function B1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var t0={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zr(),i=Ja(e),a=ia(n,i);a.payload=t,r!=null&&(a.callback=r),t=Za(e,a,i),t!==null&&(Ci(t,e,i,n),vf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zr(),i=Ja(e),a=ia(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Za(e,a,i),t!==null&&(Ci(t,e,i,n),vf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zr(),n=Ja(e),i=ia(r,n);i.tag=2,t!=null&&(i.callback=t),t=Za(e,i,n),t!==null&&(Ci(t,e,n,r),vf(t,e,n))}};function a2(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!ac(r,n)||!ac(i,a):!0}function yO(e,t,r){var n=!1,i=oo,a=t.contextType;return typeof a=="object"&&a!==null?a=ai(a):(i=mn(t)?ts:Gr.current,n=t.contextTypes,a=(n=n!=null)?hl(e,i):oo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=t0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function o2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&t0.enqueueReplaceState(t,t.state,null)}function L1(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$v(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ai(a):(a=mn(t)?ts:Gr.current,i.context=hl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(B1(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&t0.enqueueReplaceState(i,i.state,null),Wf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vl(e,t){try{var r="",n=t;do r+=l6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function F1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function xO(e,t,r){r=ia(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kf||(Kf=!0,X1=n),F1(e,t)},r}function wO(e,t,r){r=ia(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){F1(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){F1(e,t),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function s2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=X5.bind(null,e,t,r),t.then(e,e))}function l2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ia(-1,1),t.tag=2,Za(r,t,1))),r.lanes|=1),e)}var j5=ma.ReactCurrentOwner,hn=!1;function qr(e,t,r,n){t.child=e===null?X3(t,null,r,n):gl(t,e.child,r,n)}function c2(e,t,r,n,i){r=r.render;var a=t.ref;return ll(t,i),n=Hv(e,t,r,n,a,i),r=Vv(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ca(e,t,i)):(Pt&&r&&Dv(t),t.flags|=1,qr(e,t,n,i),t.child)}function d2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!ry(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,bO(e,t,a,n,i)):(e=Af(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ac,r(s,n)&&e.ref===t.ref)return ca(e,t,i)}return t.flags|=1,e=eo(a,n),e.ref=t.ref,e.return=t,t.child=e}function bO(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ac(a,n)&&e.ref===t.ref)if(hn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,ca(e,t,i)}return $1(e,t,r,n,i)}function EO(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(el,An),An|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(el,An),An|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,At(el,An),An|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,At(el,An),An|=n;return qr(e,t,i,r),t.child}function AO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $1(e,t,r,n,i){var a=mn(r)?ts:Gr.current;return a=hl(t,a),ll(t,i),r=Hv(e,t,r,n,a,i),n=Vv(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ca(e,t,i)):(Pt&&n&&Dv(t),t.flags|=1,qr(e,t,r,i),t.child)}function f2(e,t,r,n,i){if(mn(r)){var a=!0;Bf(t)}else a=!1;if(ll(t,i),t.stateNode===null)wf(e,t),yO(t,r,n),L1(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var d=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=ai(h):(h=mn(r)?ts:Gr.current,h=hl(t,h));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==n||d!==h)&&o2(t,s,n,h),ja=!1;var y=t.memoizedState;s.state=y,Wf(t,n,s,i),d=t.memoizedState,c!==n||y!==d||gn.current||ja?(typeof g=="function"&&(B1(t,r,g,n),d=t.memoizedState),(c=ja||a2(t,r,c,n,y,d,h))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=h,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Z3(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:vi(t.type,c),s.props=h,v=t.pendingProps,y=s.context,d=r.contextType,typeof d=="object"&&d!==null?d=ai(d):(d=mn(r)?ts:Gr.current,d=hl(t,d));var w=r.getDerivedStateFromProps;(g=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==v||y!==d)&&o2(t,s,n,d),ja=!1,y=t.memoizedState,s.state=y,Wf(t,n,s,i);var A=t.memoizedState;c!==v||y!==A||gn.current||ja?(typeof w=="function"&&(B1(t,r,w,n),A=t.memoizedState),(h=ja||a2(t,r,h,n,y,A,d)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,A,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,A,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),s.props=n,s.state=A,s.context=d,n=h):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return U1(e,t,r,n,a,i)}function U1(e,t,r,n,i,a){AO(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Zb(t,r,!1),ca(e,t,a);n=t.stateNode,j5.current=t;var c=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=gl(t,e.child,null,a),t.child=gl(t,null,c,a)):qr(e,t,c,a),t.memoizedState=n.state,i&&Zb(t,r,!0),t.child}function SO(e){var t=e.stateNode;t.pendingContext?Yb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yb(e,t.context,!1),Uv(e,t.containerInfo)}function h2(e,t,r,n,i){return pl(),Mv(i),t.flags|=256,qr(e,t,r,n),t.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function z1(e){return{baseLanes:e,cachePool:null,transitions:null}}function CO(e,t,r){var n=t.pendingProps,i=jt.current,a=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),At(jt,i&1),e===null)return M1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=i0(s,n,0,null),e=Xo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=z1(r),t.memoizedState=W1,e):Xv(t,s));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return B5(e,t,s,n,c,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=eo(i,d),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=eo(c,a):(a=Xo(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?z1(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=W1,n}return a=e.child,e=a.sibling,n=eo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xv(e,t){return t=i0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fd(e,t,r,n){return n!==null&&Mv(n),gl(t,e.child,null,r),e=Xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B5(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=fg(Error(le(422))),Fd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=i0({mode:"visible",children:n.children},i,0,null),a=Xo(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&gl(t,e.child,null,s),t.child.memoizedState=z1(s),t.memoizedState=W1,a);if(!(t.mode&1))return Fd(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(le(419)),n=fg(a,n,void 0),Fd(e,t,s,n)}if(c=(s&e.childLanes)!==0,hn||c){if(n=vr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ua(e,i),Ci(n,e,i,-1))}return ty(),n=fg(Error(le(421))),Fd(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y5.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,In=Ya(i.nextSibling),Tn=t,Pt=!0,wi=null,e!==null&&(Zn[Qn++]=ea,Zn[Qn++]=ta,Zn[Qn++]=rs,ea=e.id,ta=e.overflow,rs=t),t=Xv(t,n.children),t.flags|=4096,t)}function p2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),j1(e.return,t,r)}function hg(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function OO(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(qr(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p2(e,r,t);else if(e.tag===19)p2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(At(jt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&zf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),hg(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}hg(t,!0,r,null,a);break;case"together":hg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ca(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=eo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=eo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L5(e,t,r){switch(t.tag){case 3:SO(t),pl();break;case 5:Q3(t);break;case 1:mn(t.type)&&Bf(t);break;case 4:Uv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;At($f,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(At(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?CO(e,t,r):(At(jt,jt.current&1),e=ca(e,t,r),e!==null?e.sibling:null);At(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,EO(e,t,r)}return ca(e,t,r)}var IO,G1,_O,TO;IO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};G1=function(){};_O=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Uo(Ui.current);var a=null;switch(r){case"input":i=f1(e,i),n=f1(e,n),a=[];break;case"select":i=Lt({},i,{value:void 0}),n=Lt({},n,{value:void 0}),a=[];break;case"textarea":i=g1(e,i),n=g1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Mf)}v1(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Qu.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var d=n[h];if(c=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(r||(r={}),r[s]=d[s])}else r||(a||(a=[]),a.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Qu.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Ct("scroll",e),a||c===d||(a=[])):(a=a||[]).push(h,d))}r&&(a=a||[]).push("style",r);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};TO=function(e,t,r,n){r!==n&&(t.flags|=4)};function hu(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function F5(e,t,r){var n=t.pendingProps;switch(Rv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(t),null;case 1:return mn(t.type)&&jf(),Lr(t),null;case 3:return n=t.stateNode,ml(),Tt(gn),Tt(Gr),zv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wi!==null&&(Q1(wi),wi=null))),G1(e,t),Lr(t),null;case 5:Wv(t);var i=Uo(cc.current);if(r=t.type,e!==null&&t.stateNode!=null)_O(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return Lr(t),null}if(e=Uo(Ui.current),Bd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Li]=t,n[lc]=a,e=(t.mode&1)!==0,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(i=0;i<ku.length;i++)Ct(ku[i],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ab(n,a),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ct("invalid",n);break;case"textarea":Cb(n,a),Ct("invalid",n)}v1(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&jd(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&jd(n.textContent,c,e),i=["children",""+c]):Qu.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Ct("scroll",n)}switch(r){case"input":_d(n),Sb(n,a,!0);break;case"textarea":_d(n),Ob(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Mf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Li]=t,e[lc]=n,IO(e,t,!1,!1),t.stateNode=e;e:{switch(s=y1(r,n),r){case"dialog":Ct("cancel",e),Ct("close",e),i=n;break;case"iframe":case"object":case"embed":Ct("load",e),i=n;break;case"video":case"audio":for(i=0;i<ku.length;i++)Ct(ku[i],e);i=n;break;case"source":Ct("error",e),i=n;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),i=n;break;case"details":Ct("toggle",e),i=n;break;case"input":Ab(e,n),i=f1(e,n),Ct("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Lt({},n,{value:void 0}),Ct("invalid",e);break;case"textarea":Cb(e,n),i=g1(e,n),Ct("invalid",e);break;default:i=n}v1(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?o3(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&i3(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Ju(e,d):typeof d=="number"&&Ju(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qu.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Ct("scroll",e):d!=null&&xv(e,a,d,s))}switch(r){case"input":_d(e),Sb(e,n,!1);break;case"textarea":_d(e),Ob(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ao(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?il(e,!!n.multiple,a,!1):n.defaultValue!=null&&il(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lr(t),null;case 6:if(e&&t.stateNode!=null)TO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=Uo(cc.current),Uo(Ui.current),Bd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Li]=t,(a=n.nodeValue!==r)&&(e=Tn,e!==null))switch(e.tag){case 3:jd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Li]=t,t.stateNode=n}return Lr(t),null;case 13:if(Tt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&In!==null&&t.mode&1&&!(t.flags&128))K3(),pl(),t.flags|=98560,a=!1;else if(a=Bd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(le(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(le(317));a[Li]=t}else pl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lr(t),a=!1}else wi!==null&&(Q1(wi),wi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?sr===0&&(sr=3):ty())),t.updateQueue!==null&&(t.flags|=4),Lr(t),null);case 4:return ml(),G1(e,t),e===null&&oc(t.stateNode.containerInfo),Lr(t),null;case 10:return Lv(t.type._context),Lr(t),null;case 17:return mn(t.type)&&jf(),Lr(t),null;case 19:if(Tt(jt),a=t.memoizedState,a===null)return Lr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)hu(a,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zf(e),s!==null){for(t.flags|=128,hu(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return At(jt,jt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kt()>yl&&(t.flags|=128,n=!0,hu(a,!1),t.lanes=4194304)}else{if(!n)if(e=zf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Pt)return Lr(t),null}else 2*Kt()-a.renderingStartTime>yl&&r!==1073741824&&(t.flags|=128,n=!0,hu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kt(),t.sibling=null,r=jt.current,At(jt,n?r&1|2:r&1),t):(Lr(t),null);case 22:case 23:return ey(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?An&1073741824&&(Lr(t),t.subtreeFlags&6&&(t.flags|=8192)):Lr(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function $5(e,t){switch(Rv(t),t.tag){case 1:return mn(t.type)&&jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(),Tt(gn),Tt(Gr),zv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wv(t),null;case 13:if(Tt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tt(jt),null;case 4:return ml(),null;case 10:return Lv(t.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var $d=!1,Ur=!1,U5=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Js(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zt(e,t,n)}else r.current=null}function H1(e,t,r){try{r()}catch(n){zt(e,t,n)}}var g2=!1;function W5(e,t){if(_1=kf,e=R3(),kv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,c=-1,d=-1,h=0,g=0,v=e,y=null;t:for(;;){for(var w;v!==r||i!==0&&v.nodeType!==3||(c=s+i),v!==a||n!==0&&v.nodeType!==3||(d=s+n),v.nodeType===3&&(s+=v.nodeValue.length),(w=v.firstChild)!==null;)y=v,v=w;for(;;){if(v===e)break t;if(y===r&&++h===i&&(c=s),y===a&&++g===n&&(d=s),(w=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=w}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(T1={focusedElem:e,selectionRange:r},kf=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,I=A.memoizedState,O=t.stateNode,_=O.getSnapshotBeforeUpdate(t.elementType===t.type?C:vi(t.type,C),I);O.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(D){zt(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return A=g2,g2=!1,A}function Wu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&H1(t,r,a)}i=i.next}while(i!==n)}}function r0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function V1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function NO(e){var t=e.alternate;t!==null&&(e.alternate=null,NO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Li],delete t[lc],delete t[k1],delete t[S5],delete t[C5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PO(e){return e.tag===5||e.tag===3||e.tag===4}function m2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function K1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mf));else if(n!==4&&(e=e.child,e!==null))for(K1(e,t,r),e=e.sibling;e!==null;)K1(e,t,r),e=e.sibling}function q1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(q1(e,t,r),e=e.sibling;e!==null;)q1(e,t,r),e=e.sibling}var _r=null,yi=!1;function Na(e,t,r){for(r=r.child;r!==null;)kO(e,t,r),r=r.sibling}function kO(e,t,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(qh,r)}catch{}switch(r.tag){case 5:Ur||Js(r,t);case 6:var n=_r,i=yi;_r=null,Na(e,t,r),_r=n,yi=i,_r!==null&&(yi?(e=_r,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_r.removeChild(r.stateNode));break;case 18:_r!==null&&(yi?(e=_r,r=r.stateNode,e.nodeType===8?og(e.parentNode,r):e.nodeType===1&&og(e,r),nc(e)):og(_r,r.stateNode));break;case 4:n=_r,i=yi,_r=r.stateNode.containerInfo,yi=!0,Na(e,t,r),_r=n,yi=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&H1(r,t,s),i=i.next}while(i!==n)}Na(e,t,r);break;case 1:if(!Ur&&(Js(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){zt(r,t,c)}Na(e,t,r);break;case 21:Na(e,t,r);break;case 22:r.mode&1?(Ur=(n=Ur)||r.memoizedState!==null,Na(e,t,r),Ur=n):Na(e,t,r);break;default:Na(e,t,r)}}function v2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new U5),t.forEach(function(n){var i=Z5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function gi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:_r=c.stateNode,yi=!1;break e;case 3:_r=c.stateNode.containerInfo,yi=!0;break e;case 4:_r=c.stateNode.containerInfo,yi=!0;break e}c=c.return}if(_r===null)throw Error(le(160));kO(a,s,i),_r=null,yi=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){zt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DO(t,e),t=t.sibling}function DO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(t,e),ji(e),n&4){try{Wu(3,e,e.return),r0(3,e)}catch(C){zt(e,e.return,C)}try{Wu(5,e,e.return)}catch(C){zt(e,e.return,C)}}break;case 1:gi(t,e),ji(e),n&512&&r!==null&&Js(r,r.return);break;case 5:if(gi(t,e),ji(e),n&512&&r!==null&&Js(r,r.return),e.flags&32){var i=e.stateNode;try{Ju(i,"")}catch(C){zt(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&t3(i,a),y1(c,s);var h=y1(c,a);for(s=0;s<d.length;s+=2){var g=d[s],v=d[s+1];g==="style"?o3(i,v):g==="dangerouslySetInnerHTML"?i3(i,v):g==="children"?Ju(i,v):xv(i,g,v,h)}switch(c){case"input":h1(i,a);break;case"textarea":r3(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?il(i,!!a.multiple,w,!1):y!==!!a.multiple&&(a.defaultValue!=null?il(i,!!a.multiple,a.defaultValue,!0):il(i,!!a.multiple,a.multiple?[]:"",!1))}i[lc]=a}catch(C){zt(e,e.return,C)}}break;case 6:if(gi(t,e),ji(e),n&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){zt(e,e.return,C)}}break;case 3:if(gi(t,e),ji(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nc(t.containerInfo)}catch(C){zt(e,e.return,C)}break;case 4:gi(t,e),ji(e);break;case 13:gi(t,e),ji(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Qv=Kt())),n&4&&v2(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Ur=(h=Ur)||g,gi(t,e),Ur=h):gi(t,e),ji(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Ae=e,g=e.child;g!==null;){for(v=Ae=g;Ae!==null;){switch(y=Ae,w=y.child,y.tag){case 0:case 11:case 14:case 15:Wu(4,y,y.return);break;case 1:Js(y,y.return);var A=y.stateNode;if(typeof A.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){zt(n,r,C)}}break;case 5:Js(y,y.return);break;case 22:if(y.memoizedState!==null){x2(v);continue}}w!==null?(w.return=y,Ae=w):x2(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=v.stateNode,d=v.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=a3("display",s))}catch(C){zt(e,e.return,C)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(C){zt(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:gi(t,e),ji(e),n&4&&v2(e);break;case 21:break;default:gi(t,e),ji(e)}}function ji(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PO(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ju(i,""),n.flags&=-33);var a=m2(e);q1(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,c=m2(e);K1(e,c,s);break;default:throw Error(le(161))}}catch(d){zt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z5(e,t,r){Ae=e,RO(e)}function RO(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||$d;if(!s){var c=i.alternate,d=c!==null&&c.memoizedState!==null||Ur;c=$d;var h=Ur;if($d=s,(Ur=d)&&!h)for(Ae=i;Ae!==null;)s=Ae,d=s.child,s.tag===22&&s.memoizedState!==null?w2(i):d!==null?(d.return=s,Ae=d):w2(i);for(;a!==null;)Ae=a,RO(a),a=a.sibling;Ae=i,$d=c,Ur=h}y2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ae=a):y2(e)}}function y2(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||r0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ur)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&r2(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}r2(t,s,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&nc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Ur||t.flags&512&&V1(t)}catch(y){zt(t,t.return,y)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function x2(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function w2(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{r0(4,t)}catch(d){zt(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){zt(t,i,d)}}var a=t.return;try{V1(t)}catch(d){zt(t,a,d)}break;case 5:var s=t.return;try{V1(t)}catch(d){zt(t,s,d)}}}catch(d){zt(t,t.return,d)}if(t===e){Ae=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ae=c;break}Ae=t.return}}var G5=Math.ceil,Vf=ma.ReactCurrentDispatcher,Yv=ma.ReactCurrentOwner,ni=ma.ReactCurrentBatchConfig,tt=0,vr=null,Qt=null,kr=0,An=0,el=fo(0),sr=0,pc=null,is=0,n0=0,Zv=0,zu=null,dn=null,Qv=0,yl=1/0,Xi=null,Kf=!1,X1=null,Qa=null,Ud=!1,Va=null,qf=0,Gu=0,Y1=null,bf=-1,Ef=0;function Zr(){return tt&6?Kt():bf!==-1?bf:bf=Kt()}function Ja(e){return e.mode&1?tt&2&&kr!==0?kr&-kr:I5.transition!==null?(Ef===0&&(Ef=y3()),Ef):(e=ct,e!==0||(e=window.event,e=e===void 0?16:C3(e.type)),e):1}function Ci(e,t,r,n){if(50<Gu)throw Gu=0,Y1=null,Error(le(185));Rc(e,r,n),(!(tt&2)||e!==vr)&&(e===vr&&(!(tt&2)&&(n0|=r),sr===4&&Ua(e,kr)),vn(e,n),r===1&&tt===0&&!(t.mode&1)&&(yl=Kt()+500,Jh&&ho()))}function vn(e,t){var r=e.callbackNode;I6(e,t);var n=Pf(e,e===vr?kr:0);if(n===0)r!==null&&Tb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tb(r),t===1)e.tag===0?O5(b2.bind(null,e)):G3(b2.bind(null,e)),E5(function(){!(tt&6)&&ho()}),r=null;else{switch(x3(n)){case 1:r=Sv;break;case 4:r=m3;break;case 16:r=Nf;break;case 536870912:r=v3;break;default:r=Nf}r=WO(r,MO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function MO(e,t){if(bf=-1,Ef=0,tt&6)throw Error(le(327));var r=e.callbackNode;if(ul()&&e.callbackNode!==r)return null;var n=Pf(e,e===vr?kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xf(e,n);else{t=n;var i=tt;tt|=2;var a=BO();(vr!==e||kr!==t)&&(Xi=null,yl=Kt()+500,qo(e,t));do try{K5();break}catch(c){jO(e,c)}while(!0);Bv(),Vf.current=a,tt=i,Qt!==null?t=0:(vr=null,kr=0,t=sr)}if(t!==0){if(t===2&&(i=A1(e),i!==0&&(n=i,t=Z1(e,i))),t===1)throw r=pc,qo(e,0),Ua(e,n),vn(e,Kt()),r;if(t===6)Ua(e,n);else{if(i=e.current.alternate,!(n&30)&&!H5(i)&&(t=Xf(e,n),t===2&&(a=A1(e),a!==0&&(n=a,t=Z1(e,a))),t===1))throw r=pc,qo(e,0),Ua(e,n),vn(e,Kt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:ko(e,dn,Xi);break;case 3:if(Ua(e,n),(n&130023424)===n&&(t=Qv+500-Kt(),10<t)){if(Pf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=P1(ko.bind(null,e,dn,Xi),t);break}ko(e,dn,Xi);break;case 4:if(Ua(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Si(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*G5(n/1960))-n,10<n){e.timeoutHandle=P1(ko.bind(null,e,dn,Xi),n);break}ko(e,dn,Xi);break;case 5:ko(e,dn,Xi);break;default:throw Error(le(329))}}}return vn(e,Kt()),e.callbackNode===r?MO.bind(null,e):null}function Z1(e,t){var r=zu;return e.current.memoizedState.isDehydrated&&(qo(e,t).flags|=256),e=Xf(e,t),e!==2&&(t=dn,dn=r,t!==null&&Q1(t)),e}function Q1(e){dn===null?dn=e:dn.push.apply(dn,e)}function H5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Oi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t){for(t&=~Zv,t&=~n0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Si(t),n=1<<r;e[r]=-1,t&=~n}}function b2(e){if(tt&6)throw Error(le(327));ul();var t=Pf(e,0);if(!(t&1))return vn(e,Kt()),null;var r=Xf(e,t);if(e.tag!==0&&r===2){var n=A1(e);n!==0&&(t=n,r=Z1(e,n))}if(r===1)throw r=pc,qo(e,0),Ua(e,t),vn(e,Kt()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ko(e,dn,Xi),vn(e,Kt()),null}function Jv(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(yl=Kt()+500,Jh&&ho())}}function as(e){Va!==null&&Va.tag===0&&!(tt&6)&&ul();var t=tt;tt|=1;var r=ni.transition,n=ct;try{if(ni.transition=null,ct=1,e)return e()}finally{ct=n,ni.transition=r,tt=t,!(tt&6)&&ho()}}function ey(){An=el.current,Tt(el)}function qo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b5(r)),Qt!==null)for(r=Qt.return;r!==null;){var n=r;switch(Rv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jf();break;case 3:ml(),Tt(gn),Tt(Gr),zv();break;case 5:Wv(n);break;case 4:ml();break;case 13:Tt(jt);break;case 19:Tt(jt);break;case 10:Lv(n.type._context);break;case 22:case 23:ey()}r=r.return}if(vr=e,Qt=e=eo(e.current,null),kr=An=t,sr=0,pc=null,Zv=n0=is=0,dn=zu=null,$o!==null){for(t=0;t<$o.length;t++)if(r=$o[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}$o=null}return e}function jO(e,t){do{var r=Qt;try{if(Bv(),yf.current=Hf,Gf){for(var n=Bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gf=!1}if(ns=0,gr=or=Bt=null,Uu=!1,dc=0,Yv.current=null,r===null||r.return===null){sr=1,pc=t,Qt=null;break}e:{var a=e,s=r.return,c=r,d=t;if(t=kr,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=c,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=l2(s);if(w!==null){w.flags&=-257,u2(w,s,c,a,t),w.mode&1&&s2(a,h,t),t=w,d=h;var A=t.updateQueue;if(A===null){var C=new Set;C.add(d),t.updateQueue=C}else A.add(d);break e}else{if(!(t&1)){s2(a,h,t),ty();break e}d=Error(le(426))}}else if(Pt&&c.mode&1){var I=l2(s);if(I!==null){!(I.flags&65536)&&(I.flags|=256),u2(I,s,c,a,t),Mv(vl(d,c));break e}}a=d=vl(d,c),sr!==4&&(sr=2),zu===null?zu=[a]:zu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var O=xO(a,d,t);t2(a,O);break e;case 1:c=d;var _=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Qa===null||!Qa.has(T)))){a.flags|=65536,t&=-t,a.lanes|=t;var D=wO(a,c,t);t2(a,D);break e}}a=a.return}while(a!==null)}FO(r)}catch(M){t=M,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(!0)}function BO(){var e=Vf.current;return Vf.current=Hf,e===null?Hf:e}function ty(){(sr===0||sr===3||sr===2)&&(sr=4),vr===null||!(is&268435455)&&!(n0&268435455)||Ua(vr,kr)}function Xf(e,t){var r=tt;tt|=2;var n=BO();(vr!==e||kr!==t)&&(Xi=null,qo(e,t));do try{V5();break}catch(i){jO(e,i)}while(!0);if(Bv(),tt=r,Vf.current=n,Qt!==null)throw Error(le(261));return vr=null,kr=0,sr}function V5(){for(;Qt!==null;)LO(Qt)}function K5(){for(;Qt!==null&&!y6();)LO(Qt)}function LO(e){var t=UO(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?FO(e):Qt=t,Yv.current=null}function FO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$5(r,t),r!==null){r.flags&=32767,Qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Qt=null;return}}else if(r=F5(r,t,An),r!==null){Qt=r;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);sr===0&&(sr=5)}function ko(e,t,r){var n=ct,i=ni.transition;try{ni.transition=null,ct=1,q5(e,t,r,n)}finally{ni.transition=i,ct=n}return null}function q5(e,t,r,n){do ul();while(Va!==null);if(tt&6)throw Error(le(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(_6(e,a),e===vr&&(Qt=vr=null,kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ud||(Ud=!0,WO(Nf,function(){return ul(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ni.transition,ni.transition=null;var s=ct;ct=1;var c=tt;tt|=4,Yv.current=null,W5(e,r),DO(r,e),p5(T1),kf=!!_1,T1=_1=null,e.current=r,z5(r),x6(),tt=c,ct=s,ni.transition=a}else e.current=r;if(Ud&&(Ud=!1,Va=e,qf=i),a=e.pendingLanes,a===0&&(Qa=null),E6(r.stateNode),vn(e,Kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Kf)throw Kf=!1,e=X1,X1=null,e;return qf&1&&e.tag!==0&&ul(),a=e.pendingLanes,a&1?e===Y1?Gu++:(Gu=0,Y1=e):Gu=0,ho(),null}function ul(){if(Va!==null){var e=x3(qf),t=ni.transition,r=ct;try{if(ni.transition=null,ct=16>e?16:e,Va===null)var n=!1;else{if(e=Va,Va=null,qf=0,tt&6)throw Error(le(331));var i=tt;for(tt|=4,Ae=e.current;Ae!==null;){var a=Ae,s=a.child;if(Ae.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(Ae=h;Ae!==null;){var g=Ae;switch(g.tag){case 0:case 11:case 15:Wu(8,g,a)}var v=g.child;if(v!==null)v.return=g,Ae=v;else for(;Ae!==null;){g=Ae;var y=g.sibling,w=g.return;if(NO(g),g===h){Ae=null;break}if(y!==null){y.return=w,Ae=y;break}Ae=w}}}var A=a.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}Ae=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ae=s;else e:for(;Ae!==null;){if(a=Ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wu(9,a,a.return)}var O=a.sibling;if(O!==null){O.return=a.return,Ae=O;break e}Ae=a.return}}var _=e.current;for(Ae=_;Ae!==null;){s=Ae;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,Ae=T;else e:for(s=_;Ae!==null;){if(c=Ae,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:r0(9,c)}}catch(M){zt(c,c.return,M)}if(c===s){Ae=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,Ae=D;break e}Ae=c.return}}if(tt=i,ho(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(qh,e)}catch{}n=!0}return n}finally{ct=r,ni.transition=t}}return!1}function E2(e,t,r){t=vl(r,t),t=xO(e,t,1),e=Za(e,t,1),t=Zr(),e!==null&&(Rc(e,1,t),vn(e,t))}function zt(e,t,r){if(e.tag===3)E2(e,e,r);else for(;t!==null;){if(t.tag===3){E2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){e=vl(r,e),e=wO(t,e,1),t=Za(t,e,1),e=Zr(),t!==null&&(Rc(t,1,e),vn(t,e));break}}t=t.return}}function X5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zr(),e.pingedLanes|=e.suspendedLanes&r,vr===e&&(kr&r)===r&&(sr===4||sr===3&&(kr&130023424)===kr&&500>Kt()-Qv?qo(e,0):Zv|=r),vn(e,t)}function $O(e,t){t===0&&(e.mode&1?(t=Pd,Pd<<=1,!(Pd&130023424)&&(Pd=4194304)):t=1);var r=Zr();e=ua(e,t),e!==null&&(Rc(e,t,r),vn(e,r))}function Y5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$O(e,r)}function Z5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),$O(e,r)}var UO;UO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hn=!1,L5(e,t,r);hn=!!(e.flags&131072)}else hn=!1,Pt&&t.flags&1048576&&H3(t,Ff,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wf(e,t),e=t.pendingProps;var i=hl(t,Gr.current);ll(t,r),i=Hv(null,t,n,e,i,r);var a=Vv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(n)?(a=!0,Bf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$v(t),i.updater=t0,t.stateNode=i,i._reactInternals=t,L1(t,n,e,r),t=U1(null,t,n,!0,a,r)):(t.tag=0,Pt&&a&&Dv(t),qr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=J5(n),e=vi(n,e),i){case 0:t=$1(null,t,n,e,r);break e;case 1:t=f2(null,t,n,e,r);break e;case 11:t=c2(null,t,n,e,r);break e;case 14:t=d2(null,t,n,vi(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),$1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),f2(e,t,n,i,r);case 3:e:{if(SO(t),e===null)throw Error(le(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Z3(e,t),Wf(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=vl(Error(le(423)),t),t=h2(e,t,n,r,i);break e}else if(n!==i){i=vl(Error(le(424)),t),t=h2(e,t,n,r,i);break e}else for(In=Ya(t.stateNode.containerInfo.firstChild),Tn=t,Pt=!0,wi=null,r=X3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pl(),n===i){t=ca(e,t,r);break e}qr(e,t,n,r)}t=t.child}return t;case 5:return Q3(t),e===null&&M1(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,N1(n,i)?s=null:a!==null&&N1(n,a)&&(t.flags|=32),AO(e,t),qr(e,t,s,r),t.child;case 6:return e===null&&M1(t),null;case 13:return CO(e,t,r);case 4:return Uv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gl(t,null,n,r):qr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),c2(e,t,n,i,r);case 7:return qr(e,t,t.pendingProps,r),t.child;case 8:return qr(e,t,t.pendingProps.children,r),t.child;case 12:return qr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,At($f,n._currentValue),n._currentValue=s,a!==null)if(Oi(a.value,s)){if(a.children===i.children&&!gn.current){t=ca(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){s=a.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=ia(-1,r&-r),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),j1(a.return,r,t),c.lanes|=r;break}d=d.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(le(341));s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),j1(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}qr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ll(t,r),i=ai(i),n=n(i),t.flags|=1,qr(e,t,n,r),t.child;case 14:return n=t.type,i=vi(n,t.pendingProps),i=vi(n.type,i),d2(e,t,n,i,r);case 15:return bO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),wf(e,t),t.tag=1,mn(n)?(e=!0,Bf(t)):e=!1,ll(t,r),yO(t,n,i),L1(t,n,i,r),U1(null,t,n,!0,e,r);case 19:return OO(e,t,r);case 22:return EO(e,t,r)}throw Error(le(156,t.tag))};function WO(e,t){return g3(e,t)}function Q5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(e,t,r,n){return new Q5(e,t,r,n)}function ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function J5(e){if(typeof e=="function")return ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bv)return 11;if(e===Ev)return 14}return 2}function eo(e,t){var r=e.alternate;return r===null?(r=ei(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Af(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")ry(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gs:return Xo(r.children,i,a,t);case wv:s=8,i|=8;break;case l1:return e=ei(12,r,t,i|2),e.elementType=l1,e.lanes=a,e;case u1:return e=ei(13,r,t,i),e.elementType=u1,e.lanes=a,e;case c1:return e=ei(19,r,t,i),e.elementType=c1,e.lanes=a,e;case QC:return i0(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case YC:s=10;break e;case ZC:s=9;break e;case bv:s=11;break e;case Ev:s=14;break e;case Ma:s=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ei(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Xo(e,t,r,n){return e=ei(7,e,n,t),e.lanes=r,e}function i0(e,t,r,n){return e=ei(22,e,n,t),e.elementType=QC,e.lanes=r,e.stateNode={isHidden:!1},e}function pg(e,t,r){return e=ei(6,e,null,t),e.lanes=r,e}function gg(e,t,r){return t=ei(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eD(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xp(0),this.expirationTimes=Xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ny(e,t,r,n,i,a,s,c,d){return e=new eD(e,t,r,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ei(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(a),e}function tD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zO(e){if(!e)return oo;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(mn(r))return z3(e,r,t)}return t}function GO(e,t,r,n,i,a,s,c,d){return e=ny(r,n,!0,e,i,a,s,c,d),e.context=zO(null),r=e.current,n=Zr(),i=Ja(r),a=ia(n,i),a.callback=t??null,Za(r,a,i),e.current.lanes=i,Rc(e,i,n),vn(e,n),e}function a0(e,t,r,n){var i=t.current,a=Zr(),s=Ja(i);return r=zO(r),t.context===null?t.context=r:t.pendingContext=r,t=ia(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Za(i,t,s),e!==null&&(Ci(e,i,s,a),vf(e,i,s)),s}function Yf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iy(e,t){A2(e,t),(e=e.alternate)&&A2(e,t)}function rD(){return null}var HO=typeof reportError=="function"?reportError:function(e){console.error(e)};function ay(e){this._internalRoot=e}o0.prototype.render=ay.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));a0(e,t,null,null)};o0.prototype.unmount=ay.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){a0(null,e,null,null)}),t[la]=null}};function o0(e){this._internalRoot=e}o0.prototype.unstable_scheduleHydration=function(e){if(e){var t=E3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$a.length&&t!==0&&t<$a[r].priority;r++);$a.splice(r,0,e),r===0&&S3(e)}};function oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function S2(){}function nD(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var h=Yf(s);a.call(h)}}var s=GO(t,n,e,0,null,!1,!1,"",S2);return e._reactRootContainer=s,e[la]=s.current,oc(e.nodeType===8?e.parentNode:e),as(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var h=Yf(d);c.call(h)}}var d=ny(e,0,!1,null,null,!1,!1,"",S2);return e._reactRootContainer=d,e[la]=d.current,oc(e.nodeType===8?e.parentNode:e),as(function(){a0(t,d,r,n)}),d}function l0(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var c=i;i=function(){var d=Yf(s);c.call(d)}}a0(t,s,e,i)}else s=nD(r,t,e,i,n);return Yf(s)}w3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pu(t.pendingLanes);r!==0&&(Cv(t,r|1),vn(t,Kt()),!(tt&6)&&(yl=Kt()+500,ho()))}break;case 13:as(function(){var n=ua(e,1);if(n!==null){var i=Zr();Ci(n,e,1,i)}}),iy(e,1)}};Ov=function(e){if(e.tag===13){var t=ua(e,134217728);if(t!==null){var r=Zr();Ci(t,e,134217728,r)}iy(e,134217728)}};b3=function(e){if(e.tag===13){var t=Ja(e),r=ua(e,t);if(r!==null){var n=Zr();Ci(r,e,t,n)}iy(e,t)}};E3=function(){return ct};A3=function(e,t){var r=ct;try{return ct=e,t()}finally{ct=r}};w1=function(e,t,r){switch(t){case"input":if(h1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Qh(n);if(!i)throw Error(le(90));e3(n),h1(n,i)}}}break;case"textarea":r3(e,r);break;case"select":t=r.value,t!=null&&il(e,!!r.multiple,t,!1)}};u3=Jv;c3=as;var iD={usingClientEntryPoint:!1,Events:[jc,qs,Qh,s3,l3,Jv]},pu={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aD={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h3(e),e===null?null:e.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||rD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{qh=Wd.inject(aD),$i=Wd}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iD;Fn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(t))throw Error(le(200));return tD(e,t,null,r)};Fn.createRoot=function(e,t){if(!oy(e))throw Error(le(299));var r=!1,n="",i=HO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ny(e,1,!1,null,null,r,!1,n,i),e[la]=t.current,oc(e.nodeType===8?e.parentNode:e),new ay(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=h3(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return as(e)};Fn.hydrate=function(e,t,r){if(!s0(t))throw Error(le(200));return l0(null,e,t,!0,r)};Fn.hydrateRoot=function(e,t,r){if(!oy(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=HO;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=GO(t,null,e,1,r??null,i,!1,a,s),e[la]=t.current,oc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new o0(t)};Fn.render=function(e,t,r){if(!s0(t))throw Error(le(200));return l0(null,e,t,!1,r)};Fn.unmountComponentAtNode=function(e){if(!s0(e))throw Error(le(40));return e._reactRootContainer?(as(function(){l0(null,null,e,!1,function(){e._reactRootContainer=null,e[la]=null})}),!0):!1};Fn.unstable_batchedUpdates=Jv;Fn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!s0(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return l0(e,t,r,!1,n)};Fn.version="18.3.1-next-f1338f8080-20240426";function VO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VO)}catch(e){console.error(e)}}VO(),VC.exports=Fn;var Lc=VC.exports;const oD=Ln(Lc);var KO,C2=Lc;KO=C2.createRoot,C2.hydrateRoot;let sD={data:""},lD=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||sD,uD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cD=/\/\*[^]*?\*\/|  +/g,O2=/\n+/g,Wa=(e,t)=>{let r="",n="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?Wa(s,a):a+"{"+Wa(s,a[1]=="k"?"":t)+"}":typeof s=="object"?n+=Wa(s,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Wa.p?Wa.p(a,s):a+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Vi={},qO=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+qO(e[r]);return t}return e},dD=(e,t,r,n,i)=>{let a=qO(e),s=Vi[a]||(Vi[a]=(d=>{let h=0,g=11;for(;h<d.length;)g=101*g+d.charCodeAt(h++)>>>0;return"go"+g})(a));if(!Vi[s]){let d=a!==e?e:(h=>{let g,v,y=[{}];for(;g=uD.exec(h.replace(cD,""));)g[4]?y.shift():g[3]?(v=g[3].replace(O2," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][g[1]]=g[2].replace(O2," ").trim();return y[0]})(e);Vi[s]=Wa(i?{["@keyframes "+s]:d}:d,r?"":"."+s)}let c=r&&Vi.g?Vi.g:null;return r&&(Vi.g=Vi[s]),((d,h,g,v)=>{v?h.data=h.data.replace(v,d):h.data.indexOf(d)===-1&&(h.data=g?d+h.data:h.data+d)})(Vi[s],t,n,c),s},fD=(e,t,r)=>e.reduce((n,i,a)=>{let s=t[a];if(s&&s.call){let c=s(r),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=d?"."+d:c&&typeof c=="object"?c.props?"":Wa(c,""):c===!1?"":c}return n+i+(s??"")},"");function u0(e){let t=this||{},r=e.call?e(t.p):e;return dD(r.unshift?r.raw?fD(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,lD(t.target),t.g,t.o,t.k)}let XO,J1,em;u0.bind({g:1});let da=u0.bind({k:1});function hD(e,t,r,n){Wa.p=t,XO=e,J1=r,em=n}function po(e,t){let r=this||{};return function(){let n=arguments;function i(a,s){let c=Object.assign({},a),d=c.className||i.className;r.p=Object.assign({theme:J1&&J1()},c),r.o=/ *go\d+/.test(d),c.className=u0.apply(r,n)+(d?" "+d:"");let h=e;return e[0]&&(h=c.as||e,delete c.as),em&&h[0]&&em(c),XO(h,c)}return i}}var pD=e=>typeof e=="function",Zf=(e,t)=>pD(e)?e(t):e,gD=(()=>{let e=0;return()=>(++e).toString()})(),YO=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),mD=20,ZO=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,mD)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return ZO(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Sf=[],Wo={toasts:[],pausedAt:void 0},gs=e=>{Wo=ZO(Wo,e),Sf.forEach(t=>{t(Wo)})},vD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yD=(e={})=>{let[t,r]=N.useState(Wo),n=N.useRef(Wo);N.useEffect(()=>(n.current!==Wo&&r(Wo),Sf.push(r),()=>{let a=Sf.indexOf(r);a>-1&&Sf.splice(a,1)}),[]);let i=t.toasts.map(a=>{var s,c,d;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((s=e[a.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||vD[a.type],style:{...e.style,...(d=e[a.type])==null?void 0:d.style,...a.style}}});return{...t,toasts:i}},xD=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||gD()}),Fc=e=>(t,r)=>{let n=xD(t,e,r);return gs({type:2,toast:n}),n.id},Xr=(e,t)=>Fc("blank")(e,t);Xr.error=Fc("error");Xr.success=Fc("success");Xr.loading=Fc("loading");Xr.custom=Fc("custom");Xr.dismiss=e=>{gs({type:3,toastId:e})};Xr.remove=e=>gs({type:4,toastId:e});Xr.promise=(e,t,r)=>{let n=Xr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Zf(t.success,i):void 0;return a?Xr.success(a,{id:n,...r,...r==null?void 0:r.success}):Xr.dismiss(n),i}).catch(i=>{let a=t.error?Zf(t.error,i):void 0;a?Xr.error(a,{id:n,...r,...r==null?void 0:r.error}):Xr.dismiss(n)}),e};var wD=(e,t)=>{gs({type:1,toast:{id:e,height:t}})},bD=()=>{gs({type:5,time:Date.now()})},Hu=new Map,ED=1e3,AD=(e,t=ED)=>{if(Hu.has(e))return;let r=setTimeout(()=>{Hu.delete(e),gs({type:4,toastId:e})},t);Hu.set(e,r)},SD=e=>{let{toasts:t,pausedAt:r}=yD(e);N.useEffect(()=>{if(r)return;let a=Date.now(),s=t.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(d<0){c.visible&&Xr.dismiss(c.id);return}return setTimeout(()=>Xr.dismiss(c.id),d)});return()=>{s.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=N.useCallback(()=>{r&&gs({type:6,time:Date.now()})},[r]),i=N.useCallback((a,s)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:h}=s||{},g=t.filter(w=>(w.position||h)===(a.position||h)&&w.height),v=g.findIndex(w=>w.id===a.id),y=g.filter((w,A)=>A<v&&w.visible).length;return g.filter(w=>w.visible).slice(...c?[y+1]:[0,y]).reduce((w,A)=>w+(A.height||0)+d,0)},[t]);return N.useEffect(()=>{t.forEach(a=>{if(a.dismissed)AD(a.id,a.removeDelay);else{let s=Hu.get(a.id);s&&(clearTimeout(s),Hu.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:wD,startPause:bD,endPause:n,calculateOffset:i}}},CD=da`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,OD=da`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ID=da`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_D=po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${OD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ID} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TD=da`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ND=po("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${TD} 1s linear infinite;
`,PD=da`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kD=da`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,DD=po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RD=po("div")`
  position: absolute;
`,MD=po("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jD=da`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BD=po("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,LD=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(BD,null,t):t:r==="blank"?null:N.createElement(MD,null,N.createElement(ND,{...n}),r!=="loading"&&N.createElement(RD,null,r==="error"?N.createElement(_D,{...n}):N.createElement(DD,{...n})))},FD=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$D=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,UD="0%{opacity:0;} 100%{opacity:1;}",WD="0%{opacity:1;} 100%{opacity:0;}",zD=po("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GD=po("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,HD=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=YO()?[UD,WD]:[FD(r),$D(r)];return{animation:t?`${da(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${da(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VD=N.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?HD(e.position||t||"top-center",e.visible):{opacity:0},a=N.createElement(LD,{toast:e}),s=N.createElement(GD,{...e.ariaProps},Zf(e.message,e));return N.createElement(zD,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:a,message:s}):N.createElement(N.Fragment,null,a,s))});hD(N.createElement);var KD=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=N.useCallback(s=>{if(s){let c=()=>{let d=s.getBoundingClientRect().height;n(e,d)};c(),new MutationObserver(c).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:a,className:t,style:r},i)},qD=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},XD=u0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zd=16,YD=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:c,handlers:d}=SD(r);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zd,left:zd,right:zd,bottom:zd,pointerEvents:"none",...a},className:s,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(h=>{let g=h.position||t,v=d.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),y=qD(g,v);return N.createElement(KD,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?XD:"",style:y},h.type==="custom"?Zf(h.message,h):i?i(h):N.createElement(VD,{toast:h,position:g}))}))},Oe=Xr;const ZD=()=>E.jsxs("header",{className:"bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-10",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"P"}),E.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"POS-Ku"})]}),E.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full",children:E.jsx("img",{src:"https://placehold.co/40x40/E2E8F0/4A5568?text=U",alt:"Avatar Pengguna",className:"rounded-full",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/40x40/E2E8F0/4A5568?text=U"}})})]}),QD=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),JD=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),eR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),tR=({className:e})=>E.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7v8a2 2 0 002 2h4M8 7a2 2 0 012-2h4a2 2 0 012 2v8a2 2 0 01-2 2h-4a2 2 0 01-2-2z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a2 2 0 012 2v8a2 2 0 01-2 2h-4a2 2 0 01-2-2V9a2 2 0 012-2h4z"})]}),rR=({className:e})=>E.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),nR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.838-6.832a1.125 1.125 0 00-.965-1.41H5.64M7.5 14.25L5.106 5.165M7.5 14.25v-2.25"})}),c0=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),QO=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),sy=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v15m3.75-15v15m3.75-15v15m3.75-15v15m3.75-15v15M3 8.25h18M3 15.75h18"})}),ly=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),xl=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),iR=({className:e})=>E.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),aR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.572a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})}),uy=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),Qf=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 100 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),cy=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"})}),JO=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 15.347 16.556 17.25 12 17.25s-8.25-1.903-8.25-4.125v-3.75"})}),oR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),sR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),lR=({className:e})=>E.jsx("svg",{className:e,xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),uR=({className:e})=>E.jsx("svg",{className:e,xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})}),cR=({className:e})=>E.jsx("svg",{className:e,xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),dR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),dy=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h16.5M6 12V5.25A2.25 2.25 0 018.25 3h7.5A2.25 2.25 0 0118 5.25V12M6 12h12"})}),eI=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),fR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.03 1.125 0 1.131.094 1.976 1.057 1.976 2.192V7.5M8.25 7.5h7.5m-7.5 0l-1 10.5a1.5 1.5 0 001.5 1.5h7.5a1.5 1.5 0 001.5-1.5l-1-10.5m-7.5 0V6.375c0-1.125.6-2.062 1.5-2.25m7.5 0V6.375c0-1.125-.6-2.062-1.5-2.25M3 7.5h18M10.5 12l3 3m0-3l-3 3"})}),hR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),pR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-4.5 0V6.75A2.25 2.25 0 0115.75 4.5h1.5a2.25 2.25 0 012.25 2.25v1.5m-4.5 0h4.5m-4.5 0a2.25 2.25 0 01-2.25-2.25V6.75m0 0a2.25 2.25 0 00-2.25-2.25h-1.5A2.25 2.25 0 005.25 6.75v1.5"})}),gR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75H13.5m0-16.5h-1.5a1.5 1.5 0 00-1.5 1.5v1.5m1.5-1.5h1.5a1.5 1.5 0 011.5 1.5v1.5m0 0H16.5m-3 0h3m-3 0H8.25m0 0H5.25M5.25 5.25V3.75a1.5 1.5 0 011.5-1.5h1.5a1.5 1.5 0 011.5 1.5v1.5m-3 0h3"})}),mR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),vR=({className:e})=>E.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-12A2.25 2.25 0 013.75 8.25V6zM3.75 15A2.25 2.25 0 016 12.75h12A2.25 2.25 0 0120.25 15v2.25A2.25 2.25 0 0118 19.5h-12A2.25 2.25 0 013.75 17.25V15z"})}),yR=({activeMenu:e,setActiveMenu:t})=>{const r=[{name:"Beranda",icon:QD},{name:"Kasir",icon:JD},{name:"Laporan",icon:eR},{name:"Manajemen",icon:tR},{name:"Pengaturan",icon:rR}];return E.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-1px_5px_rgba(0,0,0,0.1)]",children:E.jsx("div",{className:"flex justify-around max-w-lg mx-auto",children:r.map(n=>{const i=e===n.name,a=n.icon;return E.jsxs("button",{onClick:()=>t(n.name),className:"flex flex-col items-center justify-center w-full pt-2 pb-1 text-center transition-colors duration-200 focus:outline-none",children:[E.jsx(a,{className:`h-6 w-6 mb-1 ${i?"text-blue-600":"text-gray-500"}`}),E.jsx("span",{className:`text-xs ${i?"text-blue-600 font-semibold":"text-gray-600"}`,children:n.name})]},n.name)})})})},I2=()=>E.jsx("div",{className:"p-4 text-center text-gray-700",children:"Selamat Datang!"}),xR=({product:e,onAddToCart:t})=>{const r=e.stock<=0,n=e.stock>0&&e.stock<=5,i=()=>{r||t(e)};return E.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden transform transition-all duration-200 ${r?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-105 active:scale-95"}`,onClick:i,children:[E.jsxs("div",{className:"relative w-full h-32 bg-gray-200",children:[E.jsx("img",{src:e.image_url||`https://placehold.co/150x150/E2E8F0/4A5568?text=${e.name.charAt(0)}`,alt:e.name,className:"w-full h-full object-cover"}),E.jsxs("div",{className:`absolute top-2 left-2 px-2 py-1 text-xs font-bold text-white rounded-full ${n?"bg-red-500":"bg-gray-800 bg-opacity-70"}`,children:["Stok: ",e.stock]})]}),E.jsxs("div",{className:"p-3",children:[E.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:e.name}),E.jsx("p",{className:"text-blue-600 font-bold mt-1",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.price)})]})]})},_2=({items:e,onUpdateQuantity:t,onClose:r,onPay:n,subtotal:i,discountAmount:a,finalPrice:s,onAddDiscount:c,onRemoveDiscount:d,discount:h})=>E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex flex-col h-full",children:[E.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[E.jsx("h2",{className:"text-lg font-bold",children:"Keranjang"}),r&&E.jsx("button",{onClick:r,className:"md:hidden text-gray-500 hover:text-gray-800",children:E.jsx("svg",{xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?E.jsx("p",{className:"text-gray-500 text-center mt-8",children:"Keranjang masih kosong"}):E.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(g=>E.jsxs("li",{className:"py-3 flex items-center justify-between",children:[E.jsxs("div",{className:"flex-grow",children:[E.jsx("p",{className:"font-semibold text-sm",children:g.name}),E.jsx("p",{className:"text-xs text-blue-600",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(g.price)})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>t(g.id,g.quantity-1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold flex items-center justify-center text-lg active:bg-gray-300",children:"-"}),E.jsx("span",{className:"w-8 text-center font-semibold",children:g.quantity}),E.jsx("button",{onClick:()=>t(g.id,g.quantity+1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold flex items-center justify-center text-lg active:bg-gray-300",children:"+"})]}),E.jsx("button",{onClick:()=>t(g.id,0),className:"ml-3 text-gray-400 hover:text-red-500","aria-label":"Hapus item",children:E.jsx(xl,{className:"h-5 w-5"})})]},g.id))})}),E.jsxs("div",{className:"border-t pt-4 mt-4",children:[E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsx("p",{children:"Subtotal"}),E.jsx("p",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i)})]}),a>0&&E.jsxs("div",{className:"flex justify-between text-sm text-red-600 mb-1",children:[E.jsxs("p",{children:["Diskon (",h.type==="persen"?`${h.value}%`:"Rp",")"]}),E.jsxs("p",{children:["- ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)]})]}),E.jsxs("div",{className:"flex justify-between items-center font-bold text-lg mt-2",children:[E.jsx("p",{children:"Total"}),E.jsx("p",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)})]}),h?E.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-red-400 text-red-600 rounded-lg py-2 mt-4 font-bold hover:bg-red-50 transition-colors",children:[E.jsx(xl,{className:"h-5 w-5"})," Hapus Diskon"]}):E.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-blue-400 text-blue-600 rounded-lg py-2 mt-4 font-bold hover:bg-blue-50 transition-colors",children:[E.jsx(iR,{className:"h-5 w-5"})," Tambah Diskon"]}),E.jsx("button",{onClick:n,className:"w-full bg-blue-600 text-white rounded-lg py-3 mt-4 font-bold hover:bg-blue-700 disabled:bg-gray-400",disabled:e.length===0,children:"Bayar"})]})]}),wR="modulepreload",bR=function(e){return"/kasirku/"+e},T2={},$c=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=bR(d),d in T2)return;T2[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":wR,h||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},ER=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$c(async()=>{const{default:n}=await Promise.resolve().then(()=>Ll);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class fy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class AR extends fy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class N2 extends fy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class P2 extends fy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tm||(tm={}));var SR=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class CR{constructor(t,{headers:r={},customFetch:n,region:i=tm.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=ER(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return SR(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let c={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${t}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let g;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",g=s):typeof s=="string"?(c["Content-Type"]="text/plain",g=s):typeof FormData<"u"&&s instanceof FormData?g=s:(c["Content-Type"]="application/json",g=JSON.stringify(s)));const v=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:g}).catch(C=>{throw new AR(C)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new N2(v);if(!v.ok)throw new P2(v);let w=((n=v.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),A;return w==="application/json"?A=yield v.json():w==="application/octet-stream"?A=yield v.blob():w==="text/event-stream"?A=v:w==="multipart/form-data"?A=yield v.formData():A=yield v.text(),{data:A,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof P2||i instanceof N2?i.context:void 0}}})}}var fn={},hy={},d0={},Uc={},f0={},h0={},OR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wl=OR();const IR=wl.fetch,tI=wl.fetch.bind(wl),rI=wl.Headers,_R=wl.Request,TR=wl.Response,Ll=Object.freeze(Object.defineProperty({__proto__:null,Headers:rI,Request:_R,Response:TR,default:tI,fetch:IR},Symbol.toStringTag,{value:"Module"})),NR=Rk(Ll);var p0={};Object.defineProperty(p0,"__esModule",{value:!0});let PR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};p0.default=PR;var nI=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h0,"__esModule",{value:!0});const kR=nI(NR),DR=nI(p0);let RR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,c,d;let h=null,g=null,v=null,y=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const O=await a.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=O:g=JSON.parse(O))}const C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),I=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");C&&I&&I.length>1&&(v=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const C=await a.text();try{h=JSON.parse(C),Array.isArray(h)&&a.status===404&&(g=[],h=null,y=200,w="OK")}catch{a.status===404&&C===""?(y=204,w="No Content"):h={message:C}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,y=200,w="OK"),h&&this.shouldThrowOnError)throw new DR.default(h)}return{error:h,data:g,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,c,d;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};h0.default=RR;var MR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f0,"__esModule",{value:!0});const jR=MR(h0);let BR=class extends jR.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var c;const d=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${h}"; options=${d};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};f0.default=BR;var LR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const FR=LR(f0);let $R=class extends FR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uc.default=$R;var UR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d0,"__esModule",{value:!0});const gu=UR(Uc);let WR=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new gu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const s=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(s.length>0){const c=[...new Set(s)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new gu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const d=t.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new gu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new gu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};d0.default=WR;var g0={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.version=void 0;m0.version="0.0.0-automated";Object.defineProperty(g0,"__esModule",{value:!0});g0.DEFAULT_HEADERS=void 0;const zR=m0;g0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zR.version}`};var iI=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hy,"__esModule",{value:!0});const GR=iI(d0),HR=iI(Uc),VR=g0;let KR=class aI{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},VR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new GR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const c=new URL(`${this.url}/rpc/${t}`);let d;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{c.searchParams.append(g,v)})):(s="POST",d=r);const h=Object.assign({},this.headers);return a&&(h.Prefer=`count=${a}`),new HR.default({method:s,url:c,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};hy.default=KR;var Fl=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const oI=Fl(hy);fn.PostgrestClient=oI.default;const sI=Fl(d0);fn.PostgrestQueryBuilder=sI.default;const lI=Fl(Uc);fn.PostgrestFilterBuilder=lI.default;const uI=Fl(f0);fn.PostgrestTransformBuilder=uI.default;const cI=Fl(h0);fn.PostgrestBuilder=cI.default;const dI=Fl(p0);fn.PostgrestError=dI.default;var qR=fn.default={PostgrestClient:oI.default,PostgrestQueryBuilder:sI.default,PostgrestFilterBuilder:lI.default,PostgrestTransformBuilder:uI.default,PostgrestBuilder:cI.default,PostgrestError:dI.default};const{PostgrestClient:XR,PostgrestQueryBuilder:Tne,PostgrestFilterBuilder:Nne,PostgrestTransformBuilder:Pne,PostgrestBuilder:kne,PostgrestError:Dne}=qR;function YR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ZR=YR(),QR="2.11.15",JR=`realtime-js/${QR}`,eM="1.0.0",fI=1e4,tM=1e3;var Vu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vu||(Vu={}));var Fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fr||(Fr={}));var xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xi||(xi={}));var rm;(function(e){e.websocket="websocket"})(rm||(rm={}));var Lo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lo||(Lo={}));class rM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const c=n.decode(t.slice(s,s+i));s=s+i;const d=n.decode(t.slice(s,s+a));s=s+a;const h=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class hI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const k2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=nM(s,e,t,i),a),{})},nM=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?pI(a,s):nm(s)},pI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return sM(t,r)}switch(e){case bt.bool:return iM(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return aM(t);case bt.json:case bt.jsonb:return oM(t);case bt.timestamp:return lM(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return nm(t);default:return nm(t)}},nm=e=>e,iM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>pI(t,c))}return e},lM=e=>typeof e=="string"?e.replace(" ","T"):e,gI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mg{constructor(t,r,n={},i=fI){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var D2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(D2||(D2={}));class Ku{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=Ku.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ku.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),c={},d={};return this.map(a,(h,g)=>{s[h]||(d[h]=g)}),this.map(s,(h,g)=>{const v=a[h];if(v){const y=g.map(I=>I.presence_ref),w=v.map(I=>I.presence_ref),A=g.filter(I=>w.indexOf(I.presence_ref)<0),C=v.filter(I=>y.indexOf(I.presence_ref)<0);A.length>0&&(c[h]=A),C.length>0&&(d[h]=C)}else c[h]=g}),this.syncDiff(a,{joins:c,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var h;const g=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),g.length>0){const v=t[c].map(w=>w.presence_ref),y=g.filter(w=>v.indexOf(w.presence_ref)<0);t[c].unshift(...y)}n(c,g,d)}),this.map(s,(c,d)=>{let h=t[c];if(!h)return;const g=d.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),t[c]=h,i(c,h,d),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var R2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(R2||(R2={}));var M2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(M2||(M2={}));var Yi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yi||(Yi={}));class py{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mg(this,xi.join,this.params,this.timeout),this.rejoinTimer=new hI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ku(this),this.broadcastEndpointURL=gI(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fr.closed){const{config:{broadcast:a,presence:s,private:c}}=this.params;this._onError(g=>t==null?void 0:t(Yi.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Yi.CLOSED));const d={},h={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){t==null||t(Yi.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,A=[];for(let C=0;C<w;C++){const I=y[C],{filter:{event:O,schema:_,table:T,filter:D}}=I,M=g&&g[C];if(M&&M.event===O&&M.schema===_&&M.table===T&&M.filter===D)A.push(Object.assign(Object.assign({},I),{id:M.id}));else{this.unsubscribe(),this.state=Fr.errored,t==null||t(Yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(Yi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Fr.errored,t==null||t(Yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new mg(this,xi.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new mg(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:g}=xi;if(n&&[c,d,h,g].indexOf(s)>=0&&n!==this._joinRef())return;let y=this._onMessage(s,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var A,C,I;return((A=w.filter)===null||A===void 0?void 0:A.event)==="*"||((I=(C=w.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===s}).map(w=>w.callback(y,n)):(a=this.bindings[s])===null||a===void 0||a.filter(w=>{var A,C,I,O,_,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in w){const D=w.id,M=(A=w.filter)===null||A===void 0?void 0:A.event;return D&&((C=r.ids)===null||C===void 0?void 0:C.includes(D))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((I=r.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const D=(_=(O=w==null?void 0:w.filter)===null||O===void 0?void 0:O.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return D==="*"||D===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===s}).map(w=>{if(typeof y=="object"&&"ids"in y){const A=y.data,{schema:C,table:I,commit_timestamp:O,type:_,errors:T}=A;y=Object.assign(Object.assign({},{schema:C,table:I,commit_timestamp:O,eventType:_,new:{},old:{},errors:T}),this._getPayloadRecords(A))}w.callback(y,n)})}_isClosed(){return this.state===Fr.closed}_isJoined(){return this.state===Fr.joined}_isJoining(){return this.state===Fr.joining}_isLeaving(){return this.state===Fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&py.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xi.close,{},t)}_onError(t){this._on(xi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=k2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=k2(t.columns,t.old_record)),r}}const j2=()=>{},uM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cM{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fI,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=j2,this.ref=0,this.logger=j2,this.conn=null,this.sendBuffer=[],this.serializer=new rM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...c)=>$c(async()=>{const{default:d}=await Promise.resolve().then(()=>Ll);return{default:d}},void 0).then(({default:d})=>d(...c)):s=fetch,(...c)=>s(...c)},this.endPoint=`${t}/${rm.websocket}`,this.httpEndpoint=gI(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ZR),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eM}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vu.connecting:return Lo.Connecting;case Vu.open:return Lo.Open;case Vu.closing:return Lo.Closing;default:return Lo.Closed}}isConnected(){return this.connectionState()===Lo.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new py(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:JR};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(xi.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(tM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(xi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([uM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class gy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class dM extends gy{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class im extends gy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var fM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const mI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$c(async()=>{const{default:n}=await Promise.resolve().then(()=>Ll);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hM=()=>fM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $c(()=>Promise.resolve().then(()=>Ll),void 0)).Response:Response}),am=e=>{if(Array.isArray(e))return e.map(r=>am(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=am(n)}),t};var ms=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const vg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pM=(e,t,r)=>ms(void 0,void 0,void 0,function*(){const n=yield hM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new dM(vg(i),e.status||500))}).catch(i=>{t(new im(vg(i),i))}):t(new im(vg(e),e))}),gM=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Wc(e,t,r,n,i,a){return ms(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(r,gM(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>pM(d,c,n))})})}function Jf(e,t,r,n){return ms(this,void 0,void 0,function*(){return Wc(e,"GET",t,r,n)})}function Ba(e,t,r,n,i){return ms(this,void 0,void 0,function*(){return Wc(e,"POST",t,n,i,r)})}function mM(e,t,r,n,i){return ms(this,void 0,void 0,function*(){return Wc(e,"PUT",t,n,i,r)})}function vM(e,t,r,n){return ms(this,void 0,void 0,function*(){return Wc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vI(e,t,r,n,i){return ms(this,void 0,void 0,function*(){return Wc(e,"DELETE",t,n,i,r)})}var ln=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const yM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xM{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mI(i)}uploadOrUpdate(t,r,n,i){return ln(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},B2),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:a,headers:c},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield v.json();return v.ok?{data:{path:h,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(a){if(hr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ln(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:B2.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const v=yield this.fetch(c.toString(),{method:"PUT",body:d,headers:g}),y=yield v.json();return v.ok?{data:{path:a,fullPath:y.Key},error:null}:{data:null,error:y}}catch(d){if(hr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ln(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ba(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new gy("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}update(t,r,n){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ln(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ln(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ln(this,void 0,void 0,function*(){try{const i=yield Ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}download(t,r){return ln(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Jf(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(hr(c))return{data:null,error:c};throw c}})}info(t){return ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Jf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:am(n),error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}exists(t){return ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield vM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(hr(n)&&n instanceof im){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return ln(this,void 0,void 0,function*(){try{return{data:yield vI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}list(t,r,n){return ln(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yM),r),{prefix:t||""});return{data:yield Ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const wM="2.7.1",bM={"X-Client-Info":`storage-js/${wM}`};var Ds=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class EM{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},bM),r),this.fetch=mI(n)}listBuckets(){return Ds(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}getBucket(t){return Ds(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ds(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ds(this,void 0,void 0,function*(){try{return{data:yield mM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ds(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ds(this,void 0,void 0,function*(){try{return{data:yield vI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}}class AM extends EM{constructor(t,r={},n){super(t,r,n)}from(t){return new xM(this.url,this.headers,t,this.fetch)}}const SM="2.52.1";let Du="";typeof Deno<"u"?Du="deno":typeof document<"u"?Du="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Du="react-native":Du="node";const CM={"X-Client-Info":`supabase-js-${Du}/${SM}`},OM={headers:CM},IM={schema:"public"},_M={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TM={};var NM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const PM=e=>{let t;return e?t=e:typeof fetch>"u"?t=tI:t=fetch,(...r)=>t(...r)},kM=()=>typeof Headers>"u"?rI:Headers,DM=(e,t,r)=>{const n=PM(r),i=kM();return(a,s)=>NM(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let h=new i(s==null?void 0:s.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},s),{headers:h}))})};var RM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};function MM(e){return e.endsWith("/")?e:e+"/"}function jM(e,t){var r,n;const{db:i,auth:a,realtime:s,global:c}=e,{db:d,auth:h,realtime:g,global:v}=t,y={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},g),s),global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>RM(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const yI="2.71.1",Us=30*1e3,om=3,yg=om*Us,BM="http://localhost:9999",LM="supabase.auth.token",FM={"X-Client-Info":`gotrue-js/${yI}`},sm="X-Supabase-Api-Version",xI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$M=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UM=10*60*1e3;class my extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class WM extends my{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zM(e){return ze(e)&&e.name==="AuthApiError"}class wI extends my{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class go extends my{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ra extends go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GM(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Gd extends go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hd extends go{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vd extends go{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HM(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class L2 extends go{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lm extends go{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xg(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class F2 extends go{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class um extends go{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$2=` 	
\r=`.split(""),VM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$2.length;t+=1)e[$2[t].charCodeAt(0)]=-2;for(let t=0;t<eh.length;t+=1)e[eh[t].charCodeAt(0)]=t;return e})();function U2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(eh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(eh[n]),t.queuedBits-=6}}function bI(e,t,r){const n=VM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function W2(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{XM(s,n,r)};for(let s=0;s<e.length;s+=1)bI(e.charCodeAt(s),i,a);return t.join("")}function KM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}KM(n,t)}}function XM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function YM(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ZM(e){const t=[];return qM(e,r=>t.push(r)),new Uint8Array(t)}function QM(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>U2(i,r,n)),U2(null,r,n),t.join("")}function JM(e){return Math.round(Date.now()/1e3)+e}function ej(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mi=()=>typeof window<"u"&&typeof document<"u",Io={tested:!1,writable:!1},EI=()=>{if(!mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Io.tested)return Io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Io.tested=!0,Io.writable=!0}catch{Io.tested=!0,Io.writable=!1}return Io.writable};function tj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const AI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$c(async()=>{const{default:n}=await Promise.resolve().then(()=>Ll);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ws=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_o=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pa=async(e,t)=>{await e.removeItem(t)};class v0{constructor(){this.promise=new v0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}v0.promiseConstructor=Promise;function wg(e){const t=e.split(".");if(t.length!==3)throw new um("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$M.test(t[n]))throw new um("JWT not in base64url format");return{header:JSON.parse(W2(t[0])),payload:JSON.parse(W2(t[1])),signature:YM(t[2]),raw:{header:t[0],payload:t[1]}}}async function nj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ij(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function aj(e){return("0"+e.toString(16)).substr(-2)}function oj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,aj).join("")}async function sj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(e,t,r=!1){const n=oj();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ws(e,`${t}-code-verifier`,i);const a=await lj(n);return[a,n===a?"plain":"s256"]}const uj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cj(e){const t=e.headers.get(sm);if(!t||!t.match(uj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ms(e){if(!hj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z2(e){return JSON.parse(JSON.stringify(e))}var pj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Do=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gj=[502,503,504];async function G2(e){var t;if(!rj(e))throw new lm(Do(e),0);if(gj.includes(e.status))throw new lm(Do(e),e.status);let r;try{r=await e.json()}catch(a){throw new wI(Do(a),a)}let n;const i=cj(e);if(i&&i.getTime()>=xI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new F2(Do(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ra}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new F2(Do(r),e.status,r.weak_password.reasons);throw new WM(Do(r),e.status||500,n)}const mj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Xe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[sm]||(a[sm]=xI["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await vj(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function vj(e,t,r,n,i,a){const s=mj(t,n,i,a);let c;try{c=await e(r,Object.assign({},s))}catch(d){throw console.error(d),new lm(Do(d),0)}if(c.ok||await G2(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await G2(d)}}function Ki(e){var t;let r=null;bj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function H2(e){const t=Ki(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function za(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yj(e){return{data:e,error:null}}function xj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=pj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function wj(e){return e}function bj(e){return e.access_token&&e.refresh_token&&e.expires_in}const Eg=["global","local","others"];var Ej=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Aj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=AI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Eg[0]){if(Eg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eg.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:za})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ej(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:za})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,c,d;try{const h={nextPage:null,lastPage:0,total:0},g=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:wj});if(g.error)throw g.error;const v=await g.json(),y=(s=g.headers.get("x-total-count"))!==null&&s!==void 0?s:0,w=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(A.split(";")[1].split("=")[1]);h[`${I}Page`]=C}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(ze(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ms(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:za})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ms(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:za})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ms(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:za})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ms(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ms(t.userId),Ms(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function V2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Sj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const js={debug:!!(globalThis&&EI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Cj extends SI{}async function Oj(e,t,r){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(js.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sj();const Ij={url:BM,storageKey:LM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function K2(e,t,r){return await r()}const Bs={};class gc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gc.nextInstanceID,gc.nextInstanceID+=1,this.instanceID>0&&mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ij),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Aj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AI(i.fetch),this.lock=i.lock||K2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:mi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Oj:this.lock=K2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:EI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V2(this.memoryStorage)),mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Bs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=tj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),HM(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?{error:r}:{error:new wI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ki}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:g,password:v,options:y}=t;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await Rs(this.storage,this.storageKey)),a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:v,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:A},xform:Ki})}else if("phone"in t){const{phone:g,password:v,options:y}=t;a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ki})}else throw new Hd("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:c}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:H2})}else if("phone"in t){const{phone:a,password:s,options:c}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:H2})}else throw new Hd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,c,d,h,g,v,y,w;let A,C;if("message"in t)A=t.message,C=t.signature;else{const{chain:I,wallet:O,statement:_,options:T}=t;let D;if(mi())if(typeof O=="object")D=O;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))D=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const M=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const j=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),_?{statement:_}:null));let L;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")L=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)L=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)A=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),C=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${M.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((s=T==null?void 0:T.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(g=T==null?void 0:T.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const j=await D.signMessage(new TextEncoder().encode(A),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=j}}try{const{data:I,error:O}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:QM(C)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ki});if(O)throw O;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new Gd}:(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:O})}catch(I){if(ze(I))return{data:{user:null,session:null},error:I};throw I}}async _exchangeCodeForSession(t){const r=await _o(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ki});if(await Pa(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Gd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,c=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ki}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Gd}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:c,options:d}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Rs(this.storage,this.storageKey));const{error:v}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:g}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new Hd("You must provide either an email or phone number.")}catch(c){if(ze(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:c}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ki});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,h=s.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Rs(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:yj})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ra;const{error:i}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:c}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:c}}throw new Hd("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await _o(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=bg()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,g)=>(!s&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,g))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:za}):await this._useSession(async r=>{var n,i,a;const{data:s,error:c}=r;if(c)throw c;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ra}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:za})})}catch(r){if(ze(r))return GM(r)&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ra;const s=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Rs(this.storage,this.storageKey));const{data:h,error:g}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:za});if(g)throw g;return s.user=h.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ra;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=wg(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:c}=r;if(c)throw c;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ra;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!mi())throw new Vd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new L2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new L2("No code detected.");const{data:_,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:h}=t;if(!a||!c||!s||!h)throw new Vd("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let y=g+v;d&&(y=parseInt(d));const w=y-g;w*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const A=y-v;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,y,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,y,g);const{data:C,error:I}=await this._getUser(a);if(I)throw I;const O={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:y,refresh_token:s,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _o(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(zM(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ej(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Rs(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,c,d,h,g;const{data:v,error:y}=a;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return mi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ij(async i=>(i>0&&await nj(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ki})),(i,a)=>{const s=200*Math.pow(2,i);return a&&xg(a)&&Date.now()+s-n<Us})}catch(n){if(this._debug(r,"error",n),ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),mi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await _o(this.storage,this.storageKey);if(i&&this.userStorage){let s=await _o(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ws(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:bg()}else if(i&&!i.user&&!i.user){const s=await _o(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Pa(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,i)):i.user=bg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${yg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),xg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(i.access_token);!c&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new v0;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Ra;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),ze(a)){const s={session:null,error:a};return xg(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=z2(i);await Ws(this.storage,this.storageKey,a)}else{const i=z2(r);await Ws(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Pa(this.storage,this.storageKey),await Pa(this.storage,this.storageKey+"-code-verifier"),await Pa(this.storage,this.storageKey+"-user"),this.userStorage&&await Pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Us}ms, refresh threshold is ${om} ticks`),i<=om&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Rs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:c}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=wg(i.access_token);let c=null;s.aal&&(c=s.aal);let d=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const g=s.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+UM>i)return n;const{data:a,error:s}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:A}=await this.getSession();if(A||!w.session)return{data:null,error:A};n=w.session.access_token}const{header:i,payload:a,signature:s,raw:{header:c,payload:d}}=wg(n);r!=null&&r.allowExpired||dj(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:a,header:i,signature:s},error:null}}const g=fj(i.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,s,ZM(`${c}.${d}`)))throw new um("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}gc.nextInstanceID=0;const _j=gc;class Tj extends _j{constructor(t){super(t)}}var Nj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class Pj{constructor(t,r,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=MM(t),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:IM,realtime:TM,auth:Object.assign(Object.assign({},_M),{storageKey:h}),global:OM},v=jM(n??{},g);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=v.auth)!==null&&s!==void 0?s:{},this.headers,v.global.fetch),this.fetch=DM(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new XR(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new CR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AM(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Nj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:c,debug:d},h,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tj({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:c,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new cM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kj=(e,t,r)=>new Pj(e,t,r);function Dj(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Dj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Rj="https://ogjrgbvuwyuknhzoajfc.supabase.co",Mj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nanJnYnZ1d3l1a25oem9hamZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2OTQ5ODUsImV4cCI6MjA2OTI3MDk4NX0.UwImCi4NyvBm1IBHhKt51asdVEEZMslzjdmDdGzHzf4",Ke=kj(Rj,Mj),CI=({isOpen:e,onClose:t,onSave:r,initialBarcode:n=""})=>{const[i,a]=N.useState({name:"",price:"",category_id:"",barcode:"",stock:"0",is_consignment:!1,cost_price:"0",supplier_id:""}),[s,c]=N.useState(null),[d,h]=N.useState(null),[g,v]=N.useState([]),[y,w]=N.useState([]);if(N.useEffect(()=>{var _;if(!e)return;(async()=>{const{data:T}=await Ke.from("categories").select("*"),{data:D}=await Ke.from("suppliers").select("*");v(T||[]),w(D||[]),(T==null?void 0:T.length)>0&&a(M=>({...M,category_id:T[0].id}))})(),a({name:"",price:"",category_id:((_=g[0])==null?void 0:_.id)||"",barcode:n,stock:"0",is_consignment:!1,cost_price:"0",supplier_id:""}),c(null),h(null)},[e,n]),!e)return null;const A=O=>{const{name:_,value:T,type:D,checked:M}=O.target;a(j=>({...j,[_]:D==="checkbox"?M:T}))},C=O=>{const _=O.target.files[0];_&&(c(_),h(URL.createObjectURL(_)))},I=O=>{if(O.preventDefault(),!i.name||!i.price||!i.category_id){Oe.error("Nama, Harga, dan Kategori wajib diisi!");return}if(i.is_consignment&&!i.supplier_id){Oe.error("Barang titipan harus memiliki suplier.");return}r(i,s),t()};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Tambah Produk Baru"}),E.jsxs("form",{onSubmit:I,className:"flex-grow flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Produk"}),E.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:E.jsxs("div",{className:"space-y-1 text-center",children:[d?E.jsx("img",{src:d,alt:"Pratinjau",className:"mx-auto h-24 w-24 object-cover rounded-md"}):E.jsx(oR,{className:"mx-auto h-12 w-12 text-gray-400"}),E.jsxs("div",{className:"flex text-sm text-gray-600",children:[E.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[E.jsx("span",{children:"Unggah file"}),E.jsx("input",{id:"image-upload",name:"image-upload",type:"file",className:"sr-only",accept:"image/*",onChange:C})]}),E.jsx("p",{className:"pl-1",children:"atau seret dan lepas"})]}),E.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hingga 10MB"})]})})]}),E.jsxs("div",{className:"relative mb-4",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(uy,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",name:"name",placeholder:"Nama Produk",value:i.name,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(Qf,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"number",name:"price",placeholder:"Harga Jual",value:i.price,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(JO,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"number",name:"stock",placeholder:"Stok",value:i.stock,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]})]}),E.jsxs("div",{className:"relative mb-4",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(cy,{className:"h-5 w-5 text-gray-400"})}),E.jsx("select",{name:"category_id",value:i.category_id,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:g.map(O=>E.jsx("option",{value:O.id,children:O.name},O.id))})]}),E.jsxs("div",{className:"relative mb-4",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(sy,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",name:"barcode",placeholder:"Barcode (opsional)",value:i.barcode,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md bg-gray-50",readOnly:!!n})]}),E.jsxs("div",{className:"border-t pt-4 mt-4",children:[E.jsxs("div",{className:"relative flex items-start",children:[E.jsx("div",{className:"flex items-center h-5",children:E.jsx("input",{id:"is_consignment",name:"is_consignment",type:"checkbox",checked:i.is_consignment,onChange:A,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),E.jsxs("div",{className:"ml-3 text-sm",children:[E.jsx("label",{htmlFor:"is_consignment",className:"font-medium text-gray-700",children:"Barang Titipan (Konsinyasi)"}),E.jsx("p",{className:"text-gray-500",children:"Aktifkan jika produk ini adalah barang titipan dari suplier."})]})]}),i.is_consignment&&E.jsxs("div",{className:"mt-4 space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(dy,{className:"h-5 w-5 text-gray-400"})}),E.jsxs("select",{name:"supplier_id",value:i.supplier_id,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:[E.jsx("option",{value:"",children:"-- Pilih Suplier --"}),y.map(O=>E.jsx("option",{value:O.id,children:O.name},O.id))]})]}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(Qf,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"number",name:"cost_price",placeholder:"Harga Modal / Pokok",value:i.cost_price,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md"})]})]})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[E.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Simpan"})]})]})]})})},q2=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),jj=({isOpen:e,onClose:t,totalPrice:r,onConfirmPayment:n})=>{const[i,a]=N.useState(""),[s,c]=N.useState(0);if(N.useEffect(()=>{const g=parseFloat(i);!isNaN(g)&&g>=r?c(g-r):c(0)},[i,r]),N.useEffect(()=>{e||(a(""),c(0))},[e]),!e)return null;const d=()=>{n(i),t()},h=parseFloat(i)>=r;return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm m-4",children:[E.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Pembayaran"}),E.jsxs("div",{className:"mb-4 bg-blue-50 p-4 rounded-lg text-center",children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Total Belanja"}),E.jsx("p",{className:"text-3xl font-bold text-blue-600",children:q2(r)})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Uang Tunai Diterima"}),E.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:i,onChange:g=>a(g.target.value),className:"w-full text-lg p-2 border-gray-300 rounded-md shadow-sm",placeholder:"Contoh: 50000",autoFocus:!0})]}),E.jsxs("div",{className:"mb-6 bg-green-50 p-4 rounded-lg text-center",children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Kembalian"}),E.jsx("p",{className:"text-2xl font-bold text-green-600",children:q2(s)})]}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("button",{onClick:d,disabled:!h,className:"w-full bg-blue-600 text-white rounded-lg py-3 font-bold hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:"Konfirmasi Pembayaran"}),E.jsx("button",{type:"button",onClick:t,className:"w-full bg-gray-200 text-gray-800 rounded-lg py-2 hover:bg-gray-300",children:"Batal"})]})]})})};var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var X2=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Y2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Y2||(Y2={}));function Bj(e){return Object.values(Ee).includes(e)}var th;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(th||(th={}));var Lj=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[th.SCAN_TYPE_CAMERA,th.SCAN_TYPE_FILE],e}(),OI=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!X2.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,X2.get(t))},e}(),Z2=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),cm;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(cm||(cm={}));var Fj=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:cm.UNKWOWN_ERROR}},e}(),$j=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function qi(e){return typeof e>"u"||e===null}var tl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),II=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(t),c=0,d=s;c<d.length;c++){var h=d[c];if(a.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e}(),dm={exports:{}};(function(e,t){(function(r,n){n(t)})(Nr,function(r){function n(k){return k==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,o){k.__proto__=o}||function(k,o){for(var l in o)o.hasOwnProperty(l)&&(k[l]=o[l])};function a(k,o){i(k,o);function l(){this.constructor=k}k.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}function s(k,o){var l=Object.setPrototypeOf;l?l(k,o):k.__proto__=o}function c(k,o){o===void 0&&(o=k.constructor);var l=Error.captureStackTrace;l&&l(k,o)}var d=function(k){a(o,k);function o(l){var u=this.constructor,f=k.call(this,l)||this;return Object.defineProperty(f,"name",{value:u.name,enumerable:!1}),s(f,u.prototype),c(f),f}return o}(Error);class h extends d{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}h.kind="Exception";class g extends h{}g.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class y{constructor(o){if(this.binarizer=o,o===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,l){return this.binarizer.getBlackRow(o,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,l,u,f){const p=this.binarizer.getLuminanceSource().crop(o,l,u,f);return new y(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends h{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class A{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(o,l,u,f,p){for(;p--;)u[f++]=o[l++]}static currentTimeMillis(){return Date.now()}}class I extends h{}I.kind="IndexOutOfBoundsException";class O extends I{constructor(o=void 0,l=void 0){super(l),this.index=o,this.message=l}}O.kind="ArrayIndexOutOfBoundsException";class _{static fill(o,l){for(let u=0,f=o.length;u<f;u++)o[u]=l}static fillWithin(o,l,u,f){_.rangeCheck(o.length,l,u);for(let p=l;p<u;p++)o[p]=f}static rangeCheck(o,l,u){if(l>u)throw new v("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new O(l);if(u>o)throw new O(u)}static asList(...o){return o}static create(o,l,u){return Array.from({length:o}).map(p=>Array.from({length:l}).fill(u))}static createInt32Array(o,l,u){return Array.from({length:o}).map(p=>Int32Array.from({length:l}).fill(u))}static equals(o,l){if(!o||!l||!o.length||!l.length||o.length!==l.length)return!1;for(let u=0,f=o.length;u<f;u++)if(o[u]!==l[u])return!1;return!0}static hashCode(o){if(o===null)return 0;let l=1;for(const u of o)l=31*l+u;return l}static fillUint8Array(o,l){for(let u=0;u!==o.length;u++)o[u]=l}static copyOf(o,l){return o.slice(0,l)}static copyOfUint8Array(o,l){if(o.length<=l){const u=new Uint8Array(l);return u.set(o),u}return o.slice(0,l)}static copyOfRange(o,l,u){const f=u-l,p=new Int32Array(f);return C.arraycopy(o,l,p,0,f),p}static binarySearch(o,l,u){u===void 0&&(u=_.numberComparator);let f=0,p=o.length-1;for(;f<=p;){const m=p+f>>1,x=u(l,o[m]);if(x>0)f=m+1;else if(x<0)p=m-1;else return m}return-f-1}static numberComparator(o,l){return o-l}}class T{static numberOfTrailingZeros(o){let l;if(o===0)return 32;let u=31;return l=o<<16,l!==0&&(u-=16,o=l),l=o<<8,l!==0&&(u-=8,o=l),l=o<<4,l!==0&&(u-=4,o=l),l=o<<2,l!==0&&(u-=2,o=l),u-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let l=1;return o>>>16||(l+=16,o<<=16),o>>>24||(l+=8,o<<=8),o>>>28||(l+=4,o<<=4),o>>>30||(l+=2,o<<=2),l-=o>>>31,l}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,l){return Math.trunc(o/l)}static parseInt(o,l=void 0){return parseInt(o,l)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(o,l){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,l==null?this.bits=D.makeArray(o):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const l=D.makeArray(o);C.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const l=this.size;if(o>=l)return l;const u=this.bits;let f=Math.floor(o/32),p=u[f];p&=~((1<<(o&31))-1);const m=u.length;for(;p===0;){if(++f===m)return l;p=u[f]}const x=f*32+T.numberOfTrailingZeros(p);return x>l?l:x}getNextUnset(o){const l=this.size;if(o>=l)return l;const u=this.bits;let f=Math.floor(o/32),p=~u[f];p&=~((1<<(o&31))-1);const m=u.length;for(;p===0;){if(++f===m)return l;p=~u[f]}const x=f*32+T.numberOfTrailingZeros(p);return x>l?l:x}setBulk(o,l){this.bits[Math.floor(o/32)]=l}setRange(o,l){if(l<o||o<0||l>this.size)throw new v;if(l===o)return;l--;const u=Math.floor(o/32),f=Math.floor(l/32),p=this.bits;for(let m=u;m<=f;m++){const x=m>u?0:o&31,S=(2<<(m<f?31:l&31))-(1<<x);p[m]|=S}}clear(){const o=this.bits.length,l=this.bits;for(let u=0;u<o;u++)l[u]=0}isRange(o,l,u){if(l<o||o<0||l>this.size)throw new v;if(l===o)return!0;l--;const f=Math.floor(o/32),p=Math.floor(l/32),m=this.bits;for(let x=f;x<=p;x++){const b=x>f?0:o&31,P=(2<<(x<p?31:l&31))-(1<<b)&4294967295;if((m[x]&P)!==(u?P:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,l){if(l<0||l>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((o>>u-1&1)===1)}appendBitArray(o){const l=o.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(o.get(u))}xor(o){if(this.size!==o.size)throw new v("Sizes don't match");const l=this.bits;for(let u=0,f=l.length;u<f;u++)l[u]^=o.bits[u]}toBytes(o,l,u,f){for(let p=0;p<f;p++){let m=0;for(let x=0;x<8;x++)this.get(o)&&(m|=1<<7-x),o++;l[u+p]=m}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,f=this.bits;for(let p=0;p<u;p++){let m=f[p];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,o[l-p]=m}if(this.size!==u*32){const p=u*32-this.size;let m=o[0]>>>p;for(let x=1;x<u;x++){const b=o[x];m|=b<<32-p,o[x-1]=m,m=b>>>p}o[u-1]=m}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof D))return!1;const l=o;return this.size===l.size&&_.equals(this.bits,l.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let o="";for(let l=0,u=this.size;l<u;l++)l&7||(o+=" "),o+=this.get(l)?"X":".";return o}clone(){return new D(this.size,this.bits.slice())}}var M;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(M||(M={}));var j=M;class L extends h{static getFormatInstance(){return new L}}L.kind="FormatException";var z;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(z||(z={}));class U{constructor(o,l,u,...f){this.valueIdentifier=o,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=f,U.VALUE_IDENTIFIER_TO_ECI.set(o,this),U.NAME_TO_ECI.set(u,this);const p=this.values;for(let m=0,x=p.length;m!==x;m++){const b=p[m];U.VALUES_TO_ECI.set(b,this)}for(const m of f)U.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new L("incorect value");const l=U.VALUES_TO_ECI.get(o);if(l===void 0)throw new L("incorect value");return l}static getCharacterSetECIByName(o){const l=U.NAME_TO_ECI.get(o);if(l===void 0)throw new L("incorect value");return l}equals(o){if(!(o instanceof U))return!1;const l=o;return this.getName()===l.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(z.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(z.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(z.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(z.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(z.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(z.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(z.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(z.Big5,28,"Big5"),U.GB18030=new U(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(z.EUC_KR,30,"EUC_KR","EUC-KR");class J extends h{}J.kind="UnsupportedOperationException";class X{static decode(o,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(o,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(o,u):new TextDecoder(u).decode(o)}static shouldDecodeOnFallback(o){return!X.isBrowser()&&o==="ISO-8859-1"}static encode(o,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(o,u):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof U?o:U.getCharacterSetECIByName(o)}static decodeFallback(o,l){const u=this.encodingCharacterSet(l);if(X.isDecodeFallbackSupported(u)){let f="";for(let p=0,m=o.length;p<m;p++){let x=o[p].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(u.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new J(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(U.UTF8)||o.equals(U.ISO8859_1)||o.equals(U.ASCII)}static encodeFallback(o){const u=btoa(unescape(encodeURIComponent(o))).split(""),f=[];for(let p=0;p<u.length;p++)f.push(u[p].charCodeAt(0));return new Uint8Array(f)}}class q{static castAsNonUtf8Char(o,l=null){const u=l?l.getName():this.ISO88591;return X.decode(new Uint8Array([o]),u)}static guessEncoding(o,l){if(l!=null&&l.get(j.CHARACTER_SET)!==void 0)return l.get(j.CHARACTER_SET).toString();const u=o.length;let f=!0,p=!0,m=!0,x=0,b=0,S=0,P=0,R=0,B=0,$=0,W=0,G=0,V=0,Z=0;const ue=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ce=0;ce<u&&(f||p||m);ce++){const se=o[ce]&255;m&&(x>0?se&128?x--:m=!1:se&128&&(se&64?(x++,se&32?(x++,se&16?(x++,se&8?m=!1:P++):S++):b++):m=!1)),f&&(se>127&&se<160?f=!1:se>159&&(se<192||se===215||se===247)&&Z++),p&&(R>0?se<64||se===127||se>252?p=!1:R--:se===128||se===160||se>239?p=!1:se>160&&se<224?(B++,W=0,$++,$>G&&(G=$)):se>127?(R++,$=0,W++,W>V&&(V=W)):($=0,W=0))}return m&&x>0&&(m=!1),p&&R>0&&(p=!1),m&&(ue||b+S+P>0)?q.UTF8:p&&(q.ASSUME_SHIFT_JIS||G>=3||V>=3)?q.SHIFT_JIS:f&&p?G===2&&B===2||Z*10>=u?q.SHIFT_JIS:q.ISO88591:f?q.ISO88591:p?q.SHIFT_JIS:m?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(o,...l){let u=-1;function f(m,x,b,S,P,R){if(m==="%%")return"%";if(l[++u]===void 0)return;m=S?parseInt(S.substr(1)):void 0;let B=P?parseInt(P.substr(1)):void 0,$;switch(R){case"s":$=l[u];break;case"c":$=l[u][0];break;case"f":$=parseFloat(l[u]).toFixed(m);break;case"p":$=parseFloat(l[u]).toPrecision(m);break;case"e":$=parseFloat(l[u]).toExponential(m);break;case"x":$=parseInt(l[u]).toString(B||16);break;case"d":$=parseFloat(parseInt(l[u],B||10).toPrecision(m)).toFixed(0);break}$=typeof $=="object"?JSON.stringify($):(+$).toString(B);let W=parseInt(b),G=b&&b[0]+""=="0"?"0":" ";for(;$.length<W;)$=x!==void 0?$+G:G+$;return $}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(p,f)}static getBytes(o,l){return X.encode(o,l)}static getCharCode(o,l=0){return o.charCodeAt(l)}static getCharAt(o){return String.fromCharCode(o)}}q.SHIFT_JIS=U.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=U.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=U.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class oe{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=q.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,l,u){for(let f=l;l<l+u;f++)this.append(o[f]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+1)}substring(o,l){return this.value.substring(o,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+l.length)}}class de{constructor(o,l,u,f){if(this.width=o,this.height=l,this.rowSize=u,this.bits=f,l==null&&(l=o),this.height=l,o<1||l<1)throw new v("Both dimensions must be greater than 0");u==null&&(u=Math.floor((o+31)/32)),this.rowSize=u,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const l=o.length,u=o[0].length,f=new de(u,l);for(let p=0;p<l;p++){const m=o[p];for(let x=0;x<u;x++)m[x]&&f.set(x,p)}return f}static parseFromString(o,l,u){if(o===null)throw new v("stringRepresentation cannot be null");const f=new Array(o.length);let p=0,m=0,x=-1,b=0,S=0;for(;S<o.length;)if(o.charAt(S)===`
`||o.charAt(S)==="\r"){if(p>m){if(x===-1)x=p-m;else if(p-m!==x)throw new v("row lengths do not match");m=p,b++}S++}else if(o.substring(S,S+l.length)===l)S+=l.length,f[p]=!0,p++;else if(o.substring(S,S+u.length)===u)S+=u.length,f[p]=!1,p++;else throw new v("illegal character encountered: "+o.substring(S));if(p>m){if(x===-1)x=p-m;else if(p-m!==x)throw new v("row lengths do not match");b++}const P=new de(x,b);for(let R=0;R<p;R++)f[R]&&P.set(Math.floor(R%x),Math.floor(R/x));return P}get(o,l){const u=l*this.rowSize+Math.floor(o/32);return(this.bits[u]>>>(o&31)&1)!==0}set(o,l){const u=l*this.rowSize+Math.floor(o/32);this.bits[u]|=1<<(o&31)&4294967295}unset(o,l){const u=l*this.rowSize+Math.floor(o/32);this.bits[u]&=~(1<<(o&31)&4294967295)}flip(o,l){const u=l*this.rowSize+Math.floor(o/32);this.bits[u]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new v("input matrix dimensions do not match");const l=new D(Math.floor(this.width/32)+1),u=this.rowSize,f=this.bits;for(let p=0,m=this.height;p<m;p++){const x=p*u,b=o.getRow(p,l).getBitArray();for(let S=0;S<u;S++)f[x+S]^=b[S]}}clear(){const o=this.bits,l=o.length;for(let u=0;u<l;u++)o[u]=0}setRegion(o,l,u,f){if(l<0||o<0)throw new v("Left and top must be nonnegative");if(f<1||u<1)throw new v("Height and width must be at least 1");const p=o+u,m=l+f;if(m>this.height||p>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,b=this.bits;for(let S=l;S<m;S++){const P=S*x;for(let R=o;R<p;R++)b[P+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(o,l){l==null||l.getSize()<this.width?l=new D(this.width):l.clear();const u=this.rowSize,f=this.bits,p=o*u;for(let m=0;m<u;m++)l.setBulk(m*32,f[p+m]);return l}setRow(o,l){C.arraycopy(l.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),l=this.getHeight();let u=new D(o),f=new D(o);for(let p=0,m=Math.floor((l+1)/2);p<m;p++)u=this.getRow(p,u),f=this.getRow(l-1-p,f),u.reverse(),f.reverse(),this.setRow(p,f),this.setRow(l-1-p,u)}getEnclosingRectangle(){const o=this.width,l=this.height,u=this.rowSize,f=this.bits;let p=o,m=l,x=-1,b=-1;for(let S=0;S<l;S++)for(let P=0;P<u;P++){const R=f[S*u+P];if(R!==0){if(S<m&&(m=S),S>b&&(b=S),P*32<p){let B=0;for(;!(R<<31-B&4294967295);)B++;P*32+B<p&&(p=P*32+B)}if(P*32+31>x){let B=31;for(;!(R>>>B);)B--;P*32+B>x&&(x=P*32+B)}}}return x<p||b<m?null:Int32Array.from([p,m,x-p+1,b-m+1])}getTopLeftOnBit(){const o=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const f=u/o;let p=u%o*32;const m=l[u];let x=0;for(;!(m<<31-x&4294967295);)x++;return p+=x,Int32Array.from([p,f])}getBottomRightOnBit(){const o=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const f=Math.floor(u/o);let p=Math.floor(u%o)*32;const m=l[u];let x=31;for(;!(m>>>x);)x--;return p+=x,Int32Array.from([p,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof de))return!1;const l=o;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&_.equals(this.bits,l.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+_.hashCode(this.bits),o}toString(o="X ",l="  ",u=`
`){return this.buildToString(o,l,u)}buildToString(o,l,u){let f=new oe;for(let p=0,m=this.height;p<m;p++){for(let x=0,b=this.width;x<b;x++)f.append(this.get(x,p)?o:l);f.append(u)}return f.toString()}clone(){return new de(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends h{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class we extends A{constructor(o){super(o),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(o,l){const u=this.getLuminanceSource(),f=u.getWidth();l==null||l.getSize()<f?l=new D(f):l.clear(),this.initArrays(f);const p=u.getRow(o,this.luminances),m=this.buckets;for(let b=0;b<f;b++)m[(p[b]&255)>>we.LUMINANCE_SHIFT]++;const x=we.estimateBlackPoint(m);if(f<3)for(let b=0;b<f;b++)(p[b]&255)<x&&l.set(b);else{let b=p[0]&255,S=p[1]&255;for(let P=1;P<f-1;P++){const R=p[P+1]&255;(S*4-b-R)/2<x&&l.set(P),b=S,S=R}}return l}getBlackMatrix(){const o=this.getLuminanceSource(),l=o.getWidth(),u=o.getHeight(),f=new de(l,u);this.initArrays(l);const p=this.buckets;for(let b=1;b<5;b++){const S=Math.floor(u*b/5),P=o.getRow(S,this.luminances),R=Math.floor(l*4/5);for(let B=Math.floor(l/5);B<R;B++){const $=P[B]&255;p[$>>we.LUMINANCE_SHIFT]++}}const m=we.estimateBlackPoint(p),x=o.getMatrix();for(let b=0;b<u;b++){const S=b*l;for(let P=0;P<l;P++)(x[S+P]&255)<m&&f.set(P,b)}return f}createBinarizer(o){return new we(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const l=this.buckets;for(let u=0;u<we.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(o){const l=o.length;let u=0,f=0,p=0;for(let P=0;P<l;P++)o[P]>p&&(f=P,p=o[P]),o[P]>u&&(u=o[P]);let m=0,x=0;for(let P=0;P<l;P++){const R=P-f,B=o[P]*R*R;B>x&&(m=P,x=B)}if(f>m){const P=f;f=m,m=P}if(m-f<=l/16)throw new H;let b=m-1,S=-1;for(let P=m-1;P>f;P--){const R=P-f,B=R*R*(m-P)*(u-o[P]);B>S&&(b=P,S=B)}return b<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class ee extends we{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),l=o.getWidth(),u=o.getHeight();if(l>=ee.MINIMUM_DIMENSION&&u>=ee.MINIMUM_DIMENSION){const f=o.getMatrix();let p=l>>ee.BLOCK_SIZE_POWER;l&ee.BLOCK_SIZE_MASK&&p++;let m=u>>ee.BLOCK_SIZE_POWER;u&ee.BLOCK_SIZE_MASK&&m++;const x=ee.calculateBlackPoints(f,p,m,l,u),b=new de(l,u);ee.calculateThresholdForBlock(f,p,m,l,u,x,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ee(o)}static calculateThresholdForBlock(o,l,u,f,p,m,x){const b=p-ee.BLOCK_SIZE,S=f-ee.BLOCK_SIZE;for(let P=0;P<u;P++){let R=P<<ee.BLOCK_SIZE_POWER;R>b&&(R=b);const B=ee.cap(P,2,u-3);for(let $=0;$<l;$++){let W=$<<ee.BLOCK_SIZE_POWER;W>S&&(W=S);const G=ee.cap($,2,l-3);let V=0;for(let ue=-2;ue<=2;ue++){const ce=m[B+ue];V+=ce[G-2]+ce[G-1]+ce[G]+ce[G+1]+ce[G+2]}const Z=V/25;ee.thresholdBlock(o,W,R,Z,f,x)}}}static cap(o,l,u){return o<l?l:o>u?u:o}static thresholdBlock(o,l,u,f,p,m){for(let x=0,b=u*p+l;x<ee.BLOCK_SIZE;x++,b+=p)for(let S=0;S<ee.BLOCK_SIZE;S++)(o[b+S]&255)<=f&&m.set(l+S,u+x)}static calculateBlackPoints(o,l,u,f,p){const m=p-ee.BLOCK_SIZE,x=f-ee.BLOCK_SIZE,b=new Array(u);for(let S=0;S<u;S++){b[S]=new Int32Array(l);let P=S<<ee.BLOCK_SIZE_POWER;P>m&&(P=m);for(let R=0;R<l;R++){let B=R<<ee.BLOCK_SIZE_POWER;B>x&&(B=x);let $=0,W=255,G=0;for(let Z=0,ue=P*f+B;Z<ee.BLOCK_SIZE;Z++,ue+=f){for(let ce=0;ce<ee.BLOCK_SIZE;ce++){const se=o[ue+ce]&255;$+=se,se<W&&(W=se),se>G&&(G=se)}if(G-W>ee.MIN_DYNAMIC_RANGE)for(Z++,ue+=f;Z<ee.BLOCK_SIZE;Z++,ue+=f)for(let ce=0;ce<ee.BLOCK_SIZE;ce++)$+=o[ue+ce]&255}let V=$>>ee.BLOCK_SIZE_POWER*2;if(G-W<=ee.MIN_DYNAMIC_RANGE&&(V=W/2,S>0&&R>0)){const Z=(b[S-1][R]+2*b[S][R-1]+b[S-1][R-1])/4;W<Z&&(V=Z)}b[S][R]=V}}return b}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class te{constructor(o,l){this.width=o,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,l,u,f){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let l=new oe;for(let u=0;u<this.height;u++){const f=this.getRow(u,o);for(let p=0;p<this.width;p++){const m=f[p]&255;let x;m<64?x="#":m<128?x="+":m<192?x=".":x=" ",l.append(x)}l.append(`
`)}return l.toString()}}class fe extends te{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,l){const u=this.delegate.getRow(o,l),f=this.getWidth();for(let p=0;p<f;p++)u[p]=255-(u[p]&255);return u}getMatrix(){const o=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let f=0;f<l;f++)u[f]=255-(o[f]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(o,l,u,f){return new fe(this.delegate.crop(o,l,u,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ie extends te{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=ie.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const l=o.getContext("2d").getImageData(0,0,o.width,o.height);return ie.toGrayscaleBuffer(l.data,o.width,o.height)}static toGrayscaleBuffer(o,l,u){const f=new Uint8ClampedArray(l*u);for(let p=0,m=0,x=o.length;p<x;p+=4,m++){let b;if(o[p+3]===0)b=255;else{const P=o[p],R=o[p+1],B=o[p+2];b=306*P+601*R+117*B+512>>10}f[m]=b}return f}getRow(o,l){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const u=this.getWidth(),f=o*u;return l===null?l=this.buffer.slice(f,f+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(f,f+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,l,u,f){return super.crop(o,l,u,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const l=this.getTempCanvasElement(),u=l.getContext("2d"),f=o*ie.DEGREE_TO_RADIANS,p=this.canvas.width,m=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*p+Math.abs(Math.sin(f))*m),b=Math.ceil(Math.abs(Math.sin(f))*p+Math.abs(Math.cos(f))*m);return l.width=x,l.height=b,u.translate(x/2,b/2),u.rotate(f),u.drawImage(this.canvas,p/-2,m/-2),this.buffer=ie.makeBufferFromCanvasImageData(l),this}invert(){return new fe(this)}}ie.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(o,l,u){this.deviceId=o,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Nr||self||window||void 0)&&(globalThis||Nr||self||window||void 0).__awaiter||function(k,o,l,u){function f(p){return p instanceof l?p:new l(function(m){m(p)})}return new(l||(l=Promise))(function(p,m){function x(P){try{S(u.next(P))}catch(R){m(R)}}function b(P){try{S(u.throw(P))}catch(R){m(R)}}function S(P){P.done?p(P.value):f(P.value).then(x,b)}S((u=u.apply(k,o||[])).next())})};class Ue{constructor(o,l=500,u){this.reader=o,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of o){const f=u.kind==="video"?"videoinput":u.kind;if(f!=="videoinput")continue;const p=u.deviceId||u.id,m=u.label||`Video device ${l.length+1}`,x=u.groupId,b={deviceId:p,label:m,kind:f,groupId:x};l.push(b)}return l})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ve(l.deviceId,l.label))})}findDeviceById(o){return re(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===o):null})}decodeFromInputVideoDevice(o,l){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,l)})}decodeOnceFromVideoDevice(o,l){return re(this,void 0,void 0,function*(){this.reset();let u;o?u={deviceId:{exact:o}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeOnceFromConstraints(f,l)})}decodeOnceFromConstraints(o,l){return re(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(o,l){return re(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(o,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(o,l,u){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,l,u)})}decodeFromVideoDevice(o,l,u){return re(this,void 0,void 0,function*(){let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const p={video:f};return yield this.decodeFromConstraints(p,l,u)})}decodeFromConstraints(o,l,u){return re(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(f,l,u)})}decodeFromStream(o,l,u){return re(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,l);return yield this.decodeContinuously(f,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,l){return re(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,o),this.videoElement=u,this.stream=o,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(o){return new Promise((l,u)=>this.playVideoOnLoad(o,()=>l()))}playVideoOnLoad(o,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",l),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,l){const u=document.getElementById(o);if(!u)throw new g(`element with id '${o}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new g(`element with id '${o}' must be an ${l} element`);return u}decodeFromImage(o,l){if(!o&&!l)throw new g("either imageElement with a src set or an url must be provided");return l&&!o?this.decodeFromImageUrl(l):this.decodeFromImageElement(o)}decodeFromVideo(o,l){if(!o&&!l)throw new g("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,l,u){if(o===void 0&&l===void 0)throw new g("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(o,u)}decodeFromImageElement(o){if(!o)throw new g("An image element must be provided.");this.reset();const l=this.prepareImageElement(o);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(o){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(o,l){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(o){if(!o)throw new g("A video element must be provided.");this.reset();const l=this.prepareVideoElement(o);return this.videoElement=l,l}decodeFromImageUrl(o){if(!o)throw new g("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=o,u}decodeFromVideoUrl(o){if(!o)throw new g("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=o,u}decodeFromVideoUrlContinuously(o,l){if(!o)throw new g("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(u,l);return u.src=o,f}_decodeOnLoadImage(o){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(l,u),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,l){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,l)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let l;return typeof o>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(l=o),l}prepareVideoElement(o){let l;return!o&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(l=o),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(o,l=!0,u=!0){this._stopAsyncDecode=!1;const f=(p,m)=>{if(this._stopAsyncDecode){m(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(o);p(x)}catch(x){const b=l&&x instanceof H,P=(x instanceof w||x instanceof L)&&u;if(b||P)return setTimeout(f,this._timeBetweenDecodingAttempts,p,m);m(x)}};return new Promise((p,m)=>f(p,m))}decodeContinuously(o,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(o);l(f,null),setTimeout(u,this.timeBetweenScansMillis)}catch(f){l(null,f);const p=f instanceof w||f instanceof L,m=f instanceof H;(p||m)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(o){const l=this.createBinaryBitmap(o);return this.decodeBitmap(l)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,l,u){l||(l={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(o,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),u=new ie(l),f=new ee(u);return new y(f)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const l=this.createCaptureCanvas(o);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,f;return typeof o<"u"&&(o instanceof HTMLVideoElement?(u=o.videoWidth,f=o.videoHeight):o instanceof HTMLImageElement&&(u=o.naturalWidth||o.width,f=o.naturalHeight||o.height)),l.style.width=u+"px",l.style.height=f+"px",l.width=u,l.height=f,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,l){try{o.srcObject=l}catch{o.src=URL.createObjectURL(l)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class $e{constructor(o,l,u=l==null?0:8*l.length,f,p,m=C.currentTimeMillis()){this.text=o,this.rawBytes=l,this.numBits=u,this.resultPoints=f,this.format=p,this.timestamp=m,this.text=o,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=f,this.format=p,this.resultMetadata=null,m==null?this.timestamp=C.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,l)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const l=this.resultPoints;if(l===null)this.resultPoints=o;else if(o!==null&&o.length>0){const u=new Array(l.length+o.length);C.arraycopy(l,0,u,0,l.length),C.arraycopy(o,0,u,l.length,o.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var xe=qe,cr;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(cr||(cr={}));var ht=cr;class ye{constructor(o,l,u,f,p=-1,m=-1){this.rawBytes=o,this.text=l,this.byteSegments=u,this.ecLevel=f,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=m,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class je{exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}static addOrSubtract(o,l){return o^l}}class De{constructor(o,l){if(l.length===0)throw new v;this.field=o;const u=l.length;if(u>1&&l[0]===0){let f=1;for(;f<u&&l[f]===0;)f++;f===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-f),C.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(o===1){u=0;for(let m=0,x=l.length;m!==x;m++){const b=l[m];u=je.addOrSubtract(u,b)}return u}u=l[0];const f=l.length,p=this.field;for(let m=1;m<f;m++)u=je.addOrSubtract(p.multiply(o,u),l[m]);return u}addOrSubtract(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,u=o.coefficients;if(l.length>u.length){const m=l;l=u,u=m}let f=new Int32Array(u.length);const p=u.length-l.length;C.arraycopy(u,0,f,0,p);for(let m=p;m<u.length;m++)f[m]=je.addOrSubtract(l[m-p],u[m]);return new De(this.field,f)}multiply(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,f=o.coefficients,p=f.length,m=new Int32Array(u+p-1),x=this.field;for(let b=0;b<u;b++){const S=l[b];for(let P=0;P<p;P++)m[b+P]=je.addOrSubtract(m[b+P],x.multiply(S,f[P]))}return new De(x,m)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const l=this.coefficients.length,u=this.field,f=new Int32Array(l),p=this.coefficients;for(let m=0;m<l;m++)f[m]=u.multiply(p[m],o);return new De(u,f)}multiplyByMonomial(o,l){if(o<0)throw new v;if(l===0)return this.field.getZero();const u=this.coefficients,f=u.length,p=new Int32Array(f+o),m=this.field;for(let x=0;x<f;x++)p[x]=m.multiply(u[x],l);return new De(m,p)}divide(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new v("Divide by 0");const l=this.field;let u=l.getZero(),f=this;const p=o.getCoefficient(o.getDegree()),m=l.inverse(p);for(;f.getDegree()>=o.getDegree()&&!f.isZero();){const x=f.getDegree()-o.getDegree(),b=l.multiply(f.getCoefficient(f.getDegree()),m),S=o.multiplyByMonomial(x,b),P=l.buildMonomial(x,b);u=u.addOrSubtract(P),f=f.addOrSubtract(S)}return[u,f]}toString(){let o="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(o+=" - ",u=-u):o.length>0&&(o+=" + "),l===0||u!==1){const f=this.field.log(u);f===0?o+="1":f===1?o+="a":(o+="a^",o+=f)}l!==0&&(l===1?o+="x":(o+="x^",o+=l))}}return o}}class ae extends h{}ae.kind="ArithmeticException";class Me extends je{constructor(o,l,u){super(),this.primitive=o,this.size=l,this.generatorBase=u;const f=new Int32Array(l);let p=1;for(let x=0;x<l;x++)f[x]=p,p*=2,p>=l&&(p^=o,p&=l-1);this.expTable=f;const m=new Int32Array(l);for(let x=0;x<l-1;x++)m[f[x]]=x;this.logTable=m,this.zero=new De(this,Int32Array.from([0])),this.one=new De(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new v;if(l===0)return this.zero;const u=new Int32Array(o+1);return u[0]=l,new De(this,u)}inverse(o){if(o===0)throw new ae;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class Ge extends h{}Ge.kind="ReedSolomonException";class at extends h{}at.kind="IllegalStateException";class he{constructor(o){this.field=o}decode(o,l){const u=this.field,f=new De(u,o),p=new Int32Array(l);let m=!0;for(let $=0;$<l;$++){const W=f.evaluateAt(u.exp($+u.getGeneratorBase()));p[p.length-1-$]=W,W!==0&&(m=!1)}if(m)return;const x=new De(u,p),b=this.runEuclideanAlgorithm(u.buildMonomial(l,1),x,l),S=b[0],P=b[1],R=this.findErrorLocations(S),B=this.findErrorMagnitudes(P,R);for(let $=0;$<R.length;$++){const W=o.length-1-u.log(R[$]);if(W<0)throw new Ge("Bad error location");o[W]=Me.addOrSubtract(o[W],B[$])}}runEuclideanAlgorithm(o,l,u){if(o.getDegree()<l.getDegree()){const $=o;o=l,l=$}const f=this.field;let p=o,m=l,x=f.getZero(),b=f.getOne();for(;m.getDegree()>=(u/2|0);){let $=p,W=x;if(p=m,x=b,p.isZero())throw new Ge("r_{i-1} was zero");m=$;let G=f.getZero();const V=p.getCoefficient(p.getDegree()),Z=f.inverse(V);for(;m.getDegree()>=p.getDegree()&&!m.isZero();){const ue=m.getDegree()-p.getDegree(),ce=f.multiply(m.getCoefficient(m.getDegree()),Z);G=G.addOrSubtract(f.buildMonomial(ue,ce)),m=m.addOrSubtract(p.multiplyByMonomial(ue,ce))}if(b=G.multiply(x).addOrSubtract(W),m.getDegree()>=p.getDegree())throw new at("Division algorithm failed to reduce polynomial?")}const S=b.getCoefficient(0);if(S===0)throw new Ge("sigmaTilde(0) was zero");const P=f.inverse(S),R=b.multiplyScalar(P),B=m.multiplyScalar(P);return[R,B]}findErrorLocations(o){const l=o.getDegree();if(l===1)return Int32Array.from([o.getCoefficient(1)]);const u=new Int32Array(l);let f=0;const p=this.field;for(let m=1;m<p.getSize()&&f<l;m++)o.evaluateAt(m)===0&&(u[f]=p.inverse(m),f++);if(f!==l)throw new Ge("Error locator degree does not match number of roots");return u}findErrorMagnitudes(o,l){const u=l.length,f=new Int32Array(u),p=this.field;for(let m=0;m<u;m++){const x=p.inverse(l[m]);let b=1;for(let S=0;S<u;S++)if(m!==S){const P=p.multiply(l[S],x),R=P&1?P&-2:P|1;b=p.multiply(b,R)}f[m]=p.multiply(o.evaluateAt(x),p.inverse(b)),p.getGeneratorBase()!==0&&(f[m]=p.multiply(f[m],x))}return f}}var Te;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Te||(Te={}));class _e{decode(o){this.ddata=o;let l=o.getBits(),u=this.extractBits(l),f=this.correctBits(u),p=_e.convertBoolArrayToByteArray(f),m=_e.getEncodedData(f),x=new ye(p,m,null,null);return x.setNumBits(f.length),x}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let l=o.length,u=Te.UPPER,f=Te.UPPER,p="",m=0;for(;m<l;)if(f===Te.BINARY){if(l-m<5)break;let x=_e.readCode(o,m,5);if(m+=5,x===0){if(l-m<11)break;x=_e.readCode(o,m,11)+31,m+=11}for(let b=0;b<x;b++){if(l-m<8){m=l;break}const S=_e.readCode(o,m,8);p+=q.castAsNonUtf8Char(S),m+=8}f=u}else{let x=f===Te.DIGIT?4:5;if(l-m<x)break;let b=_e.readCode(o,m,x);m+=x;let S=_e.getCharacter(f,b);S.startsWith("CTRL_")?(u=f,f=_e.getTable(S.charAt(5)),S.charAt(6)==="L"&&(u=f)):(p+=S,f=u)}return p}static getTable(o){switch(o){case"L":return Te.LOWER;case"P":return Te.PUNCT;case"M":return Te.MIXED;case"D":return Te.DIGIT;case"B":return Te.BINARY;case"U":default:return Te.UPPER}}static getCharacter(o,l){switch(o){case Te.UPPER:return _e.UPPER_TABLE[l];case Te.LOWER:return _e.LOWER_TABLE[l];case Te.MIXED:return _e.MIXED_TABLE[l];case Te.PUNCT:return _e.PUNCT_TABLE[l];case Te.DIGIT:return _e.DIGIT_TABLE[l];default:throw new at("Bad table")}}correctBits(o){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=Me.AZTEC_DATA_10):(u=12,l=Me.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),p=o.length/u;if(p<f)throw new L;let m=o.length%u,x=new Int32Array(p);for(let B=0;B<p;B++,m+=u)x[B]=_e.readCode(o,m,u);try{new he(l).decode(x,p-f)}catch(B){throw new L(B)}let b=(1<<u)-1,S=0;for(let B=0;B<f;B++){let $=x[B];if($===0||$===b)throw new L;($===1||$===b-1)&&S++}let P=new Array(f*u-S),R=0;for(let B=0;B<f;B++){let $=x[B];if($===1||$===b-1)P.fill($>1,R,R+u-1),R+=u-1;else for(let W=u-1;W>=0;--W)P[R++]=($&1<<W)!==0}return P}extractBits(o){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),f=(l?11:14)+u*4,p=new Int32Array(f),m=new Array(this.totalBitsInLayer(u,l));if(l)for(let x=0;x<p.length;x++)p[x]=x;else{let x=f+1+2*T.truncDivision(T.truncDivision(f,2)-1,15),b=f/2,S=T.truncDivision(x,2);for(let P=0;P<b;P++){let R=P+T.truncDivision(P,15);p[b-P-1]=S-R-1,p[b+P]=S+R+1}}for(let x=0,b=0;x<u;x++){let S=(u-x)*4+(l?9:12),P=x*2,R=f-1-P;for(let B=0;B<S;B++){let $=B*2;for(let W=0;W<2;W++)m[b+$+W]=o.get(p[P+W],p[P+B]),m[b+2*S+$+W]=o.get(p[P+B],p[R-W]),m[b+4*S+$+W]=o.get(p[R-W],p[R-B]),m[b+6*S+$+W]=o.get(p[R-B],p[P+W])}b+=S*8}return m}static readCode(o,l,u){let f=0;for(let p=l;p<l+u;p++)f<<=1,o[p]&&(f|=1);return f}static readByte(o,l){let u=o.length-l;return u>=8?_e.readCode(o,l,8):_e.readCode(o,l,u)<<8-u}static convertBoolArrayToByteArray(o){let l=new Uint8Array((o.length+7)/8);for(let u=0;u<l.length;u++)l[u]=_e.readByte(o,8*u);return l}totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}_e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_e.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,l,u,f){const p=o-u,m=l-f;return Math.sqrt(p*p+m*m)}static sum(o){let l=0;for(let u=0,f=o.length;u!==f;u++){const p=o[u];l+=p}return l}}class Rt{static floatToIntBits(o){return o}}Rt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(o,l){this.x=o,this.y=l}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof me){const l=o;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Rt.floatToIntBits(this.x)+Rt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const l=this.distance(o[0],o[1]),u=this.distance(o[1],o[2]),f=this.distance(o[0],o[2]);let p,m,x;if(u>=l&&u>=f?(m=o[0],p=o[1],x=o[2]):f>=u&&f>=l?(m=o[1],p=o[0],x=o[2]):(m=o[2],p=o[0],x=o[1]),this.crossProductZ(p,m,x)<0){const b=p;p=x,x=b}o[0]=p,o[1]=m,o[2]=x}static distance(o,l){return Ie.distance(o.x,o.y,l.x,l.y)}static crossProductZ(o,l,u){const f=l.x,p=l.y;return(u.x-f)*(o.y-p)-(u.y-p)*(o.x-f)}}class Hi{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Ea extends Hi{constructor(o,l,u,f,p){super(o,l),this.compact=u,this.nbDatablocks=f,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class di{constructor(o,l,u,f){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),l==null&&(l=di.INIT_SIZE),u==null&&(u=o.getWidth()/2|0),f==null&&(f=o.getHeight()/2|0);const p=l/2|0;if(this.leftInit=u-p,this.rightInit=u+p,this.upInit=f-p,this.downInit=f+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let o=this.leftInit,l=this.rightInit,u=this.upInit,f=this.downInit,p=!1,m=!0,x=!1,b=!1,S=!1,P=!1,R=!1;const B=this.width,$=this.height;for(;m;){m=!1;let W=!0;for(;(W||!b)&&l<B;)W=this.containsBlackPoint(u,f,l,!1),W?(l++,m=!0,b=!0):b||l++;if(l>=B){p=!0;break}let G=!0;for(;(G||!S)&&f<$;)G=this.containsBlackPoint(o,l,f,!0),G?(f++,m=!0,S=!0):S||f++;if(f>=$){p=!0;break}let V=!0;for(;(V||!P)&&o>=0;)V=this.containsBlackPoint(u,f,o,!1),V?(o--,m=!0,P=!0):P||o--;if(o<0){p=!0;break}let Z=!0;for(;(Z||!R)&&u>=0;)Z=this.containsBlackPoint(o,l,u,!0),Z?(u--,m=!0,R=!0):R||u--;if(u<0){p=!0;break}m&&(x=!0)}if(!p&&x){const W=l-o;let G=null;for(let ce=1;G===null&&ce<W;ce++)G=this.getBlackPointOnSegment(o,f-ce,o+ce,f);if(G==null)throw new H;let V=null;for(let ce=1;V===null&&ce<W;ce++)V=this.getBlackPointOnSegment(o,u+ce,o+ce,u);if(V==null)throw new H;let Z=null;for(let ce=1;Z===null&&ce<W;ce++)Z=this.getBlackPointOnSegment(l,u+ce,l-ce,u);if(Z==null)throw new H;let ue=null;for(let ce=1;ue===null&&ce<W;ce++)ue=this.getBlackPointOnSegment(l,f-ce,l-ce,f);if(ue==null)throw new H;return this.centerEdges(ue,G,Z,V)}else throw new H}getBlackPointOnSegment(o,l,u,f){const p=Ie.round(Ie.distance(o,l,u,f)),m=(u-o)/p,x=(f-l)/p,b=this.image;for(let S=0;S<p;S++){const P=Ie.round(o+S*m),R=Ie.round(l+S*x);if(b.get(P,R))return new me(P,R)}return null}centerEdges(o,l,u,f){const p=o.getX(),m=o.getY(),x=l.getX(),b=l.getY(),S=u.getX(),P=u.getY(),R=f.getX(),B=f.getY(),$=di.CORR;return p<this.width/2?[new me(R-$,B+$),new me(x+$,b+$),new me(S-$,P-$),new me(p+$,m-$)]:[new me(R+$,B+$),new me(x+$,b-$),new me(S-$,P+$),new me(p-$,m-$)]}containsBlackPoint(o,l,u,f){const p=this.image;if(f){for(let m=o;m<=l;m++)if(p.get(m,u))return!0}else for(let m=o;m<=l;m++)if(p.get(u,m))return!0;return!1}}di.INIT_SIZE=10,di.CORR=1;class Ap{static checkAndNudgePoints(o,l){const u=o.getWidth(),f=o.getHeight();let p=!0;for(let m=0;m<l.length&&p;m+=2){const x=Math.floor(l[m]),b=Math.floor(l[m+1]);if(x<-1||x>u||b<-1||b>f)throw new H;p=!1,x===-1?(l[m]=0,p=!0):x===u&&(l[m]=u-1,p=!0),b===-1?(l[m+1]=0,p=!0):b===f&&(l[m+1]=f-1,p=!0)}p=!0;for(let m=l.length-2;m>=0&&p;m-=2){const x=Math.floor(l[m]),b=Math.floor(l[m+1]);if(x<-1||x>u||b<-1||b>f)throw new H;p=!1,x===-1?(l[m]=0,p=!0):x===u&&(l[m]=u-1,p=!0),b===-1?(l[m+1]=0,p=!0):b===f&&(l[m+1]=f-1,p=!0)}}}class fi{constructor(o,l,u,f,p,m,x,b,S){this.a11=o,this.a21=l,this.a31=u,this.a12=f,this.a22=p,this.a32=m,this.a13=x,this.a23=b,this.a33=S}static quadrilateralToQuadrilateral(o,l,u,f,p,m,x,b,S,P,R,B,$,W,G,V){const Z=fi.quadrilateralToSquare(o,l,u,f,p,m,x,b);return fi.squareToQuadrilateral(S,P,R,B,$,W,G,V).times(Z)}transformPoints(o){const l=o.length,u=this.a11,f=this.a12,p=this.a13,m=this.a21,x=this.a22,b=this.a23,S=this.a31,P=this.a32,R=this.a33;for(let B=0;B<l;B+=2){const $=o[B],W=o[B+1],G=p*$+b*W+R;o[B]=(u*$+m*W+S)/G,o[B+1]=(f*$+x*W+P)/G}}transformPointsWithValues(o,l){const u=this.a11,f=this.a12,p=this.a13,m=this.a21,x=this.a22,b=this.a23,S=this.a31,P=this.a32,R=this.a33,B=o.length;for(let $=0;$<B;$++){const W=o[$],G=l[$],V=p*W+b*G+R;o[$]=(u*W+m*G+S)/V,l[$]=(f*W+x*G+P)/V}}static squareToQuadrilateral(o,l,u,f,p,m,x,b){const S=o-u+p-x,P=l-f+m-b;if(S===0&&P===0)return new fi(u-o,p-u,o,f-l,m-f,l,0,0,1);{const R=u-p,B=x-p,$=f-m,W=b-m,G=R*W-B*$,V=(S*W-B*P)/G,Z=(R*P-S*$)/G;return new fi(u-o+V*u,x-o+Z*x,o,f-l+V*f,b-l+Z*b,l,V,Z,1)}}static quadrilateralToSquare(o,l,u,f,p,m,x,b){return fi.squareToQuadrilateral(o,l,u,f,p,m,x,b).buildAdjoint()}buildAdjoint(){return new fi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new fi(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Qw extends Ap{sampleGrid(o,l,u,f,p,m,x,b,S,P,R,B,$,W,G,V,Z,ue,ce){const se=fi.quadrilateralToQuadrilateral(f,p,m,x,b,S,P,R,B,$,W,G,V,Z,ue,ce);return this.sampleGridWithTransform(o,l,u,se)}sampleGridWithTransform(o,l,u,f){if(l<=0||u<=0)throw new H;const p=new de(l,u),m=new Float32Array(2*l);for(let x=0;x<u;x++){const b=m.length,S=x+.5;for(let P=0;P<b;P+=2)m[P]=P/2+.5,m[P+1]=S;f.transformPoints(m),Ap.checkAndNudgePoints(o,m);try{for(let P=0;P<b;P+=2)o.get(Math.floor(m[P]),Math.floor(m[P+1]))&&p.set(P/2,x)}catch{throw new H}}return p}}class Aa{static setGridSampler(o){Aa.gridSampler=o}static getInstance(){return Aa.gridSampler}}Aa.gridSampler=new Qw;class Hr{constructor(o,l){this.x=o,this.y=l}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jw{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(o){let m=u[0];u[0]=u[2],u[2]=m}this.extractParameters(u);let f=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),p=this.getMatrixCornerPoints(u);return new Ea(f,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new H;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(o[0],o[1],l),this.sampleLine(o[1],o[2],l),this.sampleLine(o[2],o[3],l),this.sampleLine(o[3],o[0],l)]);this.shift=this.getRotation(u,l);let f=0;for(let m=0;m<4;m++){let x=u[(this.shift+m)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let p=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(o,l){let u=0;o.forEach((f,p,m)=>{let x=(f>>l-2<<1)+(f&1);u=(u<<3)+x}),u=((u&1)<<11)+(u>>1);for(let f=0;f<4;f++)if(T.bitCount(u^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new H}getCorrectedParameterData(o,l){let u,f;l?(u=7,f=2):(u=10,f=4);let p=u-f,m=new Int32Array(u);for(let b=u-1;b>=0;--b)m[b]=o&15,o>>=4;try{new he(Me.AZTEC_PARAM).decode(m,p)}catch{throw new H}let x=0;for(let b=0;b<f;b++)x=(x<<4)+m[b];return x}getBullsEyeCorners(o){let l=o,u=o,f=o,p=o,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(l,m,1,-1),B=this.getFirstDifferent(u,m,1,1),$=this.getFirstDifferent(f,m,-1,1),W=this.getFirstDifferent(p,m,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(W,R)*this.nbCenterLayers/(this.distancePoint(p,l)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(R,B,$,W))break}l=R,u=B,f=$,p=W,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let x=new me(l.getX()+.5,l.getY()-.5),b=new me(u.getX()+.5,u.getY()+.5),S=new me(f.getX()-.5,f.getY()+.5),P=new me(p.getX()-.5,p.getY()-.5);return this.expandSquare([x,b,S,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,l,u,f;try{let x=new di(this.image).detect();o=x[0],l=x[1],u=x[2],f=x[3]}catch{let b=this.image.getWidth()/2,S=this.image.getHeight()/2;o=this.getFirstDifferent(new Hr(b+7,S-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Hr(b+7,S+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Hr(b-7,S+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Hr(b-7,S-7),!1,-1,-1).toResultPoint()}let p=Ie.round((o.getX()+f.getX()+l.getX()+u.getX())/4),m=Ie.round((o.getY()+f.getY()+l.getY()+u.getY())/4);try{let x=new di(this.image,15,p,m).detect();o=x[0],l=x[1],u=x[2],f=x[3]}catch{o=this.getFirstDifferent(new Hr(p+7,m-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Hr(p+7,m+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Hr(p-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Hr(p-7,m-7),!1,-1,-1).toResultPoint()}return p=Ie.round((o.getX()+f.getX()+l.getX()+u.getX())/4),m=Ie.round((o.getY()+f.getY()+l.getY()+u.getY())/4),new Hr(p,m)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,l,u,f,p){let m=Aa.getInstance(),x=this.getDimension(),b=x/2-this.nbCenterLayers,S=x/2+this.nbCenterLayers;return m.sampleGrid(o,x,x,b,b,S,b,S,S,b,S,l.getX(),l.getY(),u.getX(),u.getY(),f.getX(),f.getY(),p.getX(),p.getY())}sampleLine(o,l,u){let f=0,p=this.distanceResultPoint(o,l),m=p/u,x=o.getX(),b=o.getY(),S=m*(l.getX()-o.getX())/p,P=m*(l.getY()-o.getY())/p;for(let R=0;R<u;R++)this.image.get(Ie.round(x+R*S),Ie.round(b+R*P))&&(f|=1<<u-R-1);return f}isWhiteOrBlackRectangle(o,l,u,f){let p=3;o=new Hr(o.getX()-p,o.getY()+p),l=new Hr(l.getX()-p,l.getY()-p),u=new Hr(u.getX()+p,u.getY()-p),f=new Hr(f.getX()+p,f.getY()+p);let m=this.getColor(f,o);if(m===0)return!1;let x=this.getColor(o,l);return x!==m||(x=this.getColor(l,u),x!==m)?!1:(x=this.getColor(u,f),x===m)}getColor(o,l){let u=this.distancePoint(o,l),f=(l.getX()-o.getX())/u,p=(l.getY()-o.getY())/u,m=0,x=o.getX(),b=o.getY(),S=this.image.get(o.getX(),o.getY()),P=Math.ceil(u);for(let B=0;B<P;B++)x+=f,b+=p,this.image.get(Ie.round(x),Ie.round(b))!==S&&m++;let R=m/u;return R>.1&&R<.9?0:R<=.1===S?1:-1}getFirstDifferent(o,l,u,f){let p=o.getX()+u,m=o.getY()+f;for(;this.isValid(p,m)&&this.image.get(p,m)===l;)p+=u,m+=f;for(p-=u,m-=f;this.isValid(p,m)&&this.image.get(p,m)===l;)p+=u;for(p-=u;this.isValid(p,m)&&this.image.get(p,m)===l;)m+=f;return m-=f,new Hr(p,m)}expandSquare(o,l,u){let f=u/(2*l),p=o[0].getX()-o[2].getX(),m=o[0].getY()-o[2].getY(),x=(o[0].getX()+o[2].getX())/2,b=(o[0].getY()+o[2].getY())/2,S=new me(x+f*p,b+f*m),P=new me(x-f*p,b-f*m);p=o[1].getX()-o[3].getX(),m=o[1].getY()-o[3].getY(),x=(o[1].getX()+o[3].getX())/2,b=(o[1].getY()+o[3].getY())/2;let R=new me(x+f*p,b+f*m),B=new me(x-f*p,b-f*m);return[S,R,P,B]}isValid(o,l){return o>=0&&o<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(o){let l=Ie.round(o.getX()),u=Ie.round(o.getY());return this.isValid(l,u)}distancePoint(o,l){return Ie.distance(o.getX(),o.getY(),l.getX(),l.getY())}distanceResultPoint(o,l){return Ie.distance(o.getX(),o.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class md{decode(o,l=null){let u=null,f=new Jw(o.getBlackMatrix()),p=null,m=null;try{let P=f.detectMirror(!1);p=P.getPoints(),this.reportFoundResultPoints(l,p),m=new _e().decode(P)}catch(P){u=P}if(m==null)try{let P=f.detectMirror(!0);p=P.getPoints(),this.reportFoundResultPoints(l,p),m=new _e().decode(P)}catch(P){throw u??P}let x=new $e(m.getText(),m.getRawBytes(),m.getNumBits(),p,xe.AZTEC,C.currentTimeMillis()),b=m.getByteSegments();b!=null&&x.putMetadata(ht.BYTE_SEGMENTS,b);let S=m.getECLevel();return S!=null&&x.putMetadata(ht.ERROR_CORRECTION_LEVEL,S),x}reportFoundResultPoints(o,l){if(o!=null){let u=o.get(j.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((f,p,m)=>{u.foundPossibleResultPoint(f)})}}reset(){}}class ek extends Ue{constructor(o=500){super(new md,o)}}class Yt{decode(o,l){try{return this.doDecode(o,l)}catch{if(l&&l.get(j.TRY_HARDER)===!0&&o.isRotateSupported()){const p=o.rotateCounterClockwise(),m=this.doDecode(p,l),x=m.getResultMetadata();let b=270;x!==null&&x.get(ht.ORIENTATION)===!0&&(b=b+x.get(ht.ORIENTATION)%360),m.putMetadata(ht.ORIENTATION,b);const S=m.getResultPoints();if(S!==null){const P=p.getHeight();for(let R=0;R<S.length;R++)S[R]=new me(P-S[R].getY()-1,S[R].getX())}return m}else throw new H}}reset(){}doDecode(o,l){const u=o.getWidth(),f=o.getHeight();let p=new D(u);const m=l&&l.get(j.TRY_HARDER)===!0,x=Math.max(1,f>>(m?8:5));let b;m?b=f:b=15;const S=Math.trunc(f/2);for(let P=0;P<b;P++){const R=Math.trunc((P+1)/2),B=(P&1)===0,$=S+x*(B?R:-R);if($<0||$>=f)break;try{p=o.getBlackRow($,p)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(p.reverse(),l&&l.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;l.forEach((V,Z)=>G.set(Z,V)),G.delete(j.NEED_RESULT_POINT_CALLBACK),l=G}try{const G=this.decodeRow($,p,l);if(W===1){G.putMetadata(ht.ORIENTATION,180);const V=G.getResultPoints();V!==null&&(V[0]=new me(u-V[0].getX()-1,V[0].getY()),V[1]=new me(u-V[1].getX()-1,V[1].getY()))}return G}catch{}}}throw new H}static recordPattern(o,l,u){const f=u.length;for(let S=0;S<f;S++)u[S]=0;const p=o.getSize();if(l>=p)throw new H;let m=!o.get(l),x=0,b=l;for(;b<p;){if(o.get(b)!==m)u[x]++;else{if(++x===f)break;u[x]=1,m=!m}b++}if(!(x===f||x===f-1&&b===p))throw new H}static recordPatternInReverse(o,l,u){let f=u.length,p=o.get(l);for(;l>0&&f>=0;)o.get(--l)!==p&&(f--,p=!p);if(f>=0)throw new H;Yt.recordPattern(o,l+1,u)}static patternMatchVariance(o,l,u){const f=o.length;let p=0,m=0;for(let S=0;S<f;S++)p+=o[S],m+=l[S];if(p<m)return Number.POSITIVE_INFINITY;const x=p/m;u*=x;let b=0;for(let S=0;S<f;S++){const P=o[S],R=l[S]*x,B=P>R?P-R:R-P;if(B>u)return Number.POSITIVE_INFINITY;b+=B}return b/p}}class ge extends Yt{static findStartPattern(o){const l=o.getSize(),u=o.getNextSet(0);let f=0,p=Int32Array.from([0,0,0,0,0,0]),m=u,x=!1;const b=6;for(let S=u;S<l;S++)if(o.get(S)!==x)p[f]++;else{if(f===b-1){let P=ge.MAX_AVG_VARIANCE,R=-1;for(let B=ge.CODE_START_A;B<=ge.CODE_START_C;B++){const $=Yt.patternMatchVariance(p,ge.CODE_PATTERNS[B],ge.MAX_INDIVIDUAL_VARIANCE);$<P&&(P=$,R=B)}if(R>=0&&o.isRange(Math.max(0,m-(S-m)/2),m,!1))return Int32Array.from([m,S,R]);m+=p[0]+p[1],p=p.slice(2,p.length-1),p[f-1]=0,p[f]=0,f--}else f++;p[f]=1,x=!x}throw new H}static decodeCode(o,l,u){Yt.recordPattern(o,u,l);let f=ge.MAX_AVG_VARIANCE,p=-1;for(let m=0;m<ge.CODE_PATTERNS.length;m++){const x=ge.CODE_PATTERNS[m],b=this.patternMatchVariance(l,x,ge.MAX_INDIVIDUAL_VARIANCE);b<f&&(f=b,p=m)}if(p>=0)return p;throw new H}decodeRow(o,l,u){const f=u&&u.get(j.ASSUME_GS1)===!0,p=ge.findStartPattern(l),m=p[2];let x=0;const b=new Uint8Array(20);b[x++]=m;let S;switch(m){case ge.CODE_START_A:S=ge.CODE_CODE_A;break;case ge.CODE_START_B:S=ge.CODE_CODE_B;break;case ge.CODE_START_C:S=ge.CODE_CODE_C;break;default:throw new L}let P=!1,R=!1,B="",$=p[0],W=p[1];const G=Int32Array.from([0,0,0,0,0,0]);let V=0,Z=0,ue=m,ce=0,se=!0,Ze=!1,We=!1;for(;!P;){const Ps=R;switch(R=!1,V=Z,Z=ge.decodeCode(l,G,W),b[x++]=Z,Z!==ge.CODE_STOP&&(se=!0),Z!==ge.CODE_STOP&&(ce++,ue+=ce*Z),$=W,W+=G.reduce((Tk,Nk)=>Tk+Nk,0),Z){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new L}switch(S){case ge.CODE_CODE_A:if(Z<64)We===Ze?B+=String.fromCharCode(32+Z):B+=String.fromCharCode(32+Z+128),We=!1;else if(Z<96)We===Ze?B+=String.fromCharCode(Z-64):B+=String.fromCharCode(Z+64),We=!1;else switch(Z!==ge.CODE_STOP&&(se=!1),Z){case ge.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!Ze&&We?(Ze=!0,We=!1):Ze&&We?(Ze=!1,We=!1):We=!0;break;case ge.CODE_SHIFT:R=!0,S=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:S=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:S=ge.CODE_CODE_C;break;case ge.CODE_STOP:P=!0;break}break;case ge.CODE_CODE_B:if(Z<96)We===Ze?B+=String.fromCharCode(32+Z):B+=String.fromCharCode(32+Z+128),We=!1;else switch(Z!==ge.CODE_STOP&&(se=!1),Z){case ge.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!Ze&&We?(Ze=!0,We=!1):Ze&&We?(Ze=!1,We=!1):We=!0;break;case ge.CODE_SHIFT:R=!0,S=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:S=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:S=ge.CODE_CODE_C;break;case ge.CODE_STOP:P=!0;break}break;case ge.CODE_CODE_C:if(Z<100)Z<10&&(B+="0"),B+=Z;else switch(Z!==ge.CODE_STOP&&(se=!1),Z){case ge.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case ge.CODE_CODE_A:S=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:S=ge.CODE_CODE_B;break;case ge.CODE_STOP:P=!0;break}break}Ps&&(S=S===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const on=W-$;if(W=l.getNextUnset(W),!l.isRange(W,Math.min(l.getSize(),W+(W-$)/2),!1))throw new H;if(ue-=ce*V,ue%103!==V)throw new w;const pi=B.length;if(pi===0)throw new H;pi>0&&se&&(S===ge.CODE_CODE_C?B=B.substring(0,pi-2):B=B.substring(0,pi-1));const sn=(p[1]+p[0])/2,vt=$+on/2,Cr=b.length,xn=new Uint8Array(Cr);for(let Ps=0;Ps<Cr;Ps++)xn[Ps]=b[Ps];const Ns=[new me(sn,o),new me(vt,o)];return new $e(B,xn,0,Ns,xe.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class rr extends Yt{constructor(o=!1,l=!1){super(),this.usingCheckDigit=o,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,l,u){let f=this.counters;f.fill(0),this.decodeRowResult="";let p=rr.findAsteriskPattern(l,f),m=l.getNextSet(p[1]),x=l.getSize(),b,S;do{rr.recordPattern(l,m,f);let G=rr.toNarrowWidePattern(f);if(G<0)throw new H;b=rr.patternToChar(G),this.decodeRowResult+=b,S=m;for(let V of f)m+=V;m=l.getNextSet(m)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let G of f)P+=G;let R=m-S-P;if(m!==x&&R*2<P)throw new H;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,V=0;for(let Z=0;Z<G;Z++)V+=rr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(G)!==rr.ALPHABET_STRING.charAt(V%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new H;let B;this.extendedMode?B=rr.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;let $=(p[1]+p[0])/2,W=S+P/2;return new $e(B,null,0,[new me($,o),new me(W,o)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,l){let u=o.getSize(),f=o.getNextSet(0),p=0,m=f,x=!1,b=l.length;for(let S=f;S<u;S++)if(o.get(S)!==x)l[p]++;else{if(p===b-1){if(this.toNarrowWidePattern(l)===rr.ASTERISK_ENCODING&&o.isRange(Math.max(0,m-Math.floor((S-m)/2)),m,!1))return[m,S];m+=l[0]+l[1],l.copyWithin(0,2,2+p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,x=!x}throw new H}static toNarrowWidePattern(o){let l=o.length,u=0,f;do{let p=2147483647;for(let b of o)b<p&&b>u&&(p=b);u=p,f=0;let m=0,x=0;for(let b=0;b<l;b++){let S=o[b];S>u&&(x|=1<<l-1-b,f++,m+=S)}if(f===3){for(let b=0;b<l&&f>0;b++){let S=o[b];if(S>u&&(f--,S*2>=m))return-1}return x}}while(f>3);return-1}static patternToChar(o){for(let l=0;l<rr.CHARACTER_ENCODINGS.length;l++)if(rr.CHARACTER_ENCODINGS[l]===o)return rr.ALPHABET_STRING.charAt(l);if(o===rr.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(o){let l=o.length,u="";for(let f=0;f<l;f++){let p=o.charAt(f);if(p==="+"||p==="$"||p==="%"||p==="/"){let m=o.charAt(f+1),x="\0";switch(p){case"+":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)+32);else throw new L;break;case"$":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)-64);else throw new L;break;case"%":if(m>="A"&&m<="E")x=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")x=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")x=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")x="\0";else if(m==="V")x="@";else if(m==="W")x="`";else if(m==="X"||m==="Y"||m==="Z")x="";else throw new L;break;case"/":if(m>="A"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")x=":";else throw new L;break}u+=x,f++}else u+=p}return u}}rr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rr.ASTERISK_ENCODING=148;class gt extends Yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,l,u){let f=this.decodeStart(l),p=this.decodeEnd(l),m=new oe;gt.decodeMiddle(l,f[1],p[0],m);let x=m.toString(),b=null;u!=null&&(b=u.get(j.ALLOWED_LENGTHS)),b==null&&(b=gt.DEFAULT_ALLOWED_LENGTHS);let S=x.length,P=!1,R=0;for(let W of b){if(S===W){P=!0;break}W>R&&(R=W)}if(!P&&S>R&&(P=!0),!P)throw new L;const B=[new me(f[1],o),new me(p[0],o)];return new $e(x,null,0,B,xe.ITF,new Date().getTime())}static decodeMiddle(o,l,u,f){let p=new Int32Array(10),m=new Int32Array(5),x=new Int32Array(5);for(p.fill(0),m.fill(0),x.fill(0);l<u;){Yt.recordPattern(o,l,p);for(let S=0;S<5;S++){let P=2*S;m[S]=p[P],x[S]=p[P+1]}let b=gt.decodeDigit(m);f.append(b.toString()),b=this.decodeDigit(x),f.append(b.toString()),p.forEach(function(S){l+=S})}}decodeStart(o){let l=gt.skipWhiteSpace(o),u=gt.findGuardPattern(o,l,gt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(o,u[0]),u}validateQuietZone(o,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let f=l-1;u>0&&f>=0&&!o.get(f);f--)u--;if(u!==0)throw new H}static skipWhiteSpace(o){const l=o.getSize(),u=o.getNextSet(0);if(u===l)throw new H;return u}decodeEnd(o){o.reverse();try{let l=gt.skipWhiteSpace(o),u;try{u=gt.findGuardPattern(o,l,gt.END_PATTERN_REVERSED[0])}catch(p){p instanceof H&&(u=gt.findGuardPattern(o,l,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,u[0]);let f=u[0];return u[0]=o.getSize()-u[1],u[1]=o.getSize()-f,u}finally{o.reverse()}}static findGuardPattern(o,l,u){let f=u.length,p=new Int32Array(f),m=o.getSize(),x=!1,b=0,S=l;p.fill(0);for(let P=l;P<m;P++)if(o.get(P)!==x)p[b]++;else{if(b===f-1){if(Yt.patternMatchVariance(p,u,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[S,P];S+=p[0]+p[1],C.arraycopy(p,2,p,0,b-1),p[b-1]=0,p[b]=0,b--}else b++;p[b]=1,x=!x}throw new H}static decodeDigit(o){let l=gt.MAX_AVG_VARIANCE,u=-1,f=gt.PATTERNS.length;for(let p=0;p<f;p++){let m=gt.PATTERNS[p],x=Yt.patternMatchVariance(o,m,gt.MAX_INDIVIDUAL_VARIANCE);x<l?(l=x,u=p):x===l&&(u=-1)}if(u>=0)return u%10;throw new H}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l=!1,u,f=0,p=Int32Array.from([0,0,0]);for(;!l;){p=Int32Array.from([0,0,0]),u=Ft.findGuardPattern(o,f,!1,this.START_END_PATTERN,p);let m=u[0];f=u[1];let x=m-(f-m);x>=0&&(l=o.isRange(x,m,!1))}return u}static checkChecksum(o){return Ft.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let u=parseInt(o.charAt(l-1),10);return Ft.getStandardUPCEANChecksum(o.substring(0,l-1))===u}static getStandardUPCEANChecksum(o){let l=o.length,u=0;for(let f=l-1;f>=0;f-=2){let p=o.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}u*=3;for(let f=l-2;f>=0;f-=2){let p=o.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}return(1e3-u)%10}static decodeEnd(o,l){return Ft.findGuardPattern(o,l,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,l,u,f){return this.findGuardPattern(o,l,u,f,new Int32Array(f.length))}static findGuardPattern(o,l,u,f,p){let m=o.getSize();l=u?o.getNextUnset(l):o.getNextSet(l);let x=0,b=l,S=f.length,P=u;for(let R=l;R<m;R++)if(o.get(R)!==P)p[x]++;else{if(x===S-1){if(Yt.patternMatchVariance(p,f,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([b,R]);b+=p[0]+p[1];let B=p.slice(2,p.length-1);for(let $=0;$<x-1;$++)p[$]=B[$];p[x-1]=0,p[x]=0,x--}else x++;p[x]=1,P=!P}throw new H}static decodeDigit(o,l,u,f){this.recordPattern(o,u,l);let p=this.MAX_AVG_VARIANCE,m=-1,x=f.length;for(let b=0;b<x;b++){let S=f[b],P=Yt.patternMatchVariance(l,S,Ft.MAX_INDIVIDUAL_VARIANCE);P<p&&(p=P,m=b)}if(m>=0)return m;throw new H}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ql{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,u){let f=this.decodeRowStringBuffer,p=this.decodeMiddle(l,u,f),m=f.toString(),x=Ql.parseExtensionString(m),b=[new me((u[0]+u[1])/2,o),new me(p,o)],S=new $e(m,null,0,b,xe.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&S.putAllMetadata(x),S}decodeMiddle(o,l,u){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),m=l[1],x=0;for(let S=0;S<5&&m<p;S++){let P=Ft.decodeDigit(o,f,m,Ft.L_AND_G_PATTERNS);u+=String.fromCharCode(48+P%10);for(let R of f)m+=R;P>=10&&(x|=1<<4-S),S!==4&&(m=o.getNextSet(m),m=o.getNextUnset(m))}if(u.length!==5)throw new H;let b=this.determineCheckDigit(x);if(Ql.extensionChecksum(u.toString())!==b)throw new H;return m}static extensionChecksum(o){let l=o.length,u=0;for(let f=l-2;f>=0;f-=2)u+=o.charAt(f).charCodeAt(0)-48;u*=3;for(let f=l-1;f>=0;f-=2)u+=o.charAt(f).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(o){for(let l=0;l<10;l++)if(o===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new H}static parseExtensionString(o){if(o.length!==5)return null;let l=Ql.parseExtension5String(o);return l==null?null:new Map([[ht.SUGGESTED_PRICE,l]])}static parseExtension5String(o){let l;switch(o.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(o.substring(1)),f=(u/100).toString(),p=u%100,m=p<10?"0"+p:p.toString();return l+f+"."+m}}class Sp{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,u){let f=this.decodeRowStringBuffer,p=this.decodeMiddle(l,u,f),m=f.toString(),x=Sp.parseExtensionString(m),b=[new me((u[0]+u[1])/2,o),new me(p,o)],S=new $e(m,null,0,b,xe.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&S.putAllMetadata(x),S}decodeMiddle(o,l,u){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),m=l[1],x=0;for(let b=0;b<2&&m<p;b++){let S=Ft.decodeDigit(o,f,m,Ft.L_AND_G_PATTERNS);u+=String.fromCharCode(48+S%10);for(let P of f)m+=P;S>=10&&(x|=1<<1-b),b!==1&&(m=o.getNextSet(m),m=o.getNextUnset(m))}if(u.length!==2)throw new H;if(parseInt(u.toString())%4!==x)throw new H;return m}static parseExtensionString(o){return o.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(o)]])}}class eb{static decodeRow(o,l,u){let f=Ft.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ql().decodeRow(o,l,f)}catch{return new Sp().decodeRow(o,l,f)}}}eb.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nt extends Ft{constructor(){super(),this.decodeRowStringBuffer="",nt.L_AND_G_PATTERNS=nt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let l=nt.L_PATTERNS[o-10],u=new Int32Array(l.length);for(let f=0;f<l.length;f++)u[f]=l[l.length-f-1];nt.L_AND_G_PATTERNS[o]=u}}decodeRow(o,l,u){let f=nt.findStartGuardPattern(l),p=u==null?null:u.get(j.NEED_RESULT_POINT_CALLBACK);if(p!=null){const se=new me((f[0]+f[1])/2,o);p.foundPossibleResultPoint(se)}let m=this.decodeMiddle(l,f,this.decodeRowStringBuffer),x=m.rowOffset,b=m.resultString;if(p!=null){const se=new me(x,o);p.foundPossibleResultPoint(se)}let S=this.decodeEnd(l,x);if(p!=null){const se=new me((S[0]+S[1])/2,o);p.foundPossibleResultPoint(se)}let P=S[1],R=P+(P-S[0]);if(R>=l.getSize()||!l.isRange(P,R,!1))throw new H;let B=b.toString();if(B.length<8)throw new L;if(!nt.checkChecksum(B))throw new w;let $=(f[1]+f[0])/2,W=(S[1]+S[0])/2,G=this.getBarcodeFormat(),V=[new me($,o),new me(W,o)],Z=new $e(B,null,0,V,G,new Date().getTime()),ue=0;try{let se=eb.decodeRow(o,l,S[1]);Z.putMetadata(ht.UPC_EAN_EXTENSION,se.getText()),Z.putAllMetadata(se.getResultMetadata()),Z.addResultPoints(se.getResultPoints()),ue=se.getText().length}catch{}let ce=u==null?null:u.get(j.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let se=!1;for(let Ze in ce)if(ue.toString()===Ze){se=!0;break}if(!se)throw new H}return Z}decodeEnd(o,l){return nt.findGuardPattern(o,l,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return nt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let u=parseInt(o.charAt(l-1),10);return nt.getStandardUPCEANChecksum(o.substring(0,l-1))===u}static getStandardUPCEANChecksum(o){let l=o.length,u=0;for(let f=l-1;f>=0;f-=2){let p=o.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}u*=3;for(let f=l-2;f>=0;f-=2){let p=o.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}return(1e3-u)%10}}class bo extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,u){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),m=l[1],x=0;for(let S=0;S<6&&m<p;S++){let P=nt.decodeDigit(o,f,m,nt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+P%10);for(let R of f)m+=R;P>=10&&(x|=1<<5-S)}u=bo.determineFirstDigit(u,x),m=nt.findGuardPattern(o,m,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&m<p;S++){let P=nt.decodeDigit(o,f,m,nt.L_PATTERNS);u+=String.fromCharCode(48+P);for(let R of f)m+=R}return{rowOffset:m,resultString:u}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(o,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return o=String.fromCharCode(48+u)+o,o;throw new H}}bo.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class tb extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,u){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),m=l[1];for(let b=0;b<4&&m<p;b++){let S=nt.decodeDigit(o,f,m,nt.L_PATTERNS);u+=String.fromCharCode(48+S);for(let P of f)m+=P}m=nt.findGuardPattern(o,m,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&m<p;b++){let S=nt.decodeDigit(o,f,m,nt.L_PATTERNS);u+=String.fromCharCode(48+S);for(let P of f)m+=P}return{rowOffset:m,resultString:u}}getBarcodeFormat(){return xe.EAN_8}}class rb extends nt{constructor(){super(...arguments),this.ean13Reader=new bo}getBarcodeFormat(){return xe.UPC_A}decode(o,l){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,l,u))}decodeMiddle(o,l,u){return this.ean13Reader.decodeMiddle(o,l,u)}maybeReturnResult(o){let l=o.getText();if(l.charAt(0)==="0"){let u=new $e(l.substring(1),null,null,o.getResultPoints(),xe.UPC_A);return o.getResultMetadata()!=null&&u.putAllMetadata(o.getResultMetadata()),u}else throw new H}reset(){this.ean13Reader.reset()}}class hi extends nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,l,u){const f=this.decodeMiddleCounters.map(S=>S);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const p=o.getSize();let m=l[1],x=0;for(let S=0;S<6&&m<p;S++){const P=hi.decodeDigit(o,f,m,hi.L_AND_G_PATTERNS);u+=String.fromCharCode(48+P%10);for(let R of f)m+=R;P>=10&&(x|=1<<5-S)}let b=hi.determineNumSysAndCheckDigit(u,x);return{rowOffset:m,resultString:b}}decodeEnd(o,l){return hi.findGuardPatternWithoutCounters(o,l,!0,hi.MIDDLE_END_PATTERN)}checkChecksum(o){return nt.checkChecksum(hi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,l){for(let u=0;u<=1;u++)for(let f=0;f<10;f++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][f]){let p=String.fromCharCode(48+u),m=String.fromCharCode(48+f);return p+o+m}throw H.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(o){const l=o.slice(1,7).split("").map(p=>p.charCodeAt(0)),u=new oe;u.append(o.charAt(0));let f=l[5];switch(f){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(f),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(f);break}return o.length>=8&&u.append(o.charAt(7)),u.toString()}}hi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Cp extends Yt{constructor(o){super();let l=o==null?null:o.get(j.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new bo),u.push(new rb),u.push(new tb),u.push(new hi)):(l.indexOf(xe.EAN_13)>-1&&u.push(new bo),l.indexOf(xe.UPC_A)>-1&&u.push(new rb),l.indexOf(xe.EAN_8)>-1&&u.push(new tb),l.indexOf(xe.UPC_E)>-1&&u.push(new hi)),this.readers=u}decodeRow(o,l,u){for(let f of this.readers)try{const p=f.decodeRow(o,l,u),m=p.getBarcodeFormat()===xe.EAN_13&&p.getText().charAt(0)==="0",x=u==null?null:u.get(j.POSSIBLE_FORMATS),b=x==null||x.includes(xe.UPC_A);if(m&&b){const S=p.getRawBytes(),P=new $e(p.getText().substring(1),S,S?S.length:null,p.getResultPoints(),xe.UPC_A);return P.putAllMetadata(p.getResultMetadata()),P}return p}catch{}throw new H}reset(){for(let o of this.readers)o.reset()}}class Mr extends Yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,l){for(let u=0;u<l.length;u++)if(Yt.patternMatchVariance(o,l[u],Mr.MAX_INDIVIDUAL_VARIANCE)<Mr.MAX_AVG_VARIANCE)return u;throw new H}static count(o){return Ie.sum(new Int32Array(o))}static increment(o,l){let u=0,f=l[0];for(let p=1;p<o.length;p++)l[p]>f&&(f=l[p],u=p);o[u]++}static decrement(o,l){let u=0,f=l[0];for(let p=1;p<o.length;p++)l[p]<f&&(f=l[p],u=p);o[u]--}static isFinderPattern(o){let l=o[0]+o[1],u=l+o[2]+o[3],f=l/u;if(f>=Mr.MIN_FINDER_PATTERN_RATIO&&f<=Mr.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let x of o)x>m&&(m=x),x<p&&(p=x);return m<10*p}return!1}}Mr.MAX_AVG_VARIANCE=.2,Mr.MAX_INDIVIDUAL_VARIANCE=.45,Mr.MIN_FINDER_PATTERN_RATIO=9.5/12,Mr.MAX_FINDER_PATTERN_RATIO=12.5/14;class As{constructor(o,l){this.value=o,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof As))return!1;const l=o;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vd{constructor(o,l,u,f,p){this.value=o,this.startEnd=l,this.value=o,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new me(u,p)),this.resultPoints.push(new me(f,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof vd))return!1;const l=o;return this.value===l.value}hashCode(){return this.value}}class Ni{constructor(){}static getRSSvalue(o,l,u){let f=0;for(let b of o)f+=b;let p=0,m=0,x=o.length;for(let b=0;b<x-1;b++){let S;for(S=1,m|=1<<b;S<o[b];S++,m&=~(1<<b)){let P=Ni.combins(f-S-1,x-b-2);if(u&&m===0&&f-S-(x-b-1)>=x-b-1&&(P-=Ni.combins(f-S-(x-b),x-b-2)),x-b-1>1){let R=0;for(let B=f-S-(x-b-2);B>l;B--)R+=Ni.combins(f-S-B-1,x-b-3);P-=R*(x-1-b)}else f-S>l&&P--;p+=P}f-=S}return p}static combins(o,l){let u,f;o-l>l?(f=l,u=o-l):(f=o-l,u=l);let p=1,m=1;for(let x=o;x>u;x--)p*=x,m<=f&&(p/=m,m++);for(;m<=f;)p/=m,m++;return p}}class tk{static buildBitArray(o){let l=o.length*2-1;o[o.length-1].getRightChar()==null&&(l-=1);let u=12*l,f=new D(u),p=0,x=o[0].getRightChar().getValue();for(let b=11;b>=0;--b)x&1<<b&&f.set(p),p++;for(let b=1;b<o.length;++b){let S=o[b],P=S.getLeftChar().getValue();for(let R=11;R>=0;--R)P&1<<R&&f.set(p),p++;if(S.getRightChar()!=null){let R=S.getRightChar().getValue();for(let B=11;B>=0;--B)R&1<<B&&f.set(p),p++}}return f}}class Eo{constructor(o,l){l?this.decodedInformation=null:(this.finished=o,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Op{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class rn extends Op{constructor(o,l){super(o),this.value=l}getValue(){return this.value}isFNC1(){return this.value===rn.FNC1}}rn.FNC1="$";class Ao extends Op{constructor(o,l,u){super(o),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Wn extends Op{constructor(o,l,u){if(super(o),l<0||l>10||u<0||u>10)throw new L;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Wn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Wn.FNC1}isAnyFNC1(){return this.firstDigit===Wn.FNC1||this.secondDigit===Wn.FNC1}}Wn.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new H;let l=o.substring(0,2);for(let p of be.TWO_DIGIT_DATA_LENGTH)if(p[0]===l)return p[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,p[2],o):be.processFixedAI(2,p[1],o);if(o.length<3)throw new H;let u=o.substring(0,3);for(let p of be.THREE_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,p[2],o):be.processFixedAI(3,p[1],o);for(let p of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,p[2],o):be.processFixedAI(4,p[1],o);if(o.length<4)throw new H;let f=o.substring(0,4);for(let p of be.FOUR_DIGIT_DATA_LENGTH)if(p[0]===f)return p[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,p[2],o):be.processFixedAI(4,p[1],o);throw new H}static processFixedAI(o,l,u){if(u.length<o)throw new H;let f=u.substring(0,o);if(u.length<o+l)throw new H;let p=u.substring(o,o+l),m=u.substring(o+l),x="("+f+")"+p,b=be.parseFieldsInGeneralPurpose(m);return b==null?x:x+b}static processVariableAI(o,l,u){let f=u.substring(0,o),p;u.length<o+l?p=u.length:p=o+l;let m=u.substring(o,p),x=u.substring(p),b="("+f+")"+m,S=be.parseFieldsInGeneralPurpose(x);return S==null?b:b+S}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class Ss{constructor(o){this.buffer=new oe,this.information=o}decodeAllCodes(o,l){let u=l,f=null;do{let p=this.decodeGeneralPurposeField(u,f),m=be.parseFieldsInGeneralPurpose(p.getNewString());if(m!=null&&o.append(m),p.isRemaining()?f=""+p.getRemainingValue():f=null,u===p.getNewPosition())break;u=p.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let l=o;l<o+3;++l)if(this.information.get(l))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(o,4);return p===0?new Wn(this.information.getSize(),Wn.FNC1,Wn.FNC1):new Wn(this.information.getSize(),p-1,Wn.FNC1)}let l=this.extractNumericValueFromBitArray(o,7),u=(l-8)/11,f=(l-8)%11;return new Wn(o+7,u,f)}extractNumericValueFromBitArray(o,l){return Ss.extractNumericValueFromBitArray(this.information,o,l)}static extractNumericValueFromBitArray(o,l,u){let f=0;for(let p=0;p<u;++p)o.get(l+p)&&(f|=1<<u-p-1);return f}decodeGeneralPurposeField(o,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(o);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Ao(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Ao(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),o=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),o=l.isFinished()):(l=this.parseNumericBlock(),o=l.isFinished()),!(u!==this.current.getPosition())&&!o)break}while(!o);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let l;return o.isSecondDigitFNC1()?l=new Ao(this.current.getPosition(),this.buffer.toString()):l=new Ao(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Eo(!0,l)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let l=new Ao(this.current.getPosition(),this.buffer.toString());return new Eo(!0,l)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Eo(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Ao(this.current.getPosition(),this.buffer.toString());return new Eo(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Eo(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Ao(this.current.getPosition(),this.buffer.toString());return new Eo(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Eo(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,7);if(u>=64&&u<116)return!0;if(o+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,8);return f>=232&&f<253}decodeIsoIec646(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new rn(o+5,rn.FNC1);if(l>=5&&l<15)return new rn(o+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(o,7);if(u>=64&&u<90)return new rn(o+7,""+(u+1));if(u>=90&&u<116)return new rn(o+7,""+(u+7));let f=this.extractNumericValueFromBitArray(o,8),p;switch(f){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new L}return new rn(o+8,p)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,6);return u>=16&&u<63}decodeAlphanumeric(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new rn(o+5,rn.FNC1);if(l>=5&&l<15)return new rn(o+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(o,6);if(u>=32&&u<58)return new rn(o+6,""+(u+33));let f;switch(u){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new at("Decoding invalid alphanumeric value: "+u)}return new rn(o+6,f)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<5&&l+o<this.information.getSize();++l)if(l===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+l))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let l=o;l<o+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<4&&l+o<this.information.getSize();++l)if(this.information.get(o+l))return!1;return!0}}class Ip{constructor(o){this.information=o,this.generalDecoder=new Ss(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nn extends Ip{constructor(o){super(o)}encodeCompressedGtin(o,l){o.append("(01)");let u=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,l,u)}encodeCompressedGtinWithoutAI(o,l,u){for(let f=0;f<4;++f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*f,10);p/100===0&&o.append("0"),p/10===0&&o.append("0"),o.append(p)}nn.appendCheckDigit(o,u)}static appendCheckDigit(o,l){let u=0;for(let f=0;f<13;f++){let p=o.charAt(f+l).charCodeAt(0)-48;u+=f&1?p:3*p}u=10-u%10,u===10&&(u=0),o.append(u)}}nn.GTIN_SIZE=40;class Cs extends nn{constructor(o){super(o)}parseInformation(){let o=new oe;o.append("(01)");let l=o.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Cs.HEADER_SIZE,4);return o.append(u),this.encodeCompressedGtinWithoutAI(o,Cs.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(o,Cs.HEADER_SIZE+44)}}Cs.HEADER_SIZE=4;class yd extends Ip{constructor(o){super(o)}parseInformation(){let o=new oe;return this.getGeneralDecoder().decodeAllCodes(o,yd.HEADER_SIZE)}}yd.HEADER_SIZE=5;class xd extends nn{constructor(o){super(o)}encodeCompressedWeight(o,l,u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(o,f);let p=this.checkWeight(f),m=1e5;for(let x=0;x<5;++x)p/m===0&&o.append("0"),m/=10;o.append(p)}}class Pi extends xd{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Pi.HEADER_SIZE+xd.GTIN_SIZE+Pi.WEIGHT_SIZE)throw new H;let o=new oe;return this.encodeCompressedGtin(o,Pi.HEADER_SIZE),this.encodeCompressedWeight(o,Pi.HEADER_SIZE+xd.GTIN_SIZE,Pi.WEIGHT_SIZE),o.toString()}}Pi.HEADER_SIZE=5,Pi.WEIGHT_SIZE=15;class rk extends Pi{constructor(o){super(o)}addWeightCode(o,l){o.append("(3103)")}checkWeight(o){return o}}class nk extends Pi{constructor(o){super(o)}addWeightCode(o,l){l<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class ki extends nn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ki.HEADER_SIZE+nn.GTIN_SIZE)throw new H;let o=new oe;this.encodeCompressedGtin(o,ki.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ki.HEADER_SIZE+nn.GTIN_SIZE,ki.LAST_DIGIT_SIZE);o.append("(392"),o.append(l),o.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(ki.HEADER_SIZE+nn.GTIN_SIZE+ki.LAST_DIGIT_SIZE,null);return o.append(u.getNewString()),o.toString()}}ki.HEADER_SIZE=8,ki.LAST_DIGIT_SIZE=2;class Vr extends nn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Vr.HEADER_SIZE+nn.GTIN_SIZE)throw new H;let o=new oe;this.encodeCompressedGtin(o,Vr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Vr.HEADER_SIZE+nn.GTIN_SIZE,Vr.LAST_DIGIT_SIZE);o.append("(393"),o.append(l),o.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Vr.HEADER_SIZE+nn.GTIN_SIZE+Vr.LAST_DIGIT_SIZE,Vr.FIRST_THREE_DIGITS_SIZE);u/100==0&&o.append("0"),u/10==0&&o.append("0"),o.append(u);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Vr.HEADER_SIZE+nn.GTIN_SIZE+Vr.LAST_DIGIT_SIZE+Vr.FIRST_THREE_DIGITS_SIZE,null);return o.append(f.getNewString()),o.toString()}}Vr.HEADER_SIZE=8,Vr.LAST_DIGIT_SIZE=2,Vr.FIRST_THREE_DIGITS_SIZE=10;class Nt extends xd{constructor(o,l,u){super(o),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new H;let o=new oe;return this.encodeCompressedGtin(o,Nt.HEADER_SIZE),this.encodeCompressedWeight(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Nt.DATE_SIZE);if(u==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let f=u%32;u/=32;let p=u%12+1;u/=12;let m=u;m/10==0&&o.append("0"),o.append(m),p/10==0&&o.append("0"),o.append(p),f/10==0&&o.append("0"),o.append(f)}addWeightCode(o,l){o.append("("),o.append(this.firstAIdigits),o.append(l/1e5),o.append(")")}checkWeight(o){return o%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function nb(k){try{if(k.get(1))return new Cs(k);if(!k.get(2))return new yd(k);switch(Ss.extractNumericValueFromBitArray(k,1,4)){case 4:return new rk(k);case 5:return new nk(k)}switch(Ss.extractNumericValueFromBitArray(k,1,5)){case 12:return new ki(k);case 13:return new Vr(k)}switch(Ss.extractNumericValueFromBitArray(k,1,7)){case 56:return new Nt(k,"310","11");case 57:return new Nt(k,"320","11");case 58:return new Nt(k,"310","13");case 59:return new Nt(k,"320","13");case 60:return new Nt(k,"310","15");case 61:return new Nt(k,"320","15");case 62:return new Nt(k,"310","17");case 63:return new Nt(k,"320","17")}}catch(o){throw console.log(o),new at("unknown decoder: "+k)}}class Sa{constructor(o,l,u,f){this.leftchar=o,this.rightchar=l,this.finderpattern=u,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,l){return o instanceof Sa?Sa.equalsOrNull(o.leftchar,l.leftchar)&&Sa.equalsOrNull(o.rightchar,l.rightchar)&&Sa.equalsOrNull(o.finderpattern,l.finderpattern):!1}static equalsOrNull(o,l){return o===null?l===null:Sa.equals(o,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class _p{constructor(o,l,u){this.pairs=o,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,l){return o instanceof _p?this.checkEqualitity(o,l)&&o.wasReversed===l.wasReversed:!1}checkEqualitity(o,l){if(!o||!l)return;let u;return o.forEach((f,p)=>{l.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(u=!0)})}),u}}class ne extends Mr{constructor(o){super(...arguments),this.pairs=new Array(ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,l,u){this.pairs.length=0,this.startFromEven=!1;try{return ne.constructResult(this.decodeRow2pairs(o,l))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,ne.constructResult(this.decodeRow2pairs(o,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,o))}catch(p){if(p instanceof H){if(!this.pairs.length)throw new H;u=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(o,!1),f){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new H}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return o&&(this.rows=this.rows.reverse()),l}checkRows(o,l){for(let u=l;u<this.rows.length;u++){let f=this.rows[u];this.pairs.length=0;for(let m of o)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(o);p.push(f);try{return this.checkRows(p,u+1)}catch(m){this.verbose&&console.log(m)}}throw new H}static isValidSequence(o){for(let l of ne.FINDER_PATTERN_SEQUENCES){if(o.length>l.length)continue;let u=!0;for(let f=0;f<o.length;f++)if(o[f].getFinderPattern().getValue()!=l[f]){u=!1;break}if(u)return!0}return!1}storeRow(o,l){let u=0,f=!1,p=!1;for(;u<this.rows.length;){let m=this.rows[u];if(m.getRowNumber()>o){p=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),u++}p||f||ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new _p(this.pairs,o,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,l){for(let u of l)if(u.getPairs().length!==o.length){for(let f of u.getPairs())for(let p of o)if(Sa.equals(f,p))break}}static isPartialRow(o,l){for(let u of l){let f=!0;for(let p of o){let m=!1;for(let x of u.getPairs())if(p.equals(x)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(o){let l=tk.buildBitArray(o),f=nb(l).parseInformation(),p=o[0].getFinderPattern().getResultPoints(),m=o[o.length-1].getFinderPattern().getResultPoints(),x=[p[0],p[1],m[0],m[1]];return new $e(f,null,null,x,xe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),l=o.getLeftChar(),u=o.getRightChar();if(u==null)return!1;let f=u.getChecksumPortion(),p=2;for(let x=1;x<this.pairs.size();++x){let b=this.pairs.get(x);f+=b.getLeftChar().getChecksumPortion(),p++;let S=b.getRightChar();S!=null&&(f+=S.getChecksumPortion(),p++)}return f%=211,211*(p-4)+f==l.getValue()}static getNextSecondBar(o,l){let u;return o.get(l)?(u=o.getNextUnset(l),u=o.getNextSet(u)):(u=o.getNextSet(l),u=o.getNextUnset(u)),u}retrieveNextPair(o,l,u){let f=l.length%2==0;this.startFromEven&&(f=!f);let p,m=!0,x=-1;do this.findNextPair(o,l,x),p=this.parseFoundFinderPattern(o,u,f),p==null?x=ne.getNextSecondBar(o,this.startEnd[0]):m=!1;while(m);let b=this.decodeDataCharacter(o,p,f,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new H;let S;try{S=this.decodeDataCharacter(o,p,f,!1)}catch(P){S=null,this.verbose&&console.log(P)}return new Sa(b,S,p,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,l,u){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),m;u>=0?m=u:this.isEmptyPair(l)?m=0:m=l[l.length-1].getFinderPattern().getStartEnd()[1];let x=l.length%2!=0;this.startFromEven&&(x=!x);let b=!1;for(;m<p&&(b=!o.get(m),!!b);)m++;let S=0,P=m;for(let R=m;R<p;R++)if(o.get(R)!=b)f[S]++;else{if(S==3){if(x&&ne.reverseCounters(f),ne.isFinderPattern(f)){this.startEnd[0]=P,this.startEnd[1]=R;return}x&&ne.reverseCounters(f),P+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,S--}else S++;f[S]=1,b=!b}throw new H}static reverseCounters(o){let l=o.length;for(let u=0;u<l/2;++u){let f=o[u];o[u]=o[l-u-1],o[l-u-1]=f}}parseFoundFinderPattern(o,l,u){let f,p,m;if(u){let S=this.startEnd[0]-1;for(;S>=0&&!o.get(S);)S--;S++,f=this.startEnd[0]-S,p=S,m=this.startEnd[1]}else p=this.startEnd[0],m=o.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let x=this.getDecodeFinderCounters();C.arraycopy(x,0,x,1,x.length-1),x[0]=f;let b;try{b=this.parseFinderValue(x,ne.FINDER_PATTERNS)}catch{return null}return new vd(b,[p,m],p,m,l)}decodeDataCharacter(o,l,u,f){let p=this.getDataCharacterCounters();for(let vt=0;vt<p.length;vt++)p[vt]=0;if(f)ne.recordPatternInReverse(o,l.getStartEnd()[0],p);else{ne.recordPattern(o,l.getStartEnd()[1],p);for(let vt=0,Cr=p.length-1;vt<Cr;vt++,Cr--){let xn=p[vt];p[vt]=p[Cr],p[Cr]=xn}}let m=17,x=Ie.sum(new Int32Array(p))/m,b=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(x-b)/b>.3)throw new H;let S=this.getOddCounts(),P=this.getEvenCounts(),R=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let vt=0;vt<p.length;vt++){let Cr=1*p[vt]/x,xn=Cr+.5;if(xn<1){if(Cr<.3)throw new H;xn=1}else if(xn>8){if(Cr>8.7)throw new H;xn=8}let Ns=vt/2;vt&1?(P[Ns]=xn,B[Ns]=Cr-xn):(S[Ns]=xn,R[Ns]=Cr-xn)}this.adjustOddEvenCounts(m);let $=4*l.getValue()+(u?0:2)+(f?0:1)-1,W=0,G=0;for(let vt=S.length-1;vt>=0;vt--){if(ne.isNotA1left(l,u,f)){let Cr=ne.WEIGHTS[$][2*vt];G+=S[vt]*Cr}W+=S[vt]}let V=0;for(let vt=P.length-1;vt>=0;vt--)if(ne.isNotA1left(l,u,f)){let Cr=ne.WEIGHTS[$][2*vt+1];V+=P[vt]*Cr}let Z=G+V;if(W&1||W>13||W<4)throw new H;let ue=(13-W)/2,ce=ne.SYMBOL_WIDEST[ue],se=9-ce,Ze=Ni.getRSSvalue(S,ce,!0),We=Ni.getRSSvalue(P,se,!1),on=ne.EVEN_TOTAL_SUBSET[ue],pi=ne.GSUM[ue],sn=Ze*on+We+pi;return new As(sn,Z)}static isNotA1left(o,l,u){return!(o.getValue()==0&&l&&u)}adjustOddEvenCounts(o){let l=Ie.sum(new Int32Array(this.getOddCounts())),u=Ie.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1;l>13?p=!0:l<4&&(f=!0);let m=!1,x=!1;u>13?x=!0:u<4&&(m=!0);let b=l+u-o,S=(l&1)==1,P=(u&1)==0;if(b==1)if(S){if(P)throw new H;p=!0}else{if(!P)throw new H;x=!0}else if(b==-1)if(S){if(P)throw new H;f=!0}else{if(!P)throw new H;m=!0}else if(b==0){if(S){if(!P)throw new H;l<u?(f=!0,x=!0):(p=!0,m=!0)}else if(P)throw new H}else throw new H;if(f){if(p)throw new H;ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new H;ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ne.SYMBOL_WIDEST=[7,5,4,3,1],ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ne.GSUM=[0,348,1388,2948,3988],ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ne.FINDER_PAT_A=0,ne.FINDER_PAT_B=1,ne.FINDER_PAT_C=2,ne.FINDER_PAT_D=3,ne.FINDER_PAT_E=4,ne.FINDER_PAT_F=5,ne.FINDER_PATTERN_SEQUENCES=[[ne.FINDER_PAT_A,ne.FINDER_PAT_A],[ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B],[ne.FINDER_PAT_A,ne.FINDER_PAT_C,ne.FINDER_PAT_B,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_C],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F]],ne.MAX_PAIRS=11;class ik extends As{constructor(o,l,u){super(o,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class $t extends Mr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,l,u){const f=this.decodePair(l,!1,o,u);$t.addOrTally(this.possibleLeftPairs,f),l.reverse();let p=this.decodePair(l,!0,o,u);$t.addOrTally(this.possibleRightPairs,p),l.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&$t.checkChecksum(m,x))return $t.constructResult(m,x)}throw new H}static addOrTally(o,l){if(l==null)return;let u=!1;for(let f of o)if(f.getValue()===l.getValue()){f.incrementCount(),u=!0;break}u||o.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,l){let u=4537077*o.getValue()+l.getValue(),f=new String(u).toString(),p=new oe;for(let S=13-f.length;S>0;S--)p.append("0");p.append(f);let m=0;for(let S=0;S<13;S++){let P=p.charAt(S).charCodeAt(0)-48;m+=S&1?P:3*P}m=10-m%10,m===10&&(m=0),p.append(m.toString());let x=o.getFinderPattern().getResultPoints(),b=l.getFinderPattern().getResultPoints();return new $e(p.toString(),null,0,[x[0],x[1],b[0],b[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(o,l){let u=(o.getChecksumPortion()+16*l.getChecksumPortion())%79,f=9*o.getFinderPattern().getValue()+l.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,u===f}decodePair(o,l,u,f){try{let p=this.findFinderPattern(o,l),m=this.parseFoundFinderPattern(o,u,l,p),x=f==null?null:f.get(j.NEED_RESULT_POINT_CALLBACK);if(x!=null){let P=(p[0]+p[1])/2;l&&(P=o.getSize()-1-P),x.foundPossibleResultPoint(new me(P,u))}let b=this.decodeDataCharacter(o,m,!0),S=this.decodeDataCharacter(o,m,!1);return new ik(1597*b.getValue()+S.getValue(),b.getChecksumPortion()+4*S.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(o,l,u){let f=this.getDataCharacterCounters();for(let V=0;V<f.length;V++)f[V]=0;if(u)Yt.recordPatternInReverse(o,l.getStartEnd()[0],f);else{Yt.recordPattern(o,l.getStartEnd()[1]+1,f);for(let V=0,Z=f.length-1;V<Z;V++,Z--){let ue=f[V];f[V]=f[Z],f[Z]=ue}}let p=u?16:15,m=Ie.sum(new Int32Array(f))/p,x=this.getOddCounts(),b=this.getEvenCounts(),S=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let V=0;V<f.length;V++){let Z=f[V]/m,ue=Math.floor(Z+.5);ue<1?ue=1:ue>8&&(ue=8);let ce=Math.floor(V/2);V&1?(b[ce]=ue,P[ce]=Z-ue):(x[ce]=ue,S[ce]=Z-ue)}this.adjustOddEvenCounts(u,p);let R=0,B=0;for(let V=x.length-1;V>=0;V--)B*=9,B+=x[V],R+=x[V];let $=0,W=0;for(let V=b.length-1;V>=0;V--)$*=9,$+=b[V],W+=b[V];let G=B+3*$;if(u){if(R&1||R>12||R<4)throw new H;let V=(12-R)/2,Z=$t.OUTSIDE_ODD_WIDEST[V],ue=9-Z,ce=Ni.getRSSvalue(x,Z,!1),se=Ni.getRSSvalue(b,ue,!0),Ze=$t.OUTSIDE_EVEN_TOTAL_SUBSET[V],We=$t.OUTSIDE_GSUM[V];return new As(ce*Ze+se+We,G)}else{if(W&1||W>10||W<4)throw new H;let V=(10-W)/2,Z=$t.INSIDE_ODD_WIDEST[V],ue=9-Z,ce=Ni.getRSSvalue(x,Z,!0),se=Ni.getRSSvalue(b,ue,!1),Ze=$t.INSIDE_ODD_TOTAL_SUBSET[V],We=$t.INSIDE_GSUM[V];return new As(se*Ze+ce+We,G)}}findFinderPattern(o,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=o.getSize(),p=!1,m=0;for(;m<f&&(p=!o.get(m),l!==p);)m++;let x=0,b=m;for(let S=m;S<f;S++)if(o.get(S)!==p)u[x]++;else{if(x===3){if(Mr.isFinderPattern(u))return[b,S];b+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,p=!p}throw new H}parseFoundFinderPattern(o,l,u,f){let p=o.get(f[0]),m=f[0]-1;for(;m>=0&&p!==o.get(m);)m--;m++;const x=f[0]-m,b=this.getDecodeFinderCounters(),S=new Int32Array(b.length);C.arraycopy(b,0,S,1,b.length-1),S[0]=x;const P=this.parseFinderValue(S,$t.FINDER_PATTERNS);let R=m,B=f[1];return u&&(R=o.getSize()-1-R,B=o.getSize()-1-B),new vd(P,[m,f[1]],R,B,l)}adjustOddEvenCounts(o,l){let u=Ie.sum(new Int32Array(this.getOddCounts())),f=Ie.sum(new Int32Array(this.getEvenCounts())),p=!1,m=!1,x=!1,b=!1;o?(u>12?m=!0:u<4&&(p=!0),f>12?b=!0:f<4&&(x=!0)):(u>11?m=!0:u<5&&(p=!0),f>10?b=!0:f<4&&(x=!0));let S=u+f-l,P=(u&1)===(o?1:0),R=(f&1)===1;if(S===1)if(P){if(R)throw new H;m=!0}else{if(!R)throw new H;b=!0}else if(S===-1)if(P){if(R)throw new H;p=!0}else{if(!R)throw new H;x=!0}else if(S===0){if(P){if(!R)throw new H;u<f?(p=!0,b=!0):(m=!0,x=!0)}else if(R)throw new H}else throw new H;if(p){if(m)throw new H;Mr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Mr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(b)throw new H;Mr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Mr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],$t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],$t.OUTSIDE_GSUM=[0,161,961,2015,2715],$t.INSIDE_GSUM=[0,336,1036,1516],$t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],$t.INSIDE_ODD_WIDEST=[2,4,6,8],$t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Os extends Yt{constructor(o,l){super(),this.readers=[],this.verbose=l===!0;const u=o?o.get(j.POSSIBLE_FORMATS):null,f=o&&o.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(xe.EAN_13)||u.includes(xe.UPC_A)||u.includes(xe.EAN_8)||u.includes(xe.UPC_E))&&this.readers.push(new Cp(o)),u.includes(xe.CODE_39)&&this.readers.push(new rr(f)),u.includes(xe.CODE_128)&&this.readers.push(new ge),u.includes(xe.ITF)&&this.readers.push(new gt),u.includes(xe.RSS_14)&&this.readers.push(new $t),u.includes(xe.RSS_EXPANDED)&&this.readers.push(new ne(this.verbose))):(this.readers.push(new Cp(o)),this.readers.push(new rr),this.readers.push(new Cp(o)),this.readers.push(new ge),this.readers.push(new gt),this.readers.push(new $t),this.readers.push(new ne(this.verbose)))}decodeRow(o,l,u){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(o,l,u)}catch{}throw new H}reset(){this.readers.forEach(o=>o.reset())}}class ak extends Ue{constructor(o=500,l){super(new Os(l),o,l)}}class ot{constructor(o,l,u){this.ecCodewords=o,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(o,l,u,f,p,m){this.versionNumber=o,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=p,this.ecBlocks=m;let x=0;const b=m.getECCodewords(),S=m.getECBlocks();for(let P of S)x+=P.getCount()*(P.getDataCodewords()+b);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,l){if(o&1||l&1)throw new L;for(let u of Qe.VERSIONS)if(u.symbolSizeRows===o&&u.symbolSizeColumns===l)return u;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Qe(1,10,10,8,8,new ot(5,new it(1,3))),new Qe(2,12,12,10,10,new ot(7,new it(1,5))),new Qe(3,14,14,12,12,new ot(10,new it(1,8))),new Qe(4,16,16,14,14,new ot(12,new it(1,12))),new Qe(5,18,18,16,16,new ot(14,new it(1,18))),new Qe(6,20,20,18,18,new ot(18,new it(1,22))),new Qe(7,22,22,20,20,new ot(20,new it(1,30))),new Qe(8,24,24,22,22,new ot(24,new it(1,36))),new Qe(9,26,26,24,24,new ot(28,new it(1,44))),new Qe(10,32,32,14,14,new ot(36,new it(1,62))),new Qe(11,36,36,16,16,new ot(42,new it(1,86))),new Qe(12,40,40,18,18,new ot(48,new it(1,114))),new Qe(13,44,44,20,20,new ot(56,new it(1,144))),new Qe(14,48,48,22,22,new ot(68,new it(1,174))),new Qe(15,52,52,24,24,new ot(42,new it(2,102))),new Qe(16,64,64,14,14,new ot(56,new it(2,140))),new Qe(17,72,72,16,16,new ot(36,new it(4,92))),new Qe(18,80,80,18,18,new ot(48,new it(4,114))),new Qe(19,88,88,20,20,new ot(56,new it(4,144))),new Qe(20,96,96,22,22,new ot(68,new it(4,174))),new Qe(21,104,104,24,24,new ot(56,new it(6,136))),new Qe(22,120,120,18,18,new ot(68,new it(6,175))),new Qe(23,132,132,20,20,new ot(62,new it(8,163))),new Qe(24,144,144,22,22,new ot(62,new it(8,156),new it(2,155))),new Qe(25,8,18,6,16,new ot(7,new it(1,5))),new Qe(26,8,32,6,14,new ot(11,new it(1,10))),new Qe(27,12,26,10,24,new ot(14,new it(1,16))),new Qe(28,12,36,10,16,new ot(18,new it(1,22))),new Qe(29,16,36,14,16,new ot(24,new it(1,32))),new Qe(30,16,48,14,22,new ot(28,new it(1,49)))]}}Qe.VERSIONS=Qe.buildVersions();class Tp{constructor(o){const l=o.getHeight();if(l<8||l>144||l&1)throw new L;this.version=Tp.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new de(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const l=o.getHeight(),u=o.getWidth();return Qe.getVersionForDimensions(l,u)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,f=0;const p=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let x=!1,b=!1,S=!1,P=!1;do if(u===p&&f===0&&!x)o[l++]=this.readCorner1(p,m)&255,u-=2,f+=2,x=!0;else if(u===p-2&&f===0&&m&3&&!b)o[l++]=this.readCorner2(p,m)&255,u-=2,f+=2,b=!0;else if(u===p+4&&f===2&&!(m&7)&&!S)o[l++]=this.readCorner3(p,m)&255,u-=2,f+=2,S=!0;else if(u===p-2&&f===0&&(m&7)===4&&!P)o[l++]=this.readCorner4(p,m)&255,u-=2,f+=2,P=!0;else{do u<p&&f>=0&&!this.readMappingMatrix.get(f,u)&&(o[l++]=this.readUtah(u,f,p,m)&255),u-=2,f+=2;while(u>=0&&f<m);u+=1,f+=3;do u>=0&&f<m&&!this.readMappingMatrix.get(f,u)&&(o[l++]=this.readUtah(u,f,p,m)&255),u+=2,f-=2;while(u<p&&f>=0);u+=3,f+=1}while(u<p||f<m);if(l!==this.version.getTotalCodewords())throw new L;return o}readModule(o,l,u,f){return o<0&&(o+=u,l+=4-(u+4&7)),l<0&&(l+=f,o+=4-(f+4&7)),this.readMappingMatrix.set(l,o),this.mappingBitMatrix.get(l,o)}readUtah(o,l,u,f){let p=0;return this.readModule(o-2,l-2,u,f)&&(p|=1),p<<=1,this.readModule(o-2,l-1,u,f)&&(p|=1),p<<=1,this.readModule(o-1,l-2,u,f)&&(p|=1),p<<=1,this.readModule(o-1,l-1,u,f)&&(p|=1),p<<=1,this.readModule(o-1,l,u,f)&&(p|=1),p<<=1,this.readModule(o,l-2,u,f)&&(p|=1),p<<=1,this.readModule(o,l-1,u,f)&&(p|=1),p<<=1,this.readModule(o,l,u,f)&&(p|=1),p}readCorner1(o,l){let u=0;return this.readModule(o-1,0,o,l)&&(u|=1),u<<=1,this.readModule(o-1,1,o,l)&&(u|=1),u<<=1,this.readModule(o-1,2,o,l)&&(u|=1),u<<=1,this.readModule(0,l-2,o,l)&&(u|=1),u<<=1,this.readModule(0,l-1,o,l)&&(u|=1),u<<=1,this.readModule(1,l-1,o,l)&&(u|=1),u<<=1,this.readModule(2,l-1,o,l)&&(u|=1),u<<=1,this.readModule(3,l-1,o,l)&&(u|=1),u}readCorner2(o,l){let u=0;return this.readModule(o-3,0,o,l)&&(u|=1),u<<=1,this.readModule(o-2,0,o,l)&&(u|=1),u<<=1,this.readModule(o-1,0,o,l)&&(u|=1),u<<=1,this.readModule(0,l-4,o,l)&&(u|=1),u<<=1,this.readModule(0,l-3,o,l)&&(u|=1),u<<=1,this.readModule(0,l-2,o,l)&&(u|=1),u<<=1,this.readModule(0,l-1,o,l)&&(u|=1),u<<=1,this.readModule(1,l-1,o,l)&&(u|=1),u}readCorner3(o,l){let u=0;return this.readModule(o-1,0,o,l)&&(u|=1),u<<=1,this.readModule(o-1,l-1,o,l)&&(u|=1),u<<=1,this.readModule(0,l-3,o,l)&&(u|=1),u<<=1,this.readModule(0,l-2,o,l)&&(u|=1),u<<=1,this.readModule(0,l-1,o,l)&&(u|=1),u<<=1,this.readModule(1,l-3,o,l)&&(u|=1),u<<=1,this.readModule(1,l-2,o,l)&&(u|=1),u<<=1,this.readModule(1,l-1,o,l)&&(u|=1),u}readCorner4(o,l){let u=0;return this.readModule(o-3,0,o,l)&&(u|=1),u<<=1,this.readModule(o-2,0,o,l)&&(u|=1),u<<=1,this.readModule(o-1,0,o,l)&&(u|=1),u<<=1,this.readModule(0,l-2,o,l)&&(u|=1),u<<=1,this.readModule(0,l-1,o,l)&&(u|=1),u<<=1,this.readModule(1,l-1,o,l)&&(u|=1),u<<=1,this.readModule(2,l-1,o,l)&&(u|=1),u<<=1,this.readModule(3,l-1,o,l)&&(u|=1),u}extractDataRegion(o){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(o.getHeight()!==l)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),m=l/f|0,x=u/p|0,b=m*f,S=x*p,P=new de(S,b);for(let R=0;R<m;++R){const B=R*f;for(let $=0;$<x;++$){const W=$*p;for(let G=0;G<f;++G){const V=R*(f+2)+1+G,Z=B+G;for(let ue=0;ue<p;++ue){const ce=$*(p+2)+1+ue;if(o.get(ce,V)){const se=W+ue;P.set(se,Z)}}}}}return P}}class Np{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l){const u=l.getECBlocks();let f=0;const p=u.getECBlocks();for(let G of p)f+=G.getCount();const m=new Array(f);let x=0;for(let G of p)for(let V=0;V<G.getCount();V++){const Z=G.getDataCodewords(),ue=u.getECCodewords()+Z;m[x++]=new Np(Z,new Uint8Array(ue))}const S=m[0].codewords.length-u.getECCodewords(),P=S-1;let R=0;for(let G=0;G<P;G++)for(let V=0;V<x;V++)m[V].codewords[G]=o[R++];const B=l.getVersionNumber()===24,$=B?8:x;for(let G=0;G<$;G++)m[G].codewords[S-1]=o[R++];const W=m[0].codewords.length;for(let G=S;G<W;G++)for(let V=0;V<x;V++){const Z=B?(V+8)%x:V,ue=B&&Z>7?G-1:G;m[Z].codewords[ue]=o[R++]}if(R!==o.length)throw new v;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Pp{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new v(""+o);let l=0,u=this.bitOffset,f=this.byteOffset;const p=this.bytes;if(u>0){const m=8-u,x=o<m?o:m,b=m-x,S=255>>8-x<<b;l=(p[f]&S)>>b,o-=x,u+=x,u===8&&(u=0,f++)}if(o>0){for(;o>=8;)l=l<<8|p[f]&255,f++,o-=8;if(o>0){const m=8-o,x=255>>m<<m;l=l<<o|(p[f]&x)>>m,u+=o}}return this.bitOffset=u,this.byteOffset=f,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nr;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(nr||(nr={}));class Ca{static decode(o){const l=new Pp(o),u=new oe,f=new oe,p=new Array;let m=nr.ASCII_ENCODE;do if(m===nr.ASCII_ENCODE)m=this.decodeAsciiSegment(l,u,f);else{switch(m){case nr.C40_ENCODE:this.decodeC40Segment(l,u);break;case nr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case nr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case nr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case nr.BASE256_ENCODE:this.decodeBase256Segment(l,u,p);break;default:throw new L}m=nr.ASCII_ENCODE}while(m!==nr.PAD_ENCODE&&l.available()>0);return f.length()>0&&u.append(f.toString()),new ye(o,u.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(o,l,u){let f=!1;do{let p=o.readBits(8);if(p===0)throw new L;if(p<=128)return f&&(p+=128),l.append(String.fromCharCode(p-1)),nr.ASCII_ENCODE;if(p===129)return nr.PAD_ENCODE;if(p<=229){const m=p-130;m<10&&l.append("0"),l.append(""+m)}else switch(p){case 230:return nr.C40_ENCODE;case 231:return nr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return nr.ANSIX12_ENCODE;case 239:return nr.TEXT_ENCODE;case 240:return nr.EDIFACT_ENCODE;case 241:break;default:if(p!==254||o.available()!==0)throw new L;break}}while(o.available()>0);return nr.ASCII_ENCODE}static decodeC40Segment(o,l){let u=!1;const f=[];let p=0;do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),f);for(let x=0;x<3;x++){const b=f[x];switch(p){case 0:if(b<3)p=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[b];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else throw new L;break;case 1:u?(l.append(String.fromCharCode(b+128)),u=!1):l.append(String.fromCharCode(b)),p=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[b];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else switch(b){case 27:l.append("");break;case 30:u=!0;break;default:throw new L}p=0;break;case 3:u?(l.append(String.fromCharCode(b+224)),u=!1):l.append(String.fromCharCode(b+96)),p=0;break;default:throw new L}}}while(o.available()>0)}static decodeTextSegment(o,l){let u=!1,f=[],p=0;do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),f);for(let x=0;x<3;x++){const b=f[x];switch(p){case 0:if(b<3)p=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[b];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else throw new L;break;case 1:u?(l.append(String.fromCharCode(b+128)),u=!1):l.append(String.fromCharCode(b)),p=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[b];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else switch(b){case 27:l.append("");break;case 30:u=!0;break;default:throw new L}p=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[b];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S),p=0}else throw new L;break;default:throw new L}}}while(o.available()>0)}static decodeAnsiX12Segment(o,l){const u=[];do{if(o.available()===8)return;const f=o.readBits(8);if(f===254)return;this.parseTwoBytes(f,o.readBits(8),u);for(let p=0;p<3;p++){const m=u[p];switch(m){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(m<14)l.append(String.fromCharCode(m+44));else if(m<40)l.append(String.fromCharCode(m+51));else throw new L;break}}}while(o.available()>0)}static parseTwoBytes(o,l,u){let f=(o<<8)+l-1,p=Math.floor(f/1600);u[0]=p,f-=p*1600,p=Math.floor(f/40),u[1]=p,u[2]=f-p*40}static decodeEdifactSegment(o,l){do{if(o.available()<=16)return;for(let u=0;u<4;u++){let f=o.readBits(6);if(f===31){const p=8-o.getBitOffset();p!==8&&o.readBits(p);return}f&32||(f|=64),l.append(String.fromCharCode(f))}}while(o.available()>0)}static decodeBase256Segment(o,l,u){let f=1+o.getByteOffset();const p=this.unrandomize255State(o.readBits(8),f++);let m;if(p===0?m=o.available()/8|0:p<250?m=p:m=250*(p-249)+this.unrandomize255State(o.readBits(8),f++),m<0)throw new L;const x=new Uint8Array(m);for(let b=0;b<m;b++){if(o.available()<8)throw new L;x[b]=this.unrandomize255State(o.readBits(8),f++)}u.push(x);try{l.append(X.decode(x,q.ISO88591))}catch(b){throw new at("Platform does not support required encoding: "+b.message)}}static unrandomize255State(o,l){const u=149*l%255+1,f=o-u;return f>=0?f:f+256}}Ca.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ca.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ca.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ca.TEXT_SHIFT2_SET_CHARS=Ca.C40_SHIFT2_SET_CHARS,Ca.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ok{constructor(){this.rsDecoder=new he(Me.DATA_MATRIX_FIELD_256)}decode(o){const l=new Tp(o),u=l.getVersion(),f=l.readCodewords(),p=Np.getDataBlocks(f,u);let m=0;for(let S of p)m+=S.getNumDataCodewords();const x=new Uint8Array(m),b=p.length;for(let S=0;S<b;S++){const P=p[S],R=P.getCodewords(),B=P.getNumDataCodewords();this.correctErrors(R,B);for(let $=0;$<B;$++)x[$*b+S]=R[$]}return Ca.decode(x)}correctErrors(o,l){const u=new Int32Array(o);try{this.rsDecoder.decode(u,o.length-l)}catch{throw new w}for(let f=0;f<l;f++)o[f]=u[f]}}class Vt{constructor(o){this.image=o,this.rectangleDetector=new di(this.image)}detect(){const o=this.rectangleDetector.detect();let l=this.detectSolid1(o);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new H;l=this.shiftToModuleCenter(l);const u=l[0],f=l[1],p=l[2],m=l[3];let x=this.transitionsBetween(u,m)+1,b=this.transitionsBetween(p,m)+1;(x&1)===1&&(x+=1),(b&1)===1&&(b+=1),4*x<7*b&&4*b<7*x&&(x=b=Math.max(x,b));let S=Vt.sampleGrid(this.image,u,f,p,m,x,b);return new Hi(S,[u,f,p,m])}static shiftPoint(o,l,u){let f=(l.getX()-o.getX())/(u+1),p=(l.getY()-o.getY())/(u+1);return new me(o.getX()+f,o.getY()+p)}static moveAway(o,l,u){let f=o.getX(),p=o.getY();return f<l?f-=1:f+=1,p<u?p-=1:p+=1,new me(f,p)}detectSolid1(o){let l=o[0],u=o[1],f=o[3],p=o[2],m=this.transitionsBetween(l,u),x=this.transitionsBetween(u,f),b=this.transitionsBetween(f,p),S=this.transitionsBetween(p,l),P=m,R=[p,l,u,f];return P>x&&(P=x,R[0]=l,R[1]=u,R[2]=f,R[3]=p),P>b&&(P=b,R[0]=u,R[1]=f,R[2]=p,R[3]=l),P>S&&(R[0]=f,R[1]=p,R[2]=l,R[3]=u),R}detectSolid2(o){let l=o[0],u=o[1],f=o[2],p=o[3],m=this.transitionsBetween(l,p),x=Vt.shiftPoint(u,f,(m+1)*4),b=Vt.shiftPoint(f,u,(m+1)*4),S=this.transitionsBetween(x,l),P=this.transitionsBetween(b,p);return S<P?(o[0]=l,o[1]=u,o[2]=f,o[3]=p):(o[0]=u,o[1]=f,o[2]=p,o[3]=l),o}correctTopRight(o){let l=o[0],u=o[1],f=o[2],p=o[3],m=this.transitionsBetween(l,p),x=this.transitionsBetween(u,p),b=Vt.shiftPoint(l,u,(x+1)*4),S=Vt.shiftPoint(f,u,(m+1)*4);m=this.transitionsBetween(b,p),x=this.transitionsBetween(S,p);let P=new me(p.getX()+(f.getX()-u.getX())/(m+1),p.getY()+(f.getY()-u.getY())/(m+1)),R=new me(p.getX()+(l.getX()-u.getX())/(x+1),p.getY()+(l.getY()-u.getY())/(x+1));if(!this.isValid(P))return this.isValid(R)?R:null;if(!this.isValid(R))return P;let B=this.transitionsBetween(b,P)+this.transitionsBetween(S,P),$=this.transitionsBetween(b,R)+this.transitionsBetween(S,R);return B>$?P:R}shiftToModuleCenter(o){let l=o[0],u=o[1],f=o[2],p=o[3],m=this.transitionsBetween(l,p)+1,x=this.transitionsBetween(f,p)+1,b=Vt.shiftPoint(l,u,x*4),S=Vt.shiftPoint(f,u,m*4);m=this.transitionsBetween(b,p)+1,x=this.transitionsBetween(S,p)+1,(m&1)===1&&(m+=1),(x&1)===1&&(x+=1);let P=(l.getX()+u.getX()+f.getX()+p.getX())/4,R=(l.getY()+u.getY()+f.getY()+p.getY())/4;l=Vt.moveAway(l,P,R),u=Vt.moveAway(u,P,R),f=Vt.moveAway(f,P,R),p=Vt.moveAway(p,P,R);let B,$;return b=Vt.shiftPoint(l,u,x*4),b=Vt.shiftPoint(b,p,m*4),B=Vt.shiftPoint(u,l,x*4),B=Vt.shiftPoint(B,f,m*4),S=Vt.shiftPoint(f,p,x*4),S=Vt.shiftPoint(S,u,m*4),$=Vt.shiftPoint(p,f,x*4),$=Vt.shiftPoint($,l,m*4),[b,B,S,$]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,l,u,f,p,m,x){return Aa.getInstance().sampleGrid(o,m,x,.5,.5,m-.5,.5,m-.5,x-.5,.5,x-.5,l.getX(),l.getY(),p.getX(),p.getY(),f.getX(),f.getY(),u.getX(),u.getY())}transitionsBetween(o,l){let u=Math.trunc(o.getX()),f=Math.trunc(o.getY()),p=Math.trunc(l.getX()),m=Math.trunc(l.getY()),x=Math.abs(m-f)>Math.abs(p-u);if(x){let G=u;u=f,f=G,G=p,p=m,m=G}let b=Math.abs(p-u),S=Math.abs(m-f),P=-b/2,R=f<m?1:-1,B=u<p?1:-1,$=0,W=this.image.get(x?f:u,x?u:f);for(let G=u,V=f;G!==p;G+=B){let Z=this.image.get(x?V:G,x?G:V);if(Z!==W&&($++,W=Z),P+=S,P>0){if(V===m)break;V+=R,P-=b}}return $}}class Oa{constructor(){this.decoder=new ok}decode(o,l=null){let u,f;if(l!=null&&l.has(j.PURE_BARCODE)){const S=Oa.extractPureBits(o.getBlackMatrix());u=this.decoder.decode(S),f=Oa.NO_POINTS}else{const S=new Vt(o.getBlackMatrix()).detect();u=this.decoder.decode(S.getBits()),f=S.getPoints()}const p=u.getRawBytes(),m=new $e(u.getText(),p,8*p.length,f,xe.DATA_MATRIX,C.currentTimeMillis()),x=u.getByteSegments();x!=null&&m.putMetadata(ht.BYTE_SEGMENTS,x);const b=u.getECLevel();return b!=null&&m.putMetadata(ht.ERROR_CORRECTION_LEVEL,b),m}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),u=o.getBottomRightOnBit();if(l==null||u==null)throw new H;const f=this.moduleSize(l,o);let p=l[1];const m=u[1];let x=l[0];const S=(u[0]-x+1)/f,P=(m-p+1)/f;if(S<=0||P<=0)throw new H;const R=f/2;p+=R,x+=R;const B=new de(S,P);for(let $=0;$<P;$++){const W=p+$*f;for(let G=0;G<S;G++)o.get(x+G*f,W)&&B.set(G,$)}return B}static moduleSize(o,l){const u=l.getWidth();let f=o[0];const p=o[1];for(;f<u&&l.get(f,p);)f++;if(f===u)throw new H;const m=f-o[0];if(m===0)throw new H;return m}}Oa.NO_POINTS=[];class sk extends Ue{constructor(o=500){super(new Oa,o)}}var Is;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(Is||(Is={}));class wt{constructor(o,l,u){this.value=o,this.stringValue=l,this.bits=u,wt.FOR_BITS.set(u,this),wt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return wt.L;case"M":return wt.M;case"Q":return wt.Q;case"H":return wt.H;default:throw new g(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof wt))return!1;const l=o;return this.value===l.value}static forBits(o){if(o<0||o>=wt.FOR_BITS.size)throw new v;return wt.FOR_BITS.get(o)}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.L=new wt(Is.L,"L",1),wt.M=new wt(Is.M,"M",0),wt.Q=new wt(Is.Q,"Q",3),wt.H=new wt(Is.H,"H",2);class jr{constructor(o){this.errorCorrectionLevel=wt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,l){return T.bitCount(o^l)}static decodeFormatInformation(o,l){const u=jr.doDecodeFormatInformation(o,l);return u!==null?u:jr.doDecodeFormatInformation(o^jr.FORMAT_INFO_MASK_QR,l^jr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,l){let u=Number.MAX_SAFE_INTEGER,f=0;for(const p of jr.FORMAT_INFO_DECODE_LOOKUP){const m=p[0];if(m===o||m===l)return new jr(p[1]);let x=jr.numBitsDiffering(o,m);x<u&&(f=p[1],u=x),o!==l&&(x=jr.numBitsDiffering(l,m),x<u&&(f=p[1],u=x))}return u<=3?new jr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof jr))return!1;const l=o;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}jr.FORMAT_INFO_MASK_QR=21522,jr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(o,...l){this.ecCodewordsPerBlock=o,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const l=this.ecBlocks;for(const u of l)o+=u.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(o,l,...u){this.versionNumber=o,this.alignmentPatternCenters=l,this.ecBlocks=u;let f=0;const p=u[0].getECCodewordsPerBlock(),m=u[0].getECBlocks();for(const x of m)f+=x.getCount()*(x.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new L;try{return this.getVersionForNumber((o-17)/4)}catch{throw new L}}static getVersionForNumber(o){if(o<1||o>40)throw new v;return Pe.VERSIONS[o-1]}static decodeVersionInformation(o){let l=Number.MAX_SAFE_INTEGER,u=0;for(let f=0;f<Pe.VERSION_DECODE_INFO.length;f++){const p=Pe.VERSION_DECODE_INFO[f];if(p===o)return Pe.getVersionForNumber(f+7);const m=jr.numBitsDiffering(o,p);m<l&&(u=f+7,l=m)}return l<=3?Pe.getVersionForNumber(u):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),l=new de(o);l.setRegion(0,0,9,9),l.setRegion(o-8,0,8,9),l.setRegion(0,o-8,9,8);const u=this.alignmentPatternCenters.length;for(let f=0;f<u;f++){const p=this.alignmentPatternCenters[f]-2;for(let m=0;m<u;m++)f===0&&(m===0||m===u-1)||f===u-1&&m===0||l.setRegion(this.alignmentPatternCenters[m]-2,p,5,5)}return l.setRegion(6,9,1,o-17),l.setRegion(9,6,o-17,1),this.versionNumber>6&&(l.setRegion(o-11,0,3,6),l.setRegion(0,o-11,6,3)),l}toString(){return""+this.versionNumber}}Pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Pe.VERSIONS=[new Pe(1,new Int32Array(0),new K(7,new F(1,19)),new K(10,new F(1,16)),new K(13,new F(1,13)),new K(17,new F(1,9))),new Pe(2,Int32Array.from([6,18]),new K(10,new F(1,34)),new K(16,new F(1,28)),new K(22,new F(1,22)),new K(28,new F(1,16))),new Pe(3,Int32Array.from([6,22]),new K(15,new F(1,55)),new K(26,new F(1,44)),new K(18,new F(2,17)),new K(22,new F(2,13))),new Pe(4,Int32Array.from([6,26]),new K(20,new F(1,80)),new K(18,new F(2,32)),new K(26,new F(2,24)),new K(16,new F(4,9))),new Pe(5,Int32Array.from([6,30]),new K(26,new F(1,108)),new K(24,new F(2,43)),new K(18,new F(2,15),new F(2,16)),new K(22,new F(2,11),new F(2,12))),new Pe(6,Int32Array.from([6,34]),new K(18,new F(2,68)),new K(16,new F(4,27)),new K(24,new F(4,19)),new K(28,new F(4,15))),new Pe(7,Int32Array.from([6,22,38]),new K(20,new F(2,78)),new K(18,new F(4,31)),new K(18,new F(2,14),new F(4,15)),new K(26,new F(4,13),new F(1,14))),new Pe(8,Int32Array.from([6,24,42]),new K(24,new F(2,97)),new K(22,new F(2,38),new F(2,39)),new K(22,new F(4,18),new F(2,19)),new K(26,new F(4,14),new F(2,15))),new Pe(9,Int32Array.from([6,26,46]),new K(30,new F(2,116)),new K(22,new F(3,36),new F(2,37)),new K(20,new F(4,16),new F(4,17)),new K(24,new F(4,12),new F(4,13))),new Pe(10,Int32Array.from([6,28,50]),new K(18,new F(2,68),new F(2,69)),new K(26,new F(4,43),new F(1,44)),new K(24,new F(6,19),new F(2,20)),new K(28,new F(6,15),new F(2,16))),new Pe(11,Int32Array.from([6,30,54]),new K(20,new F(4,81)),new K(30,new F(1,50),new F(4,51)),new K(28,new F(4,22),new F(4,23)),new K(24,new F(3,12),new F(8,13))),new Pe(12,Int32Array.from([6,32,58]),new K(24,new F(2,92),new F(2,93)),new K(22,new F(6,36),new F(2,37)),new K(26,new F(4,20),new F(6,21)),new K(28,new F(7,14),new F(4,15))),new Pe(13,Int32Array.from([6,34,62]),new K(26,new F(4,107)),new K(22,new F(8,37),new F(1,38)),new K(24,new F(8,20),new F(4,21)),new K(22,new F(12,11),new F(4,12))),new Pe(14,Int32Array.from([6,26,46,66]),new K(30,new F(3,115),new F(1,116)),new K(24,new F(4,40),new F(5,41)),new K(20,new F(11,16),new F(5,17)),new K(24,new F(11,12),new F(5,13))),new Pe(15,Int32Array.from([6,26,48,70]),new K(22,new F(5,87),new F(1,88)),new K(24,new F(5,41),new F(5,42)),new K(30,new F(5,24),new F(7,25)),new K(24,new F(11,12),new F(7,13))),new Pe(16,Int32Array.from([6,26,50,74]),new K(24,new F(5,98),new F(1,99)),new K(28,new F(7,45),new F(3,46)),new K(24,new F(15,19),new F(2,20)),new K(30,new F(3,15),new F(13,16))),new Pe(17,Int32Array.from([6,30,54,78]),new K(28,new F(1,107),new F(5,108)),new K(28,new F(10,46),new F(1,47)),new K(28,new F(1,22),new F(15,23)),new K(28,new F(2,14),new F(17,15))),new Pe(18,Int32Array.from([6,30,56,82]),new K(30,new F(5,120),new F(1,121)),new K(26,new F(9,43),new F(4,44)),new K(28,new F(17,22),new F(1,23)),new K(28,new F(2,14),new F(19,15))),new Pe(19,Int32Array.from([6,30,58,86]),new K(28,new F(3,113),new F(4,114)),new K(26,new F(3,44),new F(11,45)),new K(26,new F(17,21),new F(4,22)),new K(26,new F(9,13),new F(16,14))),new Pe(20,Int32Array.from([6,34,62,90]),new K(28,new F(3,107),new F(5,108)),new K(26,new F(3,41),new F(13,42)),new K(30,new F(15,24),new F(5,25)),new K(28,new F(15,15),new F(10,16))),new Pe(21,Int32Array.from([6,28,50,72,94]),new K(28,new F(4,116),new F(4,117)),new K(26,new F(17,42)),new K(28,new F(17,22),new F(6,23)),new K(30,new F(19,16),new F(6,17))),new Pe(22,Int32Array.from([6,26,50,74,98]),new K(28,new F(2,111),new F(7,112)),new K(28,new F(17,46)),new K(30,new F(7,24),new F(16,25)),new K(24,new F(34,13))),new Pe(23,Int32Array.from([6,30,54,78,102]),new K(30,new F(4,121),new F(5,122)),new K(28,new F(4,47),new F(14,48)),new K(30,new F(11,24),new F(14,25)),new K(30,new F(16,15),new F(14,16))),new Pe(24,Int32Array.from([6,28,54,80,106]),new K(30,new F(6,117),new F(4,118)),new K(28,new F(6,45),new F(14,46)),new K(30,new F(11,24),new F(16,25)),new K(30,new F(30,16),new F(2,17))),new Pe(25,Int32Array.from([6,32,58,84,110]),new K(26,new F(8,106),new F(4,107)),new K(28,new F(8,47),new F(13,48)),new K(30,new F(7,24),new F(22,25)),new K(30,new F(22,15),new F(13,16))),new Pe(26,Int32Array.from([6,30,58,86,114]),new K(28,new F(10,114),new F(2,115)),new K(28,new F(19,46),new F(4,47)),new K(28,new F(28,22),new F(6,23)),new K(30,new F(33,16),new F(4,17))),new Pe(27,Int32Array.from([6,34,62,90,118]),new K(30,new F(8,122),new F(4,123)),new K(28,new F(22,45),new F(3,46)),new K(30,new F(8,23),new F(26,24)),new K(30,new F(12,15),new F(28,16))),new Pe(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new F(3,117),new F(10,118)),new K(28,new F(3,45),new F(23,46)),new K(30,new F(4,24),new F(31,25)),new K(30,new F(11,15),new F(31,16))),new Pe(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new F(7,116),new F(7,117)),new K(28,new F(21,45),new F(7,46)),new K(30,new F(1,23),new F(37,24)),new K(30,new F(19,15),new F(26,16))),new Pe(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new F(5,115),new F(10,116)),new K(28,new F(19,47),new F(10,48)),new K(30,new F(15,24),new F(25,25)),new K(30,new F(23,15),new F(25,16))),new Pe(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new F(13,115),new F(3,116)),new K(28,new F(2,46),new F(29,47)),new K(30,new F(42,24),new F(1,25)),new K(30,new F(23,15),new F(28,16))),new Pe(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new F(17,115)),new K(28,new F(10,46),new F(23,47)),new K(30,new F(10,24),new F(35,25)),new K(30,new F(19,15),new F(35,16))),new Pe(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new F(17,115),new F(1,116)),new K(28,new F(14,46),new F(21,47)),new K(30,new F(29,24),new F(19,25)),new K(30,new F(11,15),new F(46,16))),new Pe(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new F(13,115),new F(6,116)),new K(28,new F(14,46),new F(23,47)),new K(30,new F(44,24),new F(7,25)),new K(30,new F(59,16),new F(1,17))),new Pe(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new F(12,121),new F(7,122)),new K(28,new F(12,47),new F(26,48)),new K(30,new F(39,24),new F(14,25)),new K(30,new F(22,15),new F(41,16))),new Pe(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new F(6,121),new F(14,122)),new K(28,new F(6,47),new F(34,48)),new K(30,new F(46,24),new F(10,25)),new K(30,new F(2,15),new F(64,16))),new Pe(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new F(17,122),new F(4,123)),new K(28,new F(29,46),new F(14,47)),new K(30,new F(49,24),new F(10,25)),new K(30,new F(24,15),new F(46,16))),new Pe(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new F(4,122),new F(18,123)),new K(28,new F(13,46),new F(32,47)),new K(30,new F(48,24),new F(14,25)),new K(30,new F(42,15),new F(32,16))),new Pe(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new F(20,117),new F(4,118)),new K(28,new F(40,47),new F(7,48)),new K(30,new F(43,24),new F(22,25)),new K(30,new F(10,15),new F(67,16))),new Pe(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new F(19,118),new F(6,119)),new K(28,new F(18,47),new F(31,48)),new K(30,new F(34,24),new F(34,25)),new K(30,new F(20,15),new F(61,16)))];var dr;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(dr||(dr={}));class zn{constructor(o,l){this.value=o,this.isMasked=l}unmaskBitMatrix(o,l){for(let u=0;u<l;u++)for(let f=0;f<l;f++)this.isMasked(u,f)&&o.flip(f,u)}}zn.values=new Map([[dr.DATA_MASK_000,new zn(dr.DATA_MASK_000,(k,o)=>(k+o&1)===0)],[dr.DATA_MASK_001,new zn(dr.DATA_MASK_001,(k,o)=>(k&1)===0)],[dr.DATA_MASK_010,new zn(dr.DATA_MASK_010,(k,o)=>o%3===0)],[dr.DATA_MASK_011,new zn(dr.DATA_MASK_011,(k,o)=>(k+o)%3===0)],[dr.DATA_MASK_100,new zn(dr.DATA_MASK_100,(k,o)=>(Math.floor(k/2)+Math.floor(o/3)&1)===0)],[dr.DATA_MASK_101,new zn(dr.DATA_MASK_101,(k,o)=>k*o%6===0)],[dr.DATA_MASK_110,new zn(dr.DATA_MASK_110,(k,o)=>k*o%6<3)],[dr.DATA_MASK_111,new zn(dr.DATA_MASK_111,(k,o)=>(k+o+k*o%3&1)===0)]]);class lk{constructor(o){const l=o.getHeight();if(l<21||(l&3)!==1)throw new L;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let p=0;p<6;p++)o=this.copyBit(p,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let p=5;p>=0;p--)o=this.copyBit(8,p,o);const l=this.bitMatrix.getHeight();let u=0;const f=l-7;for(let p=l-1;p>=f;p--)u=this.copyBit(8,p,u);for(let p=l-8;p<l;p++)u=this.copyBit(p,8,u);if(this.parsedFormatInfo=jr.decodeFormatInformation(o,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),l=Math.floor((o-17)/4);if(l<=6)return Pe.getVersionForNumber(l);let u=0;const f=o-11;for(let m=5;m>=0;m--)for(let x=o-9;x>=f;x--)u=this.copyBit(x,m,u);let p=Pe.decodeVersionInformation(u);if(p!==null&&p.getDimensionForVersion()===o)return this.parsedVersion=p,p;u=0;for(let m=5;m>=0;m--)for(let x=o-9;x>=f;x--)u=this.copyBit(m,x,u);if(p=Pe.decodeVersionInformation(u),p!==null&&p.getDimensionForVersion()===o)return this.parsedVersion=p,p;throw new L}copyBit(o,l,u){return(this.isMirror?this.bitMatrix.get(l,o):this.bitMatrix.get(o,l))?u<<1|1:u<<1}readCodewords(){const o=this.readFormatInformation(),l=this.readVersion(),u=zn.values.get(o.getDataMask()),f=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,f);const p=l.buildFunctionPattern();let m=!0;const x=new Uint8Array(l.getTotalCodewords());let b=0,S=0,P=0;for(let R=f-1;R>0;R-=2){R===6&&R--;for(let B=0;B<f;B++){const $=m?f-1-B:B;for(let W=0;W<2;W++)p.get(R-W,$)||(P++,S<<=1,this.bitMatrix.get(R-W,$)&&(S|=1),P===8&&(x[b++]=S,P=0,S=0))}m=!m}if(b!==l.getTotalCodewords())throw new L;return x}remask(){if(this.parsedFormatInfo===null)return;const o=zn.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let l=0,u=o.getWidth();l<u;l++)for(let f=l+1,p=o.getHeight();f<p;f++)o.get(l,f)!==o.get(f,l)&&(o.flip(f,l),o.flip(l,f))}}class kp{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l,u){if(o.length!==l.getTotalCodewords())throw new v;const f=l.getECBlocksForLevel(u);let p=0;const m=f.getECBlocks();for(const W of m)p+=W.getCount();const x=new Array(p);let b=0;for(const W of m)for(let G=0;G<W.getCount();G++){const V=W.getDataCodewords(),Z=f.getECCodewordsPerBlock()+V;x[b++]=new kp(V,new Uint8Array(Z))}const S=x[0].codewords.length;let P=x.length-1;for(;P>=0&&x[P].codewords.length!==S;)P--;P++;const R=S-f.getECCodewordsPerBlock();let B=0;for(let W=0;W<R;W++)for(let G=0;G<b;G++)x[G].codewords[W]=o[B++];for(let W=P;W<b;W++)x[W].codewords[R]=o[B++];const $=x[0].codewords.length;for(let W=R;W<$;W++)for(let G=0;G<b;G++){const V=G<P?W:W+1;x[G].codewords[V]=o[B++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Gn||(Gn={}));class Re{constructor(o,l,u,f){this.value=o,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=f,Re.FOR_BITS.set(f,this),Re.FOR_VALUE.set(o,this)}static forBits(o){const l=Re.FOR_BITS.get(o);if(l===void 0)throw new v;return l}getCharacterCountBits(o){const l=o.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Re))return!1;const l=o;return this.value===l.value}toString(){return this.stringValue}}Re.FOR_BITS=new Map,Re.FOR_VALUE=new Map,Re.TERMINATOR=new Re(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Re.NUMERIC=new Re(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Re.ALPHANUMERIC=new Re(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Re.STRUCTURED_APPEND=new Re(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Re.BYTE=new Re(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Re.ECI=new Re(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Re.KANJI=new Re(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Re.FNC1_FIRST_POSITION=new Re(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Re.FNC1_SECOND_POSITION=new Re(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Re.HANZI=new Re(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(o,l,u,f){const p=new Pp(o);let m=new oe;const x=new Array;let b=-1,S=-1;try{let P=null,R=!1,B;do{if(p.available()<4)B=Re.TERMINATOR;else{const $=p.readBits(4);B=Re.forBits($)}switch(B){case Re.TERMINATOR:break;case Re.FNC1_FIRST_POSITION:case Re.FNC1_SECOND_POSITION:R=!0;break;case Re.STRUCTURED_APPEND:if(p.available()<16)throw new L;b=p.readBits(8),S=p.readBits(8);break;case Re.ECI:const $=Mt.parseECIValue(p);if(P=U.getCharacterSetECIByValue($),P===null)throw new L;break;case Re.HANZI:const W=p.readBits(4),G=p.readBits(B.getCharacterCountBits(l));W===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(p,m,G);break;default:const V=p.readBits(B.getCharacterCountBits(l));switch(B){case Re.NUMERIC:Mt.decodeNumericSegment(p,m,V);break;case Re.ALPHANUMERIC:Mt.decodeAlphanumericSegment(p,m,V,R);break;case Re.BYTE:Mt.decodeByteSegment(p,m,V,P,x,f);break;case Re.KANJI:Mt.decodeKanjiSegment(p,m,V);break;default:throw new L}break}}while(B!==Re.TERMINATOR)}catch{throw new L}return new ye(o,m.toString(),x.length===0?null:x,u===null?null:u.toString(),b,S)}static decodeHanziSegment(o,l,u){if(u*13>o.available())throw new L;const f=new Uint8Array(2*u);let p=0;for(;u>0;){const m=o.readBits(13);let x=m/96<<8&4294967295|m%96;x<959?x+=41377:x+=42657,f[p]=x>>8&255,f[p+1]=x&255,p+=2,u--}try{l.append(X.decode(f,q.GB2312))}catch(m){throw new L(m)}}static decodeKanjiSegment(o,l,u){if(u*13>o.available())throw new L;const f=new Uint8Array(2*u);let p=0;for(;u>0;){const m=o.readBits(13);let x=m/192<<8&4294967295|m%192;x<7936?x+=33088:x+=49472,f[p]=x>>8,f[p+1]=x,p+=2,u--}try{l.append(X.decode(f,q.SHIFT_JIS))}catch(m){throw new L(m)}}static decodeByteSegment(o,l,u,f,p,m){if(8*u>o.available())throw new L;const x=new Uint8Array(u);for(let S=0;S<u;S++)x[S]=o.readBits(8);let b;f===null?b=q.guessEncoding(x,m):b=f.getName();try{l.append(X.decode(x,b))}catch(S){throw new L(S)}p.push(x)}static toAlphaNumericChar(o){if(o>=Mt.ALPHANUMERIC_CHARS.length)throw new L;return Mt.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,l,u,f){const p=l.length();for(;u>1;){if(o.available()<11)throw new L;const m=o.readBits(11);l.append(Mt.toAlphaNumericChar(Math.floor(m/45))),l.append(Mt.toAlphaNumericChar(m%45)),u-=2}if(u===1){if(o.available()<6)throw new L;l.append(Mt.toAlphaNumericChar(o.readBits(6)))}if(f)for(let m=p;m<l.length();m++)l.charAt(m)==="%"&&(m<l.length()-1&&l.charAt(m+1)==="%"?l.deleteCharAt(m+1):l.setCharAt(m,""))}static decodeNumericSegment(o,l,u){for(;u>=3;){if(o.available()<10)throw new L;const f=o.readBits(10);if(f>=1e3)throw new L;l.append(Mt.toAlphaNumericChar(Math.floor(f/100))),l.append(Mt.toAlphaNumericChar(Math.floor(f/10)%10)),l.append(Mt.toAlphaNumericChar(f%10)),u-=3}if(u===2){if(o.available()<7)throw new L;const f=o.readBits(7);if(f>=100)throw new L;l.append(Mt.toAlphaNumericChar(Math.floor(f/10))),l.append(Mt.toAlphaNumericChar(f%10))}else if(u===1){if(o.available()<4)throw new L;const f=o.readBits(4);if(f>=10)throw new L;l.append(Mt.toAlphaNumericChar(f))}}static parseECIValue(o){const l=o.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const u=o.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=o.readBits(16);return(l&31)<<16&4294967295|u}throw new L}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class ib{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const l=o[0];o[0]=o[2],o[2]=l}}class uk{constructor(){this.rsDecoder=new he(Me.QR_CODE_FIELD_256)}decodeBooleanArray(o,l){return this.decodeBitMatrix(de.parseFromBooleanArray(o),l)}decodeBitMatrix(o,l){const u=new lk(o);let f=null;try{return this.decodeBitMatrixParser(u,l)}catch(p){f=p}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const p=this.decodeBitMatrixParser(u,l);return p.setOther(new ib(!0)),p}catch(p){throw f!==null?f:p}}decodeBitMatrixParser(o,l){const u=o.readVersion(),f=o.readFormatInformation().getErrorCorrectionLevel(),p=o.readCodewords(),m=kp.getDataBlocks(p,u,f);let x=0;for(const P of m)x+=P.getNumDataCodewords();const b=new Uint8Array(x);let S=0;for(const P of m){const R=P.getCodewords(),B=P.getNumDataCodewords();this.correctErrors(R,B);for(let $=0;$<B;$++)b[S++]=R[$]}return Mt.decode(b,u,f,l)}correctErrors(o,l){const u=new Int32Array(o);try{this.rsDecoder.decode(u,o.length-l)}catch{throw new w}for(let f=0;f<l;f++)o[f]=u[f]}}class Dp extends me{constructor(o,l,u){super(o,l),this.estimatedModuleSize=u}aboutEquals(o,l,u){if(Math.abs(l-this.getY())<=o&&Math.abs(u-this.getX())<=o){const f=Math.abs(o-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(o,l,u){const f=(this.getX()+l)/2,p=(this.getY()+o)/2,m=(this.estimatedModuleSize+u)/2;return new Dp(f,p,m)}}class wd{constructor(o,l,u,f,p,m,x){this.image=o,this.startX=l,this.startY=u,this.width=f,this.height=p,this.moduleSize=m,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,l=this.height,u=this.width,f=o+u,p=this.startY+l/2,m=new Int32Array(3),x=this.image;for(let b=0;b<l;b++){const S=p+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));m[0]=0,m[1]=0,m[2]=0;let P=o;for(;P<f&&!x.get(P,S);)P++;let R=0;for(;P<f;){if(x.get(P,S))if(R===1)m[1]++;else if(R===2){if(this.foundPatternCross(m)){const B=this.handlePossibleCenter(m,S,P);if(B!==null)return B}m[0]=m[2],m[1]=1,m[2]=0,R=1}else m[++R]++;else R===1&&R++,m[R]++;P++}if(this.foundPatternCross(m)){const B=this.handlePossibleCenter(m,S,f);if(B!==null)return B}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(o,l){return l-o[2]-o[1]/2}foundPatternCross(o){const l=this.moduleSize,u=l/2;for(let f=0;f<3;f++)if(Math.abs(l-o[f])>=u)return!1;return!0}crossCheckVertical(o,l,u,f){const p=this.image,m=p.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let b=o;for(;b>=0&&p.get(l,b)&&x[1]<=u;)x[1]++,b--;if(b<0||x[1]>u)return NaN;for(;b>=0&&!p.get(l,b)&&x[0]<=u;)x[0]++,b--;if(x[0]>u)return NaN;for(b=o+1;b<m&&p.get(l,b)&&x[1]<=u;)x[1]++,b++;if(b===m||x[1]>u)return NaN;for(;b<m&&!p.get(l,b)&&x[2]<=u;)x[2]++,b++;if(x[2]>u)return NaN;const S=x[0]+x[1]+x[2];return 5*Math.abs(S-f)>=2*f?NaN:this.foundPatternCross(x)?wd.centerFromEnd(x,b):NaN}handlePossibleCenter(o,l,u){const f=o[0]+o[1]+o[2],p=wd.centerFromEnd(o,u),m=this.crossCheckVertical(l,p,2*o[1],f);if(!isNaN(m)){const x=(o[0]+o[1]+o[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(x,m,p))return S.combineEstimate(m,p,x);const b=new Dp(p,m,x);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class Rp extends me{constructor(o,l,u,f){super(o,l),this.estimatedModuleSize=u,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,l,u){if(Math.abs(l-this.getY())<=o&&Math.abs(u-this.getX())<=o){const f=Math.abs(o-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(o,l,u){const f=this.count+1,p=(this.count*this.getX()+l)/f,m=(this.count*this.getY()+o)/f,x=(this.count*this.estimatedModuleSize+u)/f;return new Rp(p,m,x,f)}}class ck{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class fr{constructor(o,l){this.image=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const l=o!=null&&o.get(j.TRY_HARDER)!==void 0,u=o!=null&&o.get(j.PURE_BARCODE)!==void 0,f=this.image,p=f.getHeight(),m=f.getWidth();let x=Math.floor(3*p/(4*fr.MAX_MODULES));(x<fr.MIN_SKIP||l)&&(x=fr.MIN_SKIP);let b=!1;const S=new Int32Array(5);for(let R=x-1;R<p&&!b;R+=x){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let B=0;for(let $=0;$<m;$++)if(f.get($,R))(B&1)===1&&B++,S[B]++;else if(B&1)S[B]++;else if(B===4)if(fr.foundPatternCross(S)){if(this.handlePossibleCenter(S,R,$,u)===!0)if(x=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>S[2]&&(R+=G-S[2]-x,$=m-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,B=3;continue}B=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,B=3;else S[++B]++;fr.foundPatternCross(S)&&this.handlePossibleCenter(S,R,m,u)===!0&&(x=S[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return me.orderBestPatterns(P),new ck(P)}static centerFromEnd(o,l){return l-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let l=0;for(let p=0;p<5;p++){const m=o[p];if(m===0)return!1;l+=m}if(l<7)return!1;const u=l/7,f=u/2;return Math.abs(u-o[0])<f&&Math.abs(u-o[1])<f&&Math.abs(3*u-o[2])<3*f&&Math.abs(u-o[3])<f&&Math.abs(u-o[4])<f}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,l,u,f){const p=this.getCrossCheckStateCount();let m=0;const x=this.image;for(;o>=m&&l>=m&&x.get(l-m,o-m);)p[2]++,m++;if(o<m||l<m)return!1;for(;o>=m&&l>=m&&!x.get(l-m,o-m)&&p[1]<=u;)p[1]++,m++;if(o<m||l<m||p[1]>u)return!1;for(;o>=m&&l>=m&&x.get(l-m,o-m)&&p[0]<=u;)p[0]++,m++;if(p[0]>u)return!1;const b=x.getHeight(),S=x.getWidth();for(m=1;o+m<b&&l+m<S&&x.get(l+m,o+m);)p[2]++,m++;if(o+m>=b||l+m>=S)return!1;for(;o+m<b&&l+m<S&&!x.get(l+m,o+m)&&p[3]<u;)p[3]++,m++;if(o+m>=b||l+m>=S||p[3]>=u)return!1;for(;o+m<b&&l+m<S&&x.get(l+m,o+m)&&p[4]<u;)p[4]++,m++;if(p[4]>=u)return!1;const P=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(P-f)<2*f&&fr.foundPatternCross(p)}crossCheckVertical(o,l,u,f){const p=this.image,m=p.getHeight(),x=this.getCrossCheckStateCount();let b=o;for(;b>=0&&p.get(l,b);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!p.get(l,b)&&x[1]<=u;)x[1]++,b--;if(b<0||x[1]>u)return NaN;for(;b>=0&&p.get(l,b)&&x[0]<=u;)x[0]++,b--;if(x[0]>u)return NaN;for(b=o+1;b<m&&p.get(l,b);)x[2]++,b++;if(b===m)return NaN;for(;b<m&&!p.get(l,b)&&x[3]<u;)x[3]++,b++;if(b===m||x[3]>=u)return NaN;for(;b<m&&p.get(l,b)&&x[4]<u;)x[4]++,b++;if(x[4]>=u)return NaN;const S=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(S-f)>=2*f?NaN:fr.foundPatternCross(x)?fr.centerFromEnd(x,b):NaN}crossCheckHorizontal(o,l,u,f){const p=this.image,m=p.getWidth(),x=this.getCrossCheckStateCount();let b=o;for(;b>=0&&p.get(b,l);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!p.get(b,l)&&x[1]<=u;)x[1]++,b--;if(b<0||x[1]>u)return NaN;for(;b>=0&&p.get(b,l)&&x[0]<=u;)x[0]++,b--;if(x[0]>u)return NaN;for(b=o+1;b<m&&p.get(b,l);)x[2]++,b++;if(b===m)return NaN;for(;b<m&&!p.get(b,l)&&x[3]<u;)x[3]++,b++;if(b===m||x[3]>=u)return NaN;for(;b<m&&p.get(b,l)&&x[4]<u;)x[4]++,b++;if(x[4]>=u)return NaN;const S=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(S-f)>=f?NaN:fr.foundPatternCross(x)?fr.centerFromEnd(x,b):NaN}handlePossibleCenter(o,l,u,f){const p=o[0]+o[1]+o[2]+o[3]+o[4];let m=fr.centerFromEnd(o,u),x=this.crossCheckVertical(l,Math.floor(m),o[2],p);if(!isNaN(x)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(x),o[2],p),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(m),o[2],p)))){const b=p/7;let S=!1;const P=this.possibleCenters;for(let R=0,B=P.length;R<B;R++){const $=P[R];if($.aboutEquals(b,x,m)){P[R]=$.combineEstimate(x,m,b),S=!0;break}}if(!S){const R=new Rp(m,x,b);P.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=fr.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,l=0;const u=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=fr.CENTER_QUORUM&&(o++,l+=m.getEstimatedModuleSize());if(o<3)return!1;const f=l/u;let p=0;for(const m of this.possibleCenters)p+=Math.abs(m.getEstimatedModuleSize()-f);return p<=.05*l}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new H;const l=this.possibleCenters;let u;if(o>3){let f=0,p=0;for(const b of this.possibleCenters){const S=b.getEstimatedModuleSize();f+=S,p+=S*S}u=f/o;let m=Math.sqrt(p/o-u*u);l.sort((b,S)=>{const P=Math.abs(S.getEstimatedModuleSize()-u),R=Math.abs(b.getEstimatedModuleSize()-u);return P<R?-1:P>R?1:0});const x=Math.max(.2*u,m);for(let b=0;b<l.length&&l.length>3;b++){const S=l[b];Math.abs(S.getEstimatedModuleSize()-u)>x&&(l.splice(b,1),b--)}}if(l.length>3){let f=0;for(const p of l)f+=p.getEstimatedModuleSize();u=f/l.length,l.sort((p,m)=>{if(m.getCount()===p.getCount()){const x=Math.abs(m.getEstimatedModuleSize()-u),b=Math.abs(p.getEstimatedModuleSize()-u);return x<b?1:x>b?-1:0}else return m.getCount()-p.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}fr.CENTER_QUORUM=2,fr.MIN_SKIP=3,fr.MAX_MODULES=57;class Jl{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(j.NEED_RESULT_POINT_CALLBACK);const u=new fr(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(u)}processFinderPatternInfo(o){const l=o.getTopLeft(),u=o.getTopRight(),f=o.getBottomLeft(),p=this.calculateModuleSize(l,u,f);if(p<1)throw new H("No pattern found in proccess finder.");const m=Jl.computeDimension(l,u,f,p),x=Pe.getProvisionalVersionForDimension(m),b=x.getDimensionForVersion()-7;let S=null;if(x.getAlignmentPatternCenters().length>0){const $=u.getX()-l.getX()+f.getX(),W=u.getY()-l.getY()+f.getY(),G=1-3/b,V=Math.floor(l.getX()+G*($-l.getX())),Z=Math.floor(l.getY()+G*(W-l.getY()));for(let ue=4;ue<=16;ue<<=1)try{S=this.findAlignmentInRegion(p,V,Z,ue);break}catch(ce){if(!(ce instanceof H))throw ce}}const P=Jl.createTransform(l,u,f,S,m),R=Jl.sampleGrid(this.image,P,m);let B;return S===null?B=[f,l,u]:B=[f,l,u,S],new Hi(R,B)}static createTransform(o,l,u,f,p){const m=p-3.5;let x,b,S,P;return f!==null?(x=f.getX(),b=f.getY(),S=m-3,P=S):(x=l.getX()-o.getX()+u.getX(),b=l.getY()-o.getY()+u.getY(),S=m,P=m),fi.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,S,P,3.5,m,o.getX(),o.getY(),l.getX(),l.getY(),x,b,u.getX(),u.getY())}static sampleGrid(o,l,u){return Aa.getInstance().sampleGridWithTransform(o,u,u,l)}static computeDimension(o,l,u,f){const p=Ie.round(me.distance(o,l)/f),m=Ie.round(me.distance(o,u)/f);let x=Math.floor((p+m)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new H("Dimensions could be not found.")}return x}calculateModuleSize(o,l,u){return(this.calculateModuleSizeOneWay(o,l)+this.calculateModuleSizeOneWay(o,u))/2}calculateModuleSizeOneWay(o,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(l.getX()),Math.floor(l.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(u)?f/7:isNaN(f)?u/7:(u+f)/14}sizeOfBlackWhiteBlackRunBothWays(o,l,u,f){let p=this.sizeOfBlackWhiteBlackRun(o,l,u,f),m=1,x=o-(u-o);x<0?(m=o/(o-x),x=0):x>=this.image.getWidth()&&(m=(this.image.getWidth()-1-o)/(x-o),x=this.image.getWidth()-1);let b=Math.floor(l-(f-l)*m);return m=1,b<0?(m=l/(l-b),b=0):b>=this.image.getHeight()&&(m=(this.image.getHeight()-1-l)/(b-l),b=this.image.getHeight()-1),x=Math.floor(o+(x-o)*m),p+=this.sizeOfBlackWhiteBlackRun(o,l,x,b),p-1}sizeOfBlackWhiteBlackRun(o,l,u,f){const p=Math.abs(f-l)>Math.abs(u-o);if(p){let $=o;o=l,l=$,$=u,u=f,f=$}const m=Math.abs(u-o),x=Math.abs(f-l);let b=-m/2;const S=o<u?1:-1,P=l<f?1:-1;let R=0;const B=u+S;for(let $=o,W=l;$!==B;$+=S){const G=p?W:$,V=p?$:W;if(R===1===this.image.get(G,V)){if(R===2)return Ie.distance($,W,o,l);R++}if(b+=x,b>0){if(W===f)break;W+=P,b-=m}}return R===2?Ie.distance(u+S,f,o,l):NaN}findAlignmentInRegion(o,l,u,f){const p=Math.floor(f*o),m=Math.max(0,l-p),x=Math.min(this.image.getWidth()-1,l+p);if(x-m<o*3)throw new H("Alignment top exceeds estimated module size.");const b=Math.max(0,u-p),S=Math.min(this.image.getHeight()-1,u+p);if(S-b<o*3)throw new H("Alignment bottom exceeds estimated module size.");return new wd(this.image,m,b,x-m,S-b,o,this.resultPointCallback).find()}}class Ia{constructor(){this.decoder=new uk}getDecoder(){return this.decoder}decode(o,l){let u,f;if(l!=null&&l.get(j.PURE_BARCODE)!==void 0){const b=Ia.extractPureBits(o.getBlackMatrix());u=this.decoder.decodeBitMatrix(b,l),f=Ia.NO_POINTS}else{const b=new Jl(o.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(b.getBits(),l),f=b.getPoints()}u.getOther()instanceof ib&&u.getOther().applyMirroredCorrection(f);const p=new $e(u.getText(),u.getRawBytes(),void 0,f,xe.QR_CODE,void 0),m=u.getByteSegments();m!==null&&p.putMetadata(ht.BYTE_SEGMENTS,m);const x=u.getECLevel();return x!==null&&p.putMetadata(ht.ERROR_CORRECTION_LEVEL,x),u.hasStructuredAppend()&&(p.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),p.putMetadata(ht.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),p}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),u=o.getBottomRightOnBit();if(l===null||u===null)throw new H;const f=this.moduleSize(l,o);let p=l[1],m=u[1],x=l[0],b=u[0];if(x>=b||p>=m)throw new H;if(m-p!==b-x&&(b=x+(m-p),b>=o.getWidth()))throw new H;const S=Math.round((b-x+1)/f),P=Math.round((m-p+1)/f);if(S<=0||P<=0)throw new H;if(P!==S)throw new H;const R=Math.floor(f/2);p+=R,x+=R;const B=x+Math.floor((S-1)*f)-b;if(B>0){if(B>R)throw new H;x-=B}const $=p+Math.floor((P-1)*f)-m;if($>0){if($>R)throw new H;p-=$}const W=new de(S,P);for(let G=0;G<P;G++){const V=p+Math.floor(G*f);for(let Z=0;Z<S;Z++)o.get(x+Math.floor(Z*f),V)&&W.set(Z,G)}return W}static moduleSize(o,l){const u=l.getHeight(),f=l.getWidth();let p=o[0],m=o[1],x=!0,b=0;for(;p<f&&m<u;){if(x!==l.get(p,m)){if(++b===5)break;x=!x}p++,m++}if(p===f||m===u)throw new H;return(p-o[0])/7}}Ia.NO_POINTS=new Array;class Fe{PDF417Common(){}static getBitCountSum(o){return Ie.sum(o)}static toIntArray(o){if(o==null||!o.length)return Fe.EMPTY_INT_ARRAY;const l=new Int32Array(o.length);let u=0;for(const f of o)l[u++]=f;return l}static getCodeword(o){const l=_.binarySearch(Fe.SYMBOL_TABLE,o&262143);return l<0?-1:(Fe.CODEWORD_TABLE[l]-1)%Fe.NUMBER_OF_CODEWORDS}}Fe.NUMBER_OF_CODEWORDS=929,Fe.MAX_CODEWORDS_IN_BARCODE=Fe.NUMBER_OF_CODEWORDS-1,Fe.MIN_ROWS_IN_BARCODE=3,Fe.MAX_ROWS_IN_BARCODE=90,Fe.MODULES_IN_CODEWORD=17,Fe.MODULES_IN_STOP_PATTERN=18,Fe.BARS_IN_MODULE=8,Fe.EMPTY_INT_ARRAY=new Int32Array([]),Fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class dk{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(o,l,u){let f=o.getBlackMatrix(),p=He.detect(u,f);return p.length||(f=f.clone(),f.rotate180(),p=He.detect(u,f)),new dk(f,p)}static detect(o,l){const u=new Array;let f=0,p=0,m=!1;for(;f<l.getHeight();){const x=He.findVertices(l,f,p);if(x[0]==null&&x[3]==null){if(!m)break;m=!1,p=0;for(const b of u)b[1]!=null&&(f=Math.trunc(Math.max(f,b[1].getY()))),b[3]!=null&&(f=Math.max(f,Math.trunc(b[3].getY())));f+=He.ROW_STEP;continue}if(m=!0,u.push(x),!o)break;x[2]!=null?(p=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(p=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return u}static findVertices(o,l,u){const f=o.getHeight(),p=o.getWidth(),m=new Array(8);return He.copyToResult(m,He.findRowsWithPattern(o,f,p,l,u,He.START_PATTERN),He.INDEXES_START_PATTERN),m[4]!=null&&(u=Math.trunc(m[4].getX()),l=Math.trunc(m[4].getY())),He.copyToResult(m,He.findRowsWithPattern(o,f,p,l,u,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),m}static copyToResult(o,l,u){for(let f=0;f<u.length;f++)o[u[f]]=l[f]}static findRowsWithPattern(o,l,u,f,p,m){const x=new Array(4);let b=!1;const S=new Int32Array(m.length);for(;f<l;f+=He.ROW_STEP){let R=He.findGuardPattern(o,p,f,u,!1,m,S);if(R!=null){for(;f>0;){const B=He.findGuardPattern(o,p,--f,u,!1,m,S);if(B!=null)R=B;else{f++;break}}x[0]=new me(R[0],f),x[1]=new me(R[1],f),b=!0;break}}let P=f+1;if(b){let R=0,B=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;P<l;P++){const $=He.findGuardPattern(o,B[0],P,u,!1,m,S);if($!=null&&Math.abs(B[0]-$[0])<He.MAX_PATTERN_DRIFT&&Math.abs(B[1]-$[1])<He.MAX_PATTERN_DRIFT)B=$,R=0;else{if(R>He.SKIPPED_ROW_COUNT_MAX)break;R++}}P-=R+1,x[2]=new me(B[0],P),x[3]=new me(B[1],P)}return P-f<He.BARCODE_MIN_HEIGHT&&_.fill(x,null),x}static findGuardPattern(o,l,u,f,p,m,x){_.fillWithin(x,0,x.length,0);let b=l,S=0;for(;o.get(b,u)&&b>0&&S++<He.MAX_PIXEL_DRIFT;)b--;let P=b,R=0,B=m.length;for(let $=p;P<f;P++)if(o.get(P,u)!==$)x[R]++;else{if(R===B-1){if(He.patternMatchVariance(x,m,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([b,P]);b+=x[0]+x[1],C.arraycopy(x,2,x,0,R-1),x[R-1]=0,x[R]=0,R--}else R++;x[R]=1,$=!$}return R===B-1&&He.patternMatchVariance(x,m,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([b,P-1]):null}static patternMatchVariance(o,l,u){let f=o.length,p=0,m=0;for(let S=0;S<f;S++)p+=o[S],m+=l[S];if(p<m)return 1/0;let x=p/m;u*=x;let b=0;for(let S=0;S<f;S++){let P=o[S],R=l[S]*x,B=P>R?P-R:R-P;if(B>u)return 1/0;b+=B}return b/p}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Ar{constructor(o,l){if(l.length===0)throw new v;this.field=o;let u=l.length;if(u>1&&l[0]===0){let f=1;for(;f<u&&l[f]===0;)f++;f===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-f),C.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let f=0;for(let p of this.coefficients)f=this.field.add(f,p);return f}let l=this.coefficients[0],u=this.coefficients.length;for(let f=1;f<u;f++)l=this.field.add(this.field.multiply(o,l),this.coefficients[f]);return l}add(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,u=o.coefficients;if(l.length>u.length){let m=l;l=u,u=m}let f=new Int32Array(u.length),p=u.length-l.length;C.arraycopy(u,0,f,0,p);for(let m=p;m<u.length;m++)f[m]=this.field.add(l[m-p],u[m]);return new Ar(this.field,f)}subtract(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Ar?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Ar(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,f=o.coefficients,p=f.length,m=new Int32Array(u+p-1);for(let x=0;x<u;x++){let b=l[x];for(let S=0;S<p;S++)m[x+S]=this.field.add(m[x+S],this.field.multiply(b,f[S]))}return new Ar(this.field,m)}negative(){let o=this.coefficients.length,l=new Int32Array(o);for(let u=0;u<o;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new Ar(this.field,l)}multiplyScalar(o){if(o===0)return new Ar(this.field,new Int32Array([0]));if(o===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let f=0;f<l;f++)u[f]=this.field.multiply(this.coefficients[f],o);return new Ar(this.field,u)}multiplyByMonomial(o,l){if(o<0)throw new v;if(l===0)return new Ar(this.field,new Int32Array([0]));let u=this.coefficients.length,f=new Int32Array(u+o);for(let p=0;p<u;p++)f[p]=this.field.multiply(this.coefficients[p],l);return new Ar(this.field,f)}toString(){let o=new oe;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(o.append(" - "),u=-u):o.length()>0&&o.append(" + "),(l===0||u!==1)&&o.append(u),l!==0&&(l===1?o.append("x"):(o.append("x^"),o.append(l))))}return o.toString()}}class fk{add(o,l){return(o+l)%this.modulus}subtract(o,l){return(this.modulus+o-l)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}inverse(o){if(o===0)throw new ae;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Mp extends fk{constructor(o,l){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let u=1;for(let f=0;f<o;f++)this.expTable[f]=u,u=u*l%o;for(let f=0;f<o-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Ar(this,new Int32Array([0])),this.one=new Ar(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new v;if(l===0)return this.zero;let u=new Int32Array(o+1);return u[0]=l,new Ar(this,u)}}Mp.PDF417_GF=new Mp(Fe.NUMBER_OF_CODEWORDS,3);class ab{constructor(){this.field=Mp.PDF417_GF}decode(o,l,u){let f=new Ar(this.field,o),p=new Int32Array(l),m=!1;for(let W=l;W>0;W--){let G=f.evaluateAt(this.field.exp(W));p[l-W]=G,G!==0&&(m=!0)}if(!m)return 0;let x=this.field.getOne();if(u!=null)for(const W of u){let G=this.field.exp(o.length-1-W),V=new Ar(this.field,new Int32Array([this.field.subtract(0,G),1]));x=x.multiply(V)}let b=new Ar(this.field,p),S=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),b,l),P=S[0],R=S[1],B=this.findErrorLocations(P),$=this.findErrorMagnitudes(R,P,B);for(let W=0;W<B.length;W++){let G=o.length-1-this.field.log(B[W]);if(G<0)throw w.getChecksumInstance();o[G]=this.field.subtract(o[G],$[W])}return B.length}runEuclideanAlgorithm(o,l,u){if(o.getDegree()<l.getDegree()){let B=o;o=l,l=B}let f=o,p=l,m=this.field.getZero(),x=this.field.getOne();for(;p.getDegree()>=Math.round(u/2);){let B=f,$=m;if(f=p,m=x,f.isZero())throw w.getChecksumInstance();p=B;let W=this.field.getZero(),G=f.getCoefficient(f.getDegree()),V=this.field.inverse(G);for(;p.getDegree()>=f.getDegree()&&!p.isZero();){let Z=p.getDegree()-f.getDegree(),ue=this.field.multiply(p.getCoefficient(p.getDegree()),V);W=W.add(this.field.buildMonomial(Z,ue)),p=p.subtract(f.multiplyByMonomial(Z,ue))}x=W.multiply(m).subtract($).negative()}let b=x.getCoefficient(0);if(b===0)throw w.getChecksumInstance();let S=this.field.inverse(b),P=x.multiply(S),R=p.multiply(S);return[P,R]}findErrorLocations(o){let l=o.getDegree(),u=new Int32Array(l),f=0;for(let p=1;p<this.field.getSize()&&f<l;p++)o.evaluateAt(p)===0&&(u[f]=this.field.inverse(p),f++);if(f!==l)throw w.getChecksumInstance();return u}findErrorMagnitudes(o,l,u){let f=l.getDegree(),p=new Int32Array(f);for(let S=1;S<=f;S++)p[f-S]=this.field.multiply(S,l.getCoefficient(S));let m=new Ar(this.field,p),x=u.length,b=new Int32Array(x);for(let S=0;S<x;S++){let P=this.field.inverse(u[S]),R=this.field.subtract(0,o.evaluateAt(P)),B=this.field.inverse(m.evaluateAt(P));b[S]=this.field.multiply(R,B)}return b}}class So{constructor(o,l,u,f,p){o instanceof So?this.constructor_2(o):this.constructor_1(o,l,u,f,p)}constructor_1(o,l,u,f,p){const m=l==null||u==null,x=f==null||p==null;if(m&&x)throw new H;m?(l=new me(0,f.getY()),u=new me(0,p.getY())):x&&(f=new me(o.getWidth()-1,l.getY()),p=new me(o.getWidth()-1,u.getY())),this.image=o,this.topLeft=l,this.bottomLeft=u,this.topRight=f,this.bottomRight=p,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(f.getX(),p.getX())),this.minY=Math.trunc(Math.min(l.getY(),f.getY())),this.maxY=Math.trunc(Math.max(u.getY(),p.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,l){return o==null?l:l==null?o:new So(o.image,o.topLeft,o.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(o,l,u){let f=this.topLeft,p=this.bottomLeft,m=this.topRight,x=this.bottomRight;if(o>0){let b=u?this.topLeft:this.topRight,S=Math.trunc(b.getY()-o);S<0&&(S=0);let P=new me(b.getX(),S);u?f=P:m=P}if(l>0){let b=u?this.bottomLeft:this.bottomRight,S=Math.trunc(b.getY()+l);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let P=new me(b.getX(),S);u?p=P:x=P}return new So(this.image,f,p,m,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hk{constructor(o,l,u,f){this.columnCount=o,this.errorCorrectionLevel=f,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class eu{constructor(){this.buffer=""}static form(o,l){let u=-1;function f(m,x,b,S,P,R){if(m==="%%")return"%";if(l[++u]===void 0)return;m=S?parseInt(S.substr(1)):void 0;let B=P?parseInt(P.substr(1)):void 0,$;switch(R){case"s":$=l[u];break;case"c":$=l[u][0];break;case"f":$=parseFloat(l[u]).toFixed(m);break;case"p":$=parseFloat(l[u]).toPrecision(m);break;case"e":$=parseFloat(l[u]).toExponential(m);break;case"x":$=parseInt(l[u]).toString(B||16);break;case"d":$=parseFloat(parseInt(l[u],B||10).toPrecision(m)).toFixed(0);break}$=typeof $=="object"?JSON.stringify($):(+$).toString(B);let W=parseInt(b),G=b&&b[0]+""=="0"?"0":" ";for(;$.length<W;)$=x!==void 0?$+G:G+$;return $}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(p,f)}format(o,...l){this.buffer+=eu.form(o,l)}toString(){return this.buffer}}class tu{constructor(o){this.boundingBox=new So(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let l=this.getCodeword(o);if(l!=null)return l;for(let u=1;u<tu.MAX_NEARBY_DISTANCE;u++){let f=this.imageRowToCodewordIndex(o)-u;if(f>=0&&(l=this.codewords[f],l!=null)||(f=this.imageRowToCodewordIndex(o)+u,f<this.codewords.length&&(l=this.codewords[f],l!=null)))return l}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,l){this.codewords[this.imageRowToCodewordIndex(o)]=l}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new eu;let l=0;for(const u of this.codewords){if(u==null){o.format("%3d:    |   %n",l++);continue}o.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return o.toString()}}tu.MAX_NEARBY_DISTANCE=5;class ru{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let l=this.values.get(o);l==null&&(l=0),l++,this.values.set(o,l)}getValue(){let o=-1,l=new Array;for(const[u,f]of this.values.entries()){const p={getKey:()=>u,getValue:()=>f};p.getValue()>o?(o=p.getValue(),l=[],l.push(p.getKey())):p.getValue()===o&&l.push(p.getKey())}return Fe.toIntArray(l)}getConfidence(o){return this.values.get(o)}}class ob extends tu{constructor(o,l){super(o),this._isLeft=l}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,o);let u=this.getBoundingBox(),f=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(p.getY())),b=-1,S=1,P=0;for(let R=m;R<x;R++){if(l[R]==null)continue;let B=l[R],$=B.getRowNumber()-b;if($===0)P++;else if($===1)S=Math.max(S,P),P=1,b=B.getRowNumber();else if($<0||B.getRowNumber()>=o.getRowCount()||$>R)l[R]=null;else{let W;S>2?W=(S-2)*$:W=$;let G=W>=R;for(let V=1;V<=W&&!G;V++)G=l[R-V]!=null;G?l[R]=null:(b=B.getRowNumber(),P=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let l=new Int32Array(o.getRowCount());for(let u of this.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=l.length)continue;l[f]++}return l}adjustIncompleteIndicatorColumnRowNumbers(o){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),b=-1;for(let S=p;S<m;S++){if(x[S]==null)continue;let P=x[S];P.setRowNumberAsRowIndicatorColumn();let R=P.getRowNumber()-b;R===0||(R===1?b=P.getRowNumber():P.getRowNumber()>=o.getRowCount()?x[S]=null:b=P.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),l=new ru,u=new ru,f=new ru,p=new ru;for(let x of o){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let b=x.getValue()%30,S=x.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:u.setValue(b*3+1);break;case 1:p.setValue(b/3),f.setValue(b%3);break;case 2:l.setValue(b+1);break}}if(l.getValue().length===0||u.getValue().length===0||f.getValue().length===0||p.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+f.getValue()[0]<Fe.MIN_ROWS_IN_BARCODE||u.getValue()[0]+f.getValue()[0]>Fe.MAX_ROWS_IN_BARCODE)return null;let m=new hk(l.getValue()[0],u.getValue()[0],f.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(o,m),m}removeIncorrectCodewords(o,l){for(let u=0;u<o.length;u++){let f=o[u];if(o[u]==null)continue;let p=f.getValue()%30,m=f.getRowNumber();if(m>l.getRowCount()){o[u]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:p*3+1!==l.getRowCountUpperPart()&&(o[u]=null);break;case 1:(Math.trunc(p/3)!==l.getErrorCorrectionLevel()||p%3!==l.getRowCountLowerPart())&&(o[u]=null);break;case 2:p+1!==l.getColumnCount()&&(o[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class nu{constructor(o,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Fe.MAX_CODEWORDS_IN_BARCODE,l;do l=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let f=0;f<u.length;f++)u[f]!=null&&(u[f].hasValidRowNumber()||this.adjustRowNumbers(l,f,u))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++)if(o[u]!=null&&l[u]!=null&&o[u].getRowNumber()===l[u].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let p=this.detectionResultColumns[f].getCodewords()[u];p!=null&&(p.setRowNumber(o[u].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let f=l[u].getRowNumber(),p=0;for(let m=this.barcodeColumnCount+1;m>0&&p<this.ADJUST_ROW_NUMBER_SKIP;m--){let x=this.detectionResultColumns[m].getCodewords()[u];x!=null&&(p=nu.adjustRowNumberIfValid(f,p,x),x.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let f=l[u].getRowNumber(),p=0;for(let m=1;m<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;m++){let x=this.detectionResultColumns[m].getCodewords()[u];x!=null&&(p=nu.adjustRowNumberIfValid(f,p,x),x.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(o)?(u.setRowNumber(o),l=0):++l),l}adjustRowNumbers(o,l,u){if(!this.detectionResultColumns[o-1])return;let f=u[l],p=this.detectionResultColumns[o-1].getCodewords(),m=p;this.detectionResultColumns[o+1]!=null&&(m=this.detectionResultColumns[o+1].getCodewords());let x=new Array(14);x[2]=p[l],x[3]=m[l],l>0&&(x[0]=u[l-1],x[4]=p[l-1],x[5]=m[l-1]),l>1&&(x[8]=u[l-2],x[10]=p[l-2],x[11]=m[l-2]),l<u.length-1&&(x[1]=u[l+1],x[6]=p[l+1],x[7]=m[l+1]),l<u.length-2&&(x[9]=u[l+2],x[12]=p[l+2],x[13]=m[l+2]);for(let b of x)if(nu.adjustRowNumber(f,b))return}static adjustRowNumber(o,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===o.getBucket()?(o.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,l){this.detectionResultColumns[o]=l}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new eu;for(let u=0;u<o.getCodewords().length;u++){l.format("CW %3d:",u);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){l.format("    |   ");continue}let p=this.detectionResultColumns[f].getCodewords()[u];if(p==null){l.format("    |   ");continue}l.format(" %3d|%3d",p.getRowNumber(),p.getValue())}l.format("%n")}return l.toString()}}class iu{constructor(o,l,u,f){this.rowNumber=iu.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==iu.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}iu.BARCODE_ROW_UNKNOWN=-1;class an{static initialize(){for(let o=0;o<Fe.SYMBOL_TABLE.length;o++){let l=Fe.SYMBOL_TABLE[o],u=l&1;for(let f=0;f<Fe.BARS_IN_MODULE;f++){let p=0;for(;(l&1)===u;)p+=1,l>>=1;u=l&1,an.RATIOS_TABLE[o]||(an.RATIOS_TABLE[o]=new Array(Fe.BARS_IN_MODULE)),an.RATIOS_TABLE[o][Fe.BARS_IN_MODULE-f-1]=Math.fround(p/Fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let l=an.getDecodedCodewordValue(an.sampleBitCounts(o));return l!==-1?l:an.getClosestDecodedValue(o)}static sampleBitCounts(o){let l=Ie.sum(o),u=new Int32Array(Fe.BARS_IN_MODULE),f=0,p=0;for(let m=0;m<Fe.MODULES_IN_CODEWORD;m++){let x=l/(2*Fe.MODULES_IN_CODEWORD)+m*l/Fe.MODULES_IN_CODEWORD;p+o[f]<=x&&(p+=o[f],f++),u[f]++}return u}static getDecodedCodewordValue(o){let l=an.getBitValue(o);return Fe.getCodeword(l)===-1?-1:l}static getBitValue(o){let l=0;for(let u=0;u<o.length;u++)for(let f=0;f<o[u];f++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(o){let l=Ie.sum(o),u=new Array(Fe.BARS_IN_MODULE);if(l>1)for(let m=0;m<u.length;m++)u[m]=Math.fround(o[m]/l);let f=Rt.MAX_VALUE,p=-1;this.bSymbolTableReady||an.initialize();for(let m=0;m<an.RATIOS_TABLE.length;m++){let x=0,b=an.RATIOS_TABLE[m];for(let S=0;S<Fe.BARS_IN_MODULE;S++){let P=Math.fround(b[S]-u[S]);if(x+=Math.fround(P*P),x>=f)break}x<f&&(f=x,p=Fe.SYMBOL_TABLE[m])}return p}}an.bSymbolTableReady=!1,an.RATIOS_TABLE=new Array(Fe.SYMBOL_TABLE.length).map(k=>new Array(Fe.BARS_IN_MODULE));class sb{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class lb{static parseLong(o,l=void 0){return parseInt(o,l)}}class ub extends h{}ub.kind="NullPointerException";class pk{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,l,u){if(o==null)throw new ub;if(l<0||l>o.length||u<0||l+u>o.length||l+u<0)throw new I;if(u===0)return;for(let f=0;f<u;f++)this.write(o[l+f])}flush(){}close(){}}class gk extends h{}class mk extends pk{constructor(o=32){if(super(),this.count=0,o<0)throw new v("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let u=this.buf.length<<1;if(u-o<0&&(u=o),u<0){if(o<0)throw new gk;u=T.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,u)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,l,u){if(l<0||l>o.length||u<0||l+u-o.length>0)throw new I;this.ensureCapacity(this.count+u),C.arraycopy(o,l,this.buf,this.count,u),this.count+=u}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var pt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pt||(pt={}));function cb(){if(typeof window<"u")return window.BigInt||null;if(typeof Nr<"u")return Nr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bd;function _a(k){if(typeof bd>"u"&&(bd=cb()),bd===null)throw new Error("BigInt is not supported!");return bd(k)}function vk(){let k=[];k[0]=_a(1);let o=_a(900);k[1]=o;for(let l=2;l<16;l++)k[l]=k[l-1]*o;return k}class Y{static decode(o,l){let u=new oe(""),f=U.ISO8859_1;u.enableDecoding(f);let p=1,m=o[p++],x=new sb;for(;p<o[0];){switch(m){case Y.TEXT_COMPACTION_MODE_LATCH:p=Y.textCompaction(o,p,u);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:p=Y.byteCompaction(m,o,f,p,u);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[p++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:p=Y.numericCompaction(o,p,u);break;case Y.ECI_CHARSET:U.getCharacterSetECIByValue(o[p++]);break;case Y.ECI_GENERAL_PURPOSE:p+=2;break;case Y.ECI_USER_DEFINED:p++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=Y.decodeMacroBlock(o,p,x);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new L;default:p--,p=Y.textCompaction(o,p,u);break}if(p<o.length)m=o[p++];else throw L.getFormatInstance()}if(u.length()===0)throw L.getFormatInstance();let b=new ye(null,u.toString(),null,l);return b.setOther(x),b}static decodeMacroBlock(o,l,u){if(l+Y.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw L.getFormatInstance();let f=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Y.NUMBER_OF_SEQUENCE_CODEWORDS;x++,l++)f[x]=o[l];u.setSegmentIndex(T.parseInt(Y.decodeBase900toBase10(f,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new oe;l=Y.textCompaction(o,l,p),u.setFileId(p.toString());let m=-1;for(o[l]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=l+1);l<o[0];)switch(o[l]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,o[l]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new oe;l=Y.textCompaction(o,l+1,x),u.setFileName(x.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new oe;l=Y.textCompaction(o,l+1,b),u.setSender(b.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new oe;l=Y.textCompaction(o,l+1,S),u.setAddressee(S.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new oe;l=Y.numericCompaction(o,l+1,P),u.setSegmentCount(T.parseInt(P.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new oe;l=Y.numericCompaction(o,l+1,R),u.setTimestamp(lb.parseLong(R.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let B=new oe;l=Y.numericCompaction(o,l+1,B),u.setChecksum(T.parseInt(B.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let $=new oe;l=Y.numericCompaction(o,l+1,$),u.setFileSize(lb.parseLong($.toString()));break;default:throw L.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(m!==-1){let x=l-m;u.isLastSegment()&&x--,u.setOptionalData(_.copyOfRange(o,m,m+x))}return l}static textCompaction(o,l,u){let f=new Int32Array((o[0]-l)*2),p=new Int32Array((o[0]-l)*2),m=0,x=!1;for(;l<o[0]&&!x;){let b=o[l++];if(b<Y.TEXT_COMPACTION_MODE_LATCH)f[m]=b/30,f[m+1]=b%30,m+=2;else switch(b){case Y.TEXT_COMPACTION_MODE_LATCH:f[m++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:l--,x=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=o[l++],p[m]=b,m++;break}}return Y.decodeTextCompaction(f,p,m,u),l}static decodeTextCompaction(o,l,u,f){let p=pt.ALPHA,m=pt.ALPHA,x=0;for(;x<u;){let b=o[x],S="";switch(p){case pt.ALPHA:if(b<26)S=String.fromCharCode(65+b);else switch(b){case 26:S=" ";break;case Y.LL:p=pt.LOWER;break;case Y.ML:p=pt.MIXED;break;case Y.PS:m=p,p=pt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:p=pt.ALPHA;break}break;case pt.LOWER:if(b<26)S=String.fromCharCode(97+b);else switch(b){case 26:S=" ";break;case Y.AS:m=p,p=pt.ALPHA_SHIFT;break;case Y.ML:p=pt.MIXED;break;case Y.PS:m=p,p=pt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:p=pt.ALPHA;break}break;case pt.MIXED:if(b<Y.PL)S=Y.MIXED_CHARS[b];else switch(b){case Y.PL:p=pt.PUNCT;break;case 26:S=" ";break;case Y.LL:p=pt.LOWER;break;case Y.AL:p=pt.ALPHA;break;case Y.PS:m=p,p=pt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:p=pt.ALPHA;break}break;case pt.PUNCT:if(b<Y.PAL)S=Y.PUNCT_CHARS[b];else switch(b){case Y.PAL:p=pt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:p=pt.ALPHA;break}break;case pt.ALPHA_SHIFT:if(p=m,b<26)S=String.fromCharCode(65+b);else switch(b){case 26:S=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:p=pt.ALPHA;break}break;case pt.PUNCT_SHIFT:if(p=m,b<Y.PAL)S=Y.PUNCT_CHARS[b];else switch(b){case Y.PAL:p=pt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:p=pt.ALPHA;break}break}S!==""&&f.append(S),x++}}static byteCompaction(o,l,u,f,p){let m=new mk,x=0,b=0,S=!1;switch(o){case Y.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),R=l[f++];for(;f<l[0]&&!S;)switch(P[x++]=R,b=900*b+R,R=l[f++],R){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:f--,S=!0;break;default:if(x%5===0&&x>0){for(let B=0;B<6;++B)m.write(Number(_a(b)>>_a(8*(5-B))));b=0,x=0}break}f===l[0]&&R<Y.TEXT_COMPACTION_MODE_LATCH&&(P[x++]=R);for(let B=0;B<x;B++)m.write(P[B]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;f<l[0]&&!S;){let B=l[f++];if(B<Y.TEXT_COMPACTION_MODE_LATCH)x++,b=900*b+B;else switch(B){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:f--,S=!0;break}if(x%5===0&&x>0){for(let $=0;$<6;++$)m.write(Number(_a(b)>>_a(8*(5-$))));b=0,x=0}}break}return p.append(X.decode(m.toByteArray(),u)),f}static numericCompaction(o,l,u){let f=0,p=!1,m=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;l<o[0]&&!p;){let x=o[l++];if(l===o[0]&&(p=!0),x<Y.TEXT_COMPACTION_MODE_LATCH)m[f]=x,f++;else switch(x){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:l--,p=!0;break}(f%Y.MAX_NUMERIC_CODEWORDS===0||x===Y.NUMERIC_COMPACTION_MODE_LATCH||p)&&f>0&&(u.append(Y.decodeBase900toBase10(m,f)),f=0)}return l}static decodeBase900toBase10(o,l){let u=_a(0);for(let p=0;p<l;p++)u+=Y.EXP900[l-p-1]*_a(o[p]);let f=u.toString();if(f.charAt(0)!=="1")throw new L;return f.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=cb()?vk():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ve{constructor(){}static decode(o,l,u,f,p,m,x){let b=new So(o,l,u,f,p),S=null,P=null,R;for(let W=!0;;W=!1){if(l!=null&&(S=Ve.getRowIndicatorColumn(o,b,l,!0,m,x)),f!=null&&(P=Ve.getRowIndicatorColumn(o,b,f,!1,m,x)),R=Ve.merge(S,P),R==null)throw H.getNotFoundInstance();let G=R.getBoundingBox();if(W&&G!=null&&(G.getMinY()<b.getMinY()||G.getMaxY()>b.getMaxY()))b=G;else break}R.setBoundingBox(b);let B=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,S),R.setDetectionResultColumn(B,P);let $=S!=null;for(let W=1;W<=B;W++){let G=$?W:B-W;if(R.getDetectionResultColumn(G)!==void 0)continue;let V;G===0||G===B?V=new ob(b,G===0):V=new tu(b),R.setDetectionResultColumn(G,V);let Z=-1,ue=Z;for(let ce=b.getMinY();ce<=b.getMaxY();ce++){if(Z=Ve.getStartColumn(R,G,ce,$),Z<0||Z>b.getMaxX()){if(ue===-1)continue;Z=ue}let se=Ve.detectCodeword(o,b.getMinX(),b.getMaxX(),$,Z,ce,m,x);se!=null&&(V.setCodeword(ce,se),ue=Z,m=Math.min(m,se.getWidth()),x=Math.max(x,se.getWidth()))}}return Ve.createDecoderResult(R)}static merge(o,l){if(o==null&&l==null)return null;let u=Ve.getBarcodeMetadata(o,l);if(u==null)return null;let f=So.merge(Ve.adjustBoundingBox(o),Ve.adjustBoundingBox(l));return new nu(u,f)}static adjustBoundingBox(o){if(o==null)return null;let l=o.getRowHeights();if(l==null)return null;let u=Ve.getMax(l),f=0;for(let x of l)if(f+=u-x,x>0)break;let p=o.getCodewords();for(let x=0;f>0&&p[x]==null;x++)f--;let m=0;for(let x=l.length-1;x>=0&&(m+=u-l[x],!(l[x]>0));x--);for(let x=p.length-1;m>0&&p[x]==null;x--)m--;return o.getBoundingBox().addMissingRows(f,m,o.isLeft())}static getMax(o){let l=-1;for(let u of o)l=Math.max(l,u);return l}static getBarcodeMetadata(o,l){let u;if(o==null||(u=o.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let f;return l==null||(f=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==f.getColumnCount()&&u.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&u.getRowCount()!==f.getRowCount()?null:u}static getRowIndicatorColumn(o,l,u,f,p,m){let x=new ob(l,f);for(let b=0;b<2;b++){let S=b===0?1:-1,P=Math.trunc(Math.trunc(u.getX()));for(let R=Math.trunc(Math.trunc(u.getY()));R<=l.getMaxY()&&R>=l.getMinY();R+=S){let B=Ve.detectCodeword(o,0,o.getWidth(),f,P,R,p,m);B!=null&&(x.setCodeword(R,B),f?P=B.getStartX():P=B.getEndX())}}return x}static adjustCodewordCount(o,l){let u=l[0][1],f=u.getValue(),p=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Ve.getNumberOfECCodeWords(o.getBarcodeECLevel());if(f.length===0){if(p<1||p>Fe.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();u.setValue(p)}else f[0]!==p&&u.setValue(p)}static createDecoderResult(o){let l=Ve.createBarcodeMatrix(o);Ve.adjustCodewordCount(o,l);let u=new Array,f=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),p=[],m=new Array;for(let b=0;b<o.getBarcodeRowCount();b++)for(let S=0;S<o.getBarcodeColumnCount();S++){let P=l[b][S+1].getValue(),R=b*o.getBarcodeColumnCount()+S;P.length===0?u.push(R):P.length===1?f[R]=P[0]:(m.push(R),p.push(P))}let x=new Array(p.length);for(let b=0;b<x.length;b++)x[b]=p[b];return Ve.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),f,Fe.toIntArray(u),Fe.toIntArray(m),x)}static createDecoderResultFromAmbiguousValues(o,l,u,f,p){let m=new Int32Array(f.length),x=100;for(;x-- >0;){for(let b=0;b<m.length;b++)l[f[b]]=p[b][m[b]];try{return Ve.decodeCodewords(l,o,u)}catch(b){if(!(b instanceof w))throw b}if(m.length===0)throw w.getChecksumInstance();for(let b=0;b<m.length;b++)if(m[b]<p[b].length-1){m[b]++;break}else if(m[b]=0,b===m.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(o){let l=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let f=0;f<l.length;f++)for(let p=0;p<l[f].length;p++)l[f][p]=new ru;let u=0;for(let f of o.getDetectionResultColumns()){if(f!=null){for(let p of f.getCodewords())if(p!=null){let m=p.getRowNumber();if(m>=0){if(m>=l.length)continue;l[m][u].setValue(p.getValue())}}}u++}return l}static isValidBarcodeColumn(o,l){return l>=0&&l<=o.getBarcodeColumnCount()+1}static getStartColumn(o,l,u,f){let p=f?1:-1,m=null;if(Ve.isValidBarcodeColumn(o,l-p)&&(m=o.getDetectionResultColumn(l-p).getCodeword(u)),m!=null)return f?m.getEndX():m.getStartX();if(m=o.getDetectionResultColumn(l).getCodewordNearby(u),m!=null)return f?m.getStartX():m.getEndX();if(Ve.isValidBarcodeColumn(o,l-p)&&(m=o.getDetectionResultColumn(l-p).getCodewordNearby(u)),m!=null)return f?m.getEndX():m.getStartX();let x=0;for(;Ve.isValidBarcodeColumn(o,l-p);){l-=p;for(let b of o.getDetectionResultColumn(l).getCodewords())if(b!=null)return(f?b.getEndX():b.getStartX())+p*x*(b.getEndX()-b.getStartX());x++}return f?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,l,u,f,p,m,x,b){p=Ve.adjustCodewordStartColumn(o,l,u,f,p,m);let S=Ve.getModuleBitCount(o,l,u,f,p,m);if(S==null)return null;let P,R=Ie.sum(S);if(f)P=p+R;else{for(let W=0;W<S.length/2;W++){let G=S[W];S[W]=S[S.length-1-W],S[S.length-1-W]=G}P=p,p=P-R}if(!Ve.checkCodewordSkew(R,x,b))return null;let B=an.getDecodedValue(S),$=Fe.getCodeword(B);return $===-1?null:new iu(p,P,Ve.getCodewordBucketNumber(B),$)}static getModuleBitCount(o,l,u,f,p,m){let x=p,b=new Int32Array(8),S=0,P=f?1:-1,R=f;for(;(f?x<u:x>=l)&&S<b.length;)o.get(x,m)===R?(b[S]++,x+=P):(S++,R=!R);return S===b.length||x===(f?u:l)&&S===b.length-1?b:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,l,u,f,p,m){let x=p,b=f?-1:1;for(let S=0;S<2;S++){for(;(f?x>=l:x<u)&&f===o.get(x,m);){if(Math.abs(p-x)>Ve.CODEWORD_SKEW_SIZE)return p;x+=b}b=-b,f=!f}return x}static checkCodewordSkew(o,l,u){return l-Ve.CODEWORD_SKEW_SIZE<=o&&o<=u+Ve.CODEWORD_SKEW_SIZE}static decodeCodewords(o,l,u){if(o.length===0)throw L.getFormatInstance();let f=1<<l+1,p=Ve.correctErrors(o,u,f);Ve.verifyCodewordCount(o,f);let m=Y.decode(o,""+l);return m.setErrorsCorrected(p),m.setErasures(u.length),m}static correctErrors(o,l,u){if(l!=null&&l.length>u/2+Ve.MAX_ERRORS||u<0||u>Ve.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return Ve.errorCorrection.decode(o,u,l)}static verifyCodewordCount(o,l){if(o.length<4)throw L.getFormatInstance();let u=o[0];if(u>o.length)throw L.getFormatInstance();if(u===0)if(l<o.length)o[0]=o.length-l;else throw L.getFormatInstance()}static getBitCountForCodeword(o){let l=new Int32Array(8),u=0,f=l.length-1;for(;!((o&1)!==u&&(u=o&1,f--,f<0));)l[f]++,o>>=1;return l}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Ve.getCodewordBucketNumber(Ve.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let l=new eu;for(let u=0;u<o.length;u++){l.format("Row %2d: ",u);for(let f=0;f<o[u].length;f++){let p=o[u][f];p.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}l.format("%n")}return l.toString()}}Ve.CODEWORD_SKEW_SIZE=2,Ve.MAX_ERRORS=3,Ve.MAX_EC_CODEWORDS=512,Ve.errorCorrection=new ab;class Sr{decode(o,l=null){let u=Sr.decode(o,l,!1);if(u==null||u.length===0||u[0]==null)throw H.getNotFoundInstance();return u[0]}decodeMultiple(o,l=null){try{return Sr.decode(o,l,!0)}catch(u){throw u instanceof L||u instanceof w?H.getNotFoundInstance():u}}static decode(o,l,u){const f=new Array,p=He.detectMultiple(o,l,u);for(const m of p.getPoints()){const x=Ve.decode(p.getBits(),m[4],m[5],m[6],m[7],Sr.getMinCodewordWidth(m),Sr.getMaxCodewordWidth(m)),b=new $e(x.getText(),x.getRawBytes(),void 0,m,xe.PDF_417);b.putMetadata(ht.ERROR_CORRECTION_LEVEL,x.getECLevel());const S=x.getOther();S!=null&&b.putMetadata(ht.PDF417_EXTRA_METADATA,S),f.push(b)}return f.map(m=>m)}static getMaxWidth(o,l){return o==null||l==null?0:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMinWidth(o,l){return o==null||l==null?T.MAX_VALUE:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Sr.getMaxWidth(o[0],o[4]),Sr.getMaxWidth(o[6],o[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.max(Sr.getMaxWidth(o[1],o[5]),Sr.getMaxWidth(o[7],o[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Sr.getMinWidth(o[0],o[4]),Sr.getMinWidth(o[6],o[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.min(Sr.getMinWidth(o[1],o[5]),Sr.getMinWidth(o[7],o[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ed extends h{}Ed.kind="ReaderException";class db{constructor(o,l){this.verbose=o===!0,l&&this.setHints(l)}decode(o,l){return l&&this.setHints(l),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const l=!n(o)&&o.get(j.TRY_HARDER)===!0,u=n(o)?null:o.get(j.POSSIBLE_FORMATS),f=new Array;if(!n(u)){const p=u.some(m=>m===xe.UPC_A||m===xe.UPC_E||m===xe.EAN_13||m===xe.EAN_8||m===xe.CODABAR||m===xe.CODE_39||m===xe.CODE_93||m===xe.CODE_128||m===xe.ITF||m===xe.RSS_14||m===xe.RSS_EXPANDED);p&&!l&&f.push(new Os(o,this.verbose)),u.includes(xe.QR_CODE)&&f.push(new Ia),u.includes(xe.DATA_MATRIX)&&f.push(new Oa),u.includes(xe.AZTEC)&&f.push(new md),u.includes(xe.PDF_417)&&f.push(new Sr),p&&l&&f.push(new Os(o,this.verbose))}f.length===0&&(l||f.push(new Os(o,this.verbose)),f.push(new Ia),f.push(new Oa),f.push(new md),f.push(new Sr),l&&f.push(new Os(o,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Ed("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(o,this.hints)}catch(u){if(u instanceof Ed)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class yk extends Ue{constructor(o=null,l=500){const u=new db;u.setHints(o),super(u,l)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class xk extends Ue{constructor(o=500){super(new Sr,o)}}class wk extends Ue{constructor(o=500){super(new Ia,o)}}var jp;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(jp||(jp={}));var ir=jp;class Bp{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new De(o,Int32Array.from([1])))}buildGenerator(o){const l=this.cachedGenerators;if(o>=l.length){let u=l[l.length-1];const f=this.field;for(let p=l.length;p<=o;p++){const m=u.multiply(new De(f,Int32Array.from([1,f.exp(p-1+f.getGeneratorBase())])));l.push(m),u=m}}return l[o]}encode(o,l){if(l===0)throw new v("No error correction bytes");const u=o.length-l;if(u<=0)throw new v("No data bytes provided");const f=this.buildGenerator(l),p=new Int32Array(u);C.arraycopy(o,0,p,0,u);let m=new De(this.field,p);m=m.multiplyByMonomial(l,1);const b=m.divide(f)[1].getCoefficients(),S=l-b.length;for(let P=0;P<S;P++)o[u+P]=0;C.arraycopy(b,0,o,u+S,b.length)}}class Ut{constructor(){}static applyMaskPenaltyRule1(o){return Ut.applyMaskPenaltyRule1Internal(o,!0)+Ut.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let l=0;const u=o.getArray(),f=o.getWidth(),p=o.getHeight();for(let m=0;m<p-1;m++){const x=u[m];for(let b=0;b<f-1;b++){const S=x[b];S===x[b+1]&&S===u[m+1][b]&&S===u[m+1][b+1]&&l++}}return Ut.N2*l}static applyMaskPenaltyRule3(o){let l=0;const u=o.getArray(),f=o.getWidth(),p=o.getHeight();for(let m=0;m<p;m++)for(let x=0;x<f;x++){const b=u[m];x+6<f&&b[x]===1&&b[x+1]===0&&b[x+2]===1&&b[x+3]===1&&b[x+4]===1&&b[x+5]===0&&b[x+6]===1&&(Ut.isWhiteHorizontal(b,x-4,x)||Ut.isWhiteHorizontal(b,x+7,x+11))&&l++,m+6<p&&u[m][x]===1&&u[m+1][x]===0&&u[m+2][x]===1&&u[m+3][x]===1&&u[m+4][x]===1&&u[m+5][x]===0&&u[m+6][x]===1&&(Ut.isWhiteVertical(u,x,m-4,m)||Ut.isWhiteVertical(u,x,m+7,m+11))&&l++}return l*Ut.N3}static isWhiteHorizontal(o,l,u){l=Math.max(l,0),u=Math.min(u,o.length);for(let f=l;f<u;f++)if(o[f]===1)return!1;return!0}static isWhiteVertical(o,l,u,f){u=Math.max(u,0),f=Math.min(f,o.length);for(let p=u;p<f;p++)if(o[p][l]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let l=0;const u=o.getArray(),f=o.getWidth(),p=o.getHeight();for(let b=0;b<p;b++){const S=u[b];for(let P=0;P<f;P++)S[P]===1&&l++}const m=o.getHeight()*o.getWidth();return Math.floor(Math.abs(l*2-m)*10/m)*Ut.N4}static getDataMaskBit(o,l,u){let f,p;switch(o){case 0:f=u+l&1;break;case 1:f=u&1;break;case 2:f=l%3;break;case 3:f=(u+l)%3;break;case 4:f=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:p=u*l,f=(p&1)+p%3;break;case 6:p=u*l,f=(p&1)+p%3&1;break;case 7:p=u*l,f=p%3+(u+l&1)&1;break;default:throw new v("Invalid mask pattern: "+o)}return f===0}static applyMaskPenaltyRule1Internal(o,l){let u=0;const f=l?o.getHeight():o.getWidth(),p=l?o.getWidth():o.getHeight(),m=o.getArray();for(let x=0;x<f;x++){let b=0,S=-1;for(let P=0;P<p;P++){const R=l?m[x][P]:m[P][x];R===S?b++:(b>=5&&(u+=Ut.N1+(b-5)),b=1,S=R)}b>=5&&(u+=Ut.N1+(b-5))}return u}}Ut.N1=3,Ut.N2=3,Ut.N3=40,Ut.N4=10;class Ad{constructor(o,l){this.width=o,this.height=l;const u=new Array(l);for(let f=0;f!==l;f++)u[f]=new Uint8Array(o);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(o,l){return this.bytes[l][o]}getArray(){return this.bytes}setNumber(o,l,u){this.bytes[l][o]=u}setBoolean(o,l,u){this.bytes[l][o]=u?1:0}clear(o){for(const l of this.bytes)_.fill(l,o)}equals(o){if(!(o instanceof Ad))return!1;const l=o;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,f=this.height;u<f;++u){const p=this.bytes[u],m=l.bytes[u];for(let x=0,b=this.width;x<b;++x)if(p[x]!==m[x])return!1}return!0}toString(){const o=new oe;for(let l=0,u=this.height;l<u;++l){const f=this.bytes[l];for(let p=0,m=this.width;p<m;++p)switch(f[p]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Co{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new oe;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Co.NUM_MASK_PATTERNS}}Co.NUM_MASK_PATTERNS=8;class mt extends h{}mt.kind="WriterException";class Be{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,l,u,f,p){Be.clearMatrix(p),Be.embedBasicPatterns(u,p),Be.embedTypeInfo(l,f,p),Be.maybeEmbedVersionInfo(u,p),Be.embedDataBits(o,f,p)}static embedBasicPatterns(o,l){Be.embedPositionDetectionPatternsAndSeparators(l),Be.embedDarkDotAtLeftBottomCorner(l),Be.maybeEmbedPositionAdjustmentPatterns(o,l),Be.embedTimingPatterns(l)}static embedTypeInfo(o,l,u){const f=new D;Be.makeTypeInfoBits(o,l,f);for(let p=0,m=f.getSize();p<m;++p){const x=f.get(f.getSize()-1-p),b=Be.TYPE_INFO_COORDINATES[p],S=b[0],P=b[1];if(u.setBoolean(S,P,x),p<8){const R=u.getWidth()-p-1;u.setBoolean(R,8,x)}else{const B=u.getHeight()-7+(p-8);u.setBoolean(8,B,x)}}}static maybeEmbedVersionInfo(o,l){if(o.getVersionNumber()<7)return;const u=new D;Be.makeVersionInfoBits(o,u);let f=6*3-1;for(let p=0;p<6;++p)for(let m=0;m<3;++m){const x=u.get(f);f--,l.setBoolean(p,l.getHeight()-11+m,x),l.setBoolean(l.getHeight()-11+m,p,x)}}static embedDataBits(o,l,u){let f=0,p=-1,m=u.getWidth()-1,x=u.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);x>=0&&x<u.getHeight();){for(let b=0;b<2;++b){const S=m-b;if(!Be.isEmpty(u.get(S,x)))continue;let P;f<o.getSize()?(P=o.get(f),++f):P=!1,l!==255&&Ut.getDataMaskBit(l,S,x)&&(P=!P),u.setBoolean(S,x,P)}x+=p}p=-p,x+=p,m-=2}if(f!==o.getSize())throw new mt("Not all bits consumed: "+f+"/"+o.getSize())}static findMSBSet(o){return 32-T.numberOfLeadingZeros(o)}static calculateBCHCode(o,l){if(l===0)throw new v("0 polynomial");const u=Be.findMSBSet(l);for(o<<=u-1;Be.findMSBSet(o)>=u;)o^=l<<Be.findMSBSet(o)-u;return o}static makeTypeInfoBits(o,l,u){if(!Co.isValidMaskPattern(l))throw new mt("Invalid mask pattern");const f=o.getBits()<<3|l;u.appendBits(f,5);const p=Be.calculateBCHCode(f,Be.TYPE_INFO_POLY);u.appendBits(p,10);const m=new D;if(m.appendBits(Be.TYPE_INFO_MASK_PATTERN,15),u.xor(m),u.getSize()!==15)throw new mt("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(o,l){l.appendBits(o.getVersionNumber(),6);const u=Be.calculateBCHCode(o.getVersionNumber(),Be.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new mt("should not happen but we got: "+l.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let l=8;l<o.getWidth()-8;++l){const u=(l+1)%2;Be.isEmpty(o.get(l,6))&&o.setNumber(l,6,u),Be.isEmpty(o.get(6,l))&&o.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new mt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,l,u){for(let f=0;f<8;++f){if(!Be.isEmpty(u.get(o+f,l)))throw new mt;u.setNumber(o+f,l,0)}}static embedVerticalSeparationPattern(o,l,u){for(let f=0;f<7;++f){if(!Be.isEmpty(u.get(o,l+f)))throw new mt;u.setNumber(o,l+f,0)}}static embedPositionAdjustmentPattern(o,l,u){for(let f=0;f<5;++f){const p=Be.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)u.setNumber(o+m,l+f,p[m])}}static embedPositionDetectionPattern(o,l,u){for(let f=0;f<7;++f){const p=Be.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)u.setNumber(o+m,l+f,p[m])}}static embedPositionDetectionPatternsAndSeparators(o){const l=Be.POSITION_DETECTION_PATTERN[0].length;Be.embedPositionDetectionPattern(0,0,o),Be.embedPositionDetectionPattern(o.getWidth()-l,0,o),Be.embedPositionDetectionPattern(0,o.getWidth()-l,o);const u=8;Be.embedHorizontalSeparationPattern(0,u-1,o),Be.embedHorizontalSeparationPattern(o.getWidth()-u,u-1,o),Be.embedHorizontalSeparationPattern(0,o.getWidth()-u,o);const f=7;Be.embedVerticalSeparationPattern(f,0,o),Be.embedVerticalSeparationPattern(o.getHeight()-f-1,0,o),Be.embedVerticalSeparationPattern(f,o.getHeight()-f,o)}static maybeEmbedPositionAdjustmentPatterns(o,l){if(o.getVersionNumber()<2)return;const u=o.getVersionNumber()-1,f=Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let p=0,m=f.length;p!==m;p++){const x=f[p];if(x>=0)for(let b=0;b!==m;b++){const S=f[b];S>=0&&Be.isEmpty(l.get(S,x))&&Be.embedPositionAdjustmentPattern(S-2,x-2,l)}}}}Be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Be.VERSION_INFO_POLY=7973,Be.TYPE_INFO_POLY=1335,Be.TYPE_INFO_MASK_PATTERN=21522;class bk{constructor(o,l){this.dataBytes=o,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class St{constructor(){}static calculateMaskPenalty(o){return Ut.applyMaskPenaltyRule1(o)+Ut.applyMaskPenaltyRule2(o)+Ut.applyMaskPenaltyRule3(o)+Ut.applyMaskPenaltyRule4(o)}static encode(o,l,u=null){let f=St.DEFAULT_BYTE_MODE_ENCODING;const p=u!==null&&u.get(ir.CHARACTER_SET)!==void 0;p&&(f=u.get(ir.CHARACTER_SET).toString());const m=this.chooseMode(o,f),x=new D;if(m===Re.BYTE&&(p||St.DEFAULT_BYTE_MODE_ENCODING!==f)){const ce=U.getCharacterSetECIByName(f);ce!==void 0&&this.appendECI(ce,x)}this.appendModeInfo(m,x);const b=new D;this.appendBytes(o,m,b,f);let S;if(u!==null&&u.get(ir.QR_VERSION)!==void 0){const ce=Number.parseInt(u.get(ir.QR_VERSION).toString(),10);S=Pe.getVersionForNumber(ce);const se=this.calculateBitsNeeded(m,x,b,S);if(!this.willFit(se,S,l))throw new mt("Data too big for requested version")}else S=this.recommendVersion(l,m,x,b);const P=new D;P.appendBitArray(x);const R=m===Re.BYTE?b.getSizeInBytes():o.length;this.appendLengthInfo(R,S,m,P),P.appendBitArray(b);const B=S.getECBlocksForLevel(l),$=S.getTotalCodewords()-B.getTotalECCodewords();this.terminateBits($,P);const W=this.interleaveWithECBytes(P,S.getTotalCodewords(),$,B.getNumBlocks()),G=new Co;G.setECLevel(l),G.setMode(m),G.setVersion(S);const V=S.getDimensionForVersion(),Z=new Ad(V,V),ue=this.chooseMaskPattern(W,l,S,Z);return G.setMaskPattern(ue),Be.buildMatrix(W,l,S,ue,Z),G.setMatrix(Z),G}static recommendVersion(o,l,u,f){const p=this.calculateBitsNeeded(l,u,f,Pe.getVersionForNumber(1)),m=this.chooseVersion(p,o),x=this.calculateBitsNeeded(l,u,f,m);return this.chooseVersion(x,o)}static calculateBitsNeeded(o,l,u,f){return l.getSize()+o.getCharacterCountBits(f)+u.getSize()}static getAlphanumericCode(o){return o<St.ALPHANUMERIC_TABLE.length?St.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,l=null){if(U.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(o))return Re.KANJI;let u=!1,f=!1;for(let p=0,m=o.length;p<m;++p){const x=o.charAt(p);if(St.isDigit(x))u=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return Re.BYTE}return f?Re.ALPHANUMERIC:u?Re.NUMERIC:Re.BYTE}static isOnlyDoubleByteKanji(o){let l;try{l=X.encode(o,U.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let f=0;f<u;f+=2){const p=l[f]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(o,l,u,f){let p=Number.MAX_SAFE_INTEGER,m=-1;for(let x=0;x<Co.NUM_MASK_PATTERNS;x++){Be.buildMatrix(o,l,u,x,f);let b=this.calculateMaskPenalty(f);b<p&&(p=b,m=x)}return m}static chooseVersion(o,l){for(let u=1;u<=40;u++){const f=Pe.getVersionForNumber(u);if(St.willFit(o,f,l))return f}throw new mt("Data too big")}static willFit(o,l,u){const f=l.getTotalCodewords(),m=l.getECBlocksForLevel(u).getTotalECCodewords(),x=f-m,b=(o+7)/8;return x>=b}static terminateBits(o,l){const u=o*8;if(l.getSize()>u)throw new mt("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let m=0;m<4&&l.getSize()<u;++m)l.appendBit(!1);const f=l.getSize()&7;if(f>0)for(let m=f;m<8;m++)l.appendBit(!1);const p=o-l.getSizeInBytes();for(let m=0;m<p;++m)l.appendBits(m&1?17:236,8);if(l.getSize()!==u)throw new mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,l,u,f,p,m){if(f>=u)throw new mt("Block ID too large");const x=o%u,b=u-x,S=Math.floor(o/u),P=S+1,R=Math.floor(l/u),B=R+1,$=S-R,W=P-B;if($!==W)throw new mt("EC bytes mismatch");if(u!==b+x)throw new mt("RS blocks mismatch");if(o!==(R+$)*b+(B+W)*x)throw new mt("Total bytes mismatch");f<b?(p[0]=R,m[0]=$):(p[0]=B,m[0]=W)}static interleaveWithECBytes(o,l,u,f){if(o.getSizeInBytes()!==u)throw new mt("Number of bits and data bytes does not match");let p=0,m=0,x=0;const b=new Array;for(let P=0;P<f;++P){const R=new Int32Array(1),B=new Int32Array(1);St.getNumDataBytesAndNumECBytesForBlockID(l,u,f,P,R,B);const $=R[0],W=new Uint8Array($);o.toBytes(8*p,W,0,$);const G=St.generateECBytes(W,B[0]);b.push(new bk(W,G)),m=Math.max(m,$),x=Math.max(x,G.length),p+=R[0]}if(u!==p)throw new mt("Data bytes does not match offset");const S=new D;for(let P=0;P<m;++P)for(const R of b){const B=R.getDataBytes();P<B.length&&S.appendBits(B[P],8)}for(let P=0;P<x;++P)for(const R of b){const B=R.getErrorCorrectionBytes();P<B.length&&S.appendBits(B[P],8)}if(l!==S.getSizeInBytes())throw new mt("Interleaving error: "+l+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(o,l){const u=o.length,f=new Int32Array(u+l);for(let m=0;m<u;m++)f[m]=o[m]&255;new Bp(Me.QR_CODE_FIELD_256).encode(f,l);const p=new Uint8Array(l);for(let m=0;m<l;m++)p[m]=f[u+m];return p}static appendModeInfo(o,l){l.appendBits(o.getBits(),4)}static appendLengthInfo(o,l,u,f){const p=u.getCharacterCountBits(l);if(o>=1<<p)throw new mt(o+" is bigger than "+((1<<p)-1));f.appendBits(o,p)}static appendBytes(o,l,u,f){switch(l){case Re.NUMERIC:St.appendNumericBytes(o,u);break;case Re.ALPHANUMERIC:St.appendAlphanumericBytes(o,u);break;case Re.BYTE:St.append8BitBytes(o,u,f);break;case Re.KANJI:St.appendKanjiBytes(o,u);break;default:throw new mt("Invalid mode: "+l)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const l=St.getDigit(o);return l>=0&&l<=9}static appendNumericBytes(o,l){const u=o.length;let f=0;for(;f<u;){const p=St.getDigit(o.charAt(f));if(f+2<u){const m=St.getDigit(o.charAt(f+1)),x=St.getDigit(o.charAt(f+2));l.appendBits(p*100+m*10+x,10),f+=3}else if(f+1<u){const m=St.getDigit(o.charAt(f+1));l.appendBits(p*10+m,7),f+=2}else l.appendBits(p,4),f++}}static appendAlphanumericBytes(o,l){const u=o.length;let f=0;for(;f<u;){const p=St.getAlphanumericCode(o.charCodeAt(f));if(p===-1)throw new mt;if(f+1<u){const m=St.getAlphanumericCode(o.charCodeAt(f+1));if(m===-1)throw new mt;l.appendBits(p*45+m,11),f+=2}else l.appendBits(p,6),f++}}static append8BitBytes(o,l,u){let f;try{f=X.encode(o,u)}catch(p){throw new mt(p)}for(let p=0,m=f.length;p!==m;p++){const x=f[p];l.appendBits(x,8)}}static appendKanjiBytes(o,l){let u;try{u=X.encode(o,U.SJIS)}catch(p){throw new mt(p)}const f=u.length;for(let p=0;p<f;p+=2){const m=u[p]&255,x=u[p+1]&255,b=m<<8&4294967295|x;let S=-1;if(b>=33088&&b<=40956?S=b-33088:b>=57408&&b<=60351&&(S=b-49472),S===-1)throw new mt("Invalid byte sequence");const P=(S>>8)*192+(S&255);l.appendBits(P,13)}}static appendECI(o,l){l.appendBits(Re.ECI.getBits(),4),l.appendBits(o.getValue(),8)}}St.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),St.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Oo{write(o,l,u,f=null){if(o.length===0)throw new v("Found empty contents");if(l<0||u<0)throw new v("Requested dimensions are too small: "+l+"x"+u);let p=wt.L,m=Oo.QUIET_ZONE_SIZE;f!==null&&(f.get(ir.ERROR_CORRECTION)!==void 0&&(p=wt.fromString(f.get(ir.ERROR_CORRECTION).toString())),f.get(ir.MARGIN)!==void 0&&(m=Number.parseInt(f.get(ir.MARGIN).toString(),10)));const x=St.encode(o,p,f);return this.renderResult(x,l,u,m)}writeToDom(o,l,u,f,p=null){typeof o=="string"&&(o=document.querySelector(o));const m=this.write(l,u,f,p);o&&o.appendChild(m)}renderResult(o,l,u,f){const p=o.getMatrix();if(p===null)throw new at;const m=p.getWidth(),x=p.getHeight(),b=m+f*2,S=x+f*2,P=Math.max(l,b),R=Math.max(u,S),B=Math.min(Math.floor(P/b),Math.floor(R/S)),$=Math.floor((P-m*B)/2),W=Math.floor((R-x*B)/2),G=this.createSVGElement(P,R);for(let V=0,Z=W;V<x;V++,Z+=B)for(let ue=0,ce=$;ue<m;ue++,ce+=B)if(p.get(ue,V)===1){const se=this.createSvgRectElement(ce,Z,B,B);G.appendChild(se)}return G}createSVGElement(o,l){const u=document.createElementNS(Oo.SVG_NS,"svg");return u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(o,l,u,f){const p=document.createElementNS(Oo.SVG_NS,"rect");return p.setAttributeNS(null,"x",o.toString()),p.setAttributeNS(null,"y",l.toString()),p.setAttributeNS(null,"height",u.toString()),p.setAttributeNS(null,"width",f.toString()),p.setAttributeNS(null,"fill","#000000"),p}}Oo.QUIET_ZONE_SIZE=4,Oo.SVG_NS="http://www.w3.org/2000/svg";class _s{encode(o,l,u,f,p){if(o.length===0)throw new v("Found empty contents");if(l!==xe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+l);if(u<0||f<0)throw new v(`Requested dimensions are too small: ${u}x${f}`);let m=wt.L,x=_s.QUIET_ZONE_SIZE;p!==null&&(p.get(ir.ERROR_CORRECTION)!==void 0&&(m=wt.fromString(p.get(ir.ERROR_CORRECTION).toString())),p.get(ir.MARGIN)!==void 0&&(x=Number.parseInt(p.get(ir.MARGIN).toString(),10)));const b=St.encode(o,m,p);return _s.renderResult(b,u,f,x)}static renderResult(o,l,u,f){const p=o.getMatrix();if(p===null)throw new at;const m=p.getWidth(),x=p.getHeight(),b=m+f*2,S=x+f*2,P=Math.max(l,b),R=Math.max(u,S),B=Math.min(Math.floor(P/b),Math.floor(R/S)),$=Math.floor((P-m*B)/2),W=Math.floor((R-x*B)/2),G=new de(P,R);for(let V=0,Z=W;V<x;V++,Z+=B)for(let ue=0,ce=$;ue<m;ue++,ce+=B)p.get(ue,V)===1&&G.setRegion(ce,Z,B,B);return G}}_s.QUIET_ZONE_SIZE=4;class Ek{encode(o,l,u,f,p){let m;switch(l){case xe.QR_CODE:m=new _s;break;default:throw new v("No encoder available for format "+l)}return m.encode(o,l,u,f,p)}}class Di extends te{constructor(o,l,u,f,p,m,x,b){if(super(m,x),this.yuvData=o,this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=p,f+m>l||p+x>u)throw new v("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(m,x)}getRow(o,l){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const f=(o+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,f,l,0,u),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=o*l,f=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return C.arraycopy(this.yuvData,p,f,0,u),f;for(let m=0;m<l;m++){const x=m*o;C.arraycopy(this.yuvData,p,f,x,o),p+=this.dataWidth}return f}isCropSupported(){return!0}crop(o,l,u,f){return new Di(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+l,u,f,!1)}renderThumbnail(){const o=this.getWidth()/Di.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Di.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(o*l),f=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let m=0;m<l;m++){const x=m*o;for(let b=0;b<o;b++){const S=f[p+b*Di.THUMBNAIL_SCALE_FACTOR]&255;u[x+b]=4278190080|S*65793}p+=this.dataWidth*Di.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Di.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Di.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,l){const u=this.yuvData;for(let f=0,p=this.top*this.dataWidth+this.left;f<l;f++,p+=this.dataWidth){const m=p+o/2;for(let x=p,b=p+o-1;x<m;x++,b--){const S=u[x];u[x]=u[b],u[b]=S}}}invert(){return new fe(this)}}Di.THUMBNAIL_SCALE_FACTOR=2;class Lp extends te{constructor(o,l,u,f,p,m,x){if(super(l,u),this.dataWidth=f,this.dataHeight=p,this.left=m,this.top=x,o.BYTES_PER_ELEMENT===4){const b=l*u,S=new Uint8ClampedArray(b);for(let P=0;P<b;P++){const R=o[P],B=R>>16&255,$=R>>7&510,W=R&255;S[P]=(B+$+W)/4&255}this.luminances=S}else this.luminances=o;if(f===void 0&&(this.dataWidth=l),p===void 0&&(this.dataHeight=u),m===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(o,l){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const f=(o+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,f,l,0,u),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=o*l,f=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return C.arraycopy(this.luminances,p,f,0,u),f;for(let m=0;m<l;m++){const x=m*o;C.arraycopy(this.luminances,p,f,x,o),p+=this.dataWidth}return f}isCropSupported(){return!0}crop(o,l,u,f){return new Lp(this.luminances,u,f,this.dataWidth,this.dataHeight,this.left+o,this.top+l)}invert(){return new fe(this)}}class fb extends U{static forName(o){return this.getCharacterSetECIByName(o)}}class Fp{}Fp.ISO_8859_1=U.ISO8859_1;class hb{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class pb{static singletonList(o){return[o]}static min(o,l){return o.sort(l)[0]}}class Ak{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Ts extends Ak{constructor(o,l,u){super(o),this.value=l,this.bitCount=u}appendTo(o,l){o.appendBits(this.value,this.bitCount)}add(o,l){return new Ts(this,o,l)}addBinaryShift(o,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ts(this,o,l)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+T.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class $p extends Ts{constructor(o,l,u){super(o,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(o,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):u===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(o,l){return new $p(this,o,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sk(k,o,l){return new $p(k,o,l)}function au(k,o,l){return new Ts(k,o,l)}const Ck=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ta=0,Sd=1,Hn=2,gb=3,Ri=4,Ok=new Ts(null,0,0),Up=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ik(k){for(let o of k)_.fill(o,-1);return k[Ta][Ri]=0,k[Sd][Ri]=0,k[Sd][Ta]=28,k[gb][Ri]=0,k[Hn][Ri]=0,k[Hn][Ta]=15,k}const mb=Ik(_.createInt32Array(6,6));class Mi{constructor(o,l,u,f){this.token=o,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,l){let u=this.bitCount,f=this.token;if(o!==this.mode){let m=Up[this.mode][o];f=au(f,m&65535,m>>16),u+=m>>16}let p=o===Hn?4:5;return f=au(f,l,p),new Mi(f,o,0,u+p)}shiftAndAppend(o,l){let u=this.token,f=this.mode===Hn?4:5;return u=au(u,mb[this.mode][o],f),u=au(u,l,5),new Mi(u,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(o){let l=this.token,u=this.mode,f=this.bitCount;if(this.mode===Ri||this.mode===Hn){let x=Up[u][Ta];l=au(l,x&65535,x>>16),f+=x>>16,u=Ta}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Mi(l,u,this.binaryShiftByteCount+1,f+p);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(o+1)),m}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Sk(l,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mi(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let l=this.bitCount+(Up[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?l+=Mi.calculateBinaryShiftCost(o)-Mi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(l+=10),l<=o.bitCount}toBitArray(o){let l=[];for(let f=this.endBinaryShift(o.length).token;f!==null;f=f.getPrevious())l.unshift(f);let u=new D;for(const f of l)f.appendTo(u,o);return u}toString(){return q.format("%s bits=%d bytes=%d",Ck[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Mi.INITIAL_STATE=new Mi(Ok,Ta,0,0);function _k(k){const o=q.getCharCode(" "),l=q.getCharCode("."),u=q.getCharCode(",");k[Ta][o]=1;const f=q.getCharCode("Z"),p=q.getCharCode("A");for(let B=p;B<=f;B++)k[Ta][B]=B-p+2;k[Sd][o]=1;const m=q.getCharCode("z"),x=q.getCharCode("a");for(let B=x;B<=m;B++)k[Sd][B]=B-x+2;k[Hn][o]=1;const b=q.getCharCode("9"),S=q.getCharCode("0");for(let B=S;B<=b;B++)k[Hn][B]=B-S+2;k[Hn][u]=12,k[Hn][l]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let B=0;B<P.length;B++)k[gb][q.getCharCode(P[B])]=B;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let B=0;B<R.length;B++)q.getCharCode(R[B])>0&&(k[Ri][q.getCharCode(R[B])]=B);return k}const Wp=_k(_.createInt32Array(5,256));class ou{constructor(o){this.text=o}encode(){const o=q.getCharCode(" "),l=q.getCharCode(`
`);let u=pb.singletonList(Mi.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let m,x=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case q.getCharCode("\r"):m=x===l?2:0;break;case q.getCharCode("."):m=x===o?3:0;break;case q.getCharCode(","):m=x===o?4:0;break;case q.getCharCode(":"):m=x===o?5:0;break;default:m=0}m>0?(u=ou.updateStateListForPair(u,p,m),p++):u=this.updateStateListForChar(u,p)}return pb.min(u,(p,m)=>p.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,l){const u=[];for(let f of o)this.updateStateForChar(f,l,u);return ou.simplifyStates(u)}updateStateForChar(o,l,u){let f=this.text[l]&255,p=Wp[o.getMode()][f]>0,m=null;for(let x=0;x<=Ri;x++){let b=Wp[x][f];if(b>0){if(m==null&&(m=o.endBinaryShift(l)),!p||x===o.getMode()||x===Hn){const S=m.latchAndAppend(x,b);u.push(S)}if(!p&&mb[o.getMode()][x]>=0){const S=m.shiftAndAppend(x,b);u.push(S)}}}if(o.getBinaryShiftByteCount()>0||Wp[o.getMode()][f]===0){let x=o.addBinaryShiftChar(l);u.push(x)}}static updateStateListForPair(o,l,u){const f=[];for(let p of o)this.updateStateForPair(p,l,u,f);return this.simplifyStates(f)}static updateStateForPair(o,l,u,f){let p=o.endBinaryShift(l);if(f.push(p.latchAndAppend(Ri,u)),o.getMode()!==Ri&&f.push(p.shiftAndAppend(Ri,u)),u===3||u===4){let m=p.latchAndAppend(Hn,16-u).latchAndAppend(Hn,1);f.push(m)}if(o.getBinaryShiftByteCount()>0){let m=o.addBinaryShiftChar(l).addBinaryShiftChar(l+1);f.push(m)}}static simplifyStates(o){let l=[];for(const u of o){let f=!0;for(const p of l){if(p.isBetterThanOrEqualTo(u)){f=!1;break}u.isBetterThanOrEqualTo(p)&&(l=l.filter(m=>m!==p))}f&&l.push(u)}return l}}class Je{constructor(){}static encodeBytes(o){return Je.encode(o,Je.DEFAULT_EC_PERCENT,Je.DEFAULT_AZTEC_LAYERS)}static encode(o,l,u){let f=new ou(o).encode(),p=T.truncDivision(f.getSize()*l,100)+11,m=f.getSize()+p,x,b,S,P,R;if(u!==Je.DEFAULT_AZTEC_LAYERS){if(x=u<0,b=Math.abs(u),b>(x?Je.MAX_NB_BITS_COMPACT:Je.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",u));S=Je.totalBitsInLayer(b,x),P=Je.WORD_SIZE[b];let se=S-S%P;if(R=Je.stuffBits(f,P),R.getSize()+p>se)throw new v("Data to large for user specified layer");if(x&&R.getSize()>P*64)throw new v("Data to large for user specified layer")}else{P=0,R=null;for(let se=0;;se++){if(se>Je.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=se<=3,b=x?se+1:se,S=Je.totalBitsInLayer(b,x),m>S)continue;(R==null||P!==Je.WORD_SIZE[b])&&(P=Je.WORD_SIZE[b],R=Je.stuffBits(f,P));let Ze=S-S%P;if(!(x&&R.getSize()>P*64)&&R.getSize()+p<=Ze)break}}let B=Je.generateCheckWords(R,S,P),$=R.getSize()/P,W=Je.generateModeMessage(x,b,$),G=(x?11:14)+b*4,V=new Int32Array(G),Z;if(x){Z=G;for(let se=0;se<V.length;se++)V[se]=se}else{Z=G+1+2*T.truncDivision(T.truncDivision(G,2)-1,15);let se=T.truncDivision(G,2),Ze=T.truncDivision(Z,2);for(let We=0;We<se;We++){let on=We+T.truncDivision(We,15);V[se-We-1]=Ze-on-1,V[se+We]=Ze+on+1}}let ue=new de(Z);for(let se=0,Ze=0;se<b;se++){let We=(b-se)*4+(x?9:12);for(let on=0;on<We;on++){let pi=on*2;for(let sn=0;sn<2;sn++)B.get(Ze+pi+sn)&&ue.set(V[se*2+sn],V[se*2+on]),B.get(Ze+We*2+pi+sn)&&ue.set(V[se*2+on],V[G-1-se*2-sn]),B.get(Ze+We*4+pi+sn)&&ue.set(V[G-1-se*2-sn],V[G-1-se*2-on]),B.get(Ze+We*6+pi+sn)&&ue.set(V[G-1-se*2-on],V[se*2+sn])}Ze+=We*8}if(Je.drawModeMessage(ue,x,Z,W),x)Je.drawBullsEye(ue,T.truncDivision(Z,2),5);else{Je.drawBullsEye(ue,T.truncDivision(Z,2),7);for(let se=0,Ze=0;se<T.truncDivision(G,2)-1;se+=15,Ze+=16)for(let We=T.truncDivision(Z,2)&1;We<Z;We+=2)ue.set(T.truncDivision(Z,2)-Ze,We),ue.set(T.truncDivision(Z,2)+Ze,We),ue.set(We,T.truncDivision(Z,2)-Ze),ue.set(We,T.truncDivision(Z,2)+Ze)}let ce=new hb;return ce.setCompact(x),ce.setSize(Z),ce.setLayers(b),ce.setCodeWords($),ce.setMatrix(ue),ce}static drawBullsEye(o,l,u){for(let f=0;f<u;f+=2)for(let p=l-f;p<=l+f;p++)o.set(p,l-f),o.set(p,l+f),o.set(l-f,p),o.set(l+f,p);o.set(l-u,l-u),o.set(l-u+1,l-u),o.set(l-u,l-u+1),o.set(l+u,l-u),o.set(l+u,l-u+1),o.set(l+u,l+u-1)}static generateModeMessage(o,l,u){let f=new D;return o?(f.appendBits(l-1,2),f.appendBits(u-1,6),f=Je.generateCheckWords(f,28,4)):(f.appendBits(l-1,5),f.appendBits(u-1,11),f=Je.generateCheckWords(f,40,4)),f}static drawModeMessage(o,l,u,f){let p=T.truncDivision(u,2);if(l)for(let m=0;m<7;m++){let x=p-3+m;f.get(m)&&o.set(x,p-5),f.get(m+7)&&o.set(p+5,x),f.get(20-m)&&o.set(x,p+5),f.get(27-m)&&o.set(p-5,x)}else for(let m=0;m<10;m++){let x=p-5+m+T.truncDivision(m,5);f.get(m)&&o.set(x,p-7),f.get(m+10)&&o.set(p+7,x),f.get(29-m)&&o.set(x,p+7),f.get(39-m)&&o.set(p-7,x)}}static generateCheckWords(o,l,u){let f=o.getSize()/u,p=new Bp(Je.getGF(u)),m=T.truncDivision(l,u),x=Je.bitsToWords(o,u,m);p.encode(x,m-f);let b=l%u,S=new D;S.appendBits(0,b);for(const P of Array.from(x))S.appendBits(P,u);return S}static bitsToWords(o,l,u){let f=new Int32Array(u),p,m;for(p=0,m=o.getSize()/l;p<m;p++){let x=0;for(let b=0;b<l;b++)x|=o.get(p*l+b)?1<<l-b-1:0;f[p]=x}return f}static getGF(o){switch(o){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new v("Unsupported word size "+o)}}static stuffBits(o,l){let u=new D,f=o.getSize(),p=(1<<l)-2;for(let m=0;m<f;m+=l){let x=0;for(let b=0;b<l;b++)(m+b>=f||o.get(m+b))&&(x|=1<<l-1-b);(x&p)===p?(u.appendBits(x&p,l),m--):x&p?u.appendBits(x,l):(u.appendBits(x|1,l),m--)}return u}static totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}Je.DEFAULT_EC_PERCENT=33,Je.DEFAULT_AZTEC_LAYERS=0,Je.MAX_NB_BITS=32,Je.MAX_NB_BITS_COMPACT=4,Je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Cd{encode(o,l,u,f){return this.encodeWithHints(o,l,u,f,null)}encodeWithHints(o,l,u,f,p){let m=Fp.ISO_8859_1,x=Je.DEFAULT_EC_PERCENT,b=Je.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(ir.CHARACTER_SET)&&(m=fb.forName(p.get(ir.CHARACTER_SET).toString())),p.has(ir.ERROR_CORRECTION)&&(x=T.parseInt(p.get(ir.ERROR_CORRECTION).toString())),p.has(ir.AZTEC_LAYERS)&&(b=T.parseInt(p.get(ir.AZTEC_LAYERS).toString()))),Cd.encodeLayers(o,l,u,f,m,x,b)}static encodeLayers(o,l,u,f,p,m,x){if(l!==xe.AZTEC)throw new v("Can only encode AZTEC, but got "+l);let b=Je.encode(q.getBytes(o,p),m,x);return Cd.renderResult(b,u,f)}static renderResult(o,l,u){let f=o.getMatrix();if(f==null)throw new at;let p=f.getWidth(),m=f.getHeight(),x=Math.max(l,p),b=Math.max(u,m),S=Math.min(x/p,b/m),P=(x-p*S)/2,R=(b-m*S)/2,B=new de(x,b);for(let $=0,W=R;$<m;$++,W+=S)for(let G=0,V=P;G<p;G++,V+=S)f.get(G,$)&&B.setRegion(V,W,S,S);return B}}r.AbstractExpandedDecoder=Ip,r.ArgumentException=g,r.ArithmeticException=ae,r.AztecCode=hb,r.AztecCodeReader=md,r.AztecCodeWriter=Cd,r.AztecDecoder=_e,r.AztecDetector=Jw,r.AztecDetectorResult=Ea,r.AztecEncoder=Je,r.AztecHighLevelEncoder=ou,r.AztecPoint=Hr,r.BarcodeFormat=xe,r.Binarizer=A,r.BinaryBitmap=y,r.BitArray=D,r.BitMatrix=de,r.BitSource=Pp,r.BrowserAztecCodeReader=ek,r.BrowserBarcodeReader=ak,r.BrowserCodeReader=Ue,r.BrowserDatamatrixCodeReader=sk,r.BrowserMultiFormatReader=yk,r.BrowserPDF417Reader=xk,r.BrowserQRCodeReader=wk,r.BrowserQRCodeSvgWriter=Oo,r.CharacterSetECI=U,r.ChecksumException=w,r.Code128Reader=ge,r.Code39Reader=rr,r.DataMatrixDecodedBitStreamParser=Ca,r.DataMatrixReader=Oa,r.DecodeHintType=j,r.DecoderResult=ye,r.DefaultGridSampler=Qw,r.DetectorResult=Hi,r.EAN13Reader=bo,r.EncodeHintType=ir,r.Exception=h,r.FormatException=L,r.GenericGF=Me,r.GenericGFPoly=De,r.GlobalHistogramBinarizer=we,r.GridSampler=Ap,r.GridSamplerInstance=Aa,r.HTMLCanvasElementLuminanceSource=ie,r.HybridBinarizer=ee,r.ITFReader=gt,r.IllegalArgumentException=v,r.IllegalStateException=at,r.InvertedLuminanceSource=fe,r.LuminanceSource=te,r.MathUtils=Ie,r.MultiFormatOneDReader=Os,r.MultiFormatReader=db,r.MultiFormatWriter=Ek,r.NotFoundException=H,r.OneDReader=Yt,r.PDF417DecodedBitStreamParser=Y,r.PDF417DecoderErrorCorrection=ab,r.PDF417Reader=Sr,r.PDF417ResultMetadata=sb,r.PerspectiveTransform=fi,r.PlanarYUVLuminanceSource=Di,r.QRCodeByteMatrix=Ad,r.QRCodeDataMask=zn,r.QRCodeDecodedBitStreamParser=Mt,r.QRCodeDecoderErrorCorrectionLevel=wt,r.QRCodeDecoderFormatInformation=jr,r.QRCodeEncoder=St,r.QRCodeEncoderQRCode=Co,r.QRCodeMaskUtil=Ut,r.QRCodeMatrixUtil=Be,r.QRCodeMode=Re,r.QRCodeReader=Ia,r.QRCodeVersion=Pe,r.QRCodeWriter=_s,r.RGBLuminanceSource=Lp,r.RSS14Reader=$t,r.RSSExpandedReader=ne,r.ReaderException=Ed,r.ReedSolomonDecoder=he,r.ReedSolomonEncoder=Bp,r.ReedSolomonException=Ge,r.Result=$e,r.ResultMetadataType=ht,r.ResultPoint=me,r.StringUtils=q,r.UnsupportedOperationException=J,r.VideoInputDevice=ve,r.WhiteRectangleDetector=di,r.WriterException=mt,r.ZXingArrays=_,r.ZXingCharset=fb,r.ZXingInteger=T,r.ZXingStandardCharsets=Fp,r.ZXingStringBuilder=oe,r.ZXingStringEncoding=X,r.ZXingSystem=C,r.createAbstractExpandedDecoder=nb,Object.defineProperty(r,"__esModule",{value:!0})})})(dm,dm.exports);var Ot=dm.exports;const Uj=Ln(Ot),Wj=Dk({__proto__:null,default:Uj},[Ot]);var Q2=function(){function e(t,r,n){if(this.formatMap=new Map([[Ee.QR_CODE,Ot.BarcodeFormat.QR_CODE],[Ee.AZTEC,Ot.BarcodeFormat.AZTEC],[Ee.CODABAR,Ot.BarcodeFormat.CODABAR],[Ee.CODE_39,Ot.BarcodeFormat.CODE_39],[Ee.CODE_93,Ot.BarcodeFormat.CODE_93],[Ee.CODE_128,Ot.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,Ot.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,Ot.BarcodeFormat.MAXICODE],[Ee.ITF,Ot.BarcodeFormat.ITF],[Ee.EAN_13,Ot.BarcodeFormat.EAN_13],[Ee.EAN_8,Ot.BarcodeFormat.EAN_8],[Ee.PDF_417,Ot.BarcodeFormat.PDF_417],[Ee.RSS_14,Ot.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,Ot.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,Ot.BarcodeFormat.UPC_A],[Ee.UPC_E,Ot.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,Ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Wj)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Ot.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Ot.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Ot.MultiFormatReader(this.verbose,this.hints),n=new Ot.HTMLCanvasElementLuminanceSource(t),i=new Ot.BinaryBitmap(new Ot.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:OI.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),zj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},Gj=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},J2=function(){function e(t,r,n){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return zj(this,void 0,void 0,function(){var r,n;return Gj(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:OI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var s=a[i],c=s.boundingBox.width*s.boundingBox.height;c>n&&(n=c,r=s)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),eE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},tE=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Hj=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&J2.isSupported()?(this.primaryDecoder=new J2(t,n,i),this.secondaryDecoder=new Q2(t,n,i)):this.primaryDecoder=new Q2(t,n,i)}return e.prototype.decodeAsync=function(t){return eE(this,void 0,void 0,function(){var r;return tE(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return eE(this,void 0,void 0,function(){var r,n;return tE(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),vy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rh=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},nh=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},_I=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Vj=function(e){vy(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(_I),Kj=function(e){vy(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Vj),qj=function(e){vy(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(_I),Xj=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Kj(this.track)},e.prototype.torchFeature=function(){return new qj(this.track)},e}(),Yj=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return rh(this,void 0,void 0,function(){var a,s;return nh(this,function(c){switch(c.label){case 0:return a=new e(t,r,i),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rh(this,void 0,void 0,function(){return nh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,s=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++s,s>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Xj(this.getFirstTrackOrFail())},e}(),Zj=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return rh(this,void 0,void 0,function(){return nh(this,function(i){return[2,Yj.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return rh(this,void 0,void 0,function(){var r,n;return nh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),rE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},nE=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Qj=function(){function e(){}return e.failIfNotSupported=function(){return rE(this,void 0,void 0,function(){return nE(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return rE(this,void 0,void 0,function(){return nE(this,function(r){return[2,Zj.create(t)]})})},e}(),Jj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?a(g.value):i(g.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},e7=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},t7=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=tl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=tl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Jj(this,void 0,void 0,function(){var t,r,n,i,a,s,c;return e7(this,function(d){switch(d.label){case 0:return t=function(h){for(var g=h.getVideoTracks(),v=0,y=g;v<y.length;v++){var w=y[v];w.enabled=!1,w.stop(),h.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],a=0,s=n;a<s.length;a++)c=s[a],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var s=[],c=0,d=a;c<d.length;c++){var h=d[c];h.kind==="video"&&s.push({id:h.id,label:h.label})}t(s)},i=MediaStreamTrack;i.getSources(n)})},e}(),Wt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Wt||(Wt={}));var r7=function(){function e(){this.state=Wt.NOT_STARTED,this.onGoingTransactionNewState=Wt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Wt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Wt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Wt.UNKNOWN:throw"Transition from unknown is not allowed";case Wt.NOT_STARTED:this.failIfNewStateIs(t,[Wt.PAUSED]);break;case Wt.SCANNING:break;case Wt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),n7=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Wt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Wt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Wt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Wt.PAUSED},e}(),i7=function(){function e(){}return e.create=function(){return new n7(new r7)},e}(),a7=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wn=function(e){a7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Lj),o7=function(){function e(t,r){this.logger=r,this.fps=wn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=wn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?II.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!qi(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),s7=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new $j(this.verbose),this.qrcode=new Hj(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=i7.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var c=o7.create(r,this.logger);this.clearElement();var d=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=d,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:wn.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var v=this,y=this.stateManagerProxy.startTransition(Wt.SCANNING);return new Promise(function(w,A){var C=h?c.videoConstraints:v.createVideoConstraints(t);if(!C){y.cancel(),A("videoConstraints should be defined");return}var I={};(!h||c.aspectRatio)&&(I.aspectRatio=c.aspectRatio);var O={onRenderSurfaceReady:function(_,T){v.setupUi(_,T,c),v.isScanning=!0,v.foreverScan(c,n,s)}};Qj.failIfNotSupported().then(function(_){_.create(C).then(function(T){return T.render(a.element,I,O).then(function(D){v.renderedCamera=D,y.execute(),w(null)}).catch(function(D){y.cancel(),A(D)})}).catch(function(T){y.cancel(),A(tl.errorGettingUserMedia(T))})}).catch(function(_){y.cancel(),A(tl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Wt.PAUSED),this.showPausedState(),(qi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Wt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(wn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qi(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var s=new Image;s.onload=function(){var c=s.width,d=s.height,h=document.getElementById(n.elementId),g=h.clientWidth?h.clientWidth:wn.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:d,wn.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(c,d,g,v);if(r){var w=n.createCanvasElement(g,v,"qr-canvas-visible");w.style.display="inline-block",h.appendChild(w);var A=w.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=g,A.canvas.height=v,A.drawImage(s,0,0,c,d,y.x,y.y,y.width,y.height)}var C=wn.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(s.width,y.width),O=Math.max(s.height,y.height),_=I+2*C,T=O+2*C,D=n.createCanvasElement(_,T);h.appendChild(D);var M=D.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=_,M.canvas.height=T,M.drawImage(s,0,0,c,d,C,C,I,O);try{n.qrcode.decodeRobustlyAsync(D).then(function(j){i(Z2.createFromQrcodeResult(j))}).catch(a)}catch(j){a("QR code parse error, error = ".concat(j))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return t7.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!II.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var s=a[i];Bj(s)?n.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(qi(t))return!0;if(!qi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(qi(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return qi(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(t,r,a),c=function(h){if(h<wn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wn.MIN_QR_BOX_SIZE,"px.")},d=function(h){return h>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};c(s.width),c(s.height),s.width=d(s.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=qi(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=n.isShadedBoxEnabled()&&a.height<=r,c={x:0,y:0,width:t,height:r},d=s?this.getShadedRegionBounds(t,r,a):c,h=this.createCanvasElement(d.width,d.height),g={willReadFrequently:!0},v=h.getContext("2d",g);v.canvas.width=d.width,v.canvas.height=d.height,this.element.append(h),s&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=v,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=tl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Z2.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=tl.codeParseError(i);return r(a,Fj.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*s,h=this.qrRegion.height*c,g=this.qrRegion.x*s,v=this.qrRegion.y*c;this.context.drawImage(a,g,v,d,h,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(w){!w&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){y()})):y()}).catch(function(w){i.logger.logError("Error happend while scanning context",w),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={},a="exact",s=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var h=t.facingMode;if(typeof h=="string"){if(s(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(s(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var g=typeof h;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var y=typeof v;throw"Invalid type of 'deviceId' = ".concat(y)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,s=(i-r)/2;return{x:a,y:s,width:t,height:r}}else{var c=t,d=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?wn.BORDER_SHADER_MATCH_COLOR:wn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=qi(n)?"qr-canvas":n,s},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(r-i.width)/2,c=(n-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(wn.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,h=40;this.insertShaderBorders(a,h,d,-d,null,0,!0),this.insertShaderBorders(a,h,d,-d,null,0,!1),this.insertShaderBorders(a,h,d,null,-d,0,!0),this.insertShaderBorders(a,h,d,null,-d,0,!1),this.insertShaderBorders(a,d,h+d,-d,null,-d,!0),this.insertShaderBorders(a,d,h+d,null,-d,-d,!0),this.insertShaderBorders(a,d,h+d,-d,null,-d,!1),this.insertShaderBorders(a,d,h+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,s,c){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=wn.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),c?d.style.left="".concat(s,"px"):d.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),iE;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(iE||(iE={}));const l7=()=>E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("div",{className:"relative w-full h-full",children:[E.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white rounded-tl-lg"}),E.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white rounded-tr-lg"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white rounded-bl-lg"}),E.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white rounded-br-lg"}),E.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-red-500 rounded-full animate-scan-laser"})]})}),u7=({isOpen:e,onClose:t,onScanSuccess:r})=>{const n=N.useRef(null);return N.useEffect(()=>{if(!e)return;const i=new s7("barcode-scanner-container");n.current=i;const a={fps:10},s=(d,h)=>{r(d)},c=d=>{};return i.start({facingMode:"environment"},a,s,c).catch(d=>{console.error("Gagal memulai scanner",d)}),()=>{n.current&&n.current.isScanning&&n.current.stop().catch(d=>console.error("Gagal menghentikan scanner.",d))}},[e,r]),e?E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex flex-col justify-center items-center p-4 animate-fade-in",children:[E.jsxs("div",{className:"relative w-full max-w-md h-64 bg-gray-800 rounded-lg overflow-hidden shadow-2xl",children:[E.jsx("div",{id:"barcode-scanner-container",className:"w-full h-full"}),E.jsx(l7,{})]}),E.jsx("p",{className:"z-10 text-white text-lg mt-6",children:"Posisikan barcode di dalam kotak"}),E.jsx("button",{onClick:()=>{n.current&&n.current.isScanning&&n.current.stop(),t()},className:"z-10 mt-6 bg-white bg-opacity-20 backdrop-blur-md text-white font-bold py-3 px-8 rounded-lg border border-white border-opacity-30",children:"Batal"})]}):null},c7=({isOpen:e,onClose:t,onApplyDiscount:r})=>{const[n,i]=N.useState("persen"),[a,s]=N.useState("");if(!e)return null;const c=()=>{const d=parseFloat(a);!isNaN(d)&&d>=0?(r({type:n,value:d}),t()):alert("Nilai diskon tidak valid.")};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm m-4",children:[E.jsx("h2",{className:"text-xl font-bold mb-4",children:"Tambah Diskon"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Diskon"}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>i("persen"),className:`w-full py-2 rounded-md ${n==="persen"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Persen (%)"}),E.jsx("button",{onClick:()=>i("rupiah"),className:`w-full py-2 rounded-md ${n==="rupiah"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Rupiah (Rp)"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nilai Diskon"}),E.jsx("input",{type:"number",name:"value",id:"value",value:a,onChange:d=>s(d.target.value),className:"w-full text-lg p-2 border-gray-300 rounded-md shadow-sm",placeholder:n==="persen"?"Contoh: 10":"Contoh: 5000",autoFocus:!0})]}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"}),E.jsx("button",{onClick:c,className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Terapkan"})]})]})})},aE=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),d7=({isOpen:e,onClose:t,onReturnSuccess:r})=>{const[n,i]=N.useState(1),[a,s]=N.useState(""),[c,d]=N.useState(null),[h,g]=N.useState(!1),[v,y]=N.useState({}),[w,A]=N.useState(""),C=()=>{i(1),s(""),d(null),g(!1),y({}),A("")},I=()=>{C(),t()},O=async M=>{M.preventDefault(),g(!0);const{data:j,error:L}=await Ke.from("transactions").select("*").eq("id",a).single();if(L||!j)Oe.error("Transaksi tidak ditemukan!"),d(null);else{d(j);const z={};j.items.forEach(U=>{z[U.product_id]={...U,return_quantity:0}}),y(z),i(2)}g(!1)},_=(M,j)=>{const L=v[M],z=L.return_quantity+j;z>=0&&z<=L.quantity&&y(U=>({...U,[M]:{...L,return_quantity:z}}))},T=Object.values(v).reduce((M,j)=>M+j.price*j.return_quantity,0),D=()=>{const M=Object.values(v).filter(j=>j.return_quantity>0);if(M.length===0){Oe.error("Pilih minimal satu item untuk diretur.");return}r({original_transaction_id:c.id,refund_amount:T,returned_items:M.map(j=>({product_id:j.product_id,name:j.name,price:j.price,quantity:j.return_quantity})),reason:w}),I()};return e?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Retur Transaksi"}),n===1&&E.jsxs("form",{onSubmit:O,className:"p-6",children:[E.jsx("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Masukkan ID Transaksi"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"number",name:"transactionId",value:a,onChange:M=>s(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0}),E.jsx("button",{type:"submit",disabled:h,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:h?"Mencari...":"Cari"})]})]}),n===2&&c&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsxs("div",{className:"mb-4",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"ID Transaksi:"})," ",c.id]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Total Awal:"})," ",aE(c.final_price)]})]}),E.jsx("div",{className:"space-y-3",children:Object.values(v).map(M=>E.jsxs("div",{className:"bg-gray-50 p-3 rounded-md flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:M.name}),E.jsxs("p",{className:"text-sm text-gray-500",children:["Dibeli: ",M.quantity]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>_(M.product_id,-1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold",children:"-"}),E.jsx("span",{children:M.return_quantity}),E.jsx("button",{onClick:()=>_(M.product_id,1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold",children:"+"})]})]},M.product_id))}),E.jsxs("div",{className:"mt-4",children:[E.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alasan Retur (Opsional)"}),E.jsx("input",{type:"text",name:"reason",value:w,onChange:M=>A(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),E.jsxs("div",{className:"flex justify-between items-center p-6 bg-gray-50 border-t flex-shrink-0",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm",children:"Total Pengembalian Dana"}),E.jsx("p",{className:"text-2xl font-bold",children:aE(T)})]}),E.jsx("button",{onClick:D,className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700",children:"Proses Retur"})]})]}),E.jsx("div",{className:"flex justify-end p-4 border-t bg-white rounded-b-lg",children:E.jsx("button",{type:"button",onClick:I,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Tutup"})})]})}):null},To=e=>isNaN(e)||e===null?"Rp0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),f7=e=>{if(!e)return"Waktu tidak valid";const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleDateString("id-ID",t)},yy=({isOpen:e,onClose:t,transactionDetails:r})=>{if(!e||!r)return null;const{id:n,items:i,subtotal:a,discount_amount:s,final_price:c,amountPaid:d,change:h,created_at:g}=r,v=()=>{window.print()};return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
          @media print {
            body * { visibility: hidden; }
            #receipt-section, #receipt-section * { visibility: visible; }
            #receipt-section { position: absolute; left: 0; top: 0; width: 100%; }
          }
        `}),E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:E.jsxs("div",{className:"w-full max-w-sm bg-gray-100 rounded-lg p-4",children:[E.jsxs("div",{id:"receipt-section",className:"bg-white p-6 font-mono",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"POS-Ku"}),E.jsx("p",{className:"text-xs",children:"Jl. Aplikasi No. 123, Kota Koding"}),E.jsx("p",{className:"text-xs",children:f7(g)}),E.jsxs("p",{className:"text-xs font-semibold",children:["No. Transaksi: #",n]})]}),E.jsx("div",{className:"border-t border-b border-dashed border-gray-400 my-2 py-2",children:i.map(y=>E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsxs("div",{children:[E.jsx("p",{children:y.name}),E.jsxs("p",{className:"text-xs text-gray-600",children:[y.quantity," x ",To(y.price)]})]}),E.jsx("p",{children:To(y.price*y.quantity)})]},y.product_id||y.name))}),E.jsxs("div",{className:"text-sm mt-2",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("p",{children:"Subtotal"}),E.jsx("p",{children:To(a)})]}),s>0&&E.jsxs("div",{className:"flex justify-between",children:[E.jsx("p",{children:"Diskon"}),E.jsxs("p",{children:["- ",To(s)]})]})]}),E.jsxs("div",{className:"flex justify-between font-bold border-t border-dashed border-gray-400 mt-2 pt-2",children:[E.jsx("p",{children:"TOTAL"}),E.jsx("p",{children:To(c)})]}),E.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[E.jsx("p",{children:"Tunai"}),E.jsx("p",{children:To(d)})]}),E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("p",{children:"Kembalian"}),E.jsx("p",{children:To(h)})]}),E.jsxs("div",{className:"text-center mt-6",children:[E.jsx("p",{className:"font-semibold",children:"Terima Kasih!"}),E.jsx("p",{className:"text-xs",children:"Silakan datang kembali"})]}),E.jsx("div",{className:"border-t border-dashed border-gray-400 mt-4 pt-2 text-center",children:E.jsx("p",{className:"text-xs text-gray-600",children:"Barang dapat dikembalikan dalam 24 jam dengan menyertakan struk ini."})})]}),E.jsxs("div",{className:"mt-4 flex gap-3",children:[E.jsx("button",{onClick:v,className:"w-full bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700",children:"Cetak Struk"}),E.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Transaksi Baru"})]})]})})]})},Ag=12,h7=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,c]=N.useState(0),[d,h]=N.useState([]),[g,v]=N.useState(""),[y,w]=N.useState("Semua"),[A,C]=N.useState("Semua"),[I,O]=N.useState(1),[_,T]=N.useState(!1),[D,M]=N.useState(!1),[j,L]=N.useState(!1),[z,U]=N.useState(!1),[J,X]=N.useState(!1),[q,oe]=N.useState(!1),[de,H]=N.useState(!1),[we,ee]=N.useState(""),[te,fe]=N.useState(null),[ie,ve]=N.useState(null);N.useEffect(()=>{(async()=>{const{data:Te,error:_e}=await Ke.from("categories").select("*").order("position",{ascending:!0});_e||h(Te)})()},[]);const re=N.useCallback(async()=>{a(!0);const he=(I-1)*Ag,Te=he+Ag-1;let _e=Ke.from("products").select("*, categories(name)",{count:"exact"});y!=="Semua"&&(_e=_e.eq("categories.name",y)),A==="Menipis"?_e=_e.lte("stock",5).gt("stock",0):A==="Habis"&&(_e=_e.eq("stock",0)),g&&(_e=_e.ilike("name",`%${g}%`)),_e=_e.order("created_at",{ascending:!1}).range(he,Te);const{data:Ie,error:Rt,count:me}=await _e;Rt?Oe.error("Gagal memuat produk."):(t(Ie),c(me)),a(!1)},[I,y,A,g]);N.useEffect(()=>{re()},[re]),N.useEffect(()=>{O(1)},[y,A,g]);const Ue=Math.ceil(s/Ag),$e=N.useMemo(()=>r.reduce((he,Te)=>he+Te.price*Te.quantity,0),[r]),qe=N.useMemo(()=>ie?ie.type==="persen"?$e*ie.value/100:Math.min(ie.value,$e):0,[ie,$e]),xe=N.useMemo(()=>$e-qe,[$e,qe]),cr=he=>{const Te=r.find(Ie=>Ie.id===he.id);if((Te?Te.quantity:0)>=he.stock){Oe.error(`Stok ${he.name} tidak mencukupi!`);return}n(Ie=>Ie.find(me=>me.id===he.id)?Ie.map(me=>me.id===he.id?{...me,quantity:me.quantity+1}:me):[...Ie,{...he,quantity:1}]),Oe.success(`"${he.name}" ditambahkan.`)},ht=(he,Te)=>{const _e=e.find(Ie=>Ie.id===he)||r.find(Ie=>Ie.id===he);if(_e&&Te>_e.stock){Oe.error(`Stok ${_e.name} hanya tersisa ${_e.stock}!`);return}Te<=0?n(Ie=>Ie.filter(Rt=>Rt.id!==he)):n(Ie=>Ie.map(Rt=>Rt.id===he?{...Rt,quantity:Te}:Rt))},ye=async he=>{const Te=Oe.loading("Memproses transaksi..."),_e={subtotal:$e,items:r,discount_type:ie==null?void 0:ie.type,discount_value:ie==null?void 0:ie.value,discount_amount:qe,final_price:xe},{data:Ie,error:Rt}=await Ke.from("transactions").insert(_e).select().single();if(Rt){Oe.error("Gagal menyimpan transaksi!",{id:Te});return}const me=r.map(Ea=>({product_id:Ea.id,quantity:Ea.quantity})),{error:Hi}=await Ke.rpc("decrement_stock",{items_in_cart:me});Hi?Oe.error("Transaksi berhasil, tapi GAGAL update stok!",{duration:5e3}):Oe.success("Transaksi berhasil & stok diperbarui!",{id:Te}),fe({...Ie,amountPaid:parseFloat(he),change:parseFloat(he)-xe}),X(!0),re()},je=async he=>{const Te=Oe.loading("Memproses retur..."),{error:_e}=await Ke.from("returns").insert([he]);if(_e){Oe.error(`Gagal menyimpan retur: ${_e.message}`,{id:Te});return}const Ie=he.returned_items.map(me=>({product_id:me.product_id,quantity:me.quantity})),{error:Rt}=await Ke.rpc("increment_stock",{items_to_return:Ie});Rt?Oe.error("Retur tercatat, tapi GAGAL update stok!",{duration:5e3,id:Te}):Oe.success("Retur berhasil diproses & stok diperbarui!",{id:Te}),re()},De=he=>{ve(he),Oe.success("Diskon berhasil diterapkan!")},ae=()=>{X(!1),fe(null),n([]),ve(null)},Me=async he=>{U(!1);const{data:Te,error:_e}=await Ke.from("products").select("*, categories(name)").eq("barcode",he).single();if(_e&&_e.code!=="PGRST116"){Oe.error("Gagal mencari barcode.");return}Te?cr(Te):(ee(he),M(!0),Oe("Barcode tidak ditemukan."))},Ge=async(he,Te)=>{const _e=Oe.loading("Menyimpan produk...");try{let Ie=null;if(Te){const Hi=`${Date.now()}_${Te.name}`,{error:Ea}=await Ke.storage.from("product-images").upload(Hi,Te);if(Ea)throw Ea;const{data:di}=Ke.storage.from("product-images").getPublicUrl(Hi);Ie=di.publicUrl}const Rt={name:he.name,price:parseFloat(he.price),category_id:he.category_id,barcode:he.barcode,image_url:Ie,stock:he.stock,is_consignment:he.is_consignment,cost_price:he.cost_price,supplier_id:he.supplier_id},{error:me}=await Ke.from("products").insert([Rt]);if(me)throw me;Oe.success("Produk baru berhasil disimpan!",{id:_e}),re()}catch(Ie){Oe.error(`Gagal: ${Ie.message}`,{id:_e})}},at=r.reduce((he,Te)=>he+Te.quantity,0);return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-4 h-full",children:[E.jsxs("div",{className:"md:col-span-2 flex flex-col h-full overflow-hidden",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm mb-4",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[E.jsxs("div",{className:"relative flex-grow",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(QO,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",placeholder:"Cari produk...",value:g,onChange:he=>v(he.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:()=>H(!0),className:"flex-grow flex items-center justify-center gap-2 bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-yellow-600",children:[E.jsx(eI,{className:"h-5 w-5"}),E.jsx("span",{children:"Retur"})]}),E.jsxs("button",{onClick:()=>U(!0),className:"flex-grow flex items-center justify-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-green-700",children:[E.jsx(sy,{className:"h-5 w-5"}),E.jsx("span",{children:"Scan"})]})]})]}),E.jsx("div",{className:"border-t my-3"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(aR,{className:"h-5 w-5 text-gray-500"}),E.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Filter Stok:"}),["Semua","Menipis","Habis"].map(he=>E.jsx("button",{onClick:()=>C(he),className:`px-3 py-1 text-sm rounded-full ${A===he?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:he},he))]})]}),E.jsxs("div",{className:"mb-4 flex items-center gap-2 overflow-x-auto pb-2",children:[E.jsx("button",{onClick:()=>w("Semua"),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${y==="Semua"?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Semua"}),d.map(he=>E.jsx("button",{onClick:()=>w(he.name),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${y===he.name?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"}`,children:he.name},he.id))]})]}),E.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[i?E.jsx("div",{className:"text-center text-gray-500 py-10",children:"Memuat produk..."}):E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:e.length>0?e.map(he=>E.jsx(xR,{product:he,onAddToCart:cr},he.id)):E.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:E.jsx("p",{children:"Produk tidak ditemukan."})})}),Ue>1&&E.jsxs("div",{className:"flex justify-center items-center mt-6 gap-4",children:[E.jsx("button",{onClick:()=>O(he=>he-1),disabled:I===1,className:"px-4 py-2 bg-white rounded-lg shadow disabled:opacity-50",children:"Sebelumnya"}),E.jsxs("span",{className:"font-semibold",children:[I," / ",Ue]}),E.jsx("button",{onClick:()=>O(he=>he+1),disabled:I===Ue,className:"px-4 py-2 bg-white rounded-lg shadow disabled:opacity-50",children:"Berikutnya"})]})]})]}),E.jsx("div",{id:"desktop-cart-target",className:"hidden md:block md:col-span-1",children:E.jsx(_2,{items:r,onUpdateQuantity:ht,onPay:()=>L(!0),subtotal:$e,discountAmount:qe,finalPrice:xe,onAddDiscount:()=>oe(!0),onRemoveDiscount:()=>ve(null),discount:ie})})]}),E.jsx("div",{id:"mobile-cart-target",className:"md:hidden fixed bottom-20 right-4 z-20",children:E.jsxs("button",{onClick:()=>T(!0),className:"bg-blue-600 text-white rounded-full p-4 shadow-lg transform hover:scale-110 transition-transform",children:[E.jsx(nR,{className:"h-7 w-7"}),at>0&&E.jsxs("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:[" ",at," "]})]})}),_&&E.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30 flex items-end",onClick:()=>T(!1),children:E.jsx("div",{className:"bg-gray-50 w-full rounded-t-2xl p-1 h-[85%] animate-slide-up",onClick:he=>he.stopPropagation(),children:E.jsx("div",{className:"p-4 bg-white rounded-t-2xl h-full",children:E.jsx(_2,{items:r,onUpdateQuantity:ht,onClose:()=>T(!1),onPay:()=>{T(!1),L(!0)},subtotal:$e,discountAmount:qe,finalPrice:xe,onAddDiscount:()=>{T(!1),oe(!0)},onRemoveDiscount:()=>ve(null),discount:ie})})})}),E.jsx(CI,{isOpen:D,onClose:()=>M(!1),onSave:Ge,initialBarcode:we}),E.jsx(jj,{isOpen:j,onClose:()=>L(!1),totalPrice:xe,onConfirmPayment:ye}),E.jsx(u7,{isOpen:z,onClose:()=>U(!1),onScanSuccess:Me}),E.jsx(yy,{isOpen:J,onClose:ae,transactionDetails:te}),E.jsx(c7,{isOpen:q,onClose:()=>oe(!1),onApplyDiscount:De}),E.jsx(d7,{isOpen:de,onClose:()=>H(!1),onReturnSuccess:je})]})},mu=({title:e,value:t,icon:r,onClick:n,color:i="blue"})=>{const a=n?"button":"div",s={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"},red:{bg:"bg-red-100",text:"text-red-600"}},c=s[i]||s.blue;return E.jsxs(a,{onClick:n,className:`bg-white p-4 rounded-xl shadow-sm flex items-center w-full text-left transition-all duration-300 ${n?"cursor-pointer hover:shadow-md hover:-translate-y-1":""}`,children:[E.jsx("div",{className:`p-3 rounded-lg mr-4 ${c.bg}`,children:E.jsx("div",{className:c.text,children:r})}),E.jsxs("div",{className:"overflow-hidden",children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),E.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-800 truncate",children:t})]})]})},p7=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),g7=e=>new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),TI=({transaction:e,onClick:t})=>E.jsx("div",{onClick:()=>t(e),className:"bg-white p-3 rounded-lg shadow-sm mb-3 cursor-pointer hover:bg-gray-50 transition-colors",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"font-bold text-gray-800",children:["Transaksi #",e.id]}),E.jsx("p",{className:"text-sm text-gray-500",children:g7(e.created_at)})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"font-bold text-blue-600",children:p7(e.final_price)}),E.jsxs("p",{className:"text-xs text-gray-400",children:[e.items.length," item"]})]})]})});function NI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=NI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=NI(e))&&(n&&(n+=" "),n+=t);return n}var y0={},PI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(PI);var xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(xy);var wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(wy);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",c="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const h=r[a];c?h==="\\"&&a+1<i?(a++,s+=r[a]):h===c?c="":s+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,n.push(s),s=""):s+=h:h==="["?(d=!0,s&&(n.push(s),s="")):h==="."?s&&(n.push(s),s=""):s+=h,a++}return s&&n.push(s),n}e.toPath=t})(x0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PI,r=xy,n=wy,i=x0;function a(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const g=c[d];return g===void 0?r.isDeepKey(d)?a(c,i.toPath(d),h):h:g}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const g=c[d];return g===void 0?h:g}default:{if(Array.isArray(d))return s(c,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const g=c[d];return g===void 0?h:g}}}function s(c,d,h){if(d.length===0)return h;let g=c;for(let v=0;v<d.length;v++){if(g==null||t.isUnsafeProperty(d[v]))return h;g=g[d[v]]}return g===void 0?h:g}e.get=a})(y0);var m7=y0.get;const so=Ln(m7);var kI={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,by=wr?Symbol.for("react.element"):60103,Ey=wr?Symbol.for("react.portal"):60106,w0=wr?Symbol.for("react.fragment"):60107,b0=wr?Symbol.for("react.strict_mode"):60108,E0=wr?Symbol.for("react.profiler"):60114,A0=wr?Symbol.for("react.provider"):60109,S0=wr?Symbol.for("react.context"):60110,Ay=wr?Symbol.for("react.async_mode"):60111,C0=wr?Symbol.for("react.concurrent_mode"):60111,O0=wr?Symbol.for("react.forward_ref"):60112,I0=wr?Symbol.for("react.suspense"):60113,v7=wr?Symbol.for("react.suspense_list"):60120,_0=wr?Symbol.for("react.memo"):60115,T0=wr?Symbol.for("react.lazy"):60116,y7=wr?Symbol.for("react.block"):60121,x7=wr?Symbol.for("react.fundamental"):60117,w7=wr?Symbol.for("react.responder"):60118,b7=wr?Symbol.for("react.scope"):60119;function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case by:switch(e=e.type,e){case Ay:case C0:case w0:case E0:case b0:case I0:return e;default:switch(e=e&&e.$$typeof,e){case S0:case O0:case T0:case _0:case A0:return e;default:return t}}case Ey:return t}}}function DI(e){return Un(e)===C0}dt.AsyncMode=Ay;dt.ConcurrentMode=C0;dt.ContextConsumer=S0;dt.ContextProvider=A0;dt.Element=by;dt.ForwardRef=O0;dt.Fragment=w0;dt.Lazy=T0;dt.Memo=_0;dt.Portal=Ey;dt.Profiler=E0;dt.StrictMode=b0;dt.Suspense=I0;dt.isAsyncMode=function(e){return DI(e)||Un(e)===Ay};dt.isConcurrentMode=DI;dt.isContextConsumer=function(e){return Un(e)===S0};dt.isContextProvider=function(e){return Un(e)===A0};dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===by};dt.isForwardRef=function(e){return Un(e)===O0};dt.isFragment=function(e){return Un(e)===w0};dt.isLazy=function(e){return Un(e)===T0};dt.isMemo=function(e){return Un(e)===_0};dt.isPortal=function(e){return Un(e)===Ey};dt.isProfiler=function(e){return Un(e)===E0};dt.isStrictMode=function(e){return Un(e)===b0};dt.isSuspense=function(e){return Un(e)===I0};dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===w0||e===C0||e===E0||e===b0||e===I0||e===v7||typeof e=="object"&&e!==null&&(e.$$typeof===T0||e.$$typeof===_0||e.$$typeof===A0||e.$$typeof===S0||e.$$typeof===O0||e.$$typeof===x7||e.$$typeof===w7||e.$$typeof===b7||e.$$typeof===y7)};dt.typeOf=Un;kI.exports=dt;var RI=kI.exports,mr=e=>e===0?0:e>0?1:-1,Rn=e=>typeof e=="number"&&e!=+e,zo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!Rn(e),zi=e=>Se(e)||typeof e=="string",E7=0,bl=e=>{var t=++E7;return"".concat(e||"").concat(t)},Qr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return n;var a;if(zo(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Rn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},MI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},La=(e,t)=>Se(e)&&Se(t)?r=>e+r*(t-e):()=>t;function A7(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):so(n,t))===r)}var er=e=>e===null||typeof e>"u",zc=e=>er(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),S7=["viewBox","children"],C7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oE=["points","pathLength"],Sg={svg:S7,polygon:oE,polyline:oE},Sy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],O7=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Sy.includes(i)&&(n[i]=a=>r[i](r,a))}),n},I7=(e,t,r)=>n=>(e(t,r,n),null),Gc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Sy.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=I7(a,t,r))}),n},sE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lE=null,Cg=null,jI=e=>{if(e===lE&&Array.isArray(Cg))return Cg;var t=[];return N.Children.forEach(e,r=>{er(r)||(RI.isFragment(r)?t=t.concat(jI(r.props.children)):t.push(r))}),Cg=t,lE=e,t};function Hc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>sE(i)):n=[sE(t)],jI(e).forEach(i=>{var a=so(i,"type.displayName")||so(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var _7=(e,t,r,n)=>{var i,a=(i=n&&(Sg==null?void 0:Sg[n]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(n&&a.includes(t)||C7.includes(t))||r&&Sy.includes(t)},ut=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;_7((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},T7=["children","width","height","viewBox","className","style","title","desc"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}function N7(e,t){if(e==null)return{};var r,n,i=P7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function P7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cy=N.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:c,title:d,desc:h}=e,g=N7(e,T7),v=a||{width:n,height:i,x:0,y:0},y=lt("recharts-surface",s);return N.createElement("svg",fm({},ut(g,!0,"svg"),{className:y,width:n,height:i,style:c,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),N.createElement("title",null,d),N.createElement("desc",null,h),r)}),k7=["children","className"];function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}function D7(e,t){if(e==null)return{};var r,n,i=R7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jr=N.forwardRef((e,t)=>{var{children:r,className:n}=e,i=D7(e,k7),a=lt("recharts-layer",n);return N.createElement("g",hm({className:a},ut(i,!0),{ref:t}),r)}),BI=N.createContext(null),M7=()=>N.useContext(BI);function Et(e){return function(){return e}}const LI=Math.cos,ih=Math.sin,Ii=Math.sqrt,ah=Math.PI,N0=2*ah,pm=Math.PI,gm=2*pm,Ro=1e-6,j7=gm-Ro;function FI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function B7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FI;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class L7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FI:B7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=n-t,h=i-r,g=s-t,v=c-r,y=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Ro)if(!(Math.abs(v*d-h*g)>Ro)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-s,A=i-c,C=d*d+h*h,I=w*w+A*A,O=Math.sqrt(C),_=Math.sqrt(y),T=a*Math.tan((pm-Math.acos((C+y-I)/(2*O*_)))/2),D=T/_,M=T/O;Math.abs(D-1)>Ro&&this._append`L${t+D*g},${r+D*v}`,this._append`A${a},${a},0,0,${+(v*w>g*A)},${this._x1=t+M*d},${this._y1=r+M*h}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),h=t+c,g=r+d,v=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Ro||Math.abs(this._y1-g)>Ro)&&this._append`L${h},${g}`,n&&(y<0&&(y=y%gm+gm),y>j7?this._append`A${n},${n},0,1,${v},${t-c},${r-d}A${n},${n},0,1,${v},${this._x1=h},${this._y1=g}`:y>Ro&&this._append`A${n},${n},0,${+(y>=pm)},${v},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Oy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new L7(t)}function Iy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $I(e){this._context=e}$I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function P0(e){return new $I(e)}function UI(e){return e[0]}function WI(e){return e[1]}function zI(e,t){var r=Et(!0),n=null,i=P0,a=null,s=Oy(c);e=typeof e=="function"?e:e===void 0?UI:Et(e),t=typeof t=="function"?t:t===void 0?WI:Et(t);function c(d){var h,g=(d=Iy(d)).length,v,y=!1,w;for(n==null&&(a=i(w=s())),h=0;h<=g;++h)!(h<g&&r(v=d[h],h,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(v,h,d),+t(v,h,d));if(w)return a=null,w+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Et(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Et(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Et(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),c):n},c}function Kd(e,t,r){var n=null,i=Et(!0),a=null,s=P0,c=null,d=Oy(h);e=typeof e=="function"?e:e===void 0?UI:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WI:Et(+r);function h(v){var y,w,A,C=(v=Iy(v)).length,I,O=!1,_,T=new Array(C),D=new Array(C);for(a==null&&(c=s(_=d())),y=0;y<=C;++y){if(!(y<C&&i(I=v[y],y,v))===O)if(O=!O)w=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=y-1;A>=w;--A)c.point(T[A],D[A]);c.lineEnd(),c.areaEnd()}O&&(T[y]=+e(I,y,v),D[y]=+t(I,y,v),c.point(n?+n(I,y,v):T[y],r?+r(I,y,v):D[y]))}if(_)return c=null,_+""||null}function g(){return zI().defined(i).curve(s).context(a)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:Et(+v),n=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Et(+v),h):e},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Et(+v),h):n},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:Et(+v),r=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Et(+v),h):t},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Et(+v),h):r},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(r)},h.lineX1=function(){return g().x(n).y(t)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Et(!!v),h):i},h.curve=function(v){return arguments.length?(s=v,a!=null&&(c=s(a)),h):s},h.context=function(v){return arguments.length?(v==null?a=c=null:c=s(a=v),h):a},h}class GI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function F7(e){return new GI(e,!0)}function $7(e){return new GI(e,!1)}const _y={draw(e,t){const r=Ii(t/ah);e.moveTo(r,0),e.arc(0,0,r,0,N0)}},U7={draw(e,t){const r=Ii(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HI=Ii(1/3),W7=HI*2,z7={draw(e,t){const r=Ii(t/W7),n=r*HI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},G7={draw(e,t){const r=Ii(t),n=-r/2;e.rect(n,n,r,r)}},H7=.8908130915292852,VI=ih(ah/10)/ih(7*ah/10),V7=ih(N0/10)*VI,K7=-LI(N0/10)*VI,q7={draw(e,t){const r=Ii(t*H7),n=V7*r,i=K7*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=N0*a/5,c=LI(s),d=ih(s);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*i,d*n+c*i)}e.closePath()}},Og=Ii(3),X7={draw(e,t){const r=-Ii(t/(Og*3));e.moveTo(0,r*2),e.lineTo(-Og*r,-r),e.lineTo(Og*r,-r),e.closePath()}},Vn=-.5,Kn=Ii(3)/2,mm=1/Ii(12),Y7=(mm/2+1)*3,Z7={draw(e,t){const r=Ii(t/Y7),n=r/2,i=r*mm,a=n,s=r*mm+r,c=-a,d=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(c,d),e.lineTo(Vn*n-Kn*i,Kn*n+Vn*i),e.lineTo(Vn*a-Kn*s,Kn*a+Vn*s),e.lineTo(Vn*c-Kn*d,Kn*c+Vn*d),e.lineTo(Vn*n+Kn*i,Vn*i-Kn*n),e.lineTo(Vn*a+Kn*s,Vn*s-Kn*a),e.lineTo(Vn*c+Kn*d,Vn*d-Kn*c),e.closePath()}};function Q7(e,t){let r=null,n=Oy(i);e=typeof e=="function"?e:Et(e||_y),t=typeof t=="function"?t:Et(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Et(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Et(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function oh(){}function sh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KI(e){this._context=e}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J7(e){return new KI(e)}function qI(e){this._context=e}qI.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eB(e){return new qI(e)}function XI(e){this._context=e}XI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tB(e){return new XI(e)}function YI(e){this._context=e}YI.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rB(e){return new YI(e)}function uE(e){return e<0?-1:1}function cE(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),c=(a*i+s*n)/(n+i);return(uE(a)+uE(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function dE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ig(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-n)/3;e._context.bezierCurveTo(n+c,i+c*t,a-c,s-c*r,a,s)}function lh(e){this._context=e}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ig(this,this._t0,dE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ig(this,dE(this,r=cE(this,e,t)),r);break;default:Ig(this,this._t0,r=cE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ZI(e){this._context=new QI(e)}(ZI.prototype=Object.create(lh.prototype)).point=function(e,t){lh.prototype.point.call(this,t,e)};function QI(e){this._context=e}QI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function nB(e){return new lh(e)}function iB(e){return new ZI(e)}function JI(e){this._context=e}JI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fE(e),i=fE(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fE(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function aB(e){return new JI(e)}function k0(e,t){this._context=e,this._t=t}k0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oB(e){return new k0(e,.5)}function sB(e){return new k0(e,0)}function lB(e){return new k0(e,1)}function El(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,c=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uB(e,t){return e[t]}function cB(e){const t=[];return t.key=e,t}function dB(){var e=Et([]),t=vm,r=El,n=uB;function i(a){var s=Array.from(e.apply(this,arguments),cB),c,d=s.length,h=-1,g;for(const v of a)for(c=0,++h;c<d;++c)(s[c][h]=[0,+n(v,s[c].key,h,a)]).data=v;for(c=0,g=Iy(t(s));c<d;++c)s[g[c]].index=c;return r(s,g),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Et(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Et(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?vm:typeof a=="function"?a:Et(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??El,i):r},i}function fB(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}El(e,t)}}function hB(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,c=0;s<i;++s)c+=e[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}El(e,t)}}function pB(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var c=0,d=0,h=0;c<s;++c){for(var g=e[t[c]],v=g[n][1]||0,y=g[n-1][1]||0,w=(v-y)/2,A=0;A<c;++A){var C=e[t[A]],I=C[n][1]||0,O=C[n-1][1]||0;w+=I-O}d+=v,h+=w*v}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,El(e,t)}}var gB=["type","size","sizeType"];function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(null,arguments)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){mB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mB(e,t,r){return(t=vB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=yB(e,"string");return typeof t=="symbol"?t:t+""}function yB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xB(e,t){if(e==null)return{};var r,n,i=wB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var e_={symbolCircle:_y,symbolCross:U7,symbolDiamond:z7,symbolSquare:G7,symbolStar:q7,symbolTriangle:X7,symbolWye:Z7},bB=Math.PI/180,EB=e=>{var t="symbol".concat(zc(e));return e_[t]||_y},AB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*bB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SB=(e,t)=>{e_["symbol".concat(zc(e))]=t},Ty=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=xB(e,gB),a=pE(pE({},i),{},{type:t,size:r,sizeType:n}),s=()=>{var v=EB(t),y=Q7().type(v).size(AB(r,n,t));return y()},{className:c,cx:d,cy:h}=a,g=ut(a,!0);return d===+d&&h===+h&&r===+r?N.createElement("path",ym({},g,{className:lt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:s()})):null};Ty.registerSymbol=SB;function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(null,arguments)}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ny(e,t,r){return(t=OB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=IB(e,"string");return typeof t=="symbol"?t:t+""}function IB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qn=32;class Py extends N.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=qn/2,a=qn/6,s=qn/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:qn,y2:i,className:"recharts-legend-icon"});if(d==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(qn,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return N.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var h=CB({},t);return delete h.legendIcon,N.cloneElement(t.legendIcon,h)}return N.createElement(Ty,{fill:c,cx:i,cy:i,size:qn,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,c={x:0,y:0,width:qn,height:qn},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,v)=>{var y=g.formatter||i,w=lt({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:g.inactive});if(g.type==="none")return null;var A=g.inactive?a:g.color,C=y?y(g.value,g,v):g.value;return N.createElement("li",xm({className:w,style:d,key:"legend-item-".concat(v)},Gc(this.props,g,v)),N.createElement(Cy,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(C," legend icon")},this.renderIcon(g,s)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},C))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Ny(Py,"displayName","Legend");Ny(Py,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var t_={},r_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],c=n(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(r_);var ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ky);var n_={},D0={},i_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(i_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(D0);var a_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(a_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D0,r=a_;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(n_);var o_={},s_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0;function r(n){return function(i){return t.get(i,n)}}e.property=r})(s_);var l_={},_g={},Tg={},Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dy);var Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ry);var R0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(R0);var mE;function _B(){return mE||(mE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My(),r=Dy,n=Ry,i=R0;function a(v,y,w){return typeof w!="function"?t.isMatch(v,y):s(v,y,function A(C,I,O,_,T,D){const M=w(C,I,O,_,T,D);return M!==void 0?!!M:s(C,I,A,D)},new Map)}function s(v,y,w,A){if(y===v)return!0;switch(typeof y){case"object":return c(v,y,w,A);case"function":return Object.keys(y).length>0?s(v,{...y},w,A):i.eq(v,y);default:return r.isObject(v)?typeof y=="string"?y==="":!0:i.eq(v,y)}}function c(v,y,w,A){if(y==null)return!0;if(Array.isArray(y))return h(v,y,w,A);if(y instanceof Map)return d(v,y,w,A);if(y instanceof Set)return g(v,y,w,A);const C=Object.keys(y);if(v==null)return C.length===0;if(C.length===0)return!0;if(A&&A.has(y))return A.get(y)===v;A&&A.set(y,v);try{for(let I=0;I<C.length;I++){const O=C[I];if(!n.isPrimitive(v)&&!(O in v)||y[O]===void 0&&v[O]!==void 0||y[O]===null&&v[O]!==null||!w(v[O],y[O],O,v,y,A))return!1}return!0}finally{A&&A.delete(y)}}function d(v,y,w,A){if(y.size===0)return!0;if(!(v instanceof Map))return!1;for(const[C,I]of y.entries()){const O=v.get(C);if(w(O,I,C,v,y,A)===!1)return!1}return!0}function h(v,y,w,A){if(y.length===0)return!0;if(!Array.isArray(v))return!1;const C=new Set;for(let I=0;I<y.length;I++){const O=y[I];let _=!1;for(let T=0;T<v.length;T++){if(C.has(T))continue;const D=v[T];let M=!1;if(w(D,O,I,v,y,A)&&(M=!0),M){C.add(T),_=!0;break}}if(!_)return!1}return!0}function g(v,y,w,A){return y.size===0?!0:v instanceof Set?h([...v],[...y],w,A):!1}e.isMatchWith=a,e.isSetMatch=g}(Tg)),Tg}var vE;function My(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_B();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(_g)),_g}var u_={},jy={},By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(By);var M0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(M0);var j0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",g="[object Array]",v="[object Function]",y="[object ArrayBuffer]",w="[object Object]",A="[object Error]",C="[object DataView]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",_="[object Uint16Array]",T="[object Uint32Array]",D="[object BigUint64Array]",M="[object Int8Array]",j="[object Int16Array]",L="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=g,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=C,e.dateTag=c,e.errorTag=A,e.float32ArrayTag=U,e.float64ArrayTag=J,e.functionTag=v,e.int16ArrayTag=j,e.int32ArrayTag=L,e.int8ArrayTag=M,e.mapTag=d,e.numberTag=n,e.objectTag=w,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=T,e.uint8ArrayTag=I,e.uint8ClampedArrayTag=O})(j0);var c_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(c_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=M0,n=j0,i=Ry,a=c_;function s(g,v){return c(g,void 0,g,new Map,v)}function c(g,v,y,w=new Map,A=void 0){const C=A==null?void 0:A(g,v,y,w);if(C!=null)return C;if(i.isPrimitive(g))return g;if(w.has(g))return w.get(g);if(Array.isArray(g)){const I=new Array(g.length);w.set(g,I);for(let O=0;O<g.length;O++)I[O]=c(g[O],O,y,w,A);return Object.hasOwn(g,"index")&&(I.index=g.index),Object.hasOwn(g,"input")&&(I.input=g.input),I}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const I=new RegExp(g.source,g.flags);return I.lastIndex=g.lastIndex,I}if(g instanceof Map){const I=new Map;w.set(g,I);for(const[O,_]of g)I.set(O,c(_,O,y,w,A));return I}if(g instanceof Set){const I=new Set;w.set(g,I);for(const O of g)I.add(c(O,void 0,y,w,A));return I}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(a.isTypedArray(g)){const I=new(Object.getPrototypeOf(g)).constructor(g.length);w.set(g,I);for(let O=0;O<g.length;O++)I[O]=c(g[O],O,y,w,A);return I}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const I=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return w.set(g,I),d(I,g,y,w,A),I}if(typeof File<"u"&&g instanceof File){const I=new File([g],g.name,{type:g.type});return w.set(g,I),d(I,g,y,w,A),I}if(g instanceof Blob){const I=new Blob([g],{type:g.type});return w.set(g,I),d(I,g,y,w,A),I}if(g instanceof Error){const I=new g.constructor;return w.set(g,I),I.message=g.message,I.name=g.name,I.stack=g.stack,I.cause=g.cause,d(I,g,y,w,A),I}if(typeof g=="object"&&h(g)){const I=Object.create(Object.getPrototypeOf(g));return w.set(g,I),d(I,g,y,w,A),I}return g}function d(g,v,y=g,w,A){const C=[...Object.keys(v),...t.getSymbols(v)];for(let I=0;I<C.length;I++){const O=C[I],_=Object.getOwnPropertyDescriptor(g,O);(_==null||_.writable)&&(g[O]=c(v[O],O,y,w,A))}}function h(g){switch(r.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(jy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(u_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My(),r=u_;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(l_);var d_={},f_={},h_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy,r=j0;function n(i,a){return t.cloneDeepWith(i,(s,c,d,h)=>{const g=a==null?void 0:a(s,c,d,h);if(g!=null)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(v,i),v}case r.argumentsTag:{const v={};return t.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}e.cloneDeepWith=n})(h_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h_;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(f_);var p_={},Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ly);var g_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(g_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xy,r=Ly,n=g_,i=x0;function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(s==null?void 0:s[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let h=s;for(let g=0;g<d.length;g++){const v=d[g];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}e.has=a})(p_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My(),r=wy,n=f_,i=y0,a=p_;function s(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(h){const g=i.get(h,c);return g===void 0?a.has(h,c):d===void 0?g===void 0:t.isMatch(g,d)}}e.matchesProperty=s})(d_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ky,r=s_,n=l_,i=d_;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(o_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_,r=ky,n=n_,i=o_;function a(s,c=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(t_);var TB=t_.uniqBy;const yE=Ln(TB);function m_(e,t,r){return t===!0?yE(e,r):typeof t=="function"?yE(e,t):e}var v_={exports:{}},y_={},x_={exports:{}},w_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=N;function NB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PB=typeof Object.is=="function"?Object.is:NB,kB=Al.useState,DB=Al.useEffect,RB=Al.useLayoutEffect,MB=Al.useDebugValue;function jB(e,t){var r=t(),n=kB({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return RB(function(){i.value=r,i.getSnapshot=t,Ng(i)&&a({inst:i})},[e,r,t]),DB(function(){return Ng(i)&&a({inst:i}),e(function(){Ng(i)&&a({inst:i})})},[e]),MB(r),r}function Ng(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!PB(e,r)}catch{return!0}}function BB(e,t){return t()}var LB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BB:jB;w_.useSyncExternalStore=Al.useSyncExternalStore!==void 0?Al.useSyncExternalStore:LB;x_.exports=w_;var FB=x_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=N,$B=FB;function UB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WB=typeof Object.is=="function"?Object.is:UB,zB=$B.useSyncExternalStore,GB=B0.useRef,HB=B0.useEffect,VB=B0.useMemo,KB=B0.useDebugValue;y_.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=GB(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=VB(function(){function d(w){if(!h){if(h=!0,g=w,w=n(w),i!==void 0&&s.hasValue){var A=s.value;if(i(A,w))return v=A}return v=w}if(A=v,WB(g,w))return A;var C=n(w);return i!==void 0&&i(A,C)?(g=w,A):(g=w,v=C)}var h=!1,g,v,y=r===void 0?null:r;return[function(){return d(t())},y===null?void 0:function(){return d(y())}]},[t,r,n,i]);var c=zB(e,a[0],a[1]);return HB(function(){s.hasValue=!0,s.value=c},[c]),KB(c),c};v_.exports=y_;var qB=v_.exports,Fy=N.createContext(null),XB=e=>e,Dt=()=>{var e=N.useContext(Fy);return e?e.store.dispatch:XB},Cf=()=>{},YB=()=>Cf,ZB=(e,t)=>e===t;function Ne(e){var t=N.useContext(Fy);return qB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YB,t?t.store.getState:Cf,t?t.store.getState:Cf,t?e:Cf,ZB)}function QB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function JB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function e9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var xE=e=>Array.isArray(e)?e:[e];function t9(e){const t=Array.isArray(e[0])?e[0]:e;return e9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function r9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var n9=class{constructor(e){this.value=e}deref(){return this.value}},i9=typeof WeakRef<"u"?WeakRef:n9,a9=0,wE=1;function qd(){return{s:a9,v:void 0,o:null,p:null}}function b_(e,t={}){let r=qd();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var v;let c=r;const{length:d}=arguments;for(let y=0,w=d;y<w;y++){const A=arguments[y];if(typeof A=="function"||typeof A=="object"&&A!==null){let C=c.o;C===null&&(c.o=C=new WeakMap);const I=C.get(A);I===void 0?(c=qd(),C.set(A,c)):c=I}else{let C=c.p;C===null&&(c.p=C=new Map);const I=C.get(A);I===void 0?(c=qd(),C.set(A,c)):c=I}}const h=c;let g;if(c.s===wE)g=c.v;else if(g=e.apply(null,arguments),a++,n){const y=((v=i==null?void 0:i.deref)==null?void 0:v.call(i))??i;y!=null&&n(y,g)&&(g=y,a!==0&&a--),i=typeof g=="object"&&g!==null||typeof g=="function"?new i9(g):g}return h.s=wE,h.v=g,g}return s.clearCache=()=>{r=qd(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function o9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,c,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),QB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const g={...r,...d},{memoize:v,memoizeOptions:y=[],argsMemoize:w=b_,argsMemoizeOptions:A=[]}=g,C=xE(y),I=xE(A),O=t9(i),_=v(function(){return a++,h.apply(null,arguments)},...C),T=w(function(){s++;const M=r9(O,arguments);return c=_.apply(null,M),c},...I);return Object.assign(T,{resultFunc:h,memoizedResultFunc:_,dependencies:O,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:v,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var Q=o9(b_),s9=Object.assign((e,t=Q)=>{JB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,c,d)=>(s[r[d]]=c,s),{}))},{withTypes:()=>s9}),E_={},A_={},S_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),c=t(i);if(s===c&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=r})(S_);var C_={},$y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($y);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(C_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S_,r=C_,n=x0;function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const h=(w,A)=>{let C=w;for(let I=0;I<A.length&&C!=null;++I)C=C[A[I]];return C},g=(w,A)=>A==null||w==null?A:typeof w=="object"&&"key"in w?Object.hasOwn(A,w.key)?A[w.key]:h(A,w.path):typeof w=="function"?w(A):Array.isArray(w)?h(A,w):typeof A=="object"?A[w]:A,v=s.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return a.map(w=>({original:w,criteria:v.map(A=>g(A,w))})).slice().sort((w,A)=>{for(let C=0;C<v.length;C++){const I=t.compareValues(w.criteria[C],A.criteria[C],c[C]);if(I!==0)return I}return 0}).map(w=>w.original)}e.orderBy=i})(A_);var O_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(c,d)=>{for(let h=0;h<c.length;h++){const g=c[h];Array.isArray(g)&&d<a?s(g,d+1):i.push(g)}};return s(r,0),i}e.flatten=t})(O_);var Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=D0,n=Dy,i=R0;function a(s,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(Uy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A_,r=O_,n=Uy;function i(a,...s){const c=s.length;return c>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(E_);var l9=E_.sortBy;const L0=Ln(l9);var I_=e=>e.legend.settings,u9=e=>e.legend.size,c9=e=>e.legend.payload,d9=Q([c9,I_],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?L0(n,r):n});function f9(){return Ne(d9)}var Xd=1;function __(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Xd||Math.abs(s.left-t.left)>Xd||Math.abs(s.top-t.top)>Xd||Math.abs(s.width-t.width)>Xd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ir(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var h9=typeof Symbol=="function"&&Symbol.observable||"@@observable",bE=h9,Pg=()=>Math.random().toString(36).substring(7).split("").join("."),p9={INIT:`@@redux/INIT${Pg()}`,REPLACE:`@@redux/REPLACE${Pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pg()}`},uh=p9;function Wy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function T_(e,t,r){if(typeof e!="function")throw new Error(Ir(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ir(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ir(1));return r(T_)(e,t)}let n=e,i=t,a=new Map,s=a,c=0,d=!1;function h(){s===a&&(s=new Map,a.forEach((I,O)=>{s.set(O,I)}))}function g(){if(d)throw new Error(Ir(3));return i}function v(I){if(typeof I!="function")throw new Error(Ir(4));if(d)throw new Error(Ir(5));let O=!0;h();const _=c++;return s.set(_,I),function(){if(O){if(d)throw new Error(Ir(6));O=!1,h(),s.delete(_),a=null}}}function y(I){if(!Wy(I))throw new Error(Ir(7));if(typeof I.type>"u")throw new Error(Ir(8));if(typeof I.type!="string")throw new Error(Ir(17));if(d)throw new Error(Ir(9));try{d=!0,i=n(i,I)}finally{d=!1}return(a=s).forEach(_=>{_()}),I}function w(I){if(typeof I!="function")throw new Error(Ir(10));n=I,y({type:uh.REPLACE})}function A(){const I=v;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Ir(11));function _(){const D=O;D.next&&D.next(g())}return _(),{unsubscribe:I(_)}},[bE](){return this}}}return y({type:uh.INIT}),{dispatch:y,subscribe:v,getState:g,replaceReducer:w,[bE]:A}}function g9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:uh.INIT})>"u")throw new Error(Ir(12));if(typeof r(void 0,{type:uh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ir(13))})}function N_(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{g9(r)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const h={};for(let g=0;g<n.length;g++){const v=n[g],y=r[v],w=s[v],A=y(w,c);if(typeof A>"u")throw c&&c.type,new Error(Ir(14));h[v]=A,d=d||A!==w}return d=d||n.length!==Object.keys(s).length,d?h:s}}function ch(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function m9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Ir(15))};const s={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},c=e.map(d=>d(s));return a=ch(...c)(i.dispatch),{...i,dispatch:a}}}function P_(e){return Wy(e)&&"type"in e&&typeof e.type=="string"}var k_=Symbol.for("immer-nothing"),EE=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function bi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sl=Object.getPrototypeOf;function os(e){return!!e&&!!e[Mn]}function fa(e){var t;return e?D_(e)||Array.isArray(e)||!!e[EE]||!!((t=e.constructor)!=null&&t[EE])||$0(e)||U0(e):!1}var v9=Object.prototype.constructor.toString();function D_(e){if(!e||typeof e!="object")return!1;const t=Sl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===v9}function dh(e,t){F0(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function F0(e){const t=e[Mn];return t?t.type_:Array.isArray(e)?1:$0(e)?2:U0(e)?3:0}function wm(e,t){return F0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function R_(e,t,r){const n=F0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function y9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $0(e){return e instanceof Map}function U0(e){return e instanceof Set}function Mo(e){return e.copy_||e.base_}function bm(e,t){if($0(e))return new Map(e);if(U0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=D_(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Mn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],c=n[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Sl(e),n)}else{const n=Sl(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function zy(e,t=!1){return W0(e)||os(e)||!fa(e)||(F0(e)>1&&(e.set=e.add=e.clear=e.delete=x9),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>zy(n,!0))),e}function x9(){bi(2)}function W0(e){return Object.isFrozen(e)}var w9={};function ss(e){const t=w9[e];return t||bi(0,e),t}var mc;function M_(){return mc}function b9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AE(e,t){t&&(ss("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Em(e){Am(e),e.drafts_.forEach(E9),e.drafts_=null}function Am(e){e===mc&&(mc=e.parent_)}function SE(e){return mc=b9(mc,e)}function E9(e){const t=e[Mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Mn].modified_&&(Em(t),bi(4)),fa(e)&&(e=fh(t,e),t.parent_||hh(t,e)),t.patches_&&ss("Patches").generateReplacementPatches_(r[Mn].base_,e,t.patches_,t.inversePatches_)):e=fh(t,r,[]),Em(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==k_?e:void 0}function fh(e,t,r){if(W0(t))return t;const n=t[Mn];if(!n)return dh(t,(i,a)=>OE(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return hh(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),dh(a,(c,d)=>OE(e,n,i,c,d,r,s)),hh(e,i,!1),r&&e.patches_&&ss("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function OE(e,t,r,n,i,a,s){if(os(i)){const c=a&&t&&t.type_!==3&&!wm(t.assigned_,n)?a.concat(n):void 0,d=fh(e,i,c);if(R_(r,n,d),os(d))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(fa(i)&&!W0(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fh(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&hh(e,i)}}function hh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zy(t,r)}function A9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:M_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Gy;r&&(i=[n],a=vc);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=s,c}var Gy={get(e,t){if(t===Mn)return e;const r=Mo(e);if(!wm(r,t))return S9(e,r,t);const n=r[t];return e.finalized_||!fa(n)?n:n===kg(e.base_,t)?(Dg(e),e.copy_[t]=Cm(n,e)):n},has(e,t){return t in Mo(e)},ownKeys(e){return Reflect.ownKeys(Mo(e))},set(e,t,r){const n=j_(Mo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=kg(Mo(e),t),a=i==null?void 0:i[Mn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(y9(r,i)&&(r!==void 0||wm(e.base_,t)))return!0;Dg(e),Sm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Dg(e),Sm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Mo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bi(11)},getPrototypeOf(e){return Sl(e.base_)},setPrototypeOf(){bi(12)}},vc={};dh(Gy,(e,t)=>{vc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vc.deleteProperty=function(e,t){return vc.set.call(this,e,t,void 0)};vc.set=function(e,t,r){return Gy.set.call(this,e[0],t,r,e[0])};function kg(e,t){const r=e[Mn];return(r?Mo(r):e)[t]}function S9(e,t,r){var i;const n=j_(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function j_(e,t){if(!(t in e))return;let r=Sl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Sl(r)}}function Sm(e){e.modified_||(e.modified_=!0,e.parent_&&Sm(e.parent_))}function Dg(e){e.copy_||(e.copy_=bm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var C9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(d=a,...h){return s.produce(d,g=>r.call(this,g,...h))}}typeof r!="function"&&bi(6),n!==void 0&&typeof n!="function"&&bi(7);let i;if(fa(t)){const a=SE(this),s=Cm(t,void 0);let c=!0;try{i=r(s),c=!1}finally{c?Em(a):Am(a)}return AE(a,n),CE(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===k_&&(i=void 0),this.autoFreeze_&&zy(i,!0),n){const a=[],s=[];ss("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else bi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let n,i;return[this.produce(t,r,(s,c)=>{n=s,i=c}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fa(e)||bi(8),os(e)&&(e=aa(e));const t=SE(this),r=Cm(e,void 0);return r[Mn].isManual_=!0,Am(t),r}finishDraft(e,t){const r=e&&e[Mn];(!r||!r.isManual_)&&bi(9);const{scope_:n}=r;return AE(n,t),CE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ss("Patches").applyPatches_;return os(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Cm(e,t){const r=$0(e)?ss("MapSet").proxyMap_(e,t):U0(e)?ss("MapSet").proxySet_(e,t):A9(e,t);return(t?t.scope_:M_()).drafts_.push(r),r}function aa(e){return os(e)||bi(10,e),B_(e)}function B_(e){if(!fa(e)||W0(e))return e;const t=e[Mn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bm(e,t.scope_.immer_.useStrictShallowCopy_)}else r=bm(e,!0);return dh(r,(n,i)=>{R_(r,n,B_(i))}),t&&(t.finalized_=!1),r}var jn=new C9,L_=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function F_(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var O9=F_(),I9=F_,_9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ch:ch.apply(null,arguments)};function si(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Nn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>P_(n)&&n.type===e,r}var $_=class Ru extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ru.prototype)}static get[Symbol.species](){return Ru}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ru(...t[0].concat(this)):new Ru(...t.concat(this))}};function IE(e){return fa(e)?L_(e,()=>{}):e}function Yd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function T9(e){return typeof e=="boolean"}var N9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new $_;return r&&(T9(r)?s.push(O9):s.push(I9(r.extraArgument))),s},P9="RTK_autoBatch",_E=e=>t=>{setTimeout(t,e)},k9=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_E(10):e.type==="callback"?e.queueNotification:_E(e.timeout),h=()=>{s=!1,a&&(a=!1,c.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const v=()=>i&&g(),y=n.subscribe(v);return c.add(g),()=>{y(),c.delete(g)}},dispatch(g){var v;try{return i=!((v=g==null?void 0:g.meta)!=null&&v[P9]),a=!i,a&&(s||(s=!0,d(h))),n.dispatch(g)}finally{i=!0}}})},D9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new $_(e);return n&&i.push(k9(typeof n=="object"?n:void 0)),i};function R9(e){const t=N9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Wy(r))c=N_(r);else throw new Error(Nn(1));let d;typeof n=="function"?d=n(t):d=t();let h=ch;i&&(h=_9({trace:!1,...typeof i=="object"&&i}));const g=m9(...d),v=D9(g);let y=typeof s=="function"?s(v):v();const w=h(...y);return T_(c,a,w)}function U_(e){const t={},r=[];let n;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Nn(28));if(c in t)throw new Error(Nn(29));return t[c]=s,i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function M9(e){return typeof e=="function"}function j9(e,t){let[r,n,i]=U_(t),a;if(M9(e))a=()=>IE(e());else{const c=IE(e);a=()=>c}function s(c=a(),d){let h=[r[d.type],...n.filter(({matcher:g})=>g(d)).map(({reducer:g})=>g)];return h.filter(g=>!!g).length===0&&(h=[i]),h.reduce((g,v)=>{if(v)if(os(g)){const w=v(g,d);return w===void 0?g:w}else{if(fa(g))return L_(g,y=>v(y,d));{const y=v(g,d);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},c)}return s.getInitialState=a,s}var B9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",L9=(e=21)=>{let t="",r=e;for(;r--;)t+=B9[Math.random()*64|0];return t},F9=Symbol.for("rtk-slice-createasyncthunk");function $9(e,t){return`${e}/${t}`}function U9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[F9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Nn(11));const c=(typeof i.reducers=="function"?i.reducers(z9()):i.reducers)||{},d=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(D,M){const j=typeof D=="string"?D:D.type;if(!j)throw new Error(Nn(12));if(j in h.sliceCaseReducersByType)throw new Error(Nn(13));return h.sliceCaseReducersByType[j]=M,g},addMatcher(D,M){return h.sliceMatchers.push({matcher:D,reducer:M}),g},exposeAction(D,M){return h.actionCreators[D]=M,g},exposeCaseReducer(D,M){return h.sliceCaseReducersByName[D]=M,g}};d.forEach(D=>{const M=c[D],j={reducerName:D,type:$9(a,D),createNotation:typeof i.reducers=="function"};H9(M)?K9(j,M,g,t):G9(j,M,g)});function v(){const[D={},M=[],j=void 0]=typeof i.extraReducers=="function"?U_(i.extraReducers):[i.extraReducers],L={...D,...h.sliceCaseReducersByType};return j9(i.initialState,z=>{for(let U in L)z.addCase(U,L[U]);for(let U of h.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of M)z.addMatcher(U.matcher,U.reducer);j&&z.addDefaultCase(j)})}const y=D=>D,w=new Map,A=new WeakMap;let C;function I(D,M){return C||(C=v()),C(D,M)}function O(){return C||(C=v()),C.getInitialState()}function _(D,M=!1){function j(z){let U=z[D];return typeof U>"u"&&M&&(U=Yd(A,j,O)),U}function L(z=y){const U=Yd(w,M,()=>new WeakMap);return Yd(U,z,()=>{const J={};for(const[X,q]of Object.entries(i.selectors??{}))J[X]=W9(q,z,()=>Yd(A,z,O),M);return J})}return{reducerPath:D,getSelectors:L,get selectors(){return L(j)},selectSlice:j}}const T={name:a,reducer:I,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,..._(s),injectInto(D,{reducerPath:M,...j}={}){const L=M??s;return D.inject({reducerPath:L,reducer:I},j),{...T,..._(L,!0)}}};return T}}function W9(e,t,r,n){function i(a,...s){let c=t(a);return typeof c>"u"&&n&&(c=r()),e(c,...s)}return i.unwrapped=e,i}var ui=U9();function z9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function G9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!V9(n))throw new Error(Nn(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?si(e,s):si(e))}function H9(e){return e._reducerDefinitionType==="asyncThunk"}function V9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function K9({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Nn(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:h,options:g}=r,v=i(e,a,g);n.exposeAction(t,v),s&&n.addCase(v.fulfilled,s),c&&n.addCase(v.pending,c),d&&n.addCase(v.rejected,d),h&&n.addMatcher(v.settled,h),n.exposeCaseReducer(t,{fulfilled:s||Zd,pending:c||Zd,rejected:d||Zd,settled:h||Zd})}function Zd(){}var q9="task",W_="listener",z_="completed",Hy="cancelled",X9=`task-${Hy}`,Y9=`task-${z_}`,Om=`${W_}-${Hy}`,Z9=`${W_}-${z_}`,z0=class{constructor(e){zp(this,"name","TaskAbortError");zp(this,"message");this.code=e,this.message=`${q9} ${Hy} (reason: ${e})`}},Vy=(e,t)=>{if(typeof e!="function")throw new TypeError(Nn(32))},ph=()=>{},G_=(e,t=ph)=>(e.catch(t),e),H_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Yo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Zo=e=>{if(e.aborted){const{reason:t}=e;throw new z0(t)}};function V_(e,t){let r=ph;return new Promise((n,i)=>{const a=()=>i(new z0(e.reason));if(e.aborted){a();return}r=H_(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=ph})}var Q9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof z0?"cancelled":"rejected",error:r}}finally{t==null||t()}},gh=e=>t=>G_(V_(e,t).then(r=>(Zo(e),r))),K_=e=>{const t=gh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:cl}=Object,TE={},G0="listenerMiddleware",J9=(e,t)=>{const r=n=>H_(e,()=>Yo(n,e.reason));return(n,i)=>{Vy(n);const a=new AbortController;r(a);const s=Q9(async()=>{Zo(e),Zo(a.signal);const c=await n({pause:gh(a.signal),delay:K_(a.signal),signal:a.signal});return Zo(a.signal),c},()=>Yo(a,Y9));return i!=null&&i.autoJoin&&t.push(s.catch(ph)),{result:gh(e)(s),cancel(){Yo(a,X9)}}}},eL=(e,t)=>{const r=async(n,i)=>{Zo(t);let a=()=>{};const c=[new Promise((d,h)=>{let g=e({predicate:n,effect:(v,y)=>{y.unsubscribe(),d([v,y.getState(),y.getOriginalState()])}});a=()=>{g(),h()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await V_(t,Promise.race(c));return Zo(t),d}finally{a()}};return(n,i)=>G_(r(n,i))},q_=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=si(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Nn(21));return Vy(a),{predicate:i,type:t,effect:a}},X_=cl(e=>{const{type:t,predicate:r,effect:n}=q_(e);return{id:L9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Nn(22))}}},{withTypes:()=>X_}),NE=(e,t)=>{const{type:r,effect:n,predicate:i}=q_(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Im=e=>{e.pending.forEach(t=>{Yo(t,Om)})},tL=e=>()=>{e.forEach(Im),e.clear()},PE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Y_=cl(si(`${G0}/add`),{withTypes:()=>Y_}),rL=si(`${G0}/removeAll`),Z_=cl(si(`${G0}/remove`),{withTypes:()=>Z_}),nL=(...e)=>{console.error(`${G0}/error`,...e)},Vc=(e={})=>{const t=new Map,{extra:r,onError:n=nL}=e;Vy(n);const i=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),v=>{g.unsubscribe(),v!=null&&v.cancelActive&&Im(g)}),a=g=>{const v=NE(t,g)??X_(g);return i(v)};cl(a,{withTypes:()=>a});const s=g=>{const v=NE(t,g);return v&&(v.unsubscribe(),g.cancelActive&&Im(v)),!!v};cl(s,{withTypes:()=>s});const c=async(g,v,y,w)=>{const A=new AbortController,C=eL(a,A.signal),I=[];try{g.pending.add(A),await Promise.resolve(g.effect(v,cl({},y,{getOriginalState:w,condition:(O,_)=>C(O,_).then(Boolean),take:C,delay:K_(A.signal),pause:gh(A.signal),extra:r,signal:A.signal,fork:J9(A.signal,I),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,_,T)=>{O!==A&&(Yo(O,Om),T.delete(O))})},cancel:()=>{Yo(A,Om),g.pending.delete(A)},throwIfCancelled:()=>{Zo(A.signal)}})))}catch(O){O instanceof z0||PE(n,O,{raisedBy:"effect"})}finally{await Promise.all(I),Yo(A,Z9),g.pending.delete(A)}},d=tL(t);return{middleware:g=>v=>y=>{if(!P_(y))return v(y);if(Y_.match(y))return a(y.payload);if(rL.match(y)){d();return}if(Z_.match(y))return s(y.payload);let w=g.getState();const A=()=>{if(w===TE)throw new Error(Nn(23));return w};let C;try{if(C=v(y),t.size>0){const I=g.getState(),O=Array.from(t.values());for(const _ of O){let T=!1;try{T=_.predicate(y,I,w)}catch(D){T=!1,PE(n,D,{raisedBy:"predicate"})}T&&c(_,y,g,A)}}}finally{w=TE}return C},startListening:a,stopListening:s,clearListeners:d}};function Nn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q_=ui({name:"chartLayout",initialState:iL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:aL,setLayout:oL,setChartSize:sL,setScale:lL}=Q_.actions,uL=Q_.reducer;function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){cL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cL(e,t,r){return(t=dL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=fL(e,"string");return typeof t=="symbol"?t:t+""}function fL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mh=Math.PI/180,hL=e=>e*180/Math.PI,Jt=(e,t,r,n)=>({x:e+Math.cos(-mh*n)*r,y:t+Math.sin(-mh*n)*r}),J_=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},pL=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},gL=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=pL({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(r-i)/s,d=Math.acos(c);return n>a&&(d=2*Math.PI-d),{radius:s,angle:hL(d),angleInRadian:d}},mL=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},vL=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},yL=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=gL({x:r,y:n},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:h}=mL(t),g=a,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?DE(DE({},t),{},{radius:i,angle:vL(g,t)}):null};function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){xL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xL(e,t,r){return(t=wL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=bL(e,"string");return typeof t=="symbol"?t:t+""}function bL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return er(e)||er(t)?r:zi(t)?so(e,t,r):typeof t=="function"?t(e):r}var EL=(e,t,r,n,i)=>{var a,s=-1,c=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?r[d-1].coordinate:r[c-1].coordinate,g=r[d].coordinate,v=d>=c-1?r[0].coordinate:r[d+1].coordinate,y=void 0;if(mr(g-h)!==mr(v-g)){var w=[];if(mr(v-g)===mr(i[1]-i[0])){y=v;var A=g+i[1]-i[0];w[0]=Math.min(A,(A+h)/2),w[1]=Math.max(A,(A+h)/2)}else{y=h;var C=v+i[1]-i[0];w[0]=Math.min(g,(C+g)/2),w[1]=Math.max(g,(C+g)/2)}var I=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>I[0]&&e<=I[1]||e>=w[0]&&e<=w[1]){({index:s}=r[d]);break}}else{var O=Math.min(h,v),_=Math.max(h,v);if(e>(O+g)/2&&e<=(_+g)/2){({index:s}=r[d]);break}}}else if(t){for(var T=0;T<c;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<c-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===c-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:s}=t[T]);break}}return s},AL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&Se(e[a]))return Jn(Jn({},e),{},{[a]:e[a]+(n||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&Se(e[s]))return Jn(Jn({},e),{},{[s]:e[s]+(i||0)})}return e},vs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",e4=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===r&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(r),s},t4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:g,ticks:v,niceTicks:y,axisType:w}=e;if(!s)return null;var A=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,C=i==="category"&&s.bandwidth?s.bandwidth()/A:0;if(C=w==="angleAxis"&&a&&a.length>=2?mr(a[0]-a[1])*2*C:C,v||y){var I=(v||y||[]).map((O,_)=>{var T=n?n.indexOf(O):O;return{coordinate:s(T)+C,value:O,offset:C,index:_}});return I.filter(O=>!Rn(O.coordinate))}return d&&h?h.map((O,_)=>({coordinate:s(O)+C,value:O,index:_,offset:C})):s.ticks&&g!=null?s.ticks(g).map((O,_)=>({coordinate:s(O)+C,value:O,offset:C,index:_})):s.domain().map((O,_)=>({coordinate:s(O)+C,value:n?n[O]:O,index:_,offset:C}))},ME=1e-4,SL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-ME,a=Math.max(n[0],n[1])+ME,s=e(t[0]),c=e(t[r-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[r-1]])}},CL=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Se(e[0])||e[0]<r)&&(i[0]=r),(!Se(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},OL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var c=Rn(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=i,e[s][r][1]=i+c,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+c,a=e[s][r][1])}},IL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Rn(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},_L={sign:OL,expand:fB,none:El,silhouette:hB,wiggle:pB,positive:IL},TL=(e,t,r)=>{var n=_L[r],i=dB().keys(t).value((a,s)=>+Ht(a,s,0)).order(vm).offset(n);return i(e)};function r4(e){return e==null?void 0:String(e)}var jE=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var c=Ht(a,t.dataKey,t.scale.domain()[s]);return er(c)?null:t.scale(c)-i/2+n},NL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},PL=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},kL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],DL=(e,t,r)=>{if(e!=null)return kL(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,h)=>{var g=PL(h.slice(t,r+1));return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},BE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ky=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=L0(t,g=>g.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],h=i[s-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function FE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Jn(Jn({},t),{},{dataKey:r,payload:n,value:i,name:a})}function H0(e,t){if(e)return String(e);if(typeof t=="string")return t}function RL(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?yL({x:e,y:t},n):null}var ML=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Jn(Jn(Jn({},n),Jt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=n;return Jn(Jn(Jn({},n),Jt(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},jL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,va=e=>e.layout.width,ya=e=>e.layout.height,BL=e=>e.layout.scale,n4=e=>e.layout.margin,qy=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xy=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),i4="data-recharts-item-index",a4="data-recharts-item-data-key",V0=60;function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){LL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LL(e,t,r){return(t=FL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UL=e=>e.brush.height,lr=Q([va,ya,n4,UL,qy,Xy,I_,u9],(e,t,r,n,i,a,s,c)=>{var d=a.reduce((A,C)=>{var{orientation:I}=C;if(!C.mirror&&!C.hide){var O=typeof C.width=="number"?C.width:V0;return ka(ka({},A),{},{[I]:A[I]+O})}return A},{left:r.left||0,right:r.right||0}),h=i.reduce((A,C)=>{var{orientation:I}=C;return!C.mirror&&!C.hide?ka(ka({},A),{},{[I]:so(A,"".concat(I))+C.height}):A},{top:r.top||0,bottom:r.bottom||0}),g=ka(ka({},h),d),v=g.bottom;g.bottom+=n,g=AL(g,s,c);var y=e-g.left-g.right,w=t-g.top-g.bottom;return ka(ka({brushBottom:v},g),{},{width:Math.max(y,0),height:Math.max(w,0)})}),WL=Q(lr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),o4=Q(va,ya,(e,t)=>({x:0,y:0,width:e,height:t})),zL=N.createContext(null),yn=()=>N.useContext(zL)!=null,K0=e=>e.brush,q0=Q([K0,lr,n4],(e,t,r)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Se(e.width)?e.width:t.width})),Yy=()=>{var e,t=yn(),r=Ne(WL),n=Ne(q0),i=(e=Ne(K0))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},GL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},s4=()=>{var e;return(e=Ne(lr))!==null&&e!==void 0?e:GL},Zy=()=>Ne(va),Qy=()=>Ne(ya),HL={top:0,right:0,bottom:0,left:0},VL=()=>{var e;return(e=Ne(t=>t.layout.margin))!==null&&e!==void 0?e:HL},ft=e=>e.layout.layoutType,Jy=()=>Ne(ft),KL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},l4=ui({name:"legend",initialState:KL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=aa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:UE,setLegendSettings:qL,addLegendPayload:u4,removeLegendPayload:c4}=l4.actions,XL=l4.reducer,YL=["contextPayload"];function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(null,arguments)}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ex(e,t,r){return(t=ZL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JL(e,t){if(e==null)return{};var r,n,i=eF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tF(e){return e.value}function rF(e){var{contextPayload:t}=e,r=JL(e,YL),n=m_(t,e.payloadUniqBy,tF),i=Cl(Cl({},r),{},{payload:n});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(Py,i)}function nF(e,t,r,n,i,a){var{layout:s,align:c,verticalAlign:d}=t,h,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?h={left:((n||0)-a.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?g={top:((i||0)-a.height)/2}:g=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Cl(Cl({},h),g)}function iF(e){var t=Dt();return N.useEffect(()=>{t(qL(e))},[t,e]),null}function aF(e){var t=Dt();return N.useEffect(()=>(t(UE(e)),()=>{t(UE({width:0,height:0}))}),[t,e]),null}function oF(e){var t=f9(),r=M7(),n=VL(),{width:i,height:a,wrapperStyle:s,portal:c}=e,[d,h]=__([t]),g=Zy(),v=Qy(),y=g-(n.left||0)-(n.right||0),w=X0.getWidthOrHeight(e.layout,a,i,y),A=c?s:Cl(Cl({position:"absolute",width:(w==null?void 0:w.width)||i||"auto",height:(w==null?void 0:w.height)||a||"auto"},nF(s,e,n,g,v,d)),s),C=c??r;if(C==null)return null;var I=N.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},N.createElement(iF,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(aF,{width:d.width,height:d.height}),N.createElement(rF,_m({},e,w,{margin:n,chartWidth:g,chartHeight:v,contextPayload:t})));return Lc.createPortal(I,C)}class X0 extends N.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&Se(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return N.createElement(oF,this.props)}}ex(X0,"displayName","Legend");ex(X0,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(null,arguments)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){sF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sF(e,t,r){return(t=lF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=uF(e,"string");return typeof t=="symbol"?t:t+""}function uF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cF(e){return Array.isArray(e)&&zi(e[0])&&zi(e[1])?e.join(" ~ "):e}var dF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:h,label:g,labelFormatter:v,accessibilityLayer:y=!1}=e,w=()=>{if(a&&a.length){var M={padding:0,margin:0},j=(c?L0(a,c):a).map((L,z)=>{if(L.type==="none")return null;var U=L.formatter||s||cF,{value:J,name:X}=L,q=J,oe=X;if(U){var de=U(J,X,L,z,a);if(Array.isArray(de))[q,oe]=de;else if(de!=null)q=de;else return null}var H=Rg({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:H},zi(oe)?N.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,zi(oe)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},q),N.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:M},j)}return null},A=Rg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),C=Rg({margin:0},i),I=!er(g),O=I?g:"",_=lt("recharts-default-tooltip",d),T=lt("recharts-tooltip-label",h);I&&v&&a!==void 0&&a!==null&&(O=v(g,a));var D=y?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Tm({className:_,style:A},D),N.createElement("p",{className:T,style:C},N.isValidElement(O)?O:"".concat(O)),w())},vu="recharts-tooltip-wrapper",fF={visibility:"hidden"};function hF(e){var{coordinate:t,translateX:r,translateY:n}=e;return lt(vu,{["".concat(vu,"-right")]:Se(r)&&t&&Se(t.x)&&r>=t.x,["".concat(vu,"-left")]:Se(r)&&t&&Se(t.x)&&r<t.x,["".concat(vu,"-bottom")]:Se(n)&&t&&Se(t.y)&&n>=t.y,["".concat(vu,"-top")]:Se(n)&&t&&Se(t.y)&&n<t.y})}function GE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=e;if(a&&Se(a[n]))return a[n];var g=r[n]-c-(i>0?i:0),v=r[n]+i;if(t[n])return s[n]?g:v;var y=d[n];if(y==null)return 0;if(s[n]){var w=g,A=y;return w<A?Math.max(v,y):Math.max(g,y)}if(h==null)return 0;var C=v+c,I=y+h;return C>I?Math.max(g,y):Math.max(v,y)}function pF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,h,g,v;return s.height>0&&s.width>0&&r?(g=GE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),v=GE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),h=pF({translateX:g,translateY:v,useTranslate3d:c})):h=fF,{cssProperties:h,cssClasses:hF({translateX:g,translateY:v,coordinate:r})}}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){Nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nm(e,t,r){return(t=mF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yF extends N.PureComponent{constructor(){super(...arguments),Nm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nm(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:h,position:g,reverseDirection:v,useTranslate3d:y,viewBox:w,wrapperStyle:A,lastBoundingBox:C,innerRef:I,hasPortalFromProps:O}=this.props,{cssClasses:_,cssProperties:T}=gF({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:h,position:g,reverseDirection:v,tooltipBox:{height:C.height,width:C.width},useTranslate3d:y,viewBox:w}),D=O?{}:Qd(Qd({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=Qd(Qd({},D),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},A);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:M,ref:I},a)}}var xF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$l={isSsr:xF()},d4=()=>Ne(e=>e.rootProps.accessibilityLayer);function Bn(e){return Number.isFinite(e)}function Ol(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(null,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return(t=bF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qE={curveBasisClosed:eB,curveBasisOpen:tB,curveBasis:J7,curveBumpX:F7,curveBumpY:$7,curveLinearClosed:rB,curveLinear:P0,curveMonotoneX:nB,curveMonotoneY:iB,curveNatural:aB,curveStep:oB,curveStepAfter:lB,curveStepBefore:sB},Jd=e=>Bn(e.x)&&Bn(e.y),yu=e=>e.x,xu=e=>e.y,AF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(zc(e));return(r==="curveMonotone"||r==="curveBump")&&t?qE["".concat(r).concat(t==="vertical"?"Y":"X")]:qE[r]||P0},SF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=AF(t,i),c=a?r.filter(Jd):r,d;if(Array.isArray(n)){var h=a?n.filter(v=>Jd(v)):n,g=c.map((v,y)=>KE(KE({},v),{},{base:h[y]}));return i==="vertical"?d=Kd().y(xu).x1(yu).x0(v=>v.base.x):d=Kd().x(yu).y1(xu).y0(v=>v.base.y),d.defined(Jd).curve(s),d(g)}return i==="vertical"&&Se(n)?d=Kd().y(xu).x1(yu).x0(n):Se(n)?d=Kd().x(yu).y1(xu).y0(n):d=zI().x(yu).y(xu),d.defined(Jd).curve(s),d(c)},f4=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?SF(e):n;return N.createElement("path",Pm({},ut(e,!1),O7(e),{className:lt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},CF=["x","y","top","left","width","height","className"];function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(null,arguments)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){IF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=TF(e,"string");return typeof t=="symbol"?t:t+""}function TF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NF(e,t){if(e==null)return{};var r,n,i=PF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kF=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),DF=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=NF(e,CF),h=OF({x:t,y:r,top:n,left:i,width:a,height:s},d);return!Se(t)||!Se(r)||!Se(a)||!Se(s)||!Se(n)||!Se(i)?null:N.createElement("path",km({},ut(h,!0),{className:lt("recharts-cross",c),d:kF(t,r,a,s,n,i)}))};function RF(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return(t=BF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=LF(e,"string");return typeof t=="symbol"?t:t+""}function LF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _i(e,t){var r=MF({},e),n=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&n[c]!==void 0&&(s[c]=n[c]),s),r);return a}var h4={},p4={},g4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(g4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g4,r=By,n=M0,i=j0,a=R0;function s(h,g,v){return c(h,g,void 0,void 0,void 0,void 0,v)}function c(h,g,v,y,w,A,C){const I=C(h,g,v,y,w,A);if(I!==void 0)return I;if(typeof h==typeof g)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===g;case"number":return h===g||Object.is(h,g);case"function":return h===g;case"object":return d(h,g,A,C)}return d(h,g,A,C)}function d(h,g,v,y){if(Object.is(h,g))return!0;let w=n.getTag(h),A=n.getTag(g);if(w===i.argumentsTag&&(w=i.objectTag),A===i.argumentsTag&&(A=i.objectTag),w!==A)return!1;switch(w){case i.stringTag:return h.toString()===g.toString();case i.numberTag:{const O=h.valueOf(),_=g.valueOf();return a.eq(O,_)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),g.valueOf());case i.regexpTag:return h.source===g.source&&h.flags===g.flags;case i.functionTag:return h===g}v=v??new Map;const C=v.get(h),I=v.get(g);if(C!=null&&I!=null)return C===g;v.set(h,g),v.set(g,h);try{switch(w){case i.mapTag:{if(h.size!==g.size)return!1;for(const[O,_]of h.entries())if(!g.has(O)||!c(_,g.get(O),O,h,g,v,y))return!1;return!0}case i.setTag:{if(h.size!==g.size)return!1;const O=Array.from(h.values()),_=Array.from(g.values());for(let T=0;T<O.length;T++){const D=O[T],M=_.findIndex(j=>c(D,j,void 0,h,g,v,y));if(M===-1)return!1;_.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(g)||h.length!==g.length)return!1;for(let O=0;O<h.length;O++)if(!c(h[O],g[O],O,h,g,v,y))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==g.byteLength?!1:d(new Uint8Array(h),new Uint8Array(g),v,y);case i.dataViewTag:return h.byteLength!==g.byteLength||h.byteOffset!==g.byteOffset?!1:d(new Uint8Array(h),new Uint8Array(g),v,y);case i.errorTag:return h.name===g.name&&h.message===g.message;case i.objectTag:{if(!(d(h.constructor,g.constructor,v,y)||t.isPlainObject(h)&&t.isPlainObject(g)))return!1;const _=[...Object.keys(h),...r.getSymbols(h)],T=[...Object.keys(g),...r.getSymbols(g)];if(_.length!==T.length)return!1;for(let D=0;D<_.length;D++){const M=_[D],j=h[M];if(!Object.hasOwn(g,M))return!1;const L=g[M];if(!c(j,L,M,h,g,v,y))return!1}return!0}default:return!1}}finally{v.delete(h),v.delete(g)}}e.isEqualWith=s})(p4);var m4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(m4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4,r=m4;function n(i,a){return t.isEqualWith(i,a,r.noop)}e.isEqual=n})(h4);var FF=h4.isEqual;const $F=Ln(FF);function UF(e){var t={},r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...h]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,h),d);return}a(d),i=e.setTimeout(a.bind(null,h));return}typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}var vh=1e-4,v4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],y4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),ZE=(e,t)=>r=>{var n=v4(e,t);return y4(n,r)},WF=(e,t)=>r=>{var n=v4(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return y4(i,r)},QE=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var d=s[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,i]=d[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else s.length===4&&([t,n,r,i]=s);var h=ZE(t,r),g=ZE(n,i),v=WF(t,r),y=A=>A>1?1:A<0?0:A,w=A=>{for(var C=A>1?1:A,I=C,O=0;O<8;++O){var _=h(I)-C,T=v(I);if(Math.abs(_-C)<vh||T<vh)return g(I);I=y(I-_/T)}return g(I)};return w.isStepper=!1,w},zF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,c,d)=>{var h=-(s-c)*r,g=d*n,v=d+(h-g)*i/1e3,y=d*i/1e3+s;return Math.abs(y-c)<vh&&Math.abs(v)<vh?[c,0]:[y,v]};return a.isStepper=!0,a.dt=i,a},GF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QE(e);case"spring":return zF();default:if(e.split("(")[0]==="cubic-bezier")return QE(e)}return typeof e=="function"?e:null};function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){HF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HF(e,t,r){return(t=VF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),XF=(e,t,r)=>e.map(n=>"".concat(qF(n)," ").concat(t,"ms ").concat(r)).join(","),YF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),yc=(e,t)=>Object.keys(t).reduce((r,n)=>eA(eA({},r),{},{[n]:e(n,t[n])}),{});function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){ZF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZF(e,t,r){return(t=QF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=JF(e,"string");return typeof t=="symbol"?t:t+""}function JF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yh=(e,t,r)=>e+(t-e)*r,Dm=e=>{var{from:t,to:r}=e;return t!==r},x4=(e,t,r)=>{var n=yc((i,a)=>{if(Dm(a)){var[s,c]=e(a.from,a.to,a.velocity);return Tr(Tr({},a),{},{from:s,velocity:c})}return a},t);return r<1?yc((i,a)=>Dm(a)?Tr(Tr({},a),{},{velocity:yh(a.velocity,n[i].velocity,r),from:yh(a.from,n[i].from,r)}):a,t):x4(e,n,r-1)};function e$(e,t,r,n,i,a){var s,c=n.reduce((y,w)=>Tr(Tr({},y),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),d=()=>yc((y,w)=>w.from,c),h=()=>!Object.values(c).filter(Dm).length,g=null,v=y=>{s||(s=y);var w=y-s,A=w/r.dt;c=x4(r,c,A),i(Tr(Tr(Tr({},e),t),d())),s=y,h()||(g=a.setTimeout(v))};return()=>(g=a.setTimeout(v),()=>{g()})}function t$(e,t,r,n,i,a,s){var c=null,d=i.reduce((v,y)=>Tr(Tr({},v),{},{[y]:[e[y],t[y]]}),{}),h,g=v=>{h||(h=v);var y=(v-h)/n,w=yc((C,I)=>yh(...I,r(y)),d);if(a(Tr(Tr(Tr({},e),t),w)),y<1)c=s.setTimeout(g);else{var A=yc((C,I)=>yh(...I,r(1)),d);a(Tr(Tr(Tr({},e),t),A))}};return()=>(c=s.setTimeout(g),()=>{c()})}const r$=(e,t,r,n,i,a)=>{var s=YF(e,t);return r.isStepper===!0?e$(e,t,r,s,i,a):t$(e,t,r,n,s,i,a)};class n${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var i$=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}function a$(e,t){if(e==null)return{};var r,n,i=o$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Go(e,t,r){return(t=s$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=l$(e,"string");return typeof t=="symbol"?t:t+""}function l$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u$(){return UF(new n$)}class tx extends N.PureComponent{constructor(t,r){super(t,r),Go(this,"mounted",!1),Go(this,"manager",null),Go(this,"stopJSAnimation",null),Go(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:s,children:c,duration:d,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:s});return}if(a){if(typeof c=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:s,from:c}=this.props,{style:d}=this.state;if(n){if(!r){var h={style:i?{[i]:s}:s};this.state&&d&&(i&&d[i]!==s||!i&&d!==s)&&this.setState(h);return}if(!($F(t.to,s)&&t.canBegin&&t.isActive)){var g=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||a?c:t.to;if(this.state&&d){var y={style:i?{[i]:v}:v};(i&&d[i]!==v||!i&&d!==v)&&this.setState(y)}this.runAnimation(Da(Da({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d}=t,h=r$(r,n,GF(a),i,this.changeStyle,this.manager.getTimeoutController()),g=()=>{this.stopJSAnimation=h()};this.manager.start([d,s,g,i,c])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:a,easing:s,onAnimationStart:c,onAnimationEnd:d,children:h}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof h=="function"||s==="spring"){this.runJSAnimation(t);return}var g=i?{[i]:a}:a,v=XF(Object.keys(g),n,s);this.manager.start([c,r,Da(Da({},g),{},{transition:v}),n,d])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:s,isActive:c,from:d,to:h,canBegin:g,onAnimationEnd:v,shouldReAnimate:y,onAnimationReStart:w,animationManager:A}=t,C=a$(t,i$),I=N.Children.count(r),O=this.state.style;if(typeof r=="function")return r(O);if(!c||I===0||i<=0)return r;var _=T=>{var{style:D={},className:M}=T.props,j=N.cloneElement(T,Da(Da({},C),{},{style:Da(Da({},D),O),className:M}));return j};return I===1?_(N.Children.only(r)):N.createElement("div",null,N.Children.map(r,T=>_(T)))}}Go(tx,"displayName","Animate");Go(tx,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var c$=N.createContext(null);function ls(e){var t,r,n=N.useContext(c$);return N.createElement(tx,Rm({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:u$()}))}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}var nA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(a>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,y=4;v<y;v++)g[v]=i[v]>a?a:i[v];h="M".concat(e,",").concat(t+s*g[0]),g[0]>0&&(h+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(d,",").concat(e+c*g[0],",").concat(t)),h+="L ".concat(e+r-c*g[1],",").concat(t),g[1]>0&&(h+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+s*g[1])),h+="L ".concat(e+r,",").concat(t+n-s*g[2]),g[2]>0&&(h+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(d,`,
        `).concat(e+r-c*g[2],",").concat(t+n)),h+="L ".concat(e+c*g[3],",").concat(t+n),g[3]>0&&(h+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-s*g[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var w=Math.min(a,i);h="M ".concat(e,",").concat(t+s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(t,`
            L `).concat(e+r-c*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r,",").concat(t+s*w,`
            L `).concat(e+r,",").concat(t+n-s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r-c*w,",").concat(t+n,`
            L `).concat(e+c*w,",").concat(t+n,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(t+n-s*w," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},d$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w4=e=>{var t=_i(e,d$),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&i(O)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:h,className:g}=t,{animationEasing:v,animationDuration:y,animationBegin:w,isAnimationActive:A,isUpdateAnimationActive:C}=t;if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var I=lt("recharts-rectangle",g);return C?N.createElement(ls,{canBegin:n>0,from:{width:c,height:d,x:a,y:s},to:{width:c,height:d,x:a,y:s},duration:y,animationEasing:v,isActive:C},O=>{var{width:_,height:T,x:D,y:M}=O;return N.createElement(ls,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:A,easing:v},N.createElement("path",xh({},ut(t,!0),{className:I,d:nA(D,M,_,T,h),ref:r})))}):N.createElement("path",xh({},ut(t,!0),{className:I,d:nA(a,s,c,d,h)}))};function b4(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=Jt(t,r,n,i),c=Jt(t,r,n,a);return{points:[s,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(null,arguments)}var f$=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ef=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,h=c*(s?1:-1)+n,g=Math.asin(c/h)/mh,v=d?i:i+a*g,y=Jt(t,r,h,v),w=Jt(t,r,n,v),A=d?i-a*g:i,C=Jt(t,r,h*Math.cos(g*mh),A);return{center:y,circleTangency:w,lineTangency:C,theta:g}},E4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,c=f$(a,s),d=a+c,h=Jt(t,r,i,a),g=Jt(t,r,i,d),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(n>0){var y=Jt(t,r,n,a),w=Jt(t,r,n,d);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(t,",").concat(r," Z");return v},h$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:h}=e,g=mr(h-d),{circleTangency:v,lineTangency:y,theta:w}=ef({cx:t,cy:r,radius:i,angle:d,sign:g,cornerRadius:a,cornerIsExternal:c}),{circleTangency:A,lineTangency:C,theta:I}=ef({cx:t,cy:r,radius:i,angle:h,sign:-g,cornerRadius:a,cornerIsExternal:c}),O=c?Math.abs(d-h):Math.abs(d-h)-w-I;if(O<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):E4({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(g<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
  `);if(n>0){var{circleTangency:T,lineTangency:D,theta:M}=ef({cx:t,cy:r,radius:n,angle:d,sign:g,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:j,lineTangency:L,theta:z}=ef({cx:t,cy:r,radius:n,angle:h,sign:-g,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),U=c?Math.abs(d-h):Math.abs(d-h)-M-z;if(U<0&&a===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(U>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(t,",").concat(r,"Z");return _},p$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A4=e=>{var t=_i(e,p$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:g,className:v}=t;if(a<i||h===g)return null;var y=lt("recharts-sector",v),w=a-i,A=Qr(s,w,0,!0),C;return A>0&&Math.abs(h-g)<360?C=h$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:g}):C=E4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:g}),N.createElement("path",Mm({},ut(t,!0),{className:y,d:C}))};function g$(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:h,outerRadius:g,angle:v}=t,y=Jt(c,d,h,v),w=Jt(c,d,g,v);n=y.x,i=y.y,a=w.x,s=w.y}else return b4(t);return[{x:n,y:i},{x:a,y:s}]}var S4={},C4={},O4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(O4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(C4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=C4;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=i,i+=s;return d}e.range=n})(S4);var m$=S4.range;const I4=Ln(m$);function to(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rx(e){let t,r,n;e.length!==2?(t=to,r=(c,d)=>to(e(c),d),n=(c,d)=>e(c)-d):(t=e===to||e===v$?e:y$,r=e,n=e);function i(c,d,h=0,g=c.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(c[v],d)<0?h=v+1:g=v}while(h<g)}return h}function a(c,d,h=0,g=c.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(c[v],d)<=0?h=v+1:g=v}while(h<g)}return h}function s(c,d,h=0,g=c.length){const v=i(c,d,h,g-1);return v>h&&n(c[v-1],d)>-n(c[v],d)?v-1:v}return{left:i,center:s,right:a}}function y$(){return 0}function _4(e){return e===null?NaN:+e}function*x$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const w$=rx(to),Kc=w$.right;rx(_4).center;class iA extends Map{constructor(t,r=A$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(aA(this,t))}has(t){return super.has(aA(this,t))}set(t,r){return super.set(b$(this,t),r)}delete(t){return super.delete(E$(this,t))}}function aA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function b$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function E$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function A$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S$(e=to){if(e===to)return T4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function T4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C$=Math.sqrt(50),O$=Math.sqrt(10),I$=Math.sqrt(2);function wh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=C$?10:a>=O$?5:a>=I$?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/s,c=Math.round(e*h),d=Math.round(t*h),c/h<e&&++c,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*s,c=Math.round(e/h),d=Math.round(t/h),c*h<e&&++c,d*h>t&&--d),d<c&&.5<=r&&r<2?wh(e,t,r*2):[c,d,h]}function jm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?wh(t,e,r):wh(e,t,r);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(n)if(s<0)for(let h=0;h<c;++h)d[h]=(a-h)/-s;else for(let h=0;h<c;++h)d[h]=(a-h)*s;else if(s<0)for(let h=0;h<c;++h)d[h]=(i+h)/-s;else for(let h=0;h<c;++h)d[h]=(i+h)*s;return d}function Bm(e,t,r){return t=+t,e=+e,r=+r,wh(e,t,r)[2]}function Lm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Bm(t,e,r):Bm(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function oA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function N4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?T4:S$(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),w=Math.max(r,Math.floor(t-h*v/d+y)),A=Math.min(n,Math.floor(t+(d-h)*v/d+y));N4(e,t,w,A,i)}const a=e[t];let s=r,c=n;for(wu(e,r,t),i(e[n],a)>0&&wu(e,r,n);s<c;){for(wu(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[r],a)===0?wu(e,r,c):(++c,wu(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function wu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _$(e,t,r){if(e=Float64Array.from(x$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sA(e);if(t>=1)return oA(e);var n,i=(n-1)*t,a=Math.floor(i),s=oA(N4(e,a).subarray(0,a+1)),c=sA(e.subarray(a+1));return s+(c-s)*(i-a)}}function T$(e,t,r=_4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),c=+r(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function N$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fm=Symbol("implicit");function nx(){var e=new iA,t=[],r=[],n=Fm;function i(a){let s=e.get(a);if(s===void 0){if(n!==Fm)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new iA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nx(t,r).unknown(n)},ci.apply(i,arguments),i}function ix(){var e=nx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,c=!1,d=0,h=0,g=.5;delete e.unknown;function v(){var y=t().length,w=i<n,A=w?i:n,C=w?n:i;a=(C-A)/Math.max(1,y-d+h*2),c&&(a=Math.floor(a)),A+=(C-A-a*(y-d))*g,s=a*(1-d),c&&(A=Math.round(A),s=Math.round(s));var I=N$(y).map(function(O){return A+a*O});return r(w?I.reverse():I)}return e.domain=function(y){return arguments.length?(t(y),v()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,v()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,c=!0,v()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,v()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),v()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),v()):d},e.paddingOuter=function(y){return arguments.length?(h=+y,v()):h},e.align=function(y){return arguments.length?(g=Math.max(0,Math.min(1,y)),v()):g},e.copy=function(){return ix(t(),[n,i]).round(c).paddingInner(d).paddingOuter(h).align(g)},ci.apply(v(),arguments)}function P4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return P4(t())},e}function P$(){return P4(ix.apply(null,arguments).paddingInner(1))}function ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function k4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qc(){}var xc=.7,bh=1/xc,dl="\\s*([+-]?\\d+)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k$=/^#([0-9a-f]{3,8})$/,D$=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),R$=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),M$=new RegExp(`^rgba\\(${dl},${dl},${dl},${wc}\\)$`),j$=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${wc}\\)$`),B$=new RegExp(`^hsl\\(${wc},${Wi},${Wi}\\)$`),L$=new RegExp(`^hsla\\(${wc},${Wi},${Wi},${wc}\\)$`),lA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax(qc,bc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uA,formatHex:uA,formatHex8:F$,formatHsl:$$,formatRgb:cA,toString:cA});function uA(){return this.rgb().formatHex()}function F$(){return this.rgb().formatHex8()}function $$(){return D4(this).formatHsl()}function cA(){return this.rgb().formatRgb()}function bc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=k$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dA(t):r===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?tf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?tf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D$.exec(e))?new pn(t[1],t[2],t[3],1):(t=R$.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M$.exec(e))?tf(t[1],t[2],t[3],t[4]):(t=j$.exec(e))?tf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B$.exec(e))?pA(t[1],t[2]/100,t[3]/100,1):(t=L$.exec(e))?pA(t[1],t[2]/100,t[3]/100,t[4]):lA.hasOwnProperty(e)?dA(lA[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function dA(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function tf(e,t,r,n){return n<=0&&(e=t=r=NaN),new pn(e,t,r,n)}function U$(e){return e instanceof qc||(e=bc(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function $m(e,t,r,n){return arguments.length===1?U$(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ax(pn,$m,k4(qc,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Qo(this.r),Qo(this.g),Qo(this.b),Eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fA,formatHex:fA,formatHex8:W$,formatRgb:hA,toString:hA}));function fA(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function W$(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function hA(){const e=Eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Qo(this.r)}, ${Qo(this.g)}, ${Qo(this.b)}${e===1?")":`, ${e})`}`}function Eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ho(e){return e=Qo(e),(e<16?"0":"")+e.toString(16)}function pA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ei(e,t,r,n)}function D4(e){if(e instanceof Ei)return new Ei(e.h,e.s,e.l,e.opacity);if(e instanceof qc||(e=bc(e)),!e)return new Ei;if(e instanceof Ei)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(r-n)/c+(r<n)*6:r===a?s=(n-t)/c+2:s=(t-r)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new Ei(s,c,d,e.opacity)}function z$(e,t,r,n){return arguments.length===1?D4(e):new Ei(e,t,r,n??1)}function Ei(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ax(Ei,z$,k4(qc,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new Ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new Ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new pn(Mg(e>=240?e-240:e+120,i,n),Mg(e,i,n),Mg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ei(gA(this.h),rf(this.s),rf(this.l),Eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eh(this.opacity);return`${e===1?"hsl(":"hsla("}${gA(this.h)}, ${rf(this.s)*100}%, ${rf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gA(e){return e=(e||0)%360,e<0?e+360:e}function rf(e){return Math.max(0,Math.min(1,e||0))}function Mg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ox=e=>()=>e;function G$(e,t){return function(r){return e+r*t}}function H$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function V$(e){return(e=+e)==1?R4:function(t,r){return r-t?H$(t,r,e):ox(isNaN(t)?r:t)}}function R4(e,t){var r=t-e;return r?G$(e,r):ox(isNaN(e)?t:e)}const mA=function e(t){var r=V$(t);function n(i,a){var s=r((i=$m(i)).r,(a=$m(a)).r),c=r(i.g,a.g),d=r(i.b,a.b),h=R4(i.opacity,a.opacity);return function(g){return i.r=s(g),i.g=c(g),i.b=d(g),i.opacity=h(g),i+""}}return n.gamma=e,n}(1);function K$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function q$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function X$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Ul(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(c){for(s=0;s<n;++s)a[s]=i[s](c);return a}}function Y$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ah(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Z$(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ul(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Um=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jg=new RegExp(Um.source,"g");function Q$(e){return function(){return e}}function J$(e){return function(t){return e(t)+""}}function eU(e,t){var r=Um.lastIndex=jg.lastIndex=0,n,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(n=Um.exec(e))&&(i=jg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(n=n[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:Ah(n,i)})),r=jg.lastIndex;return r<t.length&&(a=t.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?J$(d[0].x):Q$(t):(t=d.length,function(h){for(var g=0,v;g<t;++g)c[(v=d[g]).i]=v.x(h);return c.join("")})}function Ul(e,t){var r=typeof t,n;return t==null||r==="boolean"?ox(t):(r==="number"?Ah:r==="string"?(n=bc(t))?(t=n,mA):eU:t instanceof bc?mA:t instanceof Date?Y$:q$(t)?K$:Array.isArray(t)?X$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z$:Ah)(e,t)}function sx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tU(e,t){t===void 0&&(t=e,e=Ul);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[c](s-c)}}function rU(e){return function(){return e}}function Sh(e){return+e}var vA=[0,1];function Yr(e){return e}function Wm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rU(isNaN(t)?NaN:.5)}function nU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iU(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Wm(i,n),a=r(s,a)):(n=Wm(n,i),a=r(a,s)),function(c){return a(n(c))}}function aU(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Wm(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(c){var d=Kc(e,c,1,n)-1;return a[d](i[d](c))}}function Xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Y0(){var e=vA,t=vA,r=Ul,n,i,a,s=Yr,c,d,h;function g(){var y=Math.min(e.length,t.length);return s!==Yr&&(s=nU(e[0],e[y-1])),c=y>2?aU:iU,d=h=null,v}function v(y){return y==null||isNaN(y=+y)?a:(d||(d=c(e.map(n),t,r)))(n(s(y)))}return v.invert=function(y){return s(i((h||(h=c(t,e.map(n),Ah)))(y)))},v.domain=function(y){return arguments.length?(e=Array.from(y,Sh),g()):e.slice()},v.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},v.rangeRound=function(y){return t=Array.from(y),r=sx,g()},v.clamp=function(y){return arguments.length?(s=y?!0:Yr,g()):s!==Yr},v.interpolate=function(y){return arguments.length?(r=y,g()):r},v.unknown=function(y){return arguments.length?(a=y,v):a},function(y,w){return n=y,i=w,g()}}function lx(){return Y0()(Yr,Yr)}function oU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ch(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Il(e){return e=Ch(Math.abs(e)),e?e[1]:NaN}function sU(e,t){return function(r,n){for(var i=r.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),a.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function lU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ec(e){if(!(t=uU.exec(e)))throw new Error("invalid format: "+e);var t;return new ux({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ec.prototype=ux.prototype;function ux(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ux.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cU(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var M4;function dU(e,t){var r=Ch(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(M4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ch(e,Math.max(0,t+a-1))[0]}function yA(e,t){var r=Ch(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const xA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yA(e*100,t),r:yA,s:dU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wA(e){return e}var bA=Array.prototype.map,EA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fU(e){var t=e.grouping===void 0||e.thousands===void 0?wA:sU(bA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?wA:lU(bA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(v){v=Ec(v);var y=v.fill,w=v.align,A=v.sign,C=v.symbol,I=v.zero,O=v.width,_=v.comma,T=v.precision,D=v.trim,M=v.type;M==="n"?(_=!0,M="g"):xA[M]||(T===void 0&&(T=12),D=!0,M="g"),(I||y==="0"&&w==="=")&&(I=!0,y="0",w="=");var j=C==="$"?r:C==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=C==="$"?n:/[%p]/.test(M)?s:"",z=xA[M],U=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function J(X){var q=j,oe=L,de,H,we;if(M==="c")oe=z(X)+oe,X="";else{X=+X;var ee=X<0||1/X<0;if(X=isNaN(X)?d:z(Math.abs(X),T),D&&(X=cU(X)),ee&&+X==0&&A!=="+"&&(ee=!1),q=(ee?A==="("?A:c:A==="-"||A==="("?"":A)+q,oe=(M==="s"?EA[8+M4/3]:"")+oe+(ee&&A==="("?")":""),U){for(de=-1,H=X.length;++de<H;)if(we=X.charCodeAt(de),48>we||we>57){oe=(we===46?i+X.slice(de+1):X.slice(de))+oe,X=X.slice(0,de);break}}}_&&!I&&(X=t(X,1/0));var te=q.length+X.length+oe.length,fe=te<O?new Array(O-te+1).join(y):"";switch(_&&I&&(X=t(fe+X,fe.length?O-oe.length:1/0),fe=""),w){case"<":X=q+X+oe+fe;break;case"=":X=q+fe+X+oe;break;case"^":X=fe.slice(0,te=fe.length>>1)+q+X+oe+fe.slice(te);break;default:X=fe+q+X+oe;break}return a(X)}return J.toString=function(){return v+""},J}function g(v,y){var w=h((v=Ec(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(Il(y)/3)))*3,C=Math.pow(10,-A),I=EA[8+A/3];return function(O){return w(C*O)+I}}return{format:h,formatPrefix:g}}var nf,cx,j4;hU({thousands:",",grouping:[3],currency:["$",""]});function hU(e){return nf=fU(e),cx=nf.format,j4=nf.formatPrefix,nf}function pU(e){return Math.max(0,-Il(Math.abs(e)))}function gU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function mU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function B4(e,t,r,n){var i=Lm(e,t,r),a;switch(n=Ec(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=gU(i,s))&&(n.precision=a),j4(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=mU(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pU(i))&&(n.precision=a-(n.type==="%")*2);break}}return cx(n)}function mo(e){var t=e.domain;return e.ticks=function(r){var n=t();return jm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return B4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],c=n[a],d,h,g=10;for(c<s&&(h=s,s=c,c=h,h=i,i=a,a=h);g-- >0;){if(h=Bm(s,c,r),h===d)return n[i]=s,n[a]=c,t(n);if(h>0)s=Math.floor(s/h)*h,c=Math.ceil(c/h)*h;else if(h<0)s=Math.ceil(s*h)/h,c=Math.floor(c*h)/h;else break;d=h}return e},e}function L4(){var e=lx();return e.copy=function(){return Xc(e,L4())},ci.apply(e,arguments),mo(e)}function F4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return F4(e).unknown(t)},e=arguments.length?Array.from(e,Sh):[0,1],mo(r)}function $4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function AA(e){return Math.log(e)}function SA(e){return Math.exp(e)}function vU(e){return-Math.log(-e)}function yU(e){return-Math.exp(-e)}function xU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wU(e){return e===10?xU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CA(e){return(t,r)=>-e(-t,r)}function dx(e){const t=e(AA,SA),r=t.domain;let n=10,i,a;function s(){return i=bU(n),a=wU(n),r()[0]<0?(i=CA(i),a=CA(a),e(vU,yU)):e(AA,SA),t}return t.base=function(c){return arguments.length?(n=+c,s()):n},t.domain=function(c){return arguments.length?(r(c),s()):r()},t.ticks=c=>{const d=r();let h=d[0],g=d[d.length-1];const v=g<h;v&&([h,g]=[g,h]);let y=i(h),w=i(g),A,C;const I=c==null?10:+c;let O=[];if(!(n%1)&&w-y<I){if(y=Math.floor(y),w=Math.ceil(w),h>0){for(;y<=w;++y)for(A=1;A<n;++A)if(C=y<0?A/a(-y):A*a(y),!(C<h)){if(C>g)break;O.push(C)}}else for(;y<=w;++y)for(A=n-1;A>=1;--A)if(C=y>0?A/a(-y):A*a(y),!(C<h)){if(C>g)break;O.push(C)}O.length*2<I&&(O=jm(h,g,I))}else O=jm(y,w,Math.min(w-y,I)).map(a);return v?O.reverse():O},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Ec(d)).precision==null&&(d.trim=!0),d=cx(d)),c===1/0)return d;const h=Math.max(1,n*c/t.ticks().length);return g=>{let v=g/a(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=h?d(g):""}},t.nice=()=>r($4(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function U4(){const e=dx(Y0()).domain([1,10]);return e.copy=()=>Xc(e,U4()).base(e.base()),ci.apply(e,arguments),e}function OA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fx(e){var t=1,r=e(OA(t),IA(t));return r.constant=function(n){return arguments.length?e(OA(t=+n),IA(t)):t},mo(r)}function W4(){var e=fx(Y0());return e.copy=function(){return Xc(e,W4()).constant(e.constant())},ci.apply(e,arguments)}function _A(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AU(e){return e<0?-e*e:e*e}function hx(e){var t=e(Yr,Yr),r=1;function n(){return r===1?e(Yr,Yr):r===.5?e(EU,AU):e(_A(r),_A(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},mo(t)}function px(){var e=hx(Y0());return e.copy=function(){return Xc(e,px()).exponent(e.exponent())},ci.apply(e,arguments),e}function SU(){return px.apply(null,arguments).exponent(.5)}function TA(e){return Math.sign(e)*e*e}function CU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function z4(){var e=lx(),t=[0,1],r=!1,n;function i(a){var s=CU(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(TA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Sh)).map(TA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return z4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ci.apply(i,arguments),mo(i)}function G4(){var e=[],t=[],r=[],n;function i(){var s=0,c=Math.max(1,t.length);for(r=new Array(c-1);++s<c;)r[s-1]=T$(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Kc(r,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(to),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return G4().domain(e).range(t).unknown(n)},ci.apply(a,arguments)}function H4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[Kc(n,d,0,r)]:a}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return H4().domain([e,t]).range(i).unknown(a)},ci.apply(mo(s),arguments)}function V4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Kc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V4().domain(e).range(t).unknown(r)},ci.apply(i,arguments)}const Bg=new Date,Lg=new Date;function ur(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let h;do d.push(h=new Date(+a)),t(a,c),e(a);while(h<a&&a<s);return d},i.filter=a=>ur(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Bg.setTime(+a),Lg.setTime(+s),e(Bg),e(Lg),Math.floor(r(Bg,Lg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Oh=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Oh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Oh);Oh.range;const ra=1e3,ti=ra*60,na=ti*60,ha=na*24,gx=ha*7,NA=ha*30,Fg=ha*365,Vo=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getUTCSeconds());Vo.range;const mx=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ra)},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getMinutes());mx.range;const vx=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCMinutes());vx.range;const yx=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ra-e.getMinutes()*ti)},(e,t)=>{e.setTime(+e+t*na)},(e,t)=>(t-e)/na,e=>e.getHours());yx.range;const xx=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*na)},(e,t)=>(t-e)/na,e=>e.getUTCHours());xx.range;const Yc=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ti)/ha,e=>e.getDate()-1);Yc.range;const Z0=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ha,e=>e.getUTCDate()-1);Z0.range;const K4=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ha,e=>Math.floor(e/ha));K4.range;function ys(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ti)/gx)}const Q0=ys(0),Ih=ys(1),OU=ys(2),IU=ys(3),_l=ys(4),_U=ys(5),TU=ys(6);Q0.range;Ih.range;OU.range;IU.range;_l.range;_U.range;TU.range;function xs(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gx)}const J0=xs(0),_h=xs(1),NU=xs(2),PU=xs(3),Tl=xs(4),kU=xs(5),DU=xs(6);J0.range;_h.range;NU.range;PU.range;Tl.range;kU.range;DU.range;const wx=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wx.range;const bx=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bx.range;const pa=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pa.range;const ga=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ga.range;function q4(e,t,r,n,i,a){const s=[[Vo,1,ra],[Vo,5,5*ra],[Vo,15,15*ra],[Vo,30,30*ra],[a,1,ti],[a,5,5*ti],[a,15,15*ti],[a,30,30*ti],[i,1,na],[i,3,3*na],[i,6,6*na],[i,12,12*na],[n,1,ha],[n,2,2*ha],[r,1,gx],[t,1,NA],[t,3,3*NA],[e,1,Fg]];function c(h,g,v){const y=g<h;y&&([h,g]=[g,h]);const w=v&&typeof v.range=="function"?v:d(h,g,v),A=w?w.range(h,+g+1):[];return y?A.reverse():A}function d(h,g,v){const y=Math.abs(g-h)/v,w=rx(([,,I])=>I).right(s,y);if(w===s.length)return e.every(Lm(h/Fg,g/Fg,v));if(w===0)return Oh.every(Math.max(Lm(h,g,v),1));const[A,C]=s[y/s[w-1][2]<s[w][2]/y?w-1:w];return A.every(C)}return[c,d]}const[RU,MU]=q4(ga,bx,J0,K4,xx,vx),[jU,BU]=q4(pa,wx,Q0,Yc,yx,mx);function $g(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ug(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LU(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,h=Eu(i),g=Au(i),v=Eu(a),y=Au(a),w=Eu(s),A=Au(s),C=Eu(c),I=Au(c),O=Eu(d),_=Au(d),T={a:ee,A:te,b:fe,B:ie,c:null,d:jA,e:jA,f:sW,g:vW,G:xW,H:iW,I:aW,j:oW,L:X4,m:lW,M:uW,p:ve,q:re,Q:FA,s:$A,S:cW,u:dW,U:fW,V:hW,w:pW,W:gW,x:null,X:null,y:mW,Y:yW,Z:wW,"%":LA},D={a:Ue,A:$e,b:qe,B:xe,c:null,d:BA,e:BA,f:SW,g:RW,G:jW,H:bW,I:EW,j:AW,L:Z4,m:CW,M:OW,p:cr,q:ht,Q:FA,s:$A,S:IW,u:_W,U:TW,V:NW,w:PW,W:kW,x:null,X:null,y:DW,Y:MW,Z:BW,"%":LA},M={a:J,A:X,b:q,B:oe,c:de,d:RA,e:RA,f:eW,g:DA,G:kA,H:MA,I:MA,j:YU,L:JU,m:XU,M:ZU,p:U,q:qU,Q:rW,s:nW,S:QU,u:zU,U:GU,V:HU,w:WU,W:VU,x:H,X:we,y:DA,Y:kA,Z:KU,"%":tW};T.x=j(r,T),T.X=j(n,T),T.c=j(t,T),D.x=j(r,D),D.X=j(n,D),D.c=j(t,D);function j(ye,je){return function(De){var ae=[],Me=-1,Ge=0,at=ye.length,he,Te,_e;for(De instanceof Date||(De=new Date(+De));++Me<at;)ye.charCodeAt(Me)===37&&(ae.push(ye.slice(Ge,Me)),(Te=PA[he=ye.charAt(++Me)])!=null?he=ye.charAt(++Me):Te=he==="e"?" ":"0",(_e=je[he])&&(he=_e(De,Te)),ae.push(he),Ge=Me+1);return ae.push(ye.slice(Ge,Me)),ae.join("")}}function L(ye,je){return function(De){var ae=bu(1900,void 0,1),Me=z(ae,ye,De+="",0),Ge,at;if(Me!=De.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(je&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ge=Ug(bu(ae.y,0,1)),at=Ge.getUTCDay(),Ge=at>4||at===0?_h.ceil(Ge):_h(Ge),Ge=Z0.offset(Ge,(ae.V-1)*7),ae.y=Ge.getUTCFullYear(),ae.m=Ge.getUTCMonth(),ae.d=Ge.getUTCDate()+(ae.w+6)%7):(Ge=$g(bu(ae.y,0,1)),at=Ge.getDay(),Ge=at>4||at===0?Ih.ceil(Ge):Ih(Ge),Ge=Yc.offset(Ge,(ae.V-1)*7),ae.y=Ge.getFullYear(),ae.m=Ge.getMonth(),ae.d=Ge.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),at="Z"in ae?Ug(bu(ae.y,0,1)).getUTCDay():$g(bu(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(at+5)%7:ae.w+ae.U*7-(at+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Ug(ae)):$g(ae)}}function z(ye,je,De,ae){for(var Me=0,Ge=je.length,at=De.length,he,Te;Me<Ge;){if(ae>=at)return-1;if(he=je.charCodeAt(Me++),he===37){if(he=je.charAt(Me++),Te=M[he in PA?je.charAt(Me++):he],!Te||(ae=Te(ye,De,ae))<0)return-1}else if(he!=De.charCodeAt(ae++))return-1}return ae}function U(ye,je,De){var ae=h.exec(je.slice(De));return ae?(ye.p=g.get(ae[0].toLowerCase()),De+ae[0].length):-1}function J(ye,je,De){var ae=w.exec(je.slice(De));return ae?(ye.w=A.get(ae[0].toLowerCase()),De+ae[0].length):-1}function X(ye,je,De){var ae=v.exec(je.slice(De));return ae?(ye.w=y.get(ae[0].toLowerCase()),De+ae[0].length):-1}function q(ye,je,De){var ae=O.exec(je.slice(De));return ae?(ye.m=_.get(ae[0].toLowerCase()),De+ae[0].length):-1}function oe(ye,je,De){var ae=C.exec(je.slice(De));return ae?(ye.m=I.get(ae[0].toLowerCase()),De+ae[0].length):-1}function de(ye,je,De){return z(ye,t,je,De)}function H(ye,je,De){return z(ye,r,je,De)}function we(ye,je,De){return z(ye,n,je,De)}function ee(ye){return s[ye.getDay()]}function te(ye){return a[ye.getDay()]}function fe(ye){return d[ye.getMonth()]}function ie(ye){return c[ye.getMonth()]}function ve(ye){return i[+(ye.getHours()>=12)]}function re(ye){return 1+~~(ye.getMonth()/3)}function Ue(ye){return s[ye.getUTCDay()]}function $e(ye){return a[ye.getUTCDay()]}function qe(ye){return d[ye.getUTCMonth()]}function xe(ye){return c[ye.getUTCMonth()]}function cr(ye){return i[+(ye.getUTCHours()>=12)]}function ht(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var je=j(ye+="",T);return je.toString=function(){return ye},je},parse:function(ye){var je=L(ye+="",!1);return je.toString=function(){return ye},je},utcFormat:function(ye){var je=j(ye+="",D);return je.toString=function(){return ye},je},utcParse:function(ye){var je=L(ye+="",!0);return je.toString=function(){return ye},je}}}var PA={"-":"",_:" ",0:"0"},br=/^\s*\d+/,FU=/^%/,$U=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function UU(e){return e.replace($U,"\\$&")}function Eu(e){return new RegExp("^(?:"+e.map(UU).join("|")+")","i")}function Au(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WU(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zU(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kA(e,t,r){var n=br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DA(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qU(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RA(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function YU(e,t,r){var n=br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MA(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function QU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JU(e,t,r){var n=br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eW(e,t,r){var n=br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tW(e,t,r){var n=FU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rW(e,t,r){var n=br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nW(e,t,r){var n=br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jA(e,t){return rt(e.getDate(),t,2)}function iW(e,t){return rt(e.getHours(),t,2)}function aW(e,t){return rt(e.getHours()%12||12,t,2)}function oW(e,t){return rt(1+Yc.count(pa(e),e),t,3)}function X4(e,t){return rt(e.getMilliseconds(),t,3)}function sW(e,t){return X4(e,t)+"000"}function lW(e,t){return rt(e.getMonth()+1,t,2)}function uW(e,t){return rt(e.getMinutes(),t,2)}function cW(e,t){return rt(e.getSeconds(),t,2)}function dW(e){var t=e.getDay();return t===0?7:t}function fW(e,t){return rt(Q0.count(pa(e)-1,e),t,2)}function Y4(e){var t=e.getDay();return t>=4||t===0?_l(e):_l.ceil(e)}function hW(e,t){return e=Y4(e),rt(_l.count(pa(e),e)+(pa(e).getDay()===4),t,2)}function pW(e){return e.getDay()}function gW(e,t){return rt(Ih.count(pa(e)-1,e),t,2)}function mW(e,t){return rt(e.getFullYear()%100,t,2)}function vW(e,t){return e=Y4(e),rt(e.getFullYear()%100,t,2)}function yW(e,t){return rt(e.getFullYear()%1e4,t,4)}function xW(e,t){var r=e.getDay();return e=r>=4||r===0?_l(e):_l.ceil(e),rt(e.getFullYear()%1e4,t,4)}function wW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function BA(e,t){return rt(e.getUTCDate(),t,2)}function bW(e,t){return rt(e.getUTCHours(),t,2)}function EW(e,t){return rt(e.getUTCHours()%12||12,t,2)}function AW(e,t){return rt(1+Z0.count(ga(e),e),t,3)}function Z4(e,t){return rt(e.getUTCMilliseconds(),t,3)}function SW(e,t){return Z4(e,t)+"000"}function CW(e,t){return rt(e.getUTCMonth()+1,t,2)}function OW(e,t){return rt(e.getUTCMinutes(),t,2)}function IW(e,t){return rt(e.getUTCSeconds(),t,2)}function _W(e){var t=e.getUTCDay();return t===0?7:t}function TW(e,t){return rt(J0.count(ga(e)-1,e),t,2)}function Q4(e){var t=e.getUTCDay();return t>=4||t===0?Tl(e):Tl.ceil(e)}function NW(e,t){return e=Q4(e),rt(Tl.count(ga(e),e)+(ga(e).getUTCDay()===4),t,2)}function PW(e){return e.getUTCDay()}function kW(e,t){return rt(_h.count(ga(e)-1,e),t,2)}function DW(e,t){return rt(e.getUTCFullYear()%100,t,2)}function RW(e,t){return e=Q4(e),rt(e.getUTCFullYear()%100,t,2)}function MW(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function jW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Tl(e):Tl.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function BW(){return"+0000"}function LA(){return"%"}function FA(e){return+e}function $A(e){return Math.floor(+e/1e3)}var Ls,J4,eT;LW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LW(e){return Ls=LU(e),J4=Ls.format,Ls.parse,eT=Ls.utcFormat,Ls.utcParse,Ls}function FW(e){return new Date(e)}function $W(e){return e instanceof Date?+e:+new Date(+e)}function Ex(e,t,r,n,i,a,s,c,d,h){var g=lx(),v=g.invert,y=g.domain,w=h(".%L"),A=h(":%S"),C=h("%I:%M"),I=h("%I %p"),O=h("%a %d"),_=h("%b %d"),T=h("%B"),D=h("%Y");function M(j){return(d(j)<j?w:c(j)<j?A:s(j)<j?C:a(j)<j?I:n(j)<j?i(j)<j?O:_:r(j)<j?T:D)(j)}return g.invert=function(j){return new Date(v(j))},g.domain=function(j){return arguments.length?y(Array.from(j,$W)):y().map(FW)},g.ticks=function(j){var L=y();return e(L[0],L[L.length-1],j??10)},g.tickFormat=function(j,L){return L==null?M:h(L)},g.nice=function(j){var L=y();return(!j||typeof j.range!="function")&&(j=t(L[0],L[L.length-1],j??10)),j?y($4(L,j)):g},g.copy=function(){return Xc(g,Ex(e,t,r,n,i,a,s,c,d,h))},g}function UW(){return ci.apply(Ex(jU,BU,pa,wx,Q0,Yc,yx,mx,Vo,J4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WW(){return ci.apply(Ex(RU,MU,ga,bx,J0,Z0,xx,vx,Vo,eT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ep(){var e=0,t=1,r,n,i,a,s=Yr,c=!1,d;function h(v){return v==null||isNaN(v=+v)?d:s(i===0?.5:(v=(a(v)-r)*i,c?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(v){return arguments.length?(c=!!v,h):c},h.interpolator=function(v){return arguments.length?(s=v,h):s};function g(v){return function(y){var w,A;return arguments.length?([w,A]=y,s=v(w,A),h):[s(0),s(1)]}}return h.range=g(Ul),h.rangeRound=g(sx),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return a=v,r=v(e),n=v(t),i=r===n?0:1/(n-r),h}}function vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tT(){var e=mo(ep()(Yr));return e.copy=function(){return vo(e,tT())},xa.apply(e,arguments)}function rT(){var e=dx(ep()).domain([1,10]);return e.copy=function(){return vo(e,rT()).base(e.base())},xa.apply(e,arguments)}function nT(){var e=fx(ep());return e.copy=function(){return vo(e,nT()).constant(e.constant())},xa.apply(e,arguments)}function Ax(){var e=hx(ep());return e.copy=function(){return vo(e,Ax()).exponent(e.exponent())},xa.apply(e,arguments)}function zW(){return Ax.apply(null,arguments).exponent(.5)}function iT(){var e=[],t=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Kc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(to),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_$(e,a/n))},r.copy=function(){return iT(t).domain(e)},xa.apply(r,arguments)}function tp(){var e=0,t=.5,r=1,n=1,i,a,s,c,d,h=Yr,g,v=!1,y;function w(C){return isNaN(C=+C)?y:(C=.5+((C=+g(C))-a)*(n*C<n*a?c:d),h(v?Math.max(0,Math.min(1,C)):C))}w.domain=function(C){return arguments.length?([e,t,r]=C,i=g(e=+e),a=g(t=+t),s=g(r=+r),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,w):[e,t,r]},w.clamp=function(C){return arguments.length?(v=!!C,w):v},w.interpolator=function(C){return arguments.length?(h=C,w):h};function A(C){return function(I){var O,_,T;return arguments.length?([O,_,T]=I,h=tU(C,[O,_,T]),w):[h(0),h(.5),h(1)]}}return w.range=A(Ul),w.rangeRound=A(sx),w.unknown=function(C){return arguments.length?(y=C,w):y},function(C){return g=C,i=C(e),a=C(t),s=C(r),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,w}}function aT(){var e=mo(tp()(Yr));return e.copy=function(){return vo(e,aT())},xa.apply(e,arguments)}function oT(){var e=dx(tp()).domain([.1,1,10]);return e.copy=function(){return vo(e,oT()).base(e.base())},xa.apply(e,arguments)}function sT(){var e=fx(tp());return e.copy=function(){return vo(e,sT()).constant(e.constant())},xa.apply(e,arguments)}function Sx(){var e=hx(tp());return e.copy=function(){return vo(e,Sx()).exponent(e.exponent())},xa.apply(e,arguments)}function GW(){return Sx.apply(null,arguments).exponent(.5)}const Mu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ix,scaleDiverging:aT,scaleDivergingLog:oT,scaleDivergingPow:Sx,scaleDivergingSqrt:GW,scaleDivergingSymlog:sT,scaleIdentity:F4,scaleImplicit:Fm,scaleLinear:L4,scaleLog:U4,scaleOrdinal:nx,scalePoint:P$,scalePow:px,scaleQuantile:G4,scaleQuantize:H4,scaleRadial:z4,scaleSequential:tT,scaleSequentialLog:rT,scaleSequentialPow:Ax,scaleSequentialQuantile:iT,scaleSequentialSqrt:zW,scaleSequentialSymlog:nT,scaleSqrt:SU,scaleSymlog:W4,scaleThreshold:V4,scaleTime:UW,scaleUtc:WW,tickFormat:B4},Symbol.toStringTag,{value:"Module"}));var ws=e=>e.chartData,Cx=Q([ws],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lT=(e,t,r,n)=>n?Cx(e):ws(e);function Nl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Bn(t)&&Bn(r))return!0}return!1}function UA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function HW(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Bn(r))i=r;else if(typeof r=="function")return;if(Bn(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Nl(s))return s}}function VW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Nl(n))return UA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Se(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&BE.test(i)){var d=BE.exec(i);if(d==null||t==null)s=void 0;else{var h=+d[1];s=t[0]-h}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Se(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&LE.test(a)){var g=LE.exec(a);if(g==null||t==null)c=void 0;else{var v=+g[1];c=t[1]+v}}else c=t==null?void 0:t[1];var y=[s,c];if(Nl(y))return t==null?y:UA(y,t,r)}}}var Wl=1e9,KW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ix,kt=!0,li="[DecimalError] ",Jo=li+"Invalid argument: ",Ox=li+"Exponent out of range: ",zl=Math.floor,jo=Math.pow,qW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,pr=1e7,It=7,uT=9007199254740991,Th=zl(uT/It),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*It;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return oa(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return yt(oa(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return tr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(On))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(On)?new n(0):(kt=!1,t=oa(Ac(r,a),Ac(e,a),a),kt=!0,yt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fT(t,e):cT(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(li+"NaN");return r.s?(kt=!1,t=oa(r,e,0,1).times(e),kt=!0,r.minus(t)):yt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return dT(this)};Ce.naturalLogarithm=Ce.ln=function(){return Ac(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cT(t,e):fT(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jo+e);if(t=tr(i)+1,n=i.d.length-1,r=n*It+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(li+"NaN")}for(e=tr(c),kt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Fi(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=zl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(a=n,n=a.plus(oa(c,a,s+2)).times(.5),Fi(a.d).slice(0,s)===(t=Fi(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(yt(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(t!="9999")break;s+=4}return kt=!0,yt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,i,a,s,c,d,h,g=this,v=g.constructor,y=g.d,w=(e=new v(e)).d;if(!g.s||!e.s)return new v(0);for(e.s*=g.s,r=g.e+e.e,d=y.length,h=w.length,d<h&&(a=y,y=w,w=a,s=d,d=h,h=s),a=[],s=d+h,n=s;n--;)a.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)c=a[i]+w[n]*y[i-n-1]+t,a[i--]=c%pr|0,t=c/pr|0;a[i]=(a[i]+t)%pr|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,kt?yt(e,v.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gi(e,0,Wl),t===void 0?t=n.rounding:Gi(t,0,8),yt(r,e+tr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=us(n,!0):(Gi(e,0,Wl),t===void 0?t=i.rounding:Gi(t,0,8),n=yt(new i(n),e+1,t),r=us(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?us(i):(Gi(e,0,Wl),t===void 0?t=a.rounding:Gi(t,0,8),n=yt(new a(i),e+tr(i)+1,t),r=us(n.abs(),!1,e+tr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return yt(new t(e),tr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,i,a,s,c=this,d=c.constructor,h=12,g=+(e=new d(e));if(!e.s)return new d(On);if(c=new d(c),!c.s){if(e.s<1)throw Error(li+"Infinity");return c}if(c.eq(On))return c;if(n=d.precision,e.eq(On))return yt(c,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=c.s,s){if((r=g<0?-g:g)<=uT){for(i=new d(On),t=Math.ceil(n/It+4),kt=!1;r%2&&(i=i.times(c),zA(i.d,t)),r=zl(r/2),r!==0;)c=c.times(c),zA(c.d,t);return kt=!0,e.s<0?new d(On).div(i):yt(i,n)}}else if(a<0)throw Error(li+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,kt=!1,i=e.times(Ac(c,n+h)),kt=!0,i=dT(i),i.s=a,i};Ce.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=tr(i),n=us(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gi(e,1,Wl),t===void 0?t=a.rounding:Gi(t,0,8),i=yt(new a(i),e,t),r=tr(i),n=us(i,e<=r||r<=a.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gi(e,1,Wl),t===void 0?t=n.rounding:Gi(t,0,8)),yt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tr(e),r=e.constructor;return us(e,t<=r.toExpNeg||t>=r.toExpPos)};function cT(e,t){var r,n,i,a,s,c,d,h,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),kt?yt(t,v):t;if(d=e.d,h=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(n=d,a=-a,c=h.length):(n=h,i=s,c=d.length),s=Math.ceil(v/It),c=s>c?s+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=d.length,a=h.length,c-a<0&&(a=c,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/pr|0,d[a]%=pr;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,kt?yt(t,v):t}function Gi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Jo+e)}function Fi(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=It-n.length,r&&(a+=Fa(r)),a+=n;s=e[t],n=s+"",r=It-n.length,r&&(a+=Fa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var oa=function(){function e(n,i){var a,s=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+s,n[c]=a%pr|0,s=a/pr|0;return s&&n.unshift(s),n}function t(n,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var c,d,h,g,v,y,w,A,C,I,O,_,T,D,M,j,L,z,U=n.constructor,J=n.s==i.s?1:-1,X=n.d,q=i.d;if(!n.s)return new U(n);if(!i.s)throw Error(li+"Division by zero");for(d=n.e-i.e,L=q.length,M=X.length,w=new U(J),A=w.d=[],h=0;q[h]==(X[h]||0);)++h;if(q[h]>(X[h]||0)&&--d,a==null?_=a=U.precision:s?_=a+(tr(n)-tr(i))+1:_=a,_<0)return new U(0);if(_=_/It+2|0,h=0,L==1)for(g=0,q=q[0],_++;(h<M||g)&&_--;h++)T=g*pr+(X[h]||0),A[h]=T/q|0,g=T%q|0;else{for(g=pr/(q[0]+1)|0,g>1&&(q=e(q,g),X=e(X,g),L=q.length,M=X.length),D=L,C=X.slice(0,L),I=C.length;I<L;)C[I++]=0;z=q.slice(),z.unshift(0),j=q[0],q[1]>=pr/2&&++j;do g=0,c=t(q,C,L,I),c<0?(O=C[0],L!=I&&(O=O*pr+(C[1]||0)),g=O/j|0,g>1?(g>=pr&&(g=pr-1),v=e(q,g),y=v.length,I=C.length,c=t(v,C,y,I),c==1&&(g--,r(v,L<y?z:q,y))):(g==0&&(c=g=1),v=q.slice()),y=v.length,y<I&&v.unshift(0),r(C,v,I),c==-1&&(I=C.length,c=t(q,C,L,I),c<1&&(g++,r(C,L<I?z:q,I))),I=C.length):c===0&&(g++,C=[0]),A[h++]=g,c&&C[0]?C[I++]=X[D]||0:(C=[X[D]],I=1);while((D++<M||C[0]!==void 0)&&_--)}return A[0]||A.shift(),w.e=d,yt(w,s?a+tr(w)+1:a)}}();function dT(e,t){var r,n,i,a,s,c,d=0,h=0,g=e.constructor,v=g.precision;if(tr(e)>16)throw Error(Ox+tr(e));if(!e.s)return new g(On);for(kt=!1,c=v,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(n=Math.log(jo(2,h))/Math.LN10*2+5|0,c+=n,r=i=a=new g(On),g.precision=c;;){if(i=yt(i.times(e),c),r=r.times(++d),s=a.plus(oa(i,r,c)),Fi(s.d).slice(0,c)===Fi(a.d).slice(0,c)){for(;h--;)a=yt(a.times(a),c);return g.precision=v,t==null?(kt=!0,yt(a,v)):a}a=s}}function tr(e){for(var t=e.e*It,r=e.d[0];r>=10;r/=10)t++;return t}function Wg(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(li+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function Fa(e){for(var t="";e--;)t+="0";return t}function Ac(e,t){var r,n,i,a,s,c,d,h,g,v=1,y=10,w=e,A=w.d,C=w.constructor,I=C.precision;if(w.s<1)throw Error(li+(w.s?"NaN":"-Infinity"));if(w.eq(On))return new C(0);if(t==null?(kt=!1,h=I):h=t,w.eq(10))return t==null&&(kt=!0),Wg(C,h);if(h+=y,C.precision=h,r=Fi(A),n=r.charAt(0),a=tr(w),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=Fi(w.d),n=r.charAt(0),v++;a=tr(w),n>1?(w=new C("0."+r),a++):w=new C(n+"."+r.slice(1))}else return d=Wg(C,h+2,I).times(a+""),w=Ac(new C(n+"."+r.slice(1)),h-y).plus(d),C.precision=I,t==null?(kt=!0,yt(w,I)):w;for(c=s=w=oa(w.minus(On),w.plus(On),h),g=yt(w.times(w),h),i=3;;){if(s=yt(s.times(g),h),d=c.plus(oa(s,new C(i),h)),Fi(d.d).slice(0,h)===Fi(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(Wg(C,h+2,I).times(a+""))),c=oa(c,new C(v),h),C.precision=I,t==null?(kt=!0,yt(c,I)):c;c=d,i+=2}}function WA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=zl(r/It),e.d=[],n=(r+1)%It,r<0&&(n+=It),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=It;n<i;)e.d.push(+t.slice(n,n+=It));t=t.slice(n),n=It-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>Th||e.e<-Th))throw Error(Ox+r)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,r){var n,i,a,s,c,d,h,g,v=e.d;for(s=1,a=v[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=It,i=t,h=v[g=0];else{if(g=Math.ceil((n+1)/It),a=v.length,g>=a)return e;for(h=a=v[g],s=1;a>=10;a/=10)s++;n%=It,i=n-It+s}if(r!==void 0&&(a=jo(10,s-i-1),c=h/a%10|0,d=t<0||v[g+1]!==void 0||h%a,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?h/jo(10,s-i):0:v[g-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return d?(a=tr(e),v.length=1,t=t-a-1,v[0]=jo(10,(It-t%It)%It),e.e=zl(-t/It)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=g,a=1,g--):(v.length=g+1,a=jo(10,It-n),v[g]=i>0?(h/jo(10,s-i)%jo(10,i)|0)*a:0),d)for(;;)if(g==0){(v[0]+=a)==pr&&(v[0]=1,++e.e);break}else{if(v[g]+=a,v[g]!=pr)break;v[g--]=0,a=1}for(n=v.length;v[--n]===0;)v.pop();if(kt&&(e.e>Th||e.e<-Th))throw Error(Ox+tr(e));return e}function fT(e,t){var r,n,i,a,s,c,d,h,g,v,y=e.constructor,w=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),kt?yt(t,w):t;if(d=e.d,v=t.d,n=t.e,h=e.e,d=d.slice(),s=h-n,s){for(g=s<0,g?(r=d,s=-s,c=v.length):(r=v,n=h,c=d.length),i=Math.max(Math.ceil(w/It),c)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=v.length,g=i<c,g&&(c=i),i=0;i<c;i++)if(d[i]!=v[i]){g=d[i]<v[i];break}s=0}for(g&&(r=d,d=v,v=r,t.s=-t.s),c=d.length,i=v.length-c;i>0;--i)d[c++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(a=i;a&&d[--a]===0;)d[a]=pr-1;--d[a],d[i]+=pr}d[i]-=v[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,kt?yt(t,w):t):new y(0)}function us(e,t,r){var n,i=tr(e),a=Fi(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Fa(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Fa(-i-1)+a,r&&(n=r-s)>0&&(a+=Fa(n))):i>=s?(a+=Fa(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Fa(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Fa(n))),e.s<0?"-"+a:a}function zA(e,t){if(e.length>t)return e.length=t,!0}function hT(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Jo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return WA(s,a.toString())}else if(typeof a!="string")throw Error(Jo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,qW.test(a))WA(s,a);else throw Error(Jo+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hT,i.config=i.set=XW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function XW(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,r,n,i=["precision",1,Wl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(zl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Jo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jo+r+": "+n);return this}var Ix=hT(KW);On=new Ix(1);const st=Ix;var YW=e=>e,pT={},gT=e=>e===pT,GA=e=>function t(){return arguments.length===0||arguments.length===1&&gT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},mT=(e,t)=>e===1?t:GA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==pT).length;return a>=e?t(...n):mT(e-a,GA(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var h=n.map(g=>gT(g)?c.shift():g);return t(...h,...c)}))}),rp=e=>mT(e.length,e),zm=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ZW=rp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YW;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},Gm=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),vT=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,c)=>{var d;return s===((d=t)===null||d===void 0?void 0:d[c])})||(t=i,r=e(...i)),r}};function yT(e){var t;return e===0?t=1:t=Math.floor(new st(e).abs().log(10).toNumber())+1,t}function xT(e,t,r){for(var n=new st(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}rp((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});rp((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});rp((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var wT=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},bT=(e,t,r)=>{if(e.lte(0))return new st(0);var n=yT(e.toNumber()),i=new st(10).pow(n),a=e.div(i),s=n!==1?.05:.1,c=new st(Math.ceil(a.div(s).toNumber())).add(r).mul(s),d=c.mul(i);return t?new st(d.toNumber()):new st(Math.ceil(d.toNumber()))},JW=(e,t,r)=>{var n=new st(1),i=new st(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new st(10).pow(yT(e)-1),i=new st(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new st(Math.floor(e)))}else e===0?i=new st(Math.floor((t-1)/2)):r||(i=new st(Math.floor(e)));var s=Math.floor((t-1)/2),c=QW(ZW(d=>i.add(new st(d-s).mul(n)).toNumber()),zm);return c(0,t)},ET=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var s=bT(new st(r).sub(t).div(n-1),i,a),c;t<=0&&r>=0?c=new st(0):(c=new st(t).add(r).div(2),c=c.sub(new st(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),h=Math.ceil(new st(r).sub(c).div(s).toNumber()),g=d+h+1;return g>n?ET(t,r,n,i,a+1):(g<n&&(h=r>0?h+(n-g):h,d=r>0?d:d+(n-g)),{step:s,tickMin:c.sub(new st(d).mul(s)),tickMax:c.add(new st(h).mul(s))})};function ez(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,c]=wT([t,r]);if(s===-1/0||c===1/0){var d=c===1/0?[s,...zm(0,n-1).map(()=>1/0)]:[...zm(0,n-1).map(()=>-1/0),c];return t>r?Gm(d):d}if(s===c)return JW(s,n,i);var{step:h,tickMin:g,tickMax:v}=ET(s,c,a,i,0),y=xT(g,v.add(new st(.1).mul(h)),h);return t>r?Gm(y):y}function tz(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=wT([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var c=Math.max(t,2),d=bT(new st(s).sub(a).div(c-1),i,0),h=[...xT(new st(a),new st(s),d),s];return i===!1&&(h=h.map(g=>Math.round(g))),r>n?Gm(h):h}var rz=vT(ez),nz=vT(tz),AT=e=>e.rootProps.maxBarSize,iz=e=>e.rootProps.barGap,ST=e=>e.rootProps.barCategoryGap,az=e=>e.rootProps.barSize,Zc=e=>e.rootProps.stackOffset,_x=e=>e.options.chartName,Tx=e=>e.rootProps.syncId,CT=e=>e.rootProps.syncMethod,Nx=e=>e.options.eventEmitter,Qi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Sn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},np=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},oz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qi.angleAxisId,includeHidden:!1,name:void 0,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:void 0,ticks:void 0,type:Qi.type,unit:void 0},sz={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:Sn.type,unit:void 0},lz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uz={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:"category",unit:void 0},Px=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?lz:oz,kx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uz:sz,ip=e=>e.polarOptions,Dx=Q([va,ya,lr],J_),OT=Q([ip,Dx],(e,t)=>{if(e!=null)return Qr(e.innerRadius,t,0)}),IT=Q([ip,Dx],(e,t)=>{if(e!=null)return Qr(e.outerRadius,t,t*.8)}),cz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},_T=Q([ip],cz);Q([Px,_T],np);var TT=Q([Dx,OT,IT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Q([kx,TT],np);var dz=Q([ft,ip,OT,IT,va,ya],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:c,startAngle:d,endAngle:h}=t;return{cx:Qr(s,i,i/2),cy:Qr(c,a,a/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),qt=(e,t)=>t,Qc=(e,t,r)=>r;function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm=[0,"auto"],bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wa=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??bn},En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:V0},yo=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??En},gz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??gz},Xt=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return yo(e,r);case"zAxis":return Rx(e,r);case"angleAxis":return Px(e,r);case"radiusAxis":return kx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mz=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return yo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jc=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return yo(e,r);case"angleAxis":return Px(e,r);case"radiusAxis":return kx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},NT=e=>e.graphicalItems.countOfBars>0;function Mx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var jx=e=>e.graphicalItems.cartesianItems,vz=Q([qt,Qc],Mx),Bx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ed=Q([jx,Xt,vz],Bx),PT=e=>e.filter(t=>t.stackId===void 0),yz=Q([ed],PT),Lx=e=>e.map(t=>t.data).filter(Boolean).flat(1),xz=Q([ed],Lx),Fx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},ap=Q([xz,lT],Fx),$x=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ht(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ht(i,n)}))):e.map(n=>({value:n})),op=Q([ap,Xt,ed],$x);function kT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function bs(e){return e.filter(t=>zi(t)||t instanceof Date).map(Number).filter(t=>Rn(t)===!1)}function wz(e,t,r){return!r||typeof t!="number"||Rn(t)?[]:r.length?bs(r.flatMap(n=>{var i=Ht(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Bn(a)||!Bn(s)))return[t-a,t+s]})):[]}var DT=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,c]=a,d=c.map(h=>h.dataKey);return[s,{stackedData:TL(e,d,r),graphicalItems:c}]}))},Vm=Q([ap,ed,Zc],DT),RT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=DL(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},bz=Q([Vm,ws,qt],RT),MT=(e,t,r,n)=>r.length>0?e.flatMap(i=>r.flatMap(a=>{var s,c,d=(s=a.errorBars)===null||s===void 0?void 0:s.filter(g=>kT(n,g)),h=Ht(i,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:h,errorDomain:wz(i,h,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ht(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Ez=Q(ap,Xt,yz,qt,MT);function Az(e){var{value:t}=e;if(zi(t)||t instanceof Date)return t}var Sz=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=bs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Cz=(e,t,r)=>{var n=e.map(Az).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&MI(n))?I4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ux=e=>{var t;if(e==null||!("domain"in e))return Hm;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=bs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Hm},Wx=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},jT=e=>e.referenceElements.dots,Gl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Oz=Q([jT,qt,Qc],Gl),BT=e=>e.referenceElements.areas,Iz=Q([BT,qt,Qc],Gl),LT=e=>e.referenceElements.lines,_z=Q([LT,qt,Qc],Gl),FT=(e,t)=>{var r=bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Tz=Q(Oz,qt,FT),$T=(e,t)=>{var r=bs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nz=Q([Iz,qt],$T),UT=(e,t)=>{var r=bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pz=Q(_z,qt,UT),kz=Q(Tz,Pz,Nz,(e,t,r)=>Wx(e,r,t)),WT=Q([Xt],Ux),zx=(e,t,r,n,i)=>{var a=HW(t,e.allowDataOverflow);return a??VW(t,Wx(r,i,Sz(n)),e.allowDataOverflow)},Dz=Q([Xt,WT,bz,Ez,kz],zx),Rz=[0,1],Gx=(e,t,r,n,i,a,s)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:c,type:d}=e,h=vs(t,a);return h&&c==null?I4(0,r.length):d==="category"?Cz(n,e,h):i==="expand"?Rz:s}},Hx=Q([Xt,ft,ap,op,Zc,qt,Dz],Gx),zT=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(zc(a));return c in Mu?c:"point"}}},Hl=Q([Xt,ft,NT,_x,qt],zT);function Mz(e){if(e!=null){if(e in Mu)return Mu[e]();var t="scale".concat(zc(e));if(t in Mu)return Mu[t]()}}function Vx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Mz(t);if(i!=null){var a=i.domain(r).range(n);return SL(a),a}}}var Kx=(e,t,r)=>{var n=Ux(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Nl(e))return rz(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Nl(e))return nz(e,t.tickCount,t.allowDecimals)}},qx=Q([Hx,Jc,Hl],Kx),Xx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Nl(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],c=r[r.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},jz=Q([Xt,Hx,qx,qt],Xx),Bz=Q(op,Xt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(bs(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),GT=Q(Bz,ft,ST,lr,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Bn(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Qr(r,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),Lz=(e,t)=>{var r=wa(e,t);return r==null||typeof r.padding!="string"?0:GT(e,"xAxis",t,r.padding)},Fz=(e,t)=>{var r=yo(e,t);return r==null||typeof r.padding!="string"?0:GT(e,"yAxis",t,r.padding)},$z=Q(wa,Lz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Uz=Q(yo,Fz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Wz=Q([lr,$z,q0,K0,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),zz=Q([lr,ft,Uz,q0,K0,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),td=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Wz(e,r,n);case"yAxis":return zz(e,r,n);case"zAxis":return(i=Rx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return _T(e);case"radiusAxis":return TT(e,r);default:return}},HT=Q([Xt,td],np),Vl=Q([Xt,Hl,jz,HT],Vx);Q(ed,qt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>kT(t,r)));function VT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sp=(e,t)=>t,lp=(e,t,r)=>r,Gz=Q(qy,sp,lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VT)),Hz=Q(Xy,sp,lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VT)),KT=(e,t)=>({width:e.width,height:t.height}),Vz=(e,t)=>{var r=typeof t.width=="number"?t.width:V0;return{width:r,height:e.height}},qT=Q(lr,wa,KT),Kz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},qz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Xz=Q(ya,lr,Gz,sp,lp,(e,t,r,n,i)=>{var a={},s;return r.forEach(c=>{var d=KT(t,c);s==null&&(s=Kz(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;a[c.id]=s-Number(h)*d.height,s+=(h?-1:1)*d.height}),a}),Yz=Q(va,lr,Hz,sp,lp,(e,t,r,n,i)=>{var a={},s;return r.forEach(c=>{var d=Vz(t,c);s==null&&(s=qz(t,n,e));var h=n==="left"&&!i||n==="right"&&i;a[c.id]=s-Number(h)*d.width,s+=(h?-1:1)*d.width}),a}),Zz=(e,t)=>{var r=lr(e),n=wa(e,t);if(n!=null){var i=Xz(e,n.orientation,n.mirror),a=i[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},Qz=(e,t)=>{var r=lr(e),n=yo(e,t);if(n!=null){var i=Yz(e,n.orientation,n.mirror),a=i[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},XT=Q(lr,yo,(e,t)=>{var r=typeof t.width=="number"?t.width:V0;return{width:r,height:e.height}}),VA=(e,t,r)=>{switch(t){case"xAxis":return qT(e,r).width;case"yAxis":return XT(e,r).height;default:return}},YT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,c=vs(e,n),d=t.map(h=>h.value);if(s&&c&&a==="category"&&i&&MI(d))return d}},Yx=Q([ft,op,Xt,qt],YT),ZT=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=vs(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},Zx=Q([ft,op,Jc,qt],ZT),KA=Q([ft,mz,Hl,Vl,Yx,Zx,td,qx,qt],(e,t,r,n,i,a,s,c,d)=>{if(t==null)return null;var h=vs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:c,range:s,realScaleType:r,scale:n}}),Jz=(e,t,r,n,i,a,s,c,d)=>{if(!(t==null||n==null)){var h=vs(e,d),{type:g,ticks:v,tickCount:y}=t,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,A=g==="category"&&n.bandwidth?n.bandwidth()/w:0;A=d==="angleAxis"&&a!=null&&a.length>=2?mr(a[0]-a[1])*2*A:A;var C=v||i;if(C){var I=C.map((O,_)=>{var T=s?s.indexOf(O):O;return{index:_,coordinate:n(T)+A,value:O,offset:A}});return I.filter(O=>!Rn(O.coordinate))}return h&&c?c.map((O,_)=>({coordinate:n(O)+A,value:O,index:_,offset:A})):n.ticks?n.ticks(y).map(O=>({coordinate:n(O)+A,value:O,offset:A})):n.domain().map((O,_)=>({coordinate:n(O)+A,value:s?s[O]:O,index:_,offset:A}))}},QT=Q([ft,Jc,Hl,Vl,qx,td,Yx,Zx,qt],Jz),eG=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=vs(e,s),{tickCount:d}=t,h=0;return h=s==="angleAxis"&&(n==null?void 0:n.length)>=2?mr(n[0]-n[1])*2*h:h,c&&a?a.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.ticks?r.ticks(d).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:i?i[g]:g,index:v,offset:h}))}},Pl=Q([ft,Jc,Vl,td,Yx,Zx,qt],eG),lo=Q(Xt,Vl,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})}),tG=Q([Xt,Hl,Hx,HT],Vx);Q((e,t,r)=>Rx(e,r),tG,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})});var rG=Q([ft,qy,Xy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JT=e=>e.options.defaultTooltipEventType,eN=e=>e.options.validateTooltipEventTypes;function tN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Qx(e,t){var r=JT(e),n=eN(e);return tN(t,r,n)}function nG(e){return Ne(t=>Qx(t,e))}var rN=(e,t)=>{var r,n=Number(t);if(!(Rn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},iG=e=>e.tooltip.settings,Ga={active:!1,index:null,dataKey:void 0,coordinate:void 0},aG={itemInteraction:{click:Ga,hover:Ga},axisInteraction:{click:Ga,hover:Ga},keyboardInteraction:Ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nN=ui({name:"tooltip",initialState:aG,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=aa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:oG,removeTooltipEntrySettings:sG,setTooltipSettingsState:lG,setActiveMouseOverItemIndex:iN,mouseLeaveItem:uG,mouseLeaveChart:aN,setActiveClickItemIndex:cG,setMouseOverAxisIndex:oN,setMouseClickAxisIndex:dG,setSyncInteraction:Km,setKeyboardInteraction:qm}=nN.actions,fG=nN.reducer;function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vG(e){return e.index!=null}var sN=(e,t,r,n)=>{if(t==null)return Ga;var i=mG(e,t,r);if(i==null)return Ga;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(vG(i)){if(a)return af(af({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return af(af({},Ga),{},{coordinate:i.coordinate})},Jx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Bn(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},lN=(e,t,r,n,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],h=d==null?void 0:c(d.positions,a);if(h!=null)return h;var g=i==null?void 0:i[Number(a)];if(g)switch(r){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},uN=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},rd=e=>e.options.tooltipPayloadSearcher,Kl=e=>e.tooltip;function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=xG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=wG(e,"string");return typeof t=="symbol"?t:t+""}function wG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bG(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function EG(e,t){return e??t}var cN=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:g}=r,v=[];return e.reduce((y,w)=>{var A,{dataDefinedOnItem:C,settings:I}=w,O=EG(C,c),_=bG(O,h,g),T=(A=I==null?void 0:I.dataKey)!==null&&A!==void 0?A:n==null?void 0:n.dataKey,D=I==null?void 0:I.nameKey,M;if(n!=null&&n.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?M=A7(_,n.dataKey,i):M=a(_,t,d,D),Array.isArray(M))M.forEach(L=>{var z=YA(YA({},I),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});y.push(FE({tooltipEntrySettings:z,dataKey:L.dataKey,payload:L.payload,value:Ht(L.payload,L.dataKey),name:L.name}))});else{var j;y.push(FE({tooltipEntrySettings:I,dataKey:T,payload:M,value:Ht(M,T),name:(j=Ht(M,D))!==null&&j!==void 0?j:I==null?void 0:I.name}))}return y},v)}},Er=e=>{var t=ft(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ql=e=>e.tooltip.settings.axisId,Rr=e=>{var t=Er(e),r=ql(e);return Jc(e,t,r)},ew=Q([Rr,ft,NT,_x,Er],zT),AG=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SG=Q([Er,ql],Mx),up=Q([AG,Rr,SG],Bx),CG=Q([up],Lx),Es=Q([CG,ws],Fx),tw=Q([Es,Rr,up],$x),OG=Q([Rr],Ux),IG=Q([Es,up,Zc],DT),_G=Q([IG,ws,Er],RT),TG=Q([up],PT),NG=Q([Es,Rr,TG,Er],MT),PG=Q([jT,Er,ql],Gl),kG=Q([PG,Er],FT),DG=Q([BT,Er,ql],Gl),RG=Q([DG,Er],$T),MG=Q([LT,Er,ql],Gl),jG=Q([MG,Er],UT),BG=Q([kG,jG,RG],Wx),LG=Q([Rr,OG,_G,NG,BG],zx),dN=Q([Rr,ft,Es,tw,Zc,Er,LG],Gx),FG=Q([dN,Rr,ew],Kx),$G=Q([Rr,dN,FG,Er],Xx),fN=e=>{var t=Er(e),r=ql(e),n=!1;return td(e,t,r,n)},hN=Q([Rr,fN],np),pN=Q([Rr,ew,$G,hN],Vx),UG=Q([ft,tw,Rr,Er],YT),WG=Q([ft,tw,Rr,Er],ZT),zG=(e,t,r,n,i,a,s,c)=>{if(t){var{type:d}=t,h=vs(e,c);if(n){var g=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/g:0;return v=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mr(i[0]-i[1])*2*v:v,h&&s?s.map((y,w)=>({coordinate:n(y)+v,value:y,index:w,offset:v})):n.domain().map((y,w)=>({coordinate:n(y)+v,value:a?a[y]:y,index:w,offset:v}))}}},ba=Q([ft,Rr,ew,pN,fN,UG,WG,Er],zG),rw=Q([JT,eN,iG],(e,t,r)=>tN(r.shared,e,t)),gN=e=>e.tooltip.settings.trigger,nw=e=>e.tooltip.settings.defaultIndex,cp=Q([Kl,rw,gN,nw],sN),cs=Q([cp,Es],Jx),mN=Q([ba,cs],rN),vN=Q([cp],e=>{if(e)return e.dataKey}),yN=Q([Kl,rw,gN,nw],uN),GG=Q([va,ya,ft,lr,ba,nw,yN,rd],lN),HG=Q([cp,GG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),VG=Q([cp],e=>e.active),KG=Q([yN,cs,ws,Rr,mN,rd,rw],cN);Q([KG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZG=()=>Ne(Rr),QG=()=>{var e=ZG(),t=Ne(ba),r=Ne(pN);return Ky(QA(QA({},e),{},{scale:r}),t)},JG=()=>Ne(_x),iw=(e,t)=>t,xN=(e,t,r)=>r,aw=(e,t,r,n)=>n,eH=Q(ba,e=>L0(e,t=>t.coordinate)),ow=Q([Kl,iw,xN,aw],sN),wN=Q([ow,Es],Jx),tH=(e,t,r)=>{if(t!=null){var n=Kl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},bN=Q([Kl,iw,xN,aw],uN),Ph=Q([va,ya,ft,lr,ba,aw,bN,rd],lN),rH=Q([ow,Ph],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),EN=Q(ba,wN,rN),nH=Q([bN,wN,ws,Rr,EN,rd,iw],cN),iH=Q([ow],e=>({isActive:e.active,activeIndex:e.index})),aH=(e,t,r,n,i,a,s,c)=>{if(!(!e||!t||!n||!i||!a)){var d=RL(e.chartX,e.chartY,t,r,c);if(d){var h=jL(d,t),g=EL(h,s,a,n,i),v=ML(t,a,g,d);return{activeIndex:String(g),activeCoordinate:v}}}};function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(null,arguments)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){oH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:c,tooltipEventType:d,chartName:h}=e,g=t,v=r,y=n;if(!c||!g||h!=="ScatterChart"&&d!=="axis")return null;var w,A;if(h==="ScatterChart")w=g,A=DF;else if(h==="BarChart")w=RF(s,g,i,a),A=w4;else if(s==="radial"){var{cx:C,cy:I,radius:O,startAngle:_,endAngle:T}=b4(g);w={cx:C,cy:I,startAngle:_,endAngle:T,innerRadius:O,outerRadius:O},A=A4}else w={points:g$(s,g,i)},A=f4;var D=typeof c=="object"&&"className"in c?c.className:void 0,M=of(of(of(of({stroke:"#ccc",pointerEvents:"none"},i),w),ut(c,!1)),{},{payload:v,payloadIndex:y,className:lt("recharts-tooltip-cursor",D)});return N.isValidElement(c)?N.cloneElement(c,M):N.createElement(A,M)}function cH(e){var t=QG(),r=s4(),n=Jy(),i=JG();return N.createElement(uH,Xm({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var AN=N.createContext(null),dH=()=>N.useContext(AN),SN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,g){this.fn=d,this.context=h,this.once=g||!1}function a(d,h,g,v,y){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new i(g,v||d,y),A=r?r+h:h;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],w]:d._events[A].push(w):(d._events[A]=w,d._eventsCount++),d}function s(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)t.call(g,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},c.prototype.listeners=function(h){var g=r?r+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,w=v.length,A=new Array(w);y<w;y++)A[y]=v[y].fn;return A},c.prototype.listenerCount=function(h){var g=r?r+h:h,v=this._events[g];return v?v.fn?1:v.length:0},c.prototype.emit=function(h,g,v,y,w,A){var C=r?r+h:h;if(!this._events[C])return!1;var I=this._events[C],O=arguments.length,_,T;if(I.fn){switch(I.once&&this.removeListener(h,I.fn,void 0,!0),O){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,g),!0;case 3:return I.fn.call(I.context,g,v),!0;case 4:return I.fn.call(I.context,g,v,y),!0;case 5:return I.fn.call(I.context,g,v,y,w),!0;case 6:return I.fn.call(I.context,g,v,y,w,A),!0}for(T=1,_=new Array(O-1);T<O;T++)_[T-1]=arguments[T];I.fn.apply(I.context,_)}else{var D=I.length,M;for(T=0;T<D;T++)switch(I[T].once&&this.removeListener(h,I[T].fn,void 0,!0),O){case 1:I[T].fn.call(I[T].context);break;case 2:I[T].fn.call(I[T].context,g);break;case 3:I[T].fn.call(I[T].context,g,v);break;case 4:I[T].fn.call(I[T].context,g,v,y);break;default:if(!_)for(M=1,_=new Array(O-1);M<O;M++)_[M-1]=arguments[M];I[T].fn.apply(I[T].context,_)}}return!0},c.prototype.on=function(h,g,v){return a(this,h,g,v,!1)},c.prototype.once=function(h,g,v){return a(this,h,g,v,!0)},c.prototype.removeListener=function(h,g,v,y){var w=r?r+h:h;if(!this._events[w])return this;if(!g)return s(this,w),this;var A=this._events[w];if(A.fn)A.fn===g&&(!y||A.once)&&(!v||A.context===v)&&s(this,w);else{for(var C=0,I=[],O=A.length;C<O;C++)(A[C].fn!==g||y&&!A[C].once||v&&A[C].context!==v)&&I.push(A[C]);I.length?this._events[w]=I.length===1?I[0]:I:s(this,w)}return this},c.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&s(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(SN);var fH=SN.exports;const hH=Ln(fH);var Sc=new hH,Ym="recharts.syncEvent.tooltip",eS="recharts.syncEvent.brush";function CN(e,t){if(t){var r=Number.parseInt(t,10);if(!Rn(r))return e==null?void 0:e[r]}}var pH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ON=ui({name:"options",initialState:pH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gH=ON.reducer,{createEventEmitter:mH}=ON.actions;function vH(e){return e.tooltip.syncInteraction}var yH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IN=ui({name:"chartData",initialState:yH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:tS,setDataStartEndIndexes:xH,setComputedData:Rne}=IN.actions,wH=IN.reducer,_N=()=>{};function bH(){var e=Ne(Tx),t=Ne(Nx),r=Dt(),n=Ne(CT),i=Ne(ba),a=Jy(),s=Yy(),c=Ne(d=>d.rootProps.className);N.useEffect(()=>{if(e==null)return _N;var d=(h,g,v)=>{if(t!==v&&e===h){if(n==="index"){r(g);return}if(i!=null){var y;if(typeof n=="function"){var w={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},A=n(i,w);y=i[A]}else n==="value"&&(y=i.find(j=>String(j.value)===g.payload.label));var{coordinate:C}=g.payload;if(y==null||g.payload.active===!1||C==null||s==null){r(Km({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:O}=C,_=Math.min(I,s.x+s.width),T=Math.min(O,s.y+s.height),D={x:a==="horizontal"?y.coordinate:_,y:a==="horizontal"?T:y.coordinate},M=Km({active:g.payload.active,coordinate:D,dataKey:g.payload.dataKey,index:String(y.index),label:g.payload.label});r(M)}}};return Sc.on(Ym,d),()=>{Sc.off(Ym,d)}},[c,r,t,e,n,i,a,s])}function EH(){var e=Ne(Tx),t=Ne(Nx),r=Dt();N.useEffect(()=>{if(e==null)return _N;var n=(i,a,s)=>{t!==s&&e===i&&r(xH(a))};return Sc.on(eS,n),()=>{Sc.off(eS,n)}},[r,t,e])}function AH(){var e=Dt();N.useEffect(()=>{e(mH())},[e]),bH(),EH()}function SH(e,t,r,n,i,a){var s=Ne(y=>tH(y,e,t)),c=Ne(Nx),d=Ne(Tx),h=Ne(CT),g=Ne(vH),v=g==null?void 0:g.active;N.useEffect(()=>{if(!v&&d!=null&&c!=null){var y=Km({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});Sc.emit(Ym,d,y,c)}},[v,r,s,i,n,c,d,h,a])}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _H(e){return e.dataKey}function TH(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(dF,t)}var iS=[],NH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$l.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function TN(e){var t=_i(e,NH),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:y,useTranslate3d:w,wrapperStyle:A,cursor:C,shared:I,trigger:O,defaultIndex:_,portal:T,axisId:D}=t,M=Dt(),j=typeof _=="number"?String(_):_;N.useEffect(()=>{M(lG({shared:I,trigger:O,axisId:D,active:r,defaultIndex:j}))},[M,I,O,D,r,j]);var L=Yy(),z=d4(),U=nG(I),{activeIndex:J,isActive:X}=Ne(qe=>iH(qe,U,O,j)),q=Ne(qe=>nH(qe,U,O,j)),oe=Ne(qe=>EN(qe,U,O,j)),de=Ne(qe=>rH(qe,U,O,j)),H=q,we=dH(),ee=r??X,[te,fe]=__([H,ee]),ie=U==="axis"?oe:void 0;SH(U,O,de,ie,J,ee);var ve=T??we;if(ve==null)return null;var re=H??iS;ee||(re=iS),c&&re.length&&(re=m_(H.filter(qe=>qe.value!=null&&(qe.hide!==!0||t.includeHidden)),g,_H));var Ue=re.length>0,$e=N.createElement(yF,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:d,active:ee,coordinate:de,hasPayload:Ue,offset:h,position:v,reverseDirection:y,useTranslate3d:w,viewBox:L,wrapperStyle:A,lastBoundingBox:te,innerRef:fe,hasPortalFromProps:!!T},TH(s,nS(nS({},t),{},{payload:re,label:ie,active:ee,coordinate:de,accessibilityLayer:z})));return N.createElement(N.Fragment,null,Lc.createPortal($e,ve),ee&&N.createElement(cH,{cursor:C,tooltipEventType:U,coordinate:de,payload:H,index:J}))}var NN={},PN={},kN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),g=()=>{c!==null&&(r.apply(s,c),s=void 0,c=null)},v=()=>{h&&g(),C()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},n)},A=()=>{y!==null&&(clearTimeout(y),y=null)},C=()=>{A(),s=void 0,c=null},I=()=>{g()},O=function(..._){if(i!=null&&i.aborted)return;s=this,c=_;const T=y==null;w(),d&&T&&g()};return O.schedule=w,O.cancel=C,O.flush=I,i==null||i.addEventListener("abort",C,{once:!0}),O}e.debounce=t})(kN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,h=Array(2);s&&(h[0]="leading"),c&&(h[1]="trailing");let g,v=null;const y=t.debounce(function(...C){g=n.apply(this,C),v=null},i,{edges:h}),w=function(...C){return d!=null&&(v===null&&(v=Date.now()),Date.now()-v>=d)?(g=n.apply(this,C),v=Date.now(),y.cancel(),y.schedule(),g):(y.apply(this,C),g)},A=()=>(y.flush(),g);return w.cancel=y.cancel,w.flush=A,w}e.debounce=r})(PN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PN;function r(n,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:c})}e.throttle=r})(NN);var PH=NN.throttle;const kH=Ln(PH);var qu=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DN=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:c,maxHeight:d,children:h,debounce:g=0,id:v,className:y,onResize:w,style:A={}}=e,C=N.useRef(null),I=N.useRef();I.current=w,N.useImperativeHandle(t,()=>C.current);var[O,_]=N.useState({containerWidth:n.width,containerHeight:n.height}),T=N.useCallback((M,j)=>{_(L=>{var z=Math.round(M),U=Math.round(j);return L.containerWidth===z&&L.containerHeight===U?L:{containerWidth:z,containerHeight:U}})},[]);N.useEffect(()=>{var M=U=>{var J,{width:X,height:q}=U[0].contentRect;T(X,q),(J=I.current)===null||J===void 0||J.call(I,X,q)};g>0&&(M=kH(M,g,{trailing:!0,leading:!1}));var j=new ResizeObserver(M),{width:L,height:z}=C.current.getBoundingClientRect();return T(L,z),j.observe(C.current),()=>{j.disconnect()}},[T,g]);var D=N.useMemo(()=>{var{containerWidth:M,containerHeight:j}=O;if(M<0||j<0)return null;qu(zo(i)||zo(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),qu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=zo(i)?M:i,z=zo(a)?j:a;return r&&r>0&&(L?z=L/r:z&&(L=z*r),d&&z>d&&(z=d)),qu(L>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,z,i,a,s,c,r),N.Children.map(h,U=>N.cloneElement(U,{width:L,height:z,style:zg({width:L,height:z},U.props.style)}))},[r,h,a,d,c,s,O,i]);return N.createElement("div",{id:v?"".concat(v):void 0,className:lt("recharts-responsive-container",y),style:zg(zg({},A),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:C},N.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),nd=e=>null;nd.displayName="Cell";function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=BH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fs={widthCache:{},cacheCount:0},FH=2e3,$H={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sS="recharts_measurement_span";function UH(e){var t=Zm({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var Xu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$l.isSsr)return{width:0,height:0};var n=UH(r),i=JSON.stringify({text:t,copyStyle:n});if(Fs.widthCache[i])return Fs.widthCache[i];try{var a=document.getElementById(sS);a||(a=document.createElement("span"),a.setAttribute("id",sS),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Zm(Zm({},$H),n);Object.assign(a.style,s),a.textContent="".concat(t);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return Fs.widthCache[i]=d,++Fs.cacheCount>FH&&(Fs.cacheCount=0,Fs.widthCache={}),d}catch{return{width:0,height:0}}},lS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GH=Object.keys(RN),rl="NaN";function HH(e,t){return e*RN[t]}class cn{static parse(t){var r,[,n,i]=(r=zH.exec(t))!==null&&r!==void 0?r:[];return new cn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Rn(t)&&(this.unit=""),r!==""&&!WH.test(r)&&(this.num=NaN,this.unit=""),GH.includes(r)&&(this.num=HH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rn(this.num)}}function MN(e){if(e.includes(rl))return rl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=lS.exec(t))!==null&&r!==void 0?r:[],s=cn.parse(n??""),c=cn.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return rl;t=t.replace(lS,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,g,v,y]=(h=uS.exec(t))!==null&&h!==void 0?h:[],w=cn.parse(g??""),A=cn.parse(y??""),C=v==="+"?w.add(A):w.subtract(A);if(C.isNaN())return rl;t=t.replace(uS,C.toString())}return t}var cS=/\(([^()]*)\)/;function VH(e){for(var t=e,r;(r=cS.exec(t))!=null;){var[,n]=r;t=t.replace(cS,MN(n))}return t}function KH(e){var t=e.replace(/\s+/g,"");return t=VH(t),t=MN(t),t}function qH(e){try{return KH(e)}catch{return rl}}function Gg(e){var t=qH(e.slice(5,-1));return t===rl?"":t}var XH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],YH=["dx","dy","angle","className","breakAll"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}function dS(e,t){if(e==null)return{};var r,n,i=ZH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jN=/[ \f\n\r\t\v\u2028\u2029]+/,BN=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];er(t)||(r?i=t.toString().split(""):i=t.toString().split(jN));var a=i.map(c=>({word:c,width:Xu(c,n).width})),s=r?0:Xu("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},QH=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,h=Se(a),g=s,v=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce((q,oe)=>{var{word:de,width:H}=oe,we=q[q.length-1];if(we&&(n==null||i||we.width+H+r<Number(n)))we.words.push(de),we.width+=H+r;else{var ee={words:[de],width:H};q.push(ee)}return q},[])},y=v(t),w=J=>J.reduce((X,q)=>X.width>q.width?X:q);if(!h||i)return y;var A=y.length>a||w(y).width>Number(n);if(!A)return y;for(var C="",I=J=>{var X=g.slice(0,J),q=BN({breakAll:d,style:c,children:X+C}).wordsWithComputedWidth,oe=v(q),de=oe.length>a||w(oe).width>Number(n);return[de,oe]},O=0,_=g.length-1,T=0,D;O<=_&&T<=g.length-1;){var M=Math.floor((O+_)/2),j=M-1,[L,z]=I(j),[U]=I(M);if(!L&&!U&&(O=M+1),L&&U&&(_=M-1),!L&&U){D=z;break}T++}return D||y},fS=e=>{var t=er(e)?[]:e.toString().split(jN);return[{words:t}]},JH=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!$l.isSsr){var c,d,h=BN({breakAll:a,children:n,style:i});if(h){var{wordsWithComputedWidth:g,spaceWidth:v}=h;c=g,d=v}else return fS(n);return QH({breakAll:a,children:n,maxLines:s,style:i},c,d,t,r)}return fS(n)},hS="#808080",dp=N.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=hS}=e,g=dS(e,XH),v=N.useMemo(()=>JH({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:s,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,s,g.style,g.width]),{dx:y,dy:w,angle:A,className:C,breakAll:I}=g,O=dS(g,YH);if(!zi(r)||!zi(n))return null;var _=r+(Se(y)?y:0),T=n+(Se(w)?w:0),D;switch(d){case"start":D=Gg("calc(".concat(a,")"));break;case"middle":D=Gg("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:D=Gg("calc(".concat(v.length-1," * -").concat(i,")"));break}var M=[];if(s){var j=v[0].width,{width:L}=g;M.push("scale(".concat(Se(L)?L/j:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(_,", ").concat(T,")")),M.length&&(O.transform=M.join(" ")),N.createElement("text",Qm({},ut(O,!0),{ref:t,x:_,y:T,className:lt("recharts-text",C),textAnchor:c,fill:h.includes("url")?hS:h}),v.map((z,U)=>{var J=z.words.join(I?"":" ");return N.createElement("tspan",{x:_,dy:U===0?D:i,key:"".concat(J,"-").concat(U)},J)}))});dp.displayName="Text";var eV=["offset"],tV=["labelRef"];function pS(e,t){if(e==null)return{};var r,n,i=rV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){nV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}var oV=e=>{var{value:t,formatter:r}=e,n=er(e.children)?t:e.children;return typeof r=="function"?r(n):n},sw=e=>e!=null&&typeof e=="function",sV=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lV=(e,t,r)=>{var{position:n,viewBox:i,offset:a,className:s}=e,{cx:c,cy:d,innerRadius:h,outerRadius:g,startAngle:v,endAngle:y,clockWise:w}=i,A=(h+g)/2,C=sV(v,y),I=C>=0?1:-1,O,_;n==="insideStart"?(O=v+I*a,_=w):n==="insideEnd"?(O=y-I*a,_=!w):n==="end"&&(O=y+I*a,_=w),_=C<=0?_:!_;var T=Jt(c,d,A,O),D=Jt(c,d,A,O+(_?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(_?0:1,`,
    `).concat(D.x,",").concat(D.y),j=er(e.id)?bl("recharts-radial-line-"):e.id;return N.createElement("text",Ji({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:j,d:M})),N.createElement("textPath",{xlinkHref:"#".concat(j)},t))},uV=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:i,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:h}=t,g=(d+h)/2;if(n==="outside"){var{x:v,y}=Jt(i,a,c+r,g);return{x:v,y,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(s+c)/2,{x:A,y:C}=Jt(i,a,w,g);return{x:A,y:C,textAnchor:"middle",verticalAnchor:"middle"}},cV=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:a,y:s,width:c,height:d}=t,h=d>=0?1:-1,g=h*n,v=h>0?"end":"start",y=h>0?"start":"end",w=c>=0?1:-1,A=w*n,C=w>0?"end":"start",I=w>0?"start":"end";if(i==="top"){var O={x:a+c/2,y:s-h*n,textAnchor:"middle",verticalAnchor:v};return Zt(Zt({},O),r?{height:Math.max(s-r.y,0),width:c}:{})}if(i==="bottom"){var _={x:a+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:y};return Zt(Zt({},_),r?{height:Math.max(r.y+r.height-(s+d),0),width:c}:{})}if(i==="left"){var T={x:a-A,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return Zt(Zt({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(i==="right"){var D={x:a+c+A,y:s+d/2,textAnchor:I,verticalAnchor:"middle"};return Zt(Zt({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:d}:{})}var M=r?{width:c,height:d}:{};return i==="insideLeft"?Zt({x:a+A,y:s+d/2,textAnchor:I,verticalAnchor:"middle"},M):i==="insideRight"?Zt({x:a+c-A,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},M):i==="insideTop"?Zt({x:a+c/2,y:s+g,textAnchor:"middle",verticalAnchor:y},M):i==="insideBottom"?Zt({x:a+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Zt({x:a+A,y:s+g,textAnchor:I,verticalAnchor:y},M):i==="insideTopRight"?Zt({x:a+c-A,y:s+g,textAnchor:C,verticalAnchor:y},M):i==="insideBottomLeft"?Zt({x:a+A,y:s+d-g,textAnchor:I,verticalAnchor:v},M):i==="insideBottomRight"?Zt({x:a+c-A,y:s+d-g,textAnchor:C,verticalAnchor:v},M):i&&typeof i=="object"&&(Se(i.x)||zo(i.x))&&(Se(i.y)||zo(i.y))?Zt({x:a+Qr(i.x,c),y:s+Qr(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Zt({x:a+c/2,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},dV=e=>"cx"in e&&Se(e.cx);function Cn(e){var{offset:t=5}=e,r=pS(e,eV),n=Zt({offset:t},r),{viewBox:i,position:a,value:s,children:c,content:d,className:h="",textBreakAll:g,labelRef:v}=n,y=Yy(),w=i||y;if(!w||er(s)&&er(c)&&!N.isValidElement(d)&&typeof d!="function")return null;if(N.isValidElement(d)){var{labelRef:A}=n,C=pS(n,tV);return N.cloneElement(d,C)}var I;if(typeof d=="function"){if(I=N.createElement(d,n),N.isValidElement(I))return I}else I=oV(n);var O=dV(w),_=ut(n,!0);if(O&&(a==="insideStart"||a==="insideEnd"||a==="end"))return lV(n,I,_);var T=O?uV(n):cV(n,w);return N.createElement(dp,Ji({ref:v,className:lt("recharts-label",h)},_,T,{breakAll:g}),I)}Cn.displayName="Label";var LN=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:a,r:s,radius:c,innerRadius:d,outerRadius:h,x:g,y:v,top:y,left:w,width:A,height:C,clockWise:I,labelViewBox:O}=e;if(O)return O;if(Se(A)&&Se(C)){if(Se(g)&&Se(v))return{x:g,y:v,width:A,height:C};if(Se(y)&&Se(w))return{x:y,y:w,width:A,height:C}}if(Se(g)&&Se(v))return{x:g,y:v,width:0,height:0};if(Se(t)&&Se(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:d||0,outerRadius:h||c||s||0,clockWise:I};if(e.viewBox)return e.viewBox},fV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?N.createElement(Cn,Ji({key:"label-implicit"},n)):zi(e)?N.createElement(Cn,Ji({key:"label-implicit",value:e},n)):N.isValidElement(e)?e.type===Cn?N.cloneElement(e,Zt({key:"label-implicit"},n)):N.createElement(Cn,Ji({key:"label-implicit",content:e},n)):sw(e)?N.createElement(Cn,Ji({key:"label-implicit",content:e},n)):e&&typeof e=="object"?N.createElement(Cn,Ji({},e,{key:"label-implicit"},n)):null},hV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:a}=t,s=LN(t),c=Hc(i,Cn).map((h,g)=>N.cloneElement(h,{viewBox:r||s,key:"label-".concat(g)}));if(!n)return c;var d=fV(t.label,r||s,a);return[d,...c]};Cn.parseViewBox=LN;Cn.renderCallByParent=hV;var FN={},$N={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})($N);var UN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(UN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$N,r=UN,n=D0;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(FN);var pV=FN.last;const gV=Ln(pV);var mV=["valueAccessor"],vV=["data","dataKey","clockWise","id","textBreakAll"];function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){yV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yV(e,t,r){return(t=xV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xV(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yS(e,t){if(e==null)return{};var r,n,i=bV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EV=e=>Array.isArray(e.value)?gV(e.value):e.value;function es(e){var{valueAccessor:t=EV}=e,r=yS(e,mV),{data:n,dataKey:i,clockWise:a,id:s,textBreakAll:c}=r,d=yS(r,vV);return!n||!n.length?null:N.createElement(Jr,{className:"recharts-label-list"},n.map((h,g)=>{var v=er(i)?t(h,g):Ht(h&&h.payload,i),y=er(s)?{}:{id:"".concat(s,"-").concat(g)};return N.createElement(Cn,kh({},ut(h,!0),d,y,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:Cn.parseViewBox(er(a)?h:vS(vS({},h),{},{clockWise:a})),key:"label-".concat(g),index:g}))}))}es.displayName="LabelList";function AV(e,t){return e?e===!0?N.createElement(es,{key:"labelList-implicit",data:t}):N.isValidElement(e)||sw(e)?N.createElement(es,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?N.createElement(es,kh({data:t},e,{key:"labelList-implicit"})):null:null}function SV(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Hc(n,es).map((s,c)=>N.cloneElement(s,{data:t,key:"labelList-".concat(c)}));if(!r)return i;var a=AV(e.label,t);return[a,...i]}es.renderCallByParent=SV;var WN=e=>e.graphicalItems.polarItems,CV=Q([qt,Qc],Mx),lw=Q([WN,Xt,CV],Bx),OV=Q([lw],Lx),uw=Q([OV,Cx],Fx),IV=Q([uw,Xt,lw],$x),_V=Q([uw,Xt,lw],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ht(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ht(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),xS=()=>{},TV=Q([Xt,WT,xS,_V,xS],zx),zN=Q([Xt,ft,uw,IV,Zc,qt,TV],Gx),NV=Q([zN,Xt,Hl],Kx);Q([Xt,zN,NV,qt],Xx);var PV={radiusAxis:{},angleAxis:{}},GN=ui({name:"polarAxis",initialState:PV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Mne,removeRadiusAxis:jne,addAngleAxis:Bne,removeAngleAxis:Lne}=GN.actions,kV=GN.reducer;function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return(t=RV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RV(e){var t=MV(e,"string");return typeof t=="symbol"?t:t+""}function MV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cw=(e,t)=>t,jV=[],dw=(e,t,r)=>(r==null?void 0:r.length)===0?jV:r,HN=Q([Cx,cw,dw],(e,t,r)=>{var{chartData:n}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>bS(bS({},t.presentationProps),a.props))),i!=null)return i}),BV=Q([HN,cw,dw],(e,t,r)=>{if(e!=null)return e.map((n,i)=>{var a,s=Ht(n,t.nameKey,t.name),c;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:H0(s,t.dataKey),color:c,payload:n,type:t.legendType}})}),LV=Q([WN,cw],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),FV=Q([HN,LV,dw,lr],(e,t,r,n)=>{if(!(t==null||e==null))return TK({offset:n,pieSettings:t,displayedData:e,cells:r})}),$V={countOfBars:0,cartesianItems:[],polarItems:[]},VN=ui({name:"graphicalItems",initialState:$V,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=aa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=aa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=aa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:UV,removeBar:WV,addCartesianGraphicalItem:zV,replaceCartesianGraphicalItem:GV,removeCartesianGraphicalItem:HV,addPolarGraphicalItem:VV,removePolarGraphicalItem:KV}=VN.actions,qV=VN.reducer;function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){XV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QV(e){var t=Dt(),r=N.useRef(null);return N.useEffect(()=>{var n=AS(AS({},e),{},{stackId:r4(e.stackId)});r.current===null?t(zV(n)):r.current!==n&&t(GV({prev:r.current,next:n})),r.current=n},[t,e]),N.useEffect(()=>()=>{r.current&&(t(HV(r.current)),r.current=null)},[t]),null}function JV(e){var t=Dt();return N.useEffect(()=>(t(VV(e)),()=>{t(KV(e))}),[t,e]),null}var KN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(KN);var eK=KN.isPlainObject;const tK=Ln(eK);function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(null,arguments)}var SS=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},rK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nK=e=>{var t=_i(e,rK),r=N.useRef(),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:a,y:s,upperWidth:c,lowerWidth:d,height:h,className:g}=t,{animationEasing:v,animationDuration:y,animationBegin:w,isUpdateAnimationActive:A}=t;if(a!==+a||s!==+s||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var C=lt("recharts-trapezoid",g);return A?N.createElement(ls,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:s},to:{upperWidth:c,lowerWidth:d,height:h,x:a,y:s},duration:y,animationEasing:v,isActive:A},I=>{var{upperWidth:O,lowerWidth:_,height:T,x:D,y:M}=I;return N.createElement(ls,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},N.createElement("path",Dh({},ut(t,!0),{className:C,d:SS(D,M,O,_,T),ref:r})))}):N.createElement("g",null,N.createElement("path",Dh({},ut(t,!0),{className:C,d:SS(a,s,c,d,h)})))},iK=["option","shapeType","propTransformer","activeClassName","isActive"];function aK(e,t){if(e==null)return{};var r,n,i=oK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){sK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cK(e,t){return Rh(Rh({},t),e)}function dK(e,t){return e==="symbols"}function OS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(w4,r);case"trapezoid":return N.createElement(nK,r);case"sector":return N.createElement(A4,r);case"symbols":if(dK(t))return N.createElement(Ty,r);break;default:return null}}function fK(e){return N.isValidElement(e)?e.props:e}function qN(e){var{option:t,shapeType:r,propTransformer:n=cK,activeClassName:i="recharts-active-shape",isActive:a}=e,s=aK(e,iK),c;if(N.isValidElement(t))c=N.cloneElement(t,Rh(Rh({},s),fK(t)));else if(typeof t=="function")c=t(s);else if(tK(t)&&typeof t!="boolean"){var d=n(t,s);c=N.createElement(OS,{shapeType:r,elementProps:d})}else{var h=s;c=N.createElement(OS,{shapeType:r,elementProps:h})}return a?N.createElement(Jr,{className:i},c):c}var fw=(e,t)=>{var r=Dt();return(n,i)=>a=>{e==null||e(n,i,a),r(iN({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},hw=e=>{var t=Dt();return(r,n)=>i=>{e==null||e(r,n,i),t(uG())}},pw=(e,t)=>{var r=Dt();return(n,i)=>a=>{e==null||e(n,i,a),r(cG({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function XN(e){var{fn:t,args:r}=e,n=Dt(),i=yn();return N.useEffect(()=>{if(!i){var a=t(r);return n(oG(a)),()=>{n(sG(a))}}},[t,r,n,i]),null}var YN=()=>{};function hK(e){var{legendPayload:t}=e,r=Dt(),n=yn();return N.useEffect(()=>n?YN:(r(u4(t)),()=>{r(c4(t))}),[r,n,t]),null}function pK(e){var{legendPayload:t}=e,r=Dt(),n=Ne(ft);return N.useEffect(()=>n!=="centric"&&n!=="radial"?YN:(r(u4(t)),()=>{r(c4(t))}),[r,n,t]),null}function ZN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(bl(t)),n=N.useRef(e);return n.current!==e&&(r.current=bl(t),n.current=e),r.current}var gK=["onMouseEnter","onClick","onMouseLeave"];function mK(e,t){if(e==null)return{};var r,n,i=vK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fp(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=xK(e,"string");return typeof t=="symbol"?t:t+""}function xK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}function wK(e){var t=N.useMemo(()=>ut(e,!1),[e]),r=N.useMemo(()=>Hc(e.children,nd),[e.children]),n=N.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=Ne(a=>BV(a,n,r));return N.createElement(pK,{legendPayload:i})}function bK(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:c,hide:d,tooltipType:h}=e;return{dataDefinedOnItem:n==null?void 0:n.map(g=>g.tooltipPayload),positions:n==null?void 0:n.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:H0(c,t),hide:d,type:h,color:s,unit:""}}}var EK=(e,t)=>e>t?"start":e<t?"end":"middle",AK=(e,t,r)=>typeof t=="function"?t(e):Qr(t,r,r*.8),SK=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,c=J_(a,s),d=i+Qr(e.cx,a,a/2),h=n+Qr(e.cy,s,s/2),g=Qr(e.innerRadius,c,0),v=AK(r,e.outerRadius,c),y=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:d,cy:h,innerRadius:g,outerRadius:v,maxRadius:y}},CK=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},OK=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=lt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(f4,ds({},t,{type:"linear",className:r}))},IK=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var i=lt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return N.createElement(dp,ds({},t,{alignmentBaseline:"middle",className:i}),n)};function _K(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var c=ut(r,!1),d=ut(i,!1),h=ut(a,!1),g=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,v=t.map((y,w)=>{var A=(y.startAngle+y.endAngle)/2,C=Jt(y.cx,y.cy,y.outerRadius+g,A),I=Gt(Gt(Gt(Gt({},c),y),{},{stroke:"none"},d),{},{index:w,textAnchor:EK(C.x,y.cx)},C),O=Gt(Gt(Gt(Gt({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[Jt(y.cx,y.cy,y.outerRadius,A),C],key:"line"});return N.createElement(Jr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},a&&OK(a,O),IK(i,I,Ht(y,s)))});return N.createElement(Jr,{className:"recharts-pie-labels"},v)}function QN(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=e,s=Ne(cs),{onMouseEnter:c,onClick:d,onMouseLeave:h}=i,g=mK(i,gK),v=fw(c,i.dataKey),y=hw(h),w=pw(d,i.dataKey);return t==null?null:N.createElement(N.Fragment,null,t.map((A,C)=>{if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&t.length!==1)return null;var I=r&&String(C)===s,O=s?n:null,_=I?r:O,T=Gt(Gt({},A),{},{stroke:A.stroke,tabIndex:-1,[i4]:C,[a4]:i.dataKey});return N.createElement(Jr,ds({tabIndex:-1,className:"recharts-pie-sector"},Gc(g,A,C),{onMouseEnter:v(A,C),onMouseLeave:y(A,C),onClick:w(A,C),key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(C)}),N.createElement(qN,ds({option:_,isActive:I,shapeType:"sector"},T)))}),N.createElement(_K,{sectors:t,props:i,showLabels:a}))}function TK(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:c,endAngle:d,dataKey:h,nameKey:g,tooltipType:v}=r,y=Math.abs(r.minAngle),w=CK(c,d),A=Math.abs(w),C=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,I=n.filter(j=>Ht(j,h,0)!==0).length,O=(A>=360?I:I-1)*C,_=A-I*y-O,T=n.reduce((j,L)=>{var z=Ht(L,h,0);return j+(Se(z)?z:0)},0),D;if(T>0){var M;D=n.map((j,L)=>{var z=Ht(j,h,0),U=Ht(j,g,L),J=SK(r,a,j),X=(Se(z)?z:0)/T,q,oe=Gt(Gt({},j),i&&i[L]&&i[L].props);L?q=M.endAngle+mr(w)*C*(z!==0?1:0):q=c;var de=q+mr(w)*((z!==0?y:0)+X*_),H=(q+de)/2,we=(J.innerRadius+J.outerRadius)/2,ee=[{name:U,value:z,payload:oe,dataKey:h,type:v}],te=Jt(J.cx,J.cy,we,H);return M=Gt(Gt(Gt(Gt({},r.presentationProps),{},{percent:X,cornerRadius:s,name:U,tooltipPayload:ee,midAngle:H,middleRadius:we,tooltipPosition:te},oe),J),{},{value:Ht(j,h),startAngle:q,endAngle:de,payload:oe,paddingAngle:mr(w)*C}),M})}return D}function NK(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:c,activeShape:d,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,y=ZN(t,"recharts-pie-"),w=r.current,[A,C]=N.useState(!0),I=N.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),O=N.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);return N.createElement(ls,{begin:a,duration:s,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationStart:O,onAnimationEnd:I,key:y},_=>{var{t:T}=_,D=[],M=n&&n[0],j=M.startAngle;return n.forEach((L,z)=>{var U=w&&w[z],J=z>0?so(L,"paddingAngle",0):0;if(U){var X=La(U.endAngle-U.startAngle,L.endAngle-L.startAngle),q=Gt(Gt({},L),{},{startAngle:j+J,endAngle:j+X(T)+J});D.push(q),j=q.endAngle}else{var{endAngle:oe,startAngle:de}=L,H=La(0,oe-de),we=H(T),ee=Gt(Gt({},L),{},{startAngle:j+J,endAngle:j+we+J});D.push(ee),j=ee.endAngle}}),r.current=D,N.createElement(Jr,null,N.createElement(QN,{sectors:D,activeShape:d,inactiveShape:h,allOtherPieProps:t,showLabels:!A}))})}function PK(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,a=N.useRef(null),s=a.current;return r&&t&&t.length&&(!s||s!==t)?N.createElement(NK,{props:e,previousSectorsRef:a}):N.createElement(QN,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function kK(e){var{hide:t,className:r,rootTabIndex:n}=e,i=lt("recharts-pie",r);return t?null:N.createElement(Jr,{tabIndex:n,className:i},N.createElement(PK,e))}var JN={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$l.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function DK(e){var t=_i(e,JN),r=N.useMemo(()=>Hc(e.children,nd),[e.children]),n=ut(t,!1),i=N.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),a=Ne(s=>FV(s,i,r));return N.createElement(N.Fragment,null,N.createElement(XN,{fn:bK,args:Gt(Gt({},t),{},{sectors:a})}),N.createElement(kK,ds({},t,{sectors:a})))}class gw extends N.PureComponent{constructor(){super(...arguments),fp(this,"id",bl("recharts-pie-"))}render(){return N.createElement(N.Fragment,null,N.createElement(JV,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),N.createElement(wK,this.props),N.createElement(DK,this.props),this.props.children)}}fp(gw,"displayName","Pie");fp(gw,"defaultProps",JN);var RK=Q([lr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),MK=Q([RK,va,ya],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),jK=e=>{var t=yn();return Ne(r=>lo(r,"xAxis",e,t))},BK=e=>{var t=yn();return Ne(r=>lo(r,"yAxis",e,t))},eP=()=>Ne(MK),LK=()=>{var e=Dt();return N.useEffect(()=>(e(UV()),()=>{e(WV())})),null},FK=["children"];function $K(e,t){if(e==null)return{};var r,n,i=UK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _S=()=>{},tP=N.createContext({addErrorBar:_S,removeErrorBar:_S}),WK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rP=N.createContext(WK);function zK(e){var{children:t}=e,r=$K(e,FK);return N.createElement(rP.Provider,{value:r},t)}var GK=()=>N.useContext(rP),HK=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:s,stackId:c,hide:d,type:h,barSize:g}=e,[v,y]=N.useState([]),w=N.useCallback(I=>{y(O=>[...O,I])},[y]),A=N.useCallback(I=>{y(O=>O.filter(_=>_!==I))},[y]),C=yn();return N.createElement(tP.Provider,{value:{addErrorBar:w,removeErrorBar:A}},N.createElement(QV,{type:h,data:s,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:v,stackId:c,hide:d,barSize:g,isPanorama:C}),t)};function VK(e){var{addErrorBar:t,removeErrorBar:r}=N.useContext(tP);return N.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var KK=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function nP(e,t,r){return(t=qK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(null,arguments)}function YK(e,t){if(e==null)return{};var r,n,i=ZK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QK(e){var{direction:t,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:c}=e,d=YK(e,KK),h=ut(d,!1),{data:g,dataPointFormatter:v,xAxisId:y,yAxisId:w,errorBarOffset:A}=GK(),C=jK(y),I=BK(w);if((C==null?void 0:C.scale)==null||(I==null?void 0:I.scale)==null||g==null||t==="x"&&C.type!=="number")return null;var O=g.map(_=>{var{x:T,y:D,value:M,errorVal:j}=v(_,n,t);if(!j)return null;var L=[],z,U;if(Array.isArray(j)?[z,U]=j:z=U=j,t==="x"){var{scale:J}=C,X=D+A,q=X+r,oe=X-r,de=J(M-z),H=J(M+U);L.push({x1:H,y1:q,x2:H,y2:oe}),L.push({x1:de,y1:X,x2:H,y2:X}),L.push({x1:de,y1:q,x2:de,y2:oe})}else if(t==="y"){var{scale:we}=I,ee=T+A,te=ee-r,fe=ee+r,ie=we(M-z),ve=we(M+U);L.push({x1:te,y1:ve,x2:fe,y2:ve}),L.push({x1:ee,y1:ie,x2:ee,y2:ve}),L.push({x1:te,y1:ie,x2:fe,y2:ie})}var re="".concat(T+A,"px ").concat(D+A,"px");return N.createElement(Jr,Cc({className:"recharts-errorBar",key:"bar-".concat(L.map(Ue=>"".concat(Ue.x1,"-").concat(Ue.x2,"-").concat(Ue.y1,"-").concat(Ue.y2)))},h),L.map(Ue=>{var $e=i?{transformOrigin:"".concat(Ue.x1-5,"px")}:void 0;return N.createElement(ls,{from:{transform:"scaleY(0)",transformOrigin:re},to:{transform:"scaleY(1)",transformOrigin:re},begin:a,easing:c,isActive:i,duration:s,key:"line-".concat(Ue.x1,"-").concat(Ue.x2,"-").concat(Ue.y1,"-").concat(Ue.y2),style:{transformOrigin:re}},N.createElement("line",Cc({},Ue,{style:$e})))}))});return N.createElement(Jr,{className:"recharts-errorBars"},O)}var iP=N.createContext(void 0);function JK(e){var t=N.useContext(iP);return e??t??"x"}function eq(e){var{direction:t,children:r}=e;return N.createElement(iP.Provider,{value:t},r)}var aP={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function tq(e){var t=JK(e.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s}=_i(e,aP);return N.createElement(N.Fragment,null,N.createElement(VK,{dataKey:e.dataKey,direction:t}),N.createElement(QK,Cc({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s})))}class oP extends N.Component{render(){return N.createElement(tq,this.props)}}nP(oP,"defaultProps",aP);nP(oP,"displayName","ErrorBar");var rq="Invariant failed";function sP(e,t){throw new Error(rq)}var nq=["x","y"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=oq(e,"string");return typeof t=="symbol"?t:t+""}function oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e,t){if(e==null)return{};var r,n,i=lq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uq(e,t){var{x:r,y:n}=e,i=sq(e,nq),a="".concat(r),s=parseInt(a,10),c="".concat(n),d=parseInt(c,10),h="".concat(t.height||i.height),g=parseInt(h,10),v="".concat(t.width||i.width),y=parseInt(v,10);return Su(Su(Su(Su(Su({},t),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:g,width:y,name:t.name,radius:t.radius})}function lP(e){return N.createElement(qN,Jm({shapeType:"rectangle",propTransformer:uq,activeClassName:"recharts-active-bar"},e))}var cq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Se(t))return t;var a=Se(n)||er(n);return a?t(n,i):(a||sP(),r)}};function uP(e,t){var r,n,i=Ne(h=>wa(h,e)),a=Ne(h=>yo(h,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:bn.allowDataOverflow,c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:En.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function dq(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=eP(),{needClipX:a,needClipY:s,needClip:c}=uP(t,r);if(!c)return null;var{x:d,y:h,width:g,height:v}=i;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:a?d:d-g/2,y:s?h:h-v/2,width:a?g:g*2,height:s?v:v*2}))}var fq=["onMouseEnter","onMouseLeave","onClick"],hq=["value","background","tooltipPosition"],pq=["onMouseEnter","onClick","onMouseLeave"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(null,arguments)}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){hp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hp(e,t,r){return(t=gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ev(e,t){if(e==null)return{};var r,n,i=vq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yq=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:H0(r,t),payload:e}]};function xq(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:H0(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:c}}}function wq(e){var t=Ne(cs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:c,onClick:d}=a,h=ev(a,fq),g=fw(s,n),v=hw(c),y=pw(d,n);if(!i||r==null)return null;var w=ut(i,!1);return N.createElement(N.Fragment,null,r.map((A,C)=>{var{value:I,background:O,tooltipPosition:_}=A,T=ev(A,hq);if(!O)return null;var D=g(A,C),M=v(A,C),j=y(A,C),L=Wr(Wr(Wr(Wr(Wr({option:i,isActive:String(C)===t},T),{},{fill:"#eee"},O),w),Gc(h,A,C)),{},{onMouseEnter:D,onMouseLeave:M,onClick:j,dataKey:n,index:C,className:"recharts-bar-background-rectangle"});return N.createElement(lP,Oc({key:"background-bar-".concat(C)},L))}))}function cP(e){var{data:t,props:r,showLabels:n}=e,i=ut(r,!1),{shape:a,dataKey:s,activeBar:c}=r,d=Ne(cs),h=Ne(vN),{onMouseEnter:g,onClick:v,onMouseLeave:y}=r,w=ev(r,pq),A=fw(g,s),C=hw(y),I=pw(v,s);return t?N.createElement(N.Fragment,null,t.map((O,_)=>{var T=c&&String(_)===d&&(h==null||s===h),D=T?c:a,M=Wr(Wr(Wr({},i),O),{},{isActive:T,option:D,index:_,dataKey:s});return N.createElement(Jr,Oc({className:"recharts-bar-rectangle"},Gc(w,O,_),{onMouseEnter:A(O,_),onMouseLeave:C(O,_),onClick:I(O,_),key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(_)}),N.createElement(lP,M))}),n&&es.renderCallByParent(r,t)):null}function bq(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,onAnimationEnd:h,onAnimationStart:g}=t,v=r.current,y=ZN(t,"recharts-bar-"),[w,A]=N.useState(!1),C=N.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),I=N.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return N.createElement(ls,{begin:s,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},onAnimationEnd:C,onAnimationStart:I,key:y},O=>{var{t:_}=O,T=_===1?n:n.map((D,M)=>{var j=v&&v[M];if(j){var L=La(j.x,D.x),z=La(j.y,D.y),U=La(j.width,D.width),J=La(j.height,D.height);return Wr(Wr({},D),{},{x:L(_),y:z(_),width:U(_),height:J(_)})}if(i==="horizontal"){var X=La(0,D.height),q=X(_);return Wr(Wr({},D),{},{y:D.y+D.height-q,height:q})}var oe=La(0,D.width),de=oe(_);return Wr(Wr({},D),{},{width:de})});return _>0&&(r.current=T),N.createElement(Jr,null,N.createElement(cP,{props:t,data:T,showLabels:!w}))})}function Eq(e){var{data:t,isAnimationActive:r}=e,n=N.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?N.createElement(bq,{previousRectanglesRef:n,props:e}):N.createElement(cP,{props:e,data:t,showLabels:!0})}var dP=0,Aq=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ht(e,t)}};class Sq extends N.PureComponent{constructor(){super(...arguments),hp(this,"id",bl("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:c,background:d,id:h,layout:g}=this.props;if(t)return null;var v=lt("recharts-bar",i),y=er(h)?this.id:h;return N.createElement(Jr,{className:v},c&&N.createElement("defs",null,N.createElement(dq,{clipPathId:y,xAxisId:a,yAxisId:s})),N.createElement(Jr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(y,")"):null},N.createElement(wq,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),N.createElement(Eq,this.props)),N.createElement(eq,{direction:g==="horizontal"?"y":"x"},this.props.children))}}var fP={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!$l.isSsr,legendType:"rect",minPointSize:dP,xAxisId:0,yAxisId:0};function Cq(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:g}=_i(e,fP),{needClip:v}=uP(t,r),y=Jy(),w=yn(),A=N.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:a,stackId:r4(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,a,e.stackId]),C=Hc(e.children,nd),I=Ne(T=>Jq(T,t,r,w,A,C));if(y!=="vertical"&&y!=="horizontal")return null;var O,_=I==null?void 0:I[0];return _==null||_.height==null||_.width==null?O=0:O=y==="vertical"?_.height/2:_.width/2,N.createElement(zK,{xAxisId:t,yAxisId:r,data:I,dataPointFormatter:Aq,errorBarOffset:O},N.createElement(Sq,Oc({},e,{layout:y,needClip:v,data:I,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:g})))}function Oq(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:c,xAxisTicks:d,yAxisTicks:h,stackedData:g,displayedData:v,offset:y,cells:w}=e,A=t==="horizontal"?c:s,C=g?A.scale.domain():null,I=NL({numericAxis:A});return v.map((O,_)=>{var T,D,M,j,L,z;g?T=CL(g[_],C):(T=Ht(O,r),Array.isArray(T)||(T=[I,T]));var U=cq(n,dP)(T[1],_);if(t==="horizontal"){var J,[X,q]=[c.scale(T[0]),c.scale(T[1])];D=jE({axis:s,ticks:d,bandSize:a,offset:i.offset,entry:O,index:_}),M=(J=q??X)!==null&&J!==void 0?J:void 0,j=i.size;var oe=X-q;if(L=Rn(oe)?0:oe,z={x:D,y:y.top,width:j,height:y.height},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var de=mr(L||U)*(Math.abs(U)-Math.abs(L));M-=de,L+=de}}else{var[H,we]=[s.scale(T[0]),s.scale(T[1])];if(D=H,M=jE({axis:c,ticks:h,bandSize:a,offset:i.offset,entry:O,index:_}),j=we-H,L=i.size,z={x:y.left,y:M,width:y.width,height:L},Math.abs(U)>0&&Math.abs(j)<Math.abs(U)){var ee=mr(j||U)*(Math.abs(U)-Math.abs(j));j+=ee}}var te=Wr(Wr({},O),{},{x:D,y:M,width:j,height:L,value:g?T:T[1],payload:O,background:z,tooltipPosition:{x:D+j/2,y:M+L/2}},w&&w[_]&&w[_].props);return te})}class mw extends N.PureComponent{render(){return N.createElement(HK,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(LK,null),N.createElement(hK,{legendPayload:yq(this.props)}),N.createElement(XN,{fn:xq,args:this.props}),N.createElement(Cq,this.props))}}hp(mw,"displayName","Bar");hp(mw,"defaultProps",fP);function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return(t=_q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nq=(e,t)=>t,Pq=(e,t,r)=>r,kq=(e,t,r,n)=>n,vw=(e,t,r,n,i)=>i,Dq=(e,t,r,n,i)=>i.maxBarSize,Rq=(e,t,r,n,i,a)=>a,kS=(e,t,r)=>{var n=r??e;if(!er(n))return Qr(n,t,0)},Mq=Q([ft,jx,Nq,Pq,kq],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),jq=(e,t,r,n)=>{var i=ft(e);return i==="horizontal"?Vm(e,"yAxis",r,n):Vm(e,"xAxis",t,n)},Bq=(e,t,r)=>{var n=ft(e);return n==="horizontal"?VA(e,"xAxis",t):VA(e,"yAxis",r)};function Lq(e){return e.stackId!=null&&e.dataKey!=null}var Fq=(e,t,r)=>{var n={},i=e.filter(Lq),a=e.filter(h=>h.stackId==null),s=i.reduce((h,g)=>(h[g.stackId]||(h[g.stackId]=[]),h[g.stackId].push(g),h),n),c=Object.entries(s).map(h=>{var[g,v]=h,y=v.map(A=>A.dataKey),w=kS(t,r,v[0].barSize);return{stackId:g,dataKeys:y,barSize:w}}),d=a.map(h=>{var g=[h.dataKey].filter(y=>y!=null),v=kS(t,r,h.barSize);return{stackId:void 0,dataKeys:g,barSize:v}});return[...c,...d]},$q=Q([Mq,az,Bq],Fq),Uq=(e,t,r,n,i)=>{var a,s,c=ft(e),d=AT(e),{maxBarSize:h}=i,g=er(h)?d:h,v,y;return c==="horizontal"?(v=lo(e,"xAxis",t,n),y=Pl(e,"xAxis",t,n)):(v=lo(e,"yAxis",r,n),y=Pl(e,"yAxis",r,n)),(a=(s=Ky(v,y,!0))!==null&&s!==void 0?s:g)!==null&&a!==void 0?a:0},hP=(e,t,r,n)=>{var i=ft(e),a,s;return i==="horizontal"?(a=lo(e,"xAxis",t,n),s=Pl(e,"xAxis",t,n)):(a=lo(e,"yAxis",r,n),s=Pl(e,"yAxis",r,n)),Ky(a,s)};function Wq(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=Qr(e,r,0,!0),c,d=[];if(Bn(n[0].barSize)){var h=!1,g=r/a,v=n.reduce((O,_)=>O+(_.barSize||0),0);v+=(a-1)*s,v>=r&&(v-=(a-1)*s,s=0),v>=r&&g>0&&(h=!0,g*=.9,v=a*g);var y=(r-v)/2>>0,w={offset:y-s,size:0};c=n.reduce((O,_)=>{var T,D={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w.offset+w.size+s,size:h?g:(T=_.barSize)!==null&&T!==void 0?T:0}},M=[...O,D];return w=M[M.length-1].position,M},d)}else{var A=Qr(t,r,0,!0);r-2*A-(a-1)*s<=0&&(s=0);var C=(r-2*A-(a-1)*s)/a;C>1&&(C>>=0);var I=Bn(i)?Math.min(C,i):C;c=n.reduce((O,_,T)=>[...O,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:A+(C+s)*T+(C-I)/2,size:I}}],d)}return c}}var zq=(e,t,r,n,i,a,s)=>{var c=er(s)?t:s,d=Wq(r,n,i!==a?i:a,e,c);return i!==a&&d!=null&&(d=d.map(h=>sf(sf({},h),{},{position:sf(sf({},h.position),{},{offset:h.position.offset-i/2})}))),d},Gq=Q([$q,AT,iz,ST,Uq,hP,Dq],zq),Hq=(e,t,r,n)=>lo(e,"xAxis",t,n),Vq=(e,t,r,n)=>lo(e,"yAxis",r,n),Kq=(e,t,r,n)=>Pl(e,"xAxis",t,n),qq=(e,t,r,n)=>Pl(e,"yAxis",r,n),Xq=Q([Gq,vw],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Yq=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i){var a=i.find(s=>s.key===t.dataKey);return a}}}}},Zq=Q([jx,vw],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),Qq=Q([jq,vw],Yq),Jq=Q([lr,Hq,Vq,Kq,qq,Xq,ft,lT,hP,Qq,Zq,Rq],(e,t,r,n,i,a,s,c,d,h,g,v)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:A}=c;if(!(g==null||a==null||s!=="horizontal"&&s!=="vertical"||t==null||r==null||n==null||i==null||d==null)){var{data:C}=g,I;if(C!=null&&C.length>0?I=C:I=y==null?void 0:y.slice(w,A+1),I!=null)return Oq({layout:s,barSettings:g,pos:a,bandSize:d,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:I,offset:e,cells:v})}}),pP=e=>{var{chartData:t}=e,r=Dt(),n=yn();return N.useEffect(()=>n?()=>{}:(r(tS(t)),()=>{r(tS(void 0))}),[t,r,n]),null},DS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gP=ui({name:"brush",initialState:DS,reducers:{setBrushSettings(e,t){return t.payload==null?DS:t.payload}}}),{setBrushSettings:Fne}=gP.actions,eX=gP.reducer;function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yw{static create(t){return new yw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}tX(yw,"EPS",1e-4);function iX(e){return(e%180+180)%180}var aX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iX(i),s=a*Math.PI/180,c=Math.atan(n/r),d=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},oX={dots:[],areas:[],lines:[]},mP=ui({name:"referenceElements",initialState:oX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=aa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=aa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=aa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:$ne,removeDot:Une,addArea:Wne,removeArea:zne,addLine:Gne,removeLine:Hne}=mP.actions,sX=mP.reducer,lX=N.createContext(void 0),uX=e=>{var{children:t}=e,[r]=N.useState("".concat(bl("recharts"),"-clip")),n=eP();if(n==null)return null;var{x:i,y:a,width:s,height:c}=n;return N.createElement(lX.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function Hg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function cX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aX(n,r)}function dX(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:n?i:a,end:n?i+s:a+c}:{start:n?i+s:a+c,end:n?i:a}}function Mh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function fX(e,t){return vP(e,t+1)}function hX(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:c}=t,d=0,h=1,g=s,v=function(){var A=n==null?void 0:n[d];if(A===void 0)return{v:vP(n,h)};var C=d,I,O=()=>(I===void 0&&(I=r(A,C)),I),_=A.coordinate,T=d===0||Mh(e,_,O,g,c);T||(d=0,g=s,h+=1),T&&(g=_+e*(O()/2+i),d+=h)},y;h<=a.length;)if(y=v(),y)return y.v;return[]}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return(t=gX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vX(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,h=function(y){var w=a[y],A,C=()=>(A===void 0&&(A=r(w,y)),A);if(y===s-1){var I=e*(w.coordinate+e*C()/2-d);a[y]=w=$r($r({},w),{},{tickCoord:I>0?w.coordinate-I*e:w.coordinate})}else a[y]=w=$r($r({},w),{},{tickCoord:w.coordinate});var O=Mh(e,w.tickCoord,C,c,d);O&&(d=w.tickCoord-e*(C()/2+i),a[y]=$r($r({},w),{},{isShow:!0}))},g=s-1;g>=0;g--)h(g);return a}function yX(e,t,r,n,i,a){var s=(n||[]).slice(),c=s.length,{start:d,end:h}=t;if(a){var g=n[c-1],v=r(g,c-1),y=e*(g.coordinate+e*v/2-h);s[c-1]=g=$r($r({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate});var w=Mh(e,g.tickCoord,()=>v,d,h);w&&(h=g.tickCoord-e*(v/2+i),s[c-1]=$r($r({},g),{},{isShow:!0}))}for(var A=a?c-1:c,C=function(_){var T=s[_],D,M=()=>(D===void 0&&(D=r(T,_)),D);if(_===0){var j=e*(T.coordinate-e*M()/2-d);s[_]=T=$r($r({},T),{},{tickCoord:j<0?T.coordinate-j*e:T.coordinate})}else s[_]=T=$r($r({},T),{},{tickCoord:T.coordinate});var L=Mh(e,T.tickCoord,M,d,h);L&&(d=T.tickCoord+e*(M()/2+i),s[_]=$r($r({},T),{},{isShow:!0}))},I=0;I<A;I++)C(I);return s}function xw(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:h,unit:g,angle:v}=e;if(!i||!i.length||!n)return[];if(Se(d)||$l.isSsr){var y;return(y=fX(i,Se(d)?d:0))!==null&&y!==void 0?y:[]}var w=[],A=c==="top"||c==="bottom"?"width":"height",C=g&&A==="width"?Xu(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},I=(T,D)=>{var M=typeof h=="function"?h(T.value,D):T.value;return A==="width"?cX(Xu(M,{fontSize:t,letterSpacing:r}),C,v):Xu(M,{fontSize:t,letterSpacing:r})[A]},O=i.length>=2?mr(i[1].coordinate-i[0].coordinate):1,_=dX(a,O,A);return d==="equidistantPreserveStart"?hX(O,_,I,i,s):(d==="preserveStart"||d==="preserveStartEnd"?w=yX(O,_,I,i,s,d==="preserveStartEnd"):w=vX(O,_,I,i,s),w.filter(T=>T.isShow))}var xX=["viewBox"],wX=["viewBox"];function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nl.apply(null,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jS(e,t){if(e==null)return{};var r,n,i=bX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ww(e,t,r){return(t=EX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xo extends N.Component{constructor(t){super(t),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=jS(t,xX),a=this.props,{viewBox:s}=a,c=jS(a,wX);return!Hg(n,s)||!Hg(i,c)||!Hg(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:a,orientation:s,tickSize:c,mirror:d,tickMargin:h}=this.props,g,v,y,w,A,C,I=d?-1:1,O=t.tickSize||c,_=Se(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":g=v=t.coordinate,w=n+ +!d*a,y=w-I*O,C=y-I*h,A=_;break;case"left":y=w=t.coordinate,v=r+ +!d*i,g=v-I*O,A=g-I*h,C=_;break;case"right":y=w=t.coordinate,v=r+ +d*i,g=v+I*O,A=g+I*h,C=_;break;default:g=v=t.coordinate,w=n+ +d*a,y=w+I*O,C=y+I*h,A=_;break}return{line:{x1:g,y1:y,x2:v,y2:w},tick:{x:A,y:C}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:c}=this.props,d=ar(ar(ar({},ut(this.props,!1)),ut(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=ar(ar({},d),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var g=+(a==="left"&&!s||a==="right"&&s);d=ar(ar({},d),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+i})}return N.createElement("line",nl({},d,{className:lt("recharts-cartesian-axis-line",so(c,"className"))}))}static renderTickItem(t,r,n){var i,a=lt(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,ar(ar({},r),{},{className:a}));else if(typeof t=="function")i=t(ar(ar({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=lt(s,t.className)),i=N.createElement(dp,nl({},r,{className:s}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:s,tickFormatter:c,unit:d}=this.props,h=xw(ar(ar({},this.props),{},{ticks:n}),t,r),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ut(this.props,!1),w=ut(s,!1),A=ar(ar({},y),{},{fill:"none"},ut(i,!1)),C=h.map((I,O)=>{var{line:_,tick:T}=this.getTickLineCoord(I),D=ar(ar(ar(ar({textAnchor:g,verticalAnchor:v},y),{},{stroke:"none",fill:a},w),T),{},{index:O,payload:I,visibleTicksCount:h.length,tickFormatter:c});return N.createElement(Jr,nl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Gc(this.props,I,O)),i&&N.createElement("line",nl({},A,_,{className:lt("recharts-cartesian-axis-tick-line",so(i,"className"))})),s&&xo.renderTickItem(s,D,"".concat(typeof c=="function"?c(I.value,O):I.value).concat(d||"")))});return C.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:N.createElement(Jr,{className:lt("recharts-cartesian-axis",i),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var h=d[0];if(h){var g=window.getComputedStyle(h).fontSize,v=window.getComputedStyle(h).letterSpacing;(g!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Cn.renderCallByParent(this.props))}}ww(xo,"displayName","CartesianAxis");ww(xo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SX=["x1","y1","x2","y2","key"],CX=["offset"],OX=["xAxisId","yAxisId"],IX=["xAxisId","yAxisId"];function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(null,arguments)}function jh(e,t){if(e==null)return{};var r,n,i=PX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:c}=e;return N.createElement("rect",{x:n,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function yP(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:c}=t,d=jh(t,SX),h=ut(d,!1),{offset:g}=h,v=jh(h,CX);r=N.createElement("line",Ko({},v,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:c}))}return r}function DX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=jh(e,OX),d=i.map((h,g)=>{var v=zr(zr({},c),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(g),index:g});return yP(n,v)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function RX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=jh(e,IX),d=i.map((h,g)=>{var v=zr(zr({},c),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(g),index:g});return yP(n,v)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function MX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var h=c.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var g=h.map((v,y)=>{var w=!h[y+1],A=w?i+s-v:h[y+1]-v;if(A<=0)return null;var C=y%t.length;return N.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:A,width:a,stroke:"none",fill:t[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function jX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var h=d.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var g=h.map((v,y)=>{var w=!h[y+1],A=w?i+s-v:h[y+1]-v;if(A<=0)return null;var C=y%r.length;return N.createElement("rect",{key:"react-".concat(y),x:v,y:a,width:A,height:c,stroke:"none",fill:r[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var BX=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return e4(xw(zr(zr(zr({},xo.defaultProps),r),{},{ticks:t4(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},LX=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return e4(xw(zr(zr(zr({},xo.defaultProps),r),{},{ticks:t4(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},FX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function xP(e){var t=Zy(),r=Qy(),n=s4(),i=zr(zr({},_i(e,FX)),{},{x:Se(e.x)?e.x:n.left,y:Se(e.y)?e.y:n.top,width:Se(e.width)?e.width:n.width,height:Se(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:h,height:g,syncWithTicks:v,horizontalValues:y,verticalValues:w}=i,A=yn(),C=Ne(U=>KA(U,"xAxis",a,A)),I=Ne(U=>KA(U,"yAxis",s,A));if(!Se(h)||h<=0||!Se(g)||g<=0||!Se(c)||c!==+c||!Se(d)||d!==+d)return null;var O=i.verticalCoordinatesGenerator||BX,_=i.horizontalCoordinatesGenerator||LX,{horizontalPoints:T,verticalPoints:D}=i;if((!T||!T.length)&&typeof _=="function"){var M=y&&y.length,j=_({yAxis:I?zr(zr({},I),{},{ticks:M?y:I.ticks}):void 0,width:t,height:r,offset:n},M?!0:v);qu(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(T=j)}if((!D||!D.length)&&typeof O=="function"){var L=w&&w.length,z=O({xAxis:C?zr(zr({},C),{},{ticks:L?w:C.ticks}):void 0,width:t,height:r,offset:n},L?!0:v);qu(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(kX,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(MX,Ko({},i,{horizontalPoints:T})),N.createElement(jX,Ko({},i,{verticalPoints:D})),N.createElement(DX,Ko({},i,{offset:n,horizontalPoints:T,xAxis:C,yAxis:I})),N.createElement(RX,Ko({},i,{offset:n,verticalPoints:D,xAxis:C,yAxis:I})))}xP.displayName="CartesianGrid";function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){$X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zX={xAxis:{},yAxis:{},zAxis:{}},wP=ui({name:"cartesianAxis",initialState:zX,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=FS(FS({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:GX,removeXAxis:HX,addYAxis:VX,removeYAxis:KX,addZAxis:Vne,removeZAxis:Kne,updateYAxisWidth:qX}=wP.actions,XX=wP.reducer,YX=["children"],ZX=["dangerouslySetInnerHTML","ticks"];function bP(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function EP(e,t){if(e==null)return{};var r,n,i=eY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tY(e){var t=Dt(),r=N.useMemo(()=>{var{children:a}=e,s=EP(e,YX);return s},[e]),n=Ne(a=>wa(a,r.id)),i=r===n;return N.useEffect(()=>(t(GX(r)),()=>{t(HX(r))}),[r,t]),i?e.children:null}var rY=e=>{var{xAxisId:t,className:r}=e,n=Ne(o4),i=yn(),a="xAxis",s=Ne(w=>Vl(w,a,t,i)),c=Ne(w=>QT(w,a,t,i)),d=Ne(w=>qT(w,t)),h=Ne(w=>Zz(w,t));if(d==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=EP(e,ZX);return N.createElement(xo,tv({},y,{scale:s,x:h.x,y:h.y,width:d.width,height:d.height,className:lt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c}))},nY=e=>{var t,r,n,i,a;return N.createElement(tY,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},N.createElement(rY,e))};class bw extends N.Component{render(){return N.createElement(nY,this.props)}}bP(bw,"displayName","XAxis");bP(bw,"defaultProps",{allowDataOverflow:bn.allowDataOverflow,allowDecimals:bn.allowDecimals,allowDuplicatedCategory:bn.allowDuplicatedCategory,height:bn.height,hide:!1,mirror:bn.mirror,orientation:bn.orientation,padding:bn.padding,reversed:bn.reversed,scale:bn.scale,tickCount:bn.tickCount,type:bn.type,xAxisId:0});var iY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(g=>{if(g){var v=g.getBoundingClientRect();v.width>s&&(s=v.width)}});var c=r?r.getBoundingClientRect().width:0,d=i+a,h=s+d+c+(r?n:0);return Math.round(h)}return 0},aY=["dangerouslySetInnerHTML","ticks"];function AP(e,t,r){return(t=oY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function lY(e,t){if(e==null)return{};var r,n,i=uY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cY(e){var t=Dt();return N.useEffect(()=>(t(VX(e)),()=>{t(KX(e))}),[e,t]),null}var dY=e=>{var t,{yAxisId:r,className:n,width:i,label:a}=e,s=N.useRef(null),c=N.useRef(null),d=Ne(o4),h=yn(),g=Dt(),v="yAxis",y=Ne(T=>Vl(T,v,r,h)),w=Ne(T=>XT(T,r)),A=Ne(T=>Qz(T,r)),C=Ne(T=>QT(T,v,r,h));if(N.useLayoutEffect(()=>{var T;if(!(i!=="auto"||!w||sw(a)||N.isValidElement(a))){var D=s.current,M=D==null||(T=D.tickRefs)===null||T===void 0?void 0:T.current,{tickSize:j,tickMargin:L}=D.props,z=iY({ticks:M,label:c.current,labelGapWithTick:5,tickSize:j,tickMargin:L});Math.round(w.width)!==Math.round(z)&&g(qX({id:r,width:z}))}},[s,s==null||(t=s.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,w==null?void 0:w.width,w,g,a,r,i]),w==null||A==null)return null;var{dangerouslySetInnerHTML:I,ticks:O}=e,_=lY(e,aY);return N.createElement(xo,rv({},_,{ref:s,labelRef:c,scale:y,x:A.x,y:A.y,width:w.width,height:w.height,className:lt("recharts-".concat(v," ").concat(v),n),viewBox:d,ticks:C}))},fY=e=>{var t,r,n,i,a;return N.createElement(N.Fragment,null,N.createElement(cY,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),N.createElement(dY,e))},hY={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,hide:!1,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tickCount:En.tickCount,type:En.type,width:En.width,yAxisId:0};class Ew extends N.Component{render(){return N.createElement(fY,this.props)}}AP(Ew,"displayName","YAxis");AP(Ew,"defaultProps",hY);var pY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=N;function gY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mY=typeof Object.is=="function"?Object.is:gY,vY=id.useSyncExternalStore,yY=id.useRef,xY=id.useEffect,wY=id.useMemo,bY=id.useDebugValue;pY.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=yY(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=wY(function(){function d(w){if(!h){if(h=!0,g=w,w=n(w),i!==void 0&&s.hasValue){var A=s.value;if(i(A,w))return v=A}return v=w}if(A=v,mY(g,w))return A;var C=n(w);return i!==void 0&&i(A,C)?(g=w,A):(g=w,v=C)}var h=!1,g,v,y=r===void 0?null:r;return[function(){return d(t())},y===null?void 0:function(){return d(y())}]},[t,r,n,i]);var c=vY(e,a[0],a[1]);return xY(function(){s.hasValue=!0,s.value=c},[c]),bY(c),c};function EY(e){e()}function AY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){EY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $S={notify(){},get:()=>[]};function SY(e,t){let r,n=$S,i=0,a=!1;function s(C){g();const I=n.subscribe(C);let O=!1;return()=>{O||(O=!0,I(),v())}}function c(){n.notify()}function d(){A.onStateChange&&A.onStateChange()}function h(){return a}function g(){i++,r||(r=e.subscribe(d),n=AY())}function v(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=$S)}function y(){a||(a=!0,g())}function w(){a&&(a=!1,v())}const A={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>n};return A}var CY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OY=CY(),IY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_Y=IY(),TY=()=>OY||_Y?N.useLayoutEffect:N.useEffect,NY=TY(),Vg=Symbol.for("react-redux-context"),Kg=typeof globalThis<"u"?globalThis:{};function PY(){if(!N.createContext)return{};const e=Kg[Vg]??(Kg[Vg]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var kY=PY();function DY(e){const{children:t,context:r,serverState:n,store:i}=e,a=N.useMemo(()=>{const d=SY(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),s=N.useMemo(()=>i.getState(),[i]);NY(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=r||kY;return N.createElement(c.Provider,{value:a},t)}var RY=DY,MY=(e,t)=>t,Aw=Q([MY,ft,dz,Er,hN,ba,eH,lr],aH),Sw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},SP=si("mouseClick"),CP=Vc();CP.startListening({actionCreator:SP,effect:(e,t)=>{var r=e.payload,n=Aw(t.getState(),Sw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(dG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nv=si("mouseMove"),OP=Vc();OP.startListening({actionCreator:nv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Qx(n,n.tooltip.settings.shared),a=Aw(n,Sw(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(oN({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(aN()))}});function jY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var US={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},IP=ui({name:"rootProps",initialState:US,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:US.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),BY=IP.reducer,{updateOptions:LY}=IP.actions,_P=ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:FY}=_P.actions,$Y=_P.reducer,TP=si("keyDown"),NP=si("focus"),Cw=Vc();Cw.startListening({actionCreator:TP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Jx(i,Es(r))),c=ba(r);if(a==="Enter"){var d=Ph(r,"axis","hover",String(i.index));t.dispatch(qm({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=rG(r),g=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=s+v*g;if(!(c==null||y>=c.length||y<0)){var w=Ph(r,"axis","hover",String(y));t.dispatch(qm({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});Cw.startListening({actionCreator:NP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Ph(r,"axis","hover",String(a));t.dispatch(qm({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Yn=si("externalEvent"),PP=Vc();PP.startListening({actionCreator:Yn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:HG(r),activeDataKey:vN(r),activeIndex:cs(r),activeLabel:mN(r),activeTooltipIndex:cs(r),isTooltipActive:VG(r)};e.payload.handler(n,e.payload.reactEvent)}}});var UY=Q([Kl],e=>e.tooltipItemPayloads),WY=Q([UY,rd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(c=>c.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),kP=si("touchMove"),DP=Vc();DP.startListening({actionCreator:kP,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Qx(n,n.tooltip.settings.shared);if(i==="axis"){var a=Aw(n,Sw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(oN({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(i4),g=(s=d.getAttribute(a4))!==null&&s!==void 0?s:void 0,v=WY(t.getState(),h,g);t.dispatch(iN({activeDataKey:g,activeIndex:h,activeCoordinate:v}))}}});var zY=N_({brush:eX,cartesianAxis:XX,chartData:wH,graphicalItems:qV,layout:uL,legend:XL,options:gH,polarAxis:kV,polarOptions:$Y,referenceElements:sX,rootProps:BY,tooltip:fG}),GY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return R9({reducer:zY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([CP.middleware,OP.middleware,Cw.middleware,PP.middleware,DP.middleware]),devTools:{serialize:{replacer:jY},name:"recharts-".concat(r)}})};function RP(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=yn(),a=N.useRef(null);if(i)return r;a.current==null&&(a.current=GY(t,n));var s=Fy;return N.createElement(RY,{context:s,store:a.current},r)}function MP(e){var{layout:t,width:r,height:n,margin:i}=e,a=Dt(),s=yn();return N.useEffect(()=>{s||(a(oL(t)),a(sL({width:r,height:n})),a(aL(i)))},[a,s,t,r,n,i]),null}function jP(e){var t=Dt();return N.useEffect(()=>{t(LY(e))},[t,e]),null}var HY=["children"];function VY(e,t){if(e==null)return{};var r,n,i=KY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}var qY={width:"100%",height:"100%"},XY=N.forwardRef((e,t)=>{var r=Zy(),n=Qy(),i=d4();if(!Ol(r)||!Ol(n))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,h,g;return typeof s.tabIndex=="number"?h=s.tabIndex:h=i?0:void 0,typeof s.role=="string"?g=s.role:g=i?"application":void 0,N.createElement(Cy,Bh({},s,{title:c,desc:d,role:g,tabIndex:h,width:r,height:n,style:qY,ref:t}),a)}),YY=e=>{var{children:t}=e,r=Ne(q0);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return N.createElement(Cy,{width:n,height:i,x:s,y:a},t)},WS=N.forwardRef((e,t)=>{var{children:r}=e,n=VY(e,HY),i=yn();return i?N.createElement(YY,null,r):N.createElement(XY,Bh({ref:t},n),r)});function ZY(){var e=Dt(),[t,r]=N.useState(null),n=Ne(BL);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Bn(a)&&a!==n&&e(lL(a))}},[t,e,n]),r}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rZ=N.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:g,onMouseMove:v,onMouseUp:y,onTouchEnd:w,onTouchMove:A,onTouchStart:C,style:I,width:O}=e,_=Dt(),[T,D]=N.useState(null),[M,j]=N.useState(null);AH();var L=ZY(),z=N.useCallback(re=>{L(re),typeof t=="function"&&t(re),D(re),j(re)},[L,t,D,j]),U=N.useCallback(re=>{_(SP(re)),_(Yn({handler:a,reactEvent:re}))},[_,a]),J=N.useCallback(re=>{_(nv(re)),_(Yn({handler:h,reactEvent:re}))},[_,h]),X=N.useCallback(re=>{_(aN()),_(Yn({handler:g,reactEvent:re}))},[_,g]),q=N.useCallback(re=>{_(nv(re)),_(Yn({handler:v,reactEvent:re}))},[_,v]),oe=N.useCallback(()=>{_(NP())},[_]),de=N.useCallback(re=>{_(TP(re.key))},[_]),H=N.useCallback(re=>{_(Yn({handler:s,reactEvent:re}))},[_,s]),we=N.useCallback(re=>{_(Yn({handler:c,reactEvent:re}))},[_,c]),ee=N.useCallback(re=>{_(Yn({handler:d,reactEvent:re}))},[_,d]),te=N.useCallback(re=>{_(Yn({handler:y,reactEvent:re}))},[_,y]),fe=N.useCallback(re=>{_(Yn({handler:C,reactEvent:re}))},[_,C]),ie=N.useCallback(re=>{_(kP(re)),_(Yn({handler:A,reactEvent:re}))},[_,A]),ve=N.useCallback(re=>{_(Yn({handler:w,reactEvent:re}))},[_,w]);return N.createElement(AN.Provider,{value:T},N.createElement(BI.Provider,{value:M},N.createElement("div",{className:lt("recharts-wrapper",n),style:QY({position:"relative",cursor:"default",width:O,height:i},I),onClick:U,onContextMenu:H,onDoubleClick:we,onFocus:oe,onKeyDown:de,onMouseDown:ee,onMouseEnter:J,onMouseLeave:X,onMouseMove:q,onMouseUp:te,onTouchEnd:ve,onTouchMove:ie,onTouchStart:fe,ref:z},r)))}),nZ=["children","className","width","height","style","compact","title","desc"];function iZ(e,t){if(e==null)return{};var r,n,i=aZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BP=N.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:c,title:d,desc:h}=e,g=iZ(e,nZ),v=ut(g,!1);return c?N.createElement(WS,{otherAttributes:v,title:d,desc:h},r):N.createElement(rZ,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(WS,{otherAttributes:v,title:d,desc:h,ref:t},N.createElement(uX,null,r)))}),oZ=["width","height"];function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}function sZ(e,t){if(e==null)return{};var r,n,i=lZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uZ={top:5,right:5,bottom:5,left:5},cZ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uZ,reverseStackOrder:!1,syncMethod:"index"},dZ=N.forwardRef(function(t,r){var n,i=_i(t.categoricalChartProps,cZ),{width:a,height:s}=i,c=sZ(i,oZ);if(!Ol(a)||!Ol(s))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,categoricalChartProps:y}=t,w={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return N.createElement(RP,{preloadedState:{options:w},reduxStoreName:(n=y.id)!==null&&n!==void 0?n:d},N.createElement(pP,{chartData:y.data}),N.createElement(MP,{width:a,height:s,layout:i.layout,margin:i.margin}),N.createElement(jP,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(BP,iv({},c,{width:a,height:s,ref:r})))}),fZ=["axis","item"],hZ=N.forwardRef((e,t)=>N.createElement(dZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fZ,tooltipPayloadSearcher:CN,categoricalChartProps:e,ref:t}));function pZ(e){var t=Dt();return N.useEffect(()=>{t(FY(e))},[t,e]),null}var gZ=["width","height","layout"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}function mZ(e,t){if(e==null)return{};var r,n,i=vZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yZ={top:5,right:5,bottom:5,left:5},xZ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},wZ=N.forwardRef(function(t,r){var n,i=_i(t.categoricalChartProps,xZ),{width:a,height:s,layout:c}=i,d=mZ(i,gZ);if(!Ol(a)||!Ol(s))return null;var{chartName:h,defaultTooltipEventType:g,validateTooltipEventTypes:v,tooltipPayloadSearcher:y}=t,w={chartName:h,defaultTooltipEventType:g,validateTooltipEventTypes:v,tooltipPayloadSearcher:y,eventEmitter:void 0};return N.createElement(RP,{preloadedState:{options:w},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:h},N.createElement(pP,{chartData:i.data}),N.createElement(MP,{width:a,height:s,layout:c,margin:i.margin}),N.createElement(jP,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(pZ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(BP,av({width:a,height:s},d,{ref:r})))}),bZ=["item"],EZ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},AZ=N.forwardRef((e,t)=>{var r=_i(e,EZ);return N.createElement(wZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bZ,tooltipPayloadSearcher:CN,categoricalChartProps:r,ref:t})});const GS=e=>`Rp${new Intl.NumberFormat("id-ID").format(e)}`,SZ=({data:e})=>E.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm h-64",children:E.jsx(DN,{width:"100%",height:"100%",children:E.jsxs(hZ,{data:e,margin:{top:5,right:20,left:-10,bottom:5},children:[E.jsx(xP,{strokeDasharray:"3 3",vertical:!1}),E.jsx(bw,{dataKey:"name",tick:{fontSize:12}}),E.jsx(Ew,{tickFormatter:GS,tick:{fontSize:12}}),E.jsx(TN,{cursor:{fill:"rgba(239, 246, 255, 0.5)"},formatter:t=>GS(t)}),E.jsx(mw,{dataKey:"total",fill:"#3B82F6",radius:[4,4,0,0]})]})})}),HS=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943"],CZ=e=>`Rp${new Intl.NumberFormat("id-ID").format(e)}`,OZ=({data:e})=>E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm h-80",children:[E.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Pendapatan per Kategori"}),E.jsx(DN,{width:"100%",height:"100%",children:E.jsxs(AZ,{children:[E.jsx(TN,{formatter:CZ}),E.jsx(X0,{iconType:"circle"}),E.jsx(gw,{data:e,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",children:e.map((t,r)=>E.jsx(nd,{fill:HS[r%HS.length]},`cell-${r}`))})]})})]}),IZ=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),_Z=({data:e})=>E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm h-80 flex flex-col",children:[E.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"5 Produk Terlaris"}),E.jsx("div",{className:"flex-grow overflow-y-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-4 py-2",children:"Produk"}),E.jsx("th",{scope:"col",className:"px-4 py-2 text-center",children:"Terjual"}),E.jsx("th",{scope:"col",className:"px-4 py-2 text-right",children:"Omzet"})]})}),E.jsx("tbody",{children:e.map((t,r)=>E.jsxs("tr",{className:"bg-white border-b",children:[E.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 whitespace-nowrap",children:t.name}),E.jsx("td",{className:"px-4 py-2 text-center",children:t.quantity}),E.jsx("td",{className:"px-4 py-2 text-right",children:IZ(t.revenue)})]},r))})]})})]}),TZ=()=>E.jsxs("div",{className:"p-4 animate-pulse",children:[E.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/3 mb-4"}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[E.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[E.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"})]}),E.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-1/4 mb-3"}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})]})]}),qg=15,NZ=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,c]=N.useState(1),[d,h]=N.useState(0),[g,v]=N.useState(null),[y,w]=N.useState(!1);N.useEffect(()=>{if(!e)return;(async()=>{a(!0);const O=(s-1)*qg,_=O+qg-1,{data:T,error:D,count:M}=await Ke.from("transactions").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(O,_);D?Oe.error("Gagal memuat riwayat transaksi."):(n(T),h(M)),a(!1)})()},[e,s]);const A=I=>{v({...I,amountPaid:I.final_price,change:0}),w(!0)},C=Math.ceil(d/qg);return e?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-gray-100 rounded-lg shadow-xl w-full max-w-2xl h-[90vh] flex flex-col animate-scale-in",children:[E.jsx("div",{className:"p-4 border-b bg-white rounded-t-lg",children:E.jsx("h2",{className:"text-xl font-bold",children:"Riwayat Semua Transaksi"})}),E.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:i?E.jsx("p",{children:"Memuat..."}):r.map(I=>E.jsx(TI,{transaction:I,onClick:A},I.id))}),E.jsxs("div",{className:"p-4 border-t bg-white rounded-b-lg flex justify-between items-center",children:[C>1&&E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>c(I=>I-1),disabled:s===1,className:"px-4 py-2 bg-gray-200 rounded-lg disabled:opacity-50",children:"Sebelumnya"}),E.jsxs("span",{children:["Halaman ",s," / ",C]}),E.jsx("button",{onClick:()=>c(I=>I+1),disabled:s===C,className:"px-4 py-2 bg-gray-200 rounded-lg disabled:opacity-50",children:"Berikutnya"})]}),E.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg",children:"Tutup"})]})]})}),E.jsx(yy,{isOpen:y,onClose:()=>w(!1),transactionDetails:g})]}):null},PZ=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[i,a]=N.useState(!0);return N.useEffect(()=>{if(!e)return;(async()=>{a(!0);const{data:c,error:d}=await Ke.from("products").select("*").lte("stock",5).gt("stock",0).order("stock",{ascending:!0});d?Oe.error("Gagal memuat daftar produk stok menipis."):n(c),a(!1)})()},[e]),e?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Produk Stok Menipis"}),E.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:i?E.jsx("p",{children:"Memuat..."}):r.length>0?E.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(s=>E.jsxs("li",{className:"py-3 flex justify-between items-center",children:[E.jsx("span",{className:"font-medium",children:s.name}),E.jsxs("span",{className:"text-red-600 font-bold bg-red-100 px-2 py-1 rounded-full text-sm",children:["Sisa ",s.stock]})]},s.id))}):E.jsx("p",{className:"text-center text-gray-500 py-8",children:"Tidak ada produk dengan stok menipis."})}),E.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:E.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg",children:"Tutup"})})]})}):null},kZ=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),DZ=({isOpen:e,onClose:t,data:r,filter:n})=>{if(!e)return null;const i=n==="today"?"Hari Ini":n==="week"?"7 Hari Terakhir":"Bulan Ini";return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsxs("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:["Top 10 Produk Terlaris (",i,")"]}),E.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-4 py-2",children:"#"}),E.jsx("th",{scope:"col",className:"px-4 py-2",children:"Produk"}),E.jsx("th",{scope:"col",className:"px-4 py-2 text-center",children:"Terjual"}),E.jsx("th",{scope:"col",className:"px-4 py-2 text-right",children:"Omzet"})]})}),E.jsx("tbody",{children:r.map((a,s)=>E.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[E.jsx("td",{className:"px-4 py-2 font-bold",children:s+1}),E.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 whitespace-nowrap",children:a.name}),E.jsx("td",{className:"px-4 py-2 text-center",children:a.quantity}),E.jsx("td",{className:"px-4 py-2 text-right",children:kZ(a.revenue)})]},s))})]})}),E.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:E.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg",children:"Tutup"})})]})})},RZ=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),MZ=()=>{const[e,t]=N.useState({revenue:0,transactions:0,bestSeller:"N/A",lowStockCount:0}),[r,n]=N.useState([]),[i,a]=N.useState([]),[s,c]=N.useState([]),[d,h]=N.useState([]),[g,v]=N.useState(!0),[y,w]=N.useState(!1),[A,C]=N.useState(null),[I,O]=N.useState("today"),[_,T]=N.useState(!1),[D,M]=N.useState(!1),[j,L]=N.useState(!1);N.useEffect(()=>{(async()=>{v(!0);const J=new Date;let X=new Date;X.setHours(0,0,0,0),I==="week"?X.setDate(J.getDate()-7):I==="month"&&X.setMonth(J.getMonth()-1);const{data:q,error:oe}=await Ke.from("transactions").select("*").gte("created_at",X.toISOString()).order("created_at",{ascending:!1});if(oe)Oe.error("Gagal memuat data laporan.");else{const H=q.reduce((ie,ve)=>ie+ve.final_price,0),we={},ee={};q.forEach(ie=>{ie.items.forEach(ve=>{const re=ve.price*ve.quantity;we[ve.name]||(we[ve.name]={name:ve.name,quantity:0,revenue:0}),we[ve.name].quantity+=ve.quantity,we[ve.name].revenue+=re;const Ue=ve.category||"Lain-lain";ee[Ue]=(ee[Ue]||0)+re})});const te=Object.values(we).sort((ie,ve)=>ve.quantity-ie.quantity).slice(0,10);h(te),t(ie=>({...ie,revenue:H,transactions:q.length,bestSeller:te.length>0?te[0].name:"N/A"})),n(q);const fe=Object.entries(ee).map(([ie,ve])=>({name:ie,value:ve}));if(c(fe),I==="today"){const ie=Array(24).fill(0).map((ve,re)=>({name:`${String(re).padStart(2,"0")}:00`,total:0}));q.forEach(ve=>{const re=new Date(ve.created_at).getHours();ie[re].total+=ve.final_price}),a(ie.filter(ve=>ve.total>0))}else{const ie={};q.forEach(ve=>{const re=new Date(ve.created_at).toLocaleDateString("id-ID",{weekday:"short",day:"2-digit"});ie[re]=(ie[re]||0)+ve.final_price}),a(Object.entries(ie).map(([ve,re])=>({name:ve,total:re})).reverse())}}const{count:de}=await Ke.from("products").select("*",{count:"exact",head:!0}).lte("stock",5).gt("stock",0);t(H=>({...H,lowStockCount:de||0})),v(!1)})()},[I]);const z=U=>{C({...U,amountPaid:U.final_price,change:0}),w(!0)};return g?E.jsx(TZ,{}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-4 h-full flex flex-col overflow-hidden",children:[E.jsx("div",{children:E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[E.jsx("h1",{className:"text-2xl font-bold",children:"Laporan & Ringkasan"}),E.jsx("div",{className:"flex items-center gap-2 mt-2 sm:mt-0 bg-white p-1 rounded-lg shadow-sm",children:["today","week","month"].map(U=>E.jsx("button",{onClick:()=>O(U),className:`px-3 py-1 text-sm font-semibold rounded-md ${I===U?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:U==="today"?"Hari Ini":U==="week"?"7 Hari":"Bulan Ini"},U))})]})}),E.jsxs("div",{className:"flex-grow overflow-y-auto",children:[E.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[E.jsx(mu,{title:"Pendapatan",value:RZ(e.revenue),icon:E.jsx(lR,{className:"h-6 w-6"}),color:"green"}),E.jsx(mu,{title:"Transaksi",value:e.transactions,icon:E.jsx(uR,{className:"h-6 w-6"}),color:"blue"}),E.jsx(mu,{title:"Terlaris",value:e.bestSeller,icon:E.jsx(cR,{className:"h-6 w-6"}),color:"yellow",onClick:()=>L(!0)}),E.jsx(mu,{title:"Stok Menipis",value:`${e.lowStockCount} Produk`,icon:E.jsx(fR,{className:"h-6 w-6"}),onClick:()=>M(!0),color:"red"}),E.jsx(mu,{title:"Lihat Riwayat",value:"Semua",icon:E.jsx(dR,{className:"h-6 w-6"}),onClick:()=>T(!0),color:"purple"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[E.jsx(SZ,{data:i}),E.jsx(OZ,{data:s})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsx("div",{className:"lg:col-span-1",children:E.jsx(_Z,{data:d.slice(0,5)})}),E.jsxs("div",{className:"lg:col-span-1 flex flex-col",children:[E.jsx("h2",{className:"text-xl font-bold mb-3",children:"Transaksi Terbaru"}),E.jsx("div",{className:"flex-grow bg-gray-100 p-3 rounded-lg overflow-y-auto h-80",children:r.length>0?r.map(U=>E.jsx(TI,{transaction:U,onClick:z},U.id)):E.jsx("p",{className:"text-center text-gray-500 mt-10",children:"Belum ada transaksi pada periode ini."})})]})]})]})]}),E.jsx(yy,{isOpen:y,onClose:()=>w(!1),transactionDetails:A}),E.jsx(NZ,{isOpen:_,onClose:()=>T(!1)}),E.jsx(PZ,{isOpen:D,onClose:()=>M(!1)}),E.jsx(DZ,{isOpen:j,onClose:()=>L(!1),data:d,filter:I})]})},jZ=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i})=>e?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-scale-in",children:[E.jsx("div",{className:"p-6",children:E.jsxs("div",{className:"flex items-start",children:[E.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:E.jsx(sR,{className:"h-6 w-6 text-red-600"})}),E.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),E.jsx("div",{className:"mt-2",children:E.jsx("p",{className:"text-sm text-gray-500",children:i})})]})]})}),E.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg",children:[E.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Hapus"}),E.jsx("button",{type:"button",onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",children:"Batal"})]})]})}):null,BZ=({isOpen:e,onClose:t,onSave:r,product:n})=>{const[i,a]=N.useState({name:"",price:"",category_id:"",barcode:"",stock:"",is_consignment:!1,cost_price:"",supplier_id:""}),[s,c]=N.useState([]),[d,h]=N.useState([]);if(N.useEffect(()=>{if(!n)return;(async()=>{var C;const{data:w}=await Ke.from("categories").select("*"),{data:A}=await Ke.from("suppliers").select("*");c(w||[]),h(A||[]),a({name:n.name||"",price:n.price||"",category_id:n.category_id||((C=w[0])==null?void 0:C.id)||"",barcode:n.barcode||"",stock:n.stock||"0",is_consignment:n.is_consignment||!1,cost_price:n.cost_price||"0",supplier_id:n.supplier_id||""})})()},[n,e]),!e)return null;const g=y=>{const{name:w,value:A,type:C,checked:I}=y.target;a(O=>({...O,[w]:C==="checkbox"?I:A}))},v=y=>{y.preventDefault(),r({...n,...i}),t()};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Edit Produk"}),E.jsxs("form",{onSubmit:v,className:"flex-grow flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(uy,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",name:"name",placeholder:"Nama Produk",value:i.name,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(Qf,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"number",name:"price",placeholder:"Harga Jual",value:i.price,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(JO,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"number",name:"stock",placeholder:"Stok",value:i.stock,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]})]}),E.jsxs("div",{className:"relative mb-4",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(cy,{className:"h-5 w-5 text-gray-400"})}),E.jsx("select",{name:"category_id",value:i.category_id,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:s.map(y=>E.jsx("option",{value:y.id,children:y.name},y.id))})]}),E.jsxs("div",{className:"relative mb-4",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(sy,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",name:"barcode",placeholder:"Barcode (opsional)",value:i.barcode,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md"})]}),E.jsxs("div",{className:"border-t pt-4 mt-4",children:[E.jsxs("div",{className:"relative flex items-start",children:[E.jsx("div",{className:"flex items-center h-5",children:E.jsx("input",{id:"is_consignment_edit",name:"is_consignment",type:"checkbox",checked:i.is_consignment,onChange:g,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),E.jsx("div",{className:"ml-3 text-sm",children:E.jsx("label",{htmlFor:"is_consignment_edit",className:"font-medium text-gray-700",children:"Barang Titipan (Konsinyasi)"})})]}),i.is_consignment&&E.jsxs("div",{className:"mt-4 space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(dy,{className:"h-5 w-5 text-gray-400"})}),E.jsxs("select",{name:"supplier_id",value:i.supplier_id,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:[E.jsx("option",{value:"",children:"-- Pilih Suplier --"}),d.map(y=>E.jsx("option",{value:y.id,children:y.name},y.id))]})]}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(Qf,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"number",name:"cost_price",placeholder:"Harga Modal / Pokok",value:i.cost_price,onChange:g,className:"w-full pl-10 p-2 border border-gray-300 rounded-md"})]})]})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[E.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Simpan Perubahan"})]})]})]})})},Cu=10,LZ=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,c]=N.useState(!1),[d,h]=N.useState(!1),[g,v]=N.useState(null),[y,w]=N.useState(null),[A,C]=N.useState(""),[I,O]=N.useState("created_at-desc"),[_,T]=N.useState(1),[D,M]=N.useState(0),[j,L]=N.useState([]),z=N.useCallback(async()=>{n(!0);const ee=(_-1)*Cu,te=ee+Cu-1,[fe,ie]=I.split("-"),ve=ie==="asc";let re=Ke.from("products").select("*, categories(name)",{count:"exact"});A&&(re=re.ilike("name",`%${A}%`)),re=re.order(fe,{ascending:ve}).range(ee,te);const{data:Ue,error:$e,count:qe}=await re;$e?Oe.error("Gagal memuat produk."):(t(Ue),M(qe)),n(!1)},[A,I,_]);N.useEffect(()=>{z()},[z]),N.useEffect(()=>{T(1),L([])},[A,I]);const U=Math.ceil(D/Cu),J=ee=>{ee.target.checked?L(e.map(te=>te.id)):L([])},X=(ee,te)=>{ee.target.checked?L(fe=>[...fe,te]):L(fe=>fe.filter(ie=>ie!==te))},q=async()=>{const ee=Oe.loading(`Menghapus ${j.length} produk...`),{error:te}=await Ke.from("products").delete().in("id",j);te?Oe.error(`Gagal: ${te.message}`,{id:ee}):(Oe.success("Produk terpilih berhasil dihapus!",{id:ee}),L([]),z()),h(!1)},oe=async(ee,te)=>{},de=async ee=>{},H=ee=>{v(ee),c(!0)},we=ee=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ee);return E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex flex-col",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3",children:[E.jsxs("div",{className:"relative flex-grow w-full",children:[E.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:E.jsx(QO,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",placeholder:"Cari produk...",value:A,onChange:ee=>C(ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm"})]}),E.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[E.jsxs("select",{value:I,onChange:ee=>O(ee.target.value),className:"w-full sm:w-auto p-2 border border-gray-300 rounded-lg shadow-sm",children:[E.jsx("option",{value:"created_at-desc",children:"Terbaru"}),E.jsx("option",{value:"name-asc",children:"Nama (A-Z)"}),E.jsx("option",{value:"name-desc",children:"Nama (Z-A)"}),E.jsx("option",{value:"price-desc",children:"Harga (Termahal)"}),E.jsx("option",{value:"price-asc",children:"Harga (Termurah)"}),E.jsx("option",{value:"stock-desc",children:"Stok (Terbanyak)"}),E.jsx("option",{value:"stock-asc",children:"Stok (Tersedikit)"})]}),E.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700",children:[E.jsx(c0,{className:"h-5 w-5"}),E.jsx("span",{className:"hidden sm:inline",children:"Tambah"})]})]})]}),j.length>0&&E.jsxs("div",{className:"bg-blue-100 border border-blue-300 text-blue-800 px-4 py-2 rounded-lg mb-4 flex justify-between items-center",children:[E.jsxs("span",{children:[j.length," produk terpilih"]}),E.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-red-500 text-white text-sm font-semibold py-1 px-3 rounded-md hover:bg-red-600",children:[E.jsx(xl,{className:"h-4 w-4"})," Hapus Terpilih"]})]}),E.jsx("div",{className:"flex-grow overflow-auto",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left text-gray-500 min-w-[600px]",children:[E.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"p-4",children:E.jsx("input",{type:"checkbox",className:"rounded",checked:j.length===e.length&&e.length>0,onChange:J})}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama Produk"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Kategori"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Harga"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Stok"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Aksi"})]})}),E.jsx("tbody",{children:r?E.jsx("tr",{children:E.jsx("td",{colSpan:"6",className:"text-center py-10",children:"Memuat data produk..."})}):e.map(ee=>{var te;return E.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[E.jsx("td",{className:"w-4 p-4",children:E.jsx("input",{type:"checkbox",className:"rounded",checked:j.includes(ee.id),onChange:fe=>X(fe,ee.id)})}),E.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:ee.name}),E.jsx("td",{className:"px-6 py-4",children:((te=ee.categories)==null?void 0:te.name)||"N/A"}),E.jsx("td",{className:"px-6 py-4",children:we(ee.price)}),E.jsx("td",{className:"px-6 py-4 text-center",children:ee.stock}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("div",{className:"flex items-center justify-center gap-4",children:E.jsx("button",{onClick:()=>H(ee),className:"text-blue-600 hover:text-blue-800","aria-label":"Edit",children:E.jsx(ly,{className:"h-5 w-5"})})})})]},ee.id)})})]})})}),E.jsxs("div",{className:"flex justify-between items-center pt-4 border-t mt-4",children:[E.jsxs("span",{className:"text-sm text-gray-700",children:["Menampilkan ",E.jsx("span",{className:"font-semibold",children:Math.min((_-1)*Cu+1,D)})," - ",E.jsx("span",{className:"font-semibold",children:Math.min(_*Cu,D)})," dari ",E.jsx("span",{className:"font-semibold",children:D})," produk"]}),U>1&&E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>T(ee=>ee-1),disabled:_===1,className:"px-3 py-1 bg-gray-200 rounded-md disabled:opacity-50",children:"Sebelumnya"}),E.jsx("button",{onClick:()=>T(ee=>ee+1),disabled:_===U,className:"px-3 py-1 bg-gray-200 rounded-md disabled:opacity-50",children:"Berikutnya"})]})]}),E.jsx(CI,{isOpen:i,onClose:()=>a(!1),onSave:oe}),E.jsx(BZ,{isOpen:s,onClose:()=>c(!1),onSave:de,product:g}),E.jsx(jZ,{isOpen:d,onClose:()=>h(!1),onConfirm:q,title:"Hapus Produk Terpilih",message:`Apakah Anda yakin ingin menghapus ${j.length} produk yang dipilih?`})]})};function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ov(e,t)}function LP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ov(e,t)}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le.apply(null,arguments)}function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function FZ(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e){var t=FZ(e,"string");return Ic(t)=="symbol"?t:t+""}function UZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function un(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var qS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),XS=function(){return Math.random().toString(36).substring(7).split("").join(".")},YS={INIT:"@@redux/INIT"+XS(),REPLACE:"@@redux/REPLACE"+XS()};function WZ(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function FP(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(un(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(un(1));return r(FP)(e,t)}if(typeof e!="function")throw new Error(un(2));var i=e,a=t,s=[],c=s,d=!1;function h(){c===s&&(c=s.slice())}function g(){if(d)throw new Error(un(3));return a}function v(C){if(typeof C!="function")throw new Error(un(4));if(d)throw new Error(un(5));var I=!0;return h(),c.push(C),function(){if(I){if(d)throw new Error(un(6));I=!1,h();var _=c.indexOf(C);c.splice(_,1),s=null}}}function y(C){if(!WZ(C))throw new Error(un(7));if(typeof C.type>"u")throw new Error(un(8));if(d)throw new Error(un(9));try{d=!0,a=i(a,C)}finally{d=!1}for(var I=s=c,O=0;O<I.length;O++){var _=I[O];_()}return C}function w(C){if(typeof C!="function")throw new Error(un(10));i=C,y({type:YS.REPLACE})}function A(){var C,I=v;return C={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(un(11));function T(){_.next&&_.next(g())}T();var D=I(T);return{unsubscribe:D}}},C[qS]=function(){return this},C}return y({type:YS.INIT}),n={dispatch:y,subscribe:v,getState:g,replaceReducer:w},n[qS]=A,n}function ZS(e,t){return function(){return t(e.apply(this,arguments))}}function QS(e,t){if(typeof e=="function")return ZS(e,t);if(typeof e!="object"||e===null)throw new Error(un(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=ZS(i,t))}return r}function $P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function zZ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(un(15))},s={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=t.map(function(d){return d(s)});return a=$P.apply(void 0,c)(i.dispatch),KS(KS({},i),{},{dispatch:a})}}}var UP=_t.createContext(null);function GZ(e){e()}var WP=GZ,HZ=function(t){return WP=t},VZ=function(){return WP};function KZ(){var e=VZ(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=t;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,s=r={callback:i,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!a||t===null||(a=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var JS={notify:function(){},get:function(){return[]}};function zP(e,t){var r,n=JS;function i(v){return d(),n.subscribe(v)}function a(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function c(){return!!r}function d(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=KZ())}function h(){r&&(r(),r=void 0,n.clear(),n=JS)}var g={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:s,isSubscribed:c,trySubscribe:d,tryUnsubscribe:h,getListeners:function(){return n}};return g}var GP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function qZ(e){var t=e.store,r=e.context,n=e.children,i=N.useMemo(function(){var c=zP(t);return{store:t,subscription:c}},[t]),a=N.useMemo(function(){return t.getState()},[t]);GP(function(){var c=i.subscription;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),function(){c.tryUnsubscribe(),c.onStateChange=null}},[i,a]);var s=r||UP;return _t.createElement(s.Provider,{value:i},n)}function Lh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ow=RI,XZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},HP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Iw={};Iw[Ow.ForwardRef]=ZZ;Iw[Ow.Memo]=HP;function eC(e){return Ow.isMemo(e)?HP:Iw[e.$$typeof]||XZ}var QZ=Object.defineProperty,JZ=Object.getOwnPropertyNames,tC=Object.getOwnPropertySymbols,eQ=Object.getOwnPropertyDescriptor,tQ=Object.getPrototypeOf,rC=Object.prototype;function VP(e,t,r){if(typeof t!="string"){if(rC){var n=tQ(t);n&&n!==rC&&VP(e,n,r)}var i=JZ(t);tC&&(i=i.concat(tC(t)));for(var a=eC(e),s=eC(t),c=0;c<i.length;++c){var d=i[c];if(!YZ[d]&&!(r&&r[d])&&!(s&&s[d])&&!(a&&a[d])){var h=eQ(t,d);try{QZ(e,d,h)}catch{}}}}return e}var rQ=VP;const nC=Ln(rQ);var KP={exports:{}},xt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=60103,gp=60106,ad=60107,od=60108,sd=60114,ld=60109,ud=60110,cd=60112,dd=60113,_w=60120,fd=60115,hd=60116,qP=60121,XP=60122,YP=60117,ZP=60129,QP=60131;if(typeof Symbol=="function"&&Symbol.for){var Or=Symbol.for;pp=Or("react.element"),gp=Or("react.portal"),ad=Or("react.fragment"),od=Or("react.strict_mode"),sd=Or("react.profiler"),ld=Or("react.provider"),ud=Or("react.context"),cd=Or("react.forward_ref"),dd=Or("react.suspense"),_w=Or("react.suspense_list"),fd=Or("react.memo"),hd=Or("react.lazy"),qP=Or("react.block"),XP=Or("react.server.block"),YP=Or("react.fundamental"),ZP=Or("react.debug_trace_mode"),QP=Or("react.legacy_hidden")}function Ti(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pp:switch(e=e.type,e){case ad:case sd:case od:case dd:case _w:return e;default:switch(e=e&&e.$$typeof,e){case ud:case cd:case hd:case fd:case ld:return e;default:return t}}case gp:return t}}}var nQ=ld,iQ=pp,aQ=cd,oQ=ad,sQ=hd,lQ=fd,uQ=gp,cQ=sd,dQ=od,fQ=dd;xt.ContextConsumer=ud;xt.ContextProvider=nQ;xt.Element=iQ;xt.ForwardRef=aQ;xt.Fragment=oQ;xt.Lazy=sQ;xt.Memo=lQ;xt.Portal=uQ;xt.Profiler=cQ;xt.StrictMode=dQ;xt.Suspense=fQ;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(e){return Ti(e)===ud};xt.isContextProvider=function(e){return Ti(e)===ld};xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pp};xt.isForwardRef=function(e){return Ti(e)===cd};xt.isFragment=function(e){return Ti(e)===ad};xt.isLazy=function(e){return Ti(e)===hd};xt.isMemo=function(e){return Ti(e)===fd};xt.isPortal=function(e){return Ti(e)===gp};xt.isProfiler=function(e){return Ti(e)===sd};xt.isStrictMode=function(e){return Ti(e)===od};xt.isSuspense=function(e){return Ti(e)===dd};xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ad||e===sd||e===ZP||e===od||e===dd||e===_w||e===QP||typeof e=="object"&&e!==null&&(e.$$typeof===hd||e.$$typeof===fd||e.$$typeof===ld||e.$$typeof===ud||e.$$typeof===cd||e.$$typeof===YP||e.$$typeof===qP||e[0]===XP)};xt.typeOf=Ti;KP.exports=xt;var hQ=KP.exports,pQ=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],gQ=["reactReduxForwardedRef"],mQ=[],vQ=[null,null];function yQ(e,t){var r=e[1];return[t.payload,r+1]}function iC(e,t,r){GP(function(){return e.apply(void 0,t)},r)}function xQ(e,t,r,n,i,a,s){e.current=n,t.current=i,r.current=!1,a.current&&(a.current=null,s())}function wQ(e,t,r,n,i,a,s,c,d,h){if(e){var g=!1,v=null,y=function(){if(!g){var C=t.getState(),I,O;try{I=n(C,i.current)}catch(_){O=_,v=_}O||(v=null),I===a.current?s.current||d():(a.current=I,c.current=I,s.current=!0,h({type:"STORE_UPDATED",payload:{error:O}}))}};r.onStateChange=y,r.trySubscribe(),y();var w=function(){if(g=!0,r.tryUnsubscribe(),r.onStateChange=null,v)throw v};return w}}var bQ=function(){return[null,0]};function EQ(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,i=n===void 0?function(T){return"ConnectAdvanced("+T+")"}:n,a=r.methodName,s=a===void 0?"connectAdvanced":a,c=r.renderCountProp,d=c===void 0?void 0:c,h=r.shouldHandleStateChanges,g=h===void 0?!0:h,v=r.storeKey,y=v===void 0?"store":v;r.withRef;var w=r.forwardRef,A=w===void 0?!1:w,C=r.context,I=C===void 0?UP:C,O=Lh(r,pQ),_=I;return function(D){var M=D.displayName||D.name||"Component",j=i(M),L=Le({},O,{getDisplayName:i,methodName:s,renderCountProp:d,shouldHandleStateChanges:g,storeKey:y,displayName:j,wrappedComponentName:M,WrappedComponent:D}),z=O.pure;function U(de){return e(de.dispatch,L)}var J=z?N.useMemo:function(de){return de()};function X(de){var H=N.useMemo(function(){var Ie=de.reactReduxForwardedRef,Rt=Lh(de,gQ);return[de.context,Ie,Rt]},[de]),we=H[0],ee=H[1],te=H[2],fe=N.useMemo(function(){return we&&we.Consumer&&hQ.isContextConsumer(_t.createElement(we.Consumer,null))?we:_},[we,_]),ie=N.useContext(fe),ve=!!de.store&&!!de.store.getState&&!!de.store.dispatch;ie&&ie.store;var re=ve?de.store:ie.store,Ue=N.useMemo(function(){return U(re)},[re]),$e=N.useMemo(function(){if(!g)return vQ;var Ie=zP(re,ve?null:ie.subscription),Rt=Ie.notifyNestedSubs.bind(Ie);return[Ie,Rt]},[re,ve,ie]),qe=$e[0],xe=$e[1],cr=N.useMemo(function(){return ve?ie:Le({},ie,{subscription:qe})},[ve,ie,qe]),ht=N.useReducer(yQ,mQ,bQ),ye=ht[0],je=ye[0],De=ht[1];if(je&&je.error)throw je.error;var ae=N.useRef(),Me=N.useRef(te),Ge=N.useRef(),at=N.useRef(!1),he=J(function(){return Ge.current&&te===Me.current?Ge.current:Ue(re.getState(),te)},[re,je,te]);iC(xQ,[Me,ae,at,te,he,Ge,xe]),iC(wQ,[g,re,qe,Ue,Me,ae,at,Ge,xe,De],[re,qe,Ue]);var Te=N.useMemo(function(){return _t.createElement(D,Le({},he,{ref:ee}))},[ee,D,he]),_e=N.useMemo(function(){return g?_t.createElement(fe.Provider,{value:cr},Te):Te},[fe,Te,cr]);return _e}var q=z?_t.memo(X):X;if(q.WrappedComponent=D,q.displayName=X.displayName=j,A){var oe=_t.forwardRef(function(H,we){return _t.createElement(q,Le({},H,{reactReduxForwardedRef:we}))});return oe.displayName=j,oe.WrappedComponent=D,nC(oe,D)}return nC(q,D)}}function aC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xg(e,t){if(aC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!aC(e[r[i]],t[r[i]]))return!1;return!0}function AQ(e,t){var r={},n=function(s){var c=e[s];typeof c=="function"&&(r[s]=function(){return t(c.apply(void 0,arguments))})};for(var i in e)n(i);return r}function Tw(e){return function(r,n){var i=e(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function oC(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function JP(e,t){return function(n,i){i.displayName;var a=function(c,d){return a.dependsOnOwnProps?a.mapToProps(c,d):a.mapToProps(c)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,d){a.mapToProps=e,a.dependsOnOwnProps=oC(e);var h=a(c,d);return typeof h=="function"&&(a.mapToProps=h,a.dependsOnOwnProps=oC(h),h=a(c,d)),h},a}}function SQ(e){return typeof e=="function"?JP(e):void 0}function CQ(e){return e?void 0:Tw(function(t){return{dispatch:t}})}function OQ(e){return e&&typeof e=="object"?Tw(function(t){return AQ(e,t)}):void 0}const IQ=[SQ,CQ,OQ];function _Q(e){return typeof e=="function"?JP(e):void 0}function TQ(e){return e?void 0:Tw(function(){return{}})}const NQ=[_Q,TQ];function PQ(e,t,r){return Le({},r,e,t)}function kQ(e){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,s=!1,c;return function(h,g,v){var y=e(h,g,v);return s?(!i||!a(y,c))&&(c=y):(s=!0,c=y),c}}}function DQ(e){return typeof e=="function"?kQ(e):void 0}function RQ(e){return e?void 0:function(){return PQ}}const MQ=[DQ,RQ];var jQ=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function BQ(e,t,r,n){return function(a,s){return r(e(a,s),t(n,s),s)}}function LQ(e,t,r,n,i){var a=i.areStatesEqual,s=i.areOwnPropsEqual,c=i.areStatePropsEqual,d=!1,h,g,v,y,w;function A(T,D){return h=T,g=D,v=e(h,g),y=t(n,g),w=r(v,y,g),d=!0,w}function C(){return v=e(h,g),t.dependsOnOwnProps&&(y=t(n,g)),w=r(v,y,g),w}function I(){return e.dependsOnOwnProps&&(v=e(h,g)),t.dependsOnOwnProps&&(y=t(n,g)),w=r(v,y,g),w}function O(){var T=e(h,g),D=!c(T,v);return v=T,D&&(w=r(v,y,g)),w}function _(T,D){var M=!s(D,g),j=!a(T,h,D,g);return h=T,g=D,M&&j?C():M?I():j?O():w}return function(D,M){return d?_(D,M):A(D,M)}}function FQ(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,a=Lh(t,jQ),s=r(e,a),c=n(e,a),d=i(e,a),h=a.pure?LQ:BQ;return h(s,c,d,e,a)}var $Q=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Yg(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(a,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function UQ(e,t){return e===t}function WQ(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?EQ:r,i=t.mapStateToPropsFactories,a=i===void 0?NQ:i,s=t.mapDispatchToPropsFactories,c=s===void 0?IQ:s,d=t.mergePropsFactories,h=d===void 0?MQ:d,g=t.selectorFactory,v=g===void 0?FQ:g;return function(w,A,C,I){I===void 0&&(I={});var O=I,_=O.pure,T=_===void 0?!0:_,D=O.areStatesEqual,M=D===void 0?UQ:D,j=O.areOwnPropsEqual,L=j===void 0?Xg:j,z=O.areStatePropsEqual,U=z===void 0?Xg:z,J=O.areMergedPropsEqual,X=J===void 0?Xg:J,q=Lh(O,$Q),oe=Yg(w,a,"mapStateToProps"),de=Yg(A,c,"mapDispatchToProps"),H=Yg(C,h,"mergeProps");return n(v,Le({methodName:"connect",getDisplayName:function(ee){return"Connect("+ee+")"},shouldHandleStateChanges:!!w,initMapStateToProps:oe,initMapDispatchToProps:de,initMergeProps:H,pure:T,areStatesEqual:M,areOwnPropsEqual:L,areStatePropsEqual:U,areMergedPropsEqual:X},q))}}const e8=WQ();HZ(Lc.unstable_batchedUpdates);function zQ(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function t8(e,t){var r=N.useState(function(){return{inputs:t,result:e()}})[0],n=N.useRef(!0),i=N.useRef(r),a=n.current||!!(t&&i.current.inputs&&zQ(t,i.current.inputs)),s=a?i.current:{inputs:t,result:e()};return N.useEffect(function(){n.current=!1,i.current=s},[s]),s.result}function GQ(e,t){return t8(function(){return e},t)}var et=t8,ke=GQ,Ai=function(t){var r=t.top,n=t.right,i=t.bottom,a=t.left,s=n-a,c=i-r,d={top:r,right:n,bottom:i,left:a,width:s,height:c,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return d},Nw=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},sC=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},HQ=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Zg={top:0,right:0,bottom:0,left:0},Pw=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?Zg:n,a=t.border,s=a===void 0?Zg:a,c=t.padding,d=c===void 0?Zg:c,h=Ai(Nw(r,i)),g=Ai(sC(r,s)),v=Ai(sC(g,d));return{marginBox:h,borderBox:Ai(r),paddingBox:g,contentBox:v,margin:i,border:s,padding:d}},Xn=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&sP(),i},VQ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Fh=function(t,r){var n=t.borderBox,i=t.border,a=t.margin,s=t.padding,c=HQ(n,r);return Pw({borderBox:c,border:i,margin:a,padding:s})},$h=function(t,r){return r===void 0&&(r=VQ()),Fh(t,r)},r8=function(t,r){var n={top:Xn(r.marginTop),right:Xn(r.marginRight),bottom:Xn(r.marginBottom),left:Xn(r.marginLeft)},i={top:Xn(r.paddingTop),right:Xn(r.paddingRight),bottom:Xn(r.paddingBottom),left:Xn(r.paddingLeft)},a={top:Xn(r.borderTopWidth),right:Xn(r.borderRightWidth),bottom:Xn(r.borderBottomWidth),left:Xn(r.borderLeftWidth)};return Pw({borderBox:t,margin:n,padding:i,border:a})},n8=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return r8(r,n)},lC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function KQ(e,t){return!!(e===t||lC(e)&&lC(t))}function qQ(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!KQ(e[r],t[r]))return!1;return!0}function yr(e,t){t===void 0&&(t=qQ);var r,n=[],i,a=!1;function s(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return a&&r===this&&t(c,n)||(i=e.apply(this,c),a=!0,r=this,n=c),i}return s}var _c=function(t){var r=[],n=null,i=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];r=c,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function i8(e,t){}i8.bind(null,"warn");i8.bind(null,"error");function ro(){}function XQ(e,t){return Le({},e,{},t)}function ri(e,t,r){var n=t.map(function(i){var a=XQ(r,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var YQ="Invariant failed";function Uh(e){this.message=e}Uh.prototype.toString=function(){return this.message};function pe(e,t){throw new Uh(YQ)}var ZQ=function(e){LP(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=ro,n.onWindowError=function(c){var d=n.getCallbacks();d.isDragging()&&d.tryAbort();var h=c.error;h instanceof Uh&&c.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(c){n.callbacks=c},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ri(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof Uh){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(_t.Component),QQ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Wh=function(t){return t+1},JQ=function(t){return`
  You have lifted an item in position `+Wh(t.source.index)+`
`},a8=function(t,r){var n=t.droppableId===r.droppableId,i=Wh(t.index),a=Wh(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},o8=function(t,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},eJ=function(t){var r=t.destination;if(r)return a8(t.source,r);var n=t.combine;return n?o8(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},uC=function(t){return`
  The item has returned to its starting position
  of `+Wh(t.index)+`
`},tJ=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+uC(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+a8(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+o8(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+uC(t.source)+`
  `},Of={dragHandleUsageInstructions:QQ,onDragStart:JQ,onDragUpdate:eJ,onDragEnd:tJ},xr={x:0,y:0},Pr=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},_n=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},no=function(t,r){return t.x===r.x&&t.y===r.y},Xl=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},fs=function(t,r,n){var i;return n===void 0&&(n=0),i={},i[t]=r,i[t==="x"?"y":"x"]=n,i},Tc=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},cC=function(t,r){return Math.min.apply(Math,r.map(function(n){return Tc(t,n)}))},s8=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},rJ=function(e,t){var r=Ai({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},pd=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},dC=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},nJ={top:0,right:0,bottom:0,left:0},iJ=function(t,r){return r?pd(t,r.scroll.diff.displacement):t},aJ=function(t,r,n){if(n&&n.increasedBy){var i;return Le({},t,(i={},i[r.end]=t[r.end]+n.increasedBy[r.line],i))}return t},oJ=function(t,r){return r&&r.shouldClipSubject?rJ(r.pageMarginBox,t):Ai(t)},kl=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,a=iJ(t.marginBox,i),s=aJ(a,n,r),c=oJ(s,i);return{page:t,withPlaceholder:r,active:c}},kw=function(e,t){e.frame||pe();var r=e.frame,n=_n(t,r.scroll.initial),i=Xl(n),a=Le({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}}),s=kl({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),c=Le({},e,{frame:a,subject:s});return c};function zh(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Dw(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function wo(e,t){if(e.find)return e.find(t);var r=Dw(e,t);if(r!==-1)return e[r]}function l8(e){return Array.prototype.slice.call(e)}var u8=yr(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),c8=yr(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),mp=yr(function(e){return zh(e)}),sJ=yr(function(e){return zh(e)}),Yl=yr(function(e,t){var r=sJ(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function Rw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function vp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var yp=yr(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),lJ=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var s=Rw(a);if(!s)return null;function c(C){var I={type:"COMBINE",combine:{draggableId:C,droppableId:n.descriptor.id}};return Le({},a,{at:I})}var d=a.displaced.all,h=d.length?d[0]:null;if(t)return h?c(h):null;var g=yp(r,i);if(!h){if(!g.length)return null;var v=g[g.length-1];return c(v.descriptor.id)}var y=Dw(g,function(C){return C.descriptor.id===h});y===-1&&pe();var w=y-1;if(w<0)return null;var A=g[w];return c(A.descriptor.id)},Zl=function(e,t){return e.descriptor.droppableId===t.descriptor.id},d8={point:xr,value:0},Nc={invisible:{},visible:{},all:[]},uJ={displaced:Nc,displacedBy:d8,at:null},ii=function(e,t){return function(r){return e<=r&&r<=t}},f8=function(e){var t=ii(e.top,e.bottom),r=ii(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var a=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right),c=a&&s;if(c)return!0;var d=n.top<e.top&&n.bottom>e.bottom,h=n.left<e.left&&n.right>e.right,g=d&&h;if(g)return!0;var v=d&&s||h&&a;return v}},cJ=function(e){var t=ii(e.top,e.bottom),r=ii(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return i}},Mw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},h8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},dJ=function(e){return function(t){var r=ii(t.top,t.bottom),n=ii(t.left,t.right);return function(i){return e===Mw?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},fJ=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:xr;return pd(t,n)},hJ=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},pJ=function(t,r,n){return n(r)(t)},jw=function(t){var r=t.target,n=t.destination,i=t.viewport,a=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,c=a?fJ(r,n):r;return hJ(c,n,s)&&pJ(c,i,s)},gJ=function(t){return jw(Le({},t,{isVisibleThroughFrameFn:f8}))},p8=function(t){return jw(Le({},t,{isVisibleThroughFrameFn:cJ}))},mJ=function(t){return jw(Le({},t,{isVisibleThroughFrameFn:dJ(t.destination.axis)}))},vJ=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,a=r.visible;if(i[t])return!1;var s=a[t];return s?s.shouldAnimate:!0};function yJ(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ai(Nw(r,n))}function Pc(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,s=e.last;return t.reduce(function(d,h){var g=yJ(h,n),v=h.descriptor.id;d.all.push(v);var y=gJ({target:g,destination:r,viewport:i,withDroppableDisplacement:!0});if(!y)return d.invisible[h.descriptor.id]=!0,d;var w=vJ(v,s,a),A={draggableId:v,shouldAnimate:w};return d.visible[v]=A,d},{all:[],visible:{},invisible:{}})}function xJ(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function fC(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,a=xJ(t,{inHomeList:r});return{displaced:Nc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Gh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,a=e.displacedBy,s=e.last,c=e.index,d=e.forceShouldAnimate,h=Zl(t,n);if(c==null)return fC({insideDestination:r,inHomeList:h,displacedBy:a,destination:n});var g=wo(r,function(C){return C.descriptor.index===c});if(!g)return fC({insideDestination:r,inHomeList:h,displacedBy:a,destination:n});var v=yp(t,r),y=r.indexOf(g),w=v.slice(y),A=Pc({afterDragging:w,destination:n,displacedBy:a,last:s,viewport:i.frame,forceShouldAnimate:d});return{displaced:A,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:c}}}}function uo(e,t){return!!t.effected[e]}var wJ=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,i=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var s=i.draggableId,c=n[s],d=c.descriptor.index,h=uo(s,a);return h?t?d:d-1:t?d+1:d},bJ=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var a=i.index,s=t?a+1:a-1,c=n[0].descriptor.index,d=n[n.length-1].descriptor.index,h=r?d:d+1;return s<c||s>h?null:s},EJ=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,a=e.destination,s=e.insideDestination,c=e.previousImpact,d=e.viewport,h=e.afterCritical,g=c.at;if(g||pe(),g.type==="REORDER"){var v=bJ({isMovingForward:t,isInHomeList:r,location:g.destination,insideDestination:s});return v==null?null:Gh({draggable:n,insideDestination:s,destination:a,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:v})}var y=wJ({isMovingForward:t,destination:a,displaced:c.displaced,draggables:i,combine:g.combine,afterCritical:h});return y==null?null:Gh({draggable:n,insideDestination:s,destination:a,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:y})},AJ=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return uo(n,r)?a?xr:Xl(i.point):a?i.point:xr},SJ=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=vp(r);i||pe();var a=i.draggableId,s=n[a].page.borderBox.center,c=AJ({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Pr(s,c)},g8=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},CJ=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Bw=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},hC=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return fs(r.line,n.marginBox[r.end]+g8(r,i),Bw(r,n.marginBox,i))},pC=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return fs(r.line,n.marginBox[r.start]-CJ(r,i),Bw(r,n.marginBox,i))},OJ=function(t){var r=t.axis,n=t.moveInto,i=t.isMoving;return fs(r.line,n.contentBox[r.start]+g8(r,i),Bw(r,n.contentBox,i))},IJ=function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,a=e.afterCritical,s=Yl(i.descriptor.id,n),c=r.page,d=i.axis;if(!s.length)return OJ({axis:d,moveInto:i.page,isMoving:c});var h=t.displaced,g=t.displacedBy,v=h.all[0];if(v){var y=n[v];if(uo(v,a))return pC({axis:d,moveRelativeTo:y.page,isMoving:c});var w=Fh(y.page,g.point);return pC({axis:d,moveRelativeTo:w,isMoving:c})}var A=s[s.length-1];if(A.descriptor.id===r.descriptor.id)return c.borderBox.center;if(uo(A.descriptor.id,a)){var C=Fh(A.page,Xl(a.displacedBy.point));return hC({axis:d,moveRelativeTo:C,isMoving:c})}return hC({axis:d,moveRelativeTo:A.page,isMoving:c})},sv=function(e,t){var r=e.frame;return r?Pr(t,r.scroll.diff.displacement):t},_J=function(t){var r=t.impact,n=t.draggable,i=t.droppable,a=t.draggables,s=t.afterCritical,c=n.page.borderBox.center,d=r.at;return!i||!d?c:d.type==="REORDER"?IJ({impact:r,draggable:n,draggables:a,droppable:i,afterCritical:s}):SJ({impact:r,draggables:a,afterCritical:s})},xp=function(e){var t=_J(e),r=e.droppable,n=r?sv(r,t):t;return n},m8=function(e,t){var r=_n(t,e.scroll.initial),n=Xl(r),i=Ai({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function gC(e,t){return e.map(function(r){return t[r]})}function TJ(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var NJ=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,a=e.maxScrollChange,s=m8(r,Pr(r.scroll.current,a)),c=n.frame?kw(n,Pr(n.frame.scroll.current,a)):n,d=t.displaced,h=Pc({afterDragging:gC(d.all,i),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:d,forceShouldAnimate:!1}),g=Pc({afterDragging:gC(d.all,i),destination:c,displacedBy:t.displacedBy,viewport:r.frame,last:d,forceShouldAnimate:!1}),v={},y={},w=[d,h,g];d.all.forEach(function(C){var I=TJ(C,w);if(I){y[C]=I;return}v[C]=!0});var A=Le({},t,{displaced:{all:d.all,invisible:v,visible:y}});return A},PJ=function(e,t){return Pr(e.scroll.diff.displacement,t)},Lw=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,i=PJ(n,t),a=_n(i,r.page.borderBox.center);return Pr(r.client.borderBox.center,a)},v8=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,s=e.onlyOnMainAxis,c=s===void 0?!1:s,d=_n(n,t.page.borderBox.center),h=pd(t.page.borderBox,d),g={target:h,destination:r,withDroppableDisplacement:a,viewport:i};return c?mJ(g):p8(g)},kJ=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,a=e.previousImpact,s=e.viewport,c=e.previousPageBorderBoxCenter,d=e.previousClientSelection,h=e.afterCritical;if(!n.isEnabled)return null;var g=Yl(n.descriptor.id,i),v=Zl(r,n),y=lJ({isMovingForward:t,draggable:r,destination:n,insideDestination:g,previousImpact:a})||EJ({isMovingForward:t,isInHomeList:v,draggable:r,draggables:i,destination:n,insideDestination:g,previousImpact:a,viewport:s,afterCritical:h});if(!y)return null;var w=xp({impact:y,draggable:r,droppable:n,draggables:i,afterCritical:h}),A=v8({draggable:r,destination:n,newPageBorderBoxCenter:w,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(A){var C=Lw({pageBorderBoxCenter:w,draggable:r,viewport:s});return{clientSelection:C,impact:y,scrollJumpRequest:null}}var I=_n(w,c),O=NJ({impact:y,viewport:s,destination:n,draggables:i,maxScrollChange:I});return{clientSelection:d,impact:O,scrollJumpRequest:I}},Kr=function(t){var r=t.subject.active;return r||pe(),r},DJ=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,a=e.viewport,s=n.subject.active;if(!s)return null;var c=n.axis,d=ii(s[c.start],s[c.end]),h=mp(i).filter(function(v){return v!==n}).filter(function(v){return v.isEnabled}).filter(function(v){return!!v.subject.active}).filter(function(v){return f8(a.frame)(Kr(v))}).filter(function(v){var y=Kr(v);return t?s[c.crossAxisEnd]<y[c.crossAxisEnd]:y[c.crossAxisStart]<s[c.crossAxisStart]}).filter(function(v){var y=Kr(v),w=ii(y[c.start],y[c.end]);return d(y[c.start])||d(y[c.end])||w(s[c.start])||w(s[c.end])}).sort(function(v,y){var w=Kr(v)[c.crossAxisStart],A=Kr(y)[c.crossAxisStart];return t?w-A:A-w}).filter(function(v,y,w){return Kr(v)[c.crossAxisStart]===Kr(w[0])[c.crossAxisStart]});if(!h.length)return null;if(h.length===1)return h[0];var g=h.filter(function(v){var y=ii(Kr(v)[c.start],Kr(v)[c.end]);return y(r[c.line])});return g.length===1?g[0]:g.length>1?g.sort(function(v,y){return Kr(v)[c.start]-Kr(y)[c.start]})[0]:h.sort(function(v,y){var w=cC(r,dC(Kr(v))),A=cC(r,dC(Kr(y)));return w!==A?w-A:Kr(v)[c.start]-Kr(y)[c.start]})[0]},mC=function(t,r){var n=t.page.borderBox.center;return uo(t.descriptor.id,r)?_n(n,r.displacedBy.point):n},RJ=function(t,r){var n=t.page.borderBox;return uo(t.descriptor.id,r)?pd(n,Xl(r.displacedBy.point)):n},MJ=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.insideDestination,a=e.afterCritical,s=i.filter(function(c){return p8({target:RJ(c,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(c,d){var h=Tc(t,sv(n,mC(c,a))),g=Tc(t,sv(n,mC(d,a)));return h<g?-1:g<h?1:c.descriptor.index-d.descriptor.index});return s[0]||null},gd=yr(function(t,r){var n=r[t.line];return{value:n,point:fs(t.line,n)}}),jJ=function(t,r,n){var i=t.axis;if(t.descriptor.mode==="virtual")return fs(i.line,r[i.line]);var a=t.subject.page.contentBox[i.size],s=Yl(t.descriptor.id,n),c=s.reduce(function(g,v){return g+v.client.marginBox[i.size]},0),d=c+r[i.line],h=d-a;return h<=0?null:fs(i.line,h)},y8=function(t,r){return Le({},t,{scroll:Le({},t.scroll,{max:r})})},x8=function(t,r,n){var i=t.frame;Zl(r,t)&&pe(),t.subject.withPlaceholder&&pe();var a=gd(t.axis,r.displaceBy).point,s=jJ(t,a,n),c={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var d=kl({page:t.subject.page,withPlaceholder:c,axis:t.axis,frame:t.frame});return Le({},t,{subject:d})}var h=s?Pr(i.scroll.max,s):i.scroll.max,g=y8(i,h),v=kl({page:t.subject.page,withPlaceholder:c,axis:t.axis,frame:g});return Le({},t,{subject:v,frame:g})},BJ=function(t){var r=t.subject.withPlaceholder;r||pe();var n=t.frame;if(!n){var i=kl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Le({},t,{subject:i})}var a=r.oldFrameMaxScroll;a||pe();var s=y8(n,a),c=kl({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return Le({},t,{subject:c,frame:s})},LJ=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,a=e.draggables,s=e.destination,c=e.viewport,d=e.afterCritical;if(!r){if(n.length)return null;var h={displaced:Nc,displacedBy:d8,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},g=xp({impact:h,draggable:i,droppable:s,draggables:a,afterCritical:d}),v=Zl(i,s)?s:x8(s,i,a),y=v8({draggable:i,destination:v,newPageBorderBoxCenter:g,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return y?h:null}var w=t[s.axis.line]<=r.page.borderBox.center[s.axis.line],A=function(){var I=r.descriptor.index;return r.descriptor.id===i.descriptor.id||w?I:I+1}(),C=gd(s.axis,i.displaceBy);return Gh({draggable:i,insideDestination:n,destination:s,viewport:c,displacedBy:C,last:Nc,index:A})},FJ=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,a=e.draggables,s=e.droppables,c=e.viewport,d=e.afterCritical,h=DJ({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:s,viewport:c});if(!h)return null;var g=Yl(h.descriptor.id,a),v=MJ({pageBorderBoxCenter:r,viewport:c,destination:h,insideDestination:g,afterCritical:d}),y=LJ({previousPageBorderBoxCenter:r,destination:h,draggable:n,draggables:a,moveRelativeTo:v,insideDestination:g,viewport:c,afterCritical:d});if(!y)return null;var w=xp({impact:y,draggable:n,droppable:h,draggables:a,afterCritical:d}),A=Lw({pageBorderBoxCenter:w,draggable:n,viewport:c});return{clientSelection:A,impact:y,scrollJumpRequest:null}},Pn=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},$J=function(t,r){var n=Pn(t);return n?r[n]:null},UJ=function(e){var t=e.state,r=e.type,n=$J(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],s=n||a,c=s.axis.direction,d=c==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||c==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(d&&!i)return null;var h=r==="MOVE_DOWN"||r==="MOVE_RIGHT",g=t.dimensions.draggables[t.critical.draggable.id],v=t.current.page.borderBoxCenter,y=t.dimensions,w=y.draggables,A=y.droppables;return d?kJ({isMovingForward:h,previousPageBorderBoxCenter:v,draggable:g,destination:s,draggables:w,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):FJ({isMovingForward:h,previousPageBorderBoxCenter:v,draggable:g,isOver:s,draggables:w,droppables:A,viewport:t.viewport,afterCritical:t.afterCritical})};function Bo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function w8(e){var t=ii(e.top,e.bottom),r=ii(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function WJ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function zJ(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,i=r.page.borderBox.center,a=n.map(function(s){var c=s.axis,d=fs(s.axis.line,t.center[c.line],s.page.borderBox.center[c.crossAxisLine]);return{id:s.descriptor.id,distance:Tc(i,d)}}).sort(function(s,c){return c.distance-s.distance});return a[0]?a[0].id:null}function GJ(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=mp(n).filter(function(a){if(!a.isEnabled)return!1;var s=a.subject.active;if(!s||!WJ(t,s))return!1;if(w8(s)(t.center))return!0;var c=a.axis,d=s.center[c.crossAxisLine],h=t[c.crossAxisStart],g=t[c.crossAxisEnd],v=ii(s[c.crossAxisStart],s[c.crossAxisEnd]),y=v(h),w=v(g);return!y&&!w?!0:y?h<d:g>d});return i.length?i.length===1?i[0].descriptor.id:zJ({pageBorderBox:t,draggable:r,candidates:i}):null}var b8=function(t,r){return Ai(pd(t,r))},HJ=function(e,t){var r=e.frame;return r?b8(t,r.scroll.diff.value):t};function E8(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function VJ(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var KJ=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.last,s=e.viewport,c=e.afterCritical,d=n.axis,h=gd(n.axis,r.displaceBy),g=h.value,v=t[d.start],y=t[d.end],w=yp(r,i),A=wo(w,function(I){var O=I.descriptor.id,_=I.page.borderBox.center[d.line],T=uo(O,c),D=E8({displaced:a,id:O});return T?D?y<=_:v<_-g:D?y<=_+g:v<_}),C=VJ({draggable:r,closest:A,inHomeList:Zl(r,n)});return Gh({draggable:r,insideDestination:i,destination:n,viewport:s,last:a,displacedBy:h,index:C})},qJ=4,XJ=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,a=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var c=i.axis,d=gd(i.axis,t.displaceBy),h=d.value,g=r[c.start],v=r[c.end],y=yp(t,a),w=wo(y,function(C){var I=C.descriptor.id,O=C.page.borderBox,_=O[c.size],T=_/qJ,D=uo(I,s),M=E8({displaced:n.displaced,id:I});return D?M?v>O[c.start]+T&&v<O[c.end]-T:g>O[c.start]-h+T&&g<O[c.end]-h-T:M?v>O[c.start]+h+T&&v<O[c.end]+h-T:g>O[c.start]+T&&g<O[c.end]-T});if(!w)return null;var A={displacedBy:d,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:w.descriptor.id,droppableId:i.descriptor.id}}};return A},A8=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,a=e.previousImpact,s=e.viewport,c=e.afterCritical,d=b8(r.page.borderBox,t),h=GJ({pageBorderBox:d,draggable:r,droppables:i});if(!h)return uJ;var g=i[h],v=Yl(g.descriptor.id,n),y=HJ(g,d);return XJ({pageBorderBoxWithDroppableScroll:y,draggable:r,previousImpact:a,destination:g,insideDestination:v,afterCritical:c})||KJ({pageBorderBoxWithDroppableScroll:y,draggable:r,destination:g,insideDestination:v,last:a.displaced,viewport:s,afterCritical:c})},Fw=function(e,t){var r;return Le({},e,(r={},r[t.descriptor.id]=t,r))},YJ=function(t){var r=t.previousImpact,n=t.impact,i=t.droppables,a=Pn(r),s=Pn(n);if(!a||a===s)return i;var c=i[a];if(!c.subject.withPlaceholder)return i;var d=BJ(c);return Fw(i,d)},ZJ=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,a=e.impact,s=YJ({previousImpact:i,impact:a,droppables:n}),c=Pn(a);if(!c)return s;var d=n[c];if(Zl(t,d)||d.subject.withPlaceholder)return s;var h=x8(d,t,r);return Fw(s,h)},Yu=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,a=e.impact,s=e.scrollJumpRequest,c=i||t.viewport,d=n||t.dimensions,h=r||t.current.client.selection,g=_n(h,t.initial.client.selection),v={offset:g,selection:h,borderBoxCenter:Pr(t.initial.client.borderBoxCenter,g)},y={selection:Pr(v.selection,c.scroll.current),borderBoxCenter:Pr(v.borderBoxCenter,c.scroll.current),offset:Pr(v.offset,c.scroll.diff.value)},w={client:v,page:y};if(t.phase==="COLLECTING")return Le({phase:"COLLECTING"},t,{dimensions:d,viewport:c,current:w});var A=d.draggables[t.critical.draggable.id],C=a||A8({pageOffset:y.offset,draggable:A,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:c,afterCritical:t.afterCritical}),I=ZJ({draggable:A,impact:C,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables}),O=Le({},t,{current:w,dimensions:{draggables:d.draggables,droppables:I},impact:C,viewport:c,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return O};function QJ(e,t){return e.map(function(r){return t[r]})}var S8=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,a=e.forceShouldAnimate,s=t.displaced,c=QJ(s.all,n),d=Pc({afterDragging:c,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:s});return Le({},t,{displaced:d})},C8=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,a=e.viewport,s=e.afterCritical,c=xp({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:s});return Lw({pageBorderBoxCenter:c,draggable:r,viewport:a})},O8=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&pe();var i=t.impact,a=n||t.viewport,s=r||t.dimensions,c=s.draggables,d=s.droppables,h=c[t.critical.draggable.id],g=Pn(i);g||pe();var v=d[g],y=S8({impact:i,viewport:a,destination:v,draggables:c}),w=C8({impact:y,draggable:h,droppable:v,draggables:c,viewport:a,afterCritical:t.afterCritical});return Yu({impact:y,clientSelection:w,state:t,dimensions:s,viewport:a})},JJ=function(e){return{index:e.index,droppableId:e.droppableId}},I8=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,a=gd(r.axis,t.displaceBy),s=Yl(r.descriptor.id,n),c=s.indexOf(t);c===-1&&pe();var d=s.slice(c+1),h=d.reduce(function(w,A){return w[A.descriptor.id]=!0,w},{}),g={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:h},v=Pc({afterDragging:d,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),y={displaced:v,displacedBy:a,at:{type:"REORDER",destination:JJ(t.descriptor)}};return{impact:y,afterCritical:g}},eee=function(e,t){return{draggables:e.draggables,droppables:Fw(e.droppables,t)}},tee=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=Fh(t.client,r),a=$h(i,n),s=Le({},t,{placeholder:Le({},t.placeholder,{client:i}),client:i,page:a});return s},ree=function(e){var t=e.frame;return t||pe(),t},nee=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map(function(a){var s=a.descriptor.droppableId,c=r[s],d=ree(c),h=d.scroll.diff.value,g=Pr(i,h),v=tee({draggable:a,offset:g,initialWindowScroll:n.scroll.initial});return v})},iee=function(e){var t=e.state,r=e.published,n=r.modified.map(function(T){var D=t.dimensions.droppables[T.droppableId],M=kw(D,T.scroll);return M}),i=Le({},t.dimensions.droppables,{},u8(n)),a=c8(nee({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),s=Le({},t.dimensions.draggables,{},a);r.removals.forEach(function(T){delete s[T]});var c={droppables:i,draggables:s},d=Pn(t.impact),h=d?c.droppables[d]:null,g=c.draggables[t.critical.draggable.id],v=c.droppables[t.critical.droppable.id],y=I8({draggable:g,home:v,draggables:s,viewport:t.viewport}),w=y.impact,A=y.afterCritical,C=h&&h.isCombineEnabled?t.impact:w,I=A8({pageOffset:t.current.page.offset,draggable:c.draggables[t.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:C,viewport:t.viewport,afterCritical:A}),O=Le({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:I,onLiftImpact:w,dimensions:c,afterCritical:A,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return O;var _=Le({phase:"DROP_PENDING"},O,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return _},lv=function(t){return t.movementMode==="SNAP"},Qg=function(t,r,n){var i=eee(t.dimensions,r);return!lv(t)||n?Yu({state:t,dimensions:i}):O8({state:t,dimensions:i})};function Jg(e){return e.isDragging&&e.movementMode==="SNAP"?Le({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vC={phase:"IDLE",completed:null,shouldFlush:!1},aee=function(e,t){if(e===void 0&&(e=vC),t.type==="FLUSH")return Le({},vC,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&pe();var r=t.payload,n=r.critical,i=r.clientSelection,a=r.viewport,s=r.dimensions,c=r.movementMode,d=s.draggables[n.draggable.id],h=s.droppables[n.droppable.id],g={selection:i,borderBoxCenter:d.client.borderBox.center,offset:xr},v={client:g,page:{selection:Pr(g.selection,a.scroll.initial),borderBoxCenter:Pr(g.selection,a.scroll.initial),offset:Pr(g.selection,a.scroll.diff.value)}},y=mp(s.droppables).every(function(De){return!De.isFixedOnPage}),w=I8({draggable:d,home:h,draggables:s.draggables,viewport:a}),A=w.impact,C=w.afterCritical,I={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:c,dimensions:s,initial:v,current:v,isWindowScrollAllowed:y,impact:A,afterCritical:C,onLiftImpact:A,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return I}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();var O=Le({phase:"COLLECTING"},e,{phase:"COLLECTING"});return O}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||pe(),iee({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Bo(e)||pe();var _=t.payload.client;return no(_,e.current.client.selection)?e:Yu({state:e,clientSelection:_,impact:lv(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Jg(e);Bo(e)||pe();var T=t.payload,D=T.id,M=T.newScroll,j=e.dimensions.droppables[D];if(!j)return e;var L=kw(j,M);return Qg(e,L,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bo(e)||pe();var z=t.payload,U=z.id,J=z.isEnabled,X=e.dimensions.droppables[U];X||pe(),X.isEnabled===J&&pe();var q=Le({},X,{isEnabled:J});return Qg(e,q,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bo(e)||pe();var oe=t.payload,de=oe.id,H=oe.isCombineEnabled,we=e.dimensions.droppables[de];we||pe(),we.isCombineEnabled===H&&pe();var ee=Le({},we,{isCombineEnabled:H});return Qg(e,ee,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Bo(e)||pe(),e.isWindowScrollAllowed||pe();var te=t.payload.newScroll;if(no(e.viewport.scroll.current,te))return Jg(e);var fe=m8(e.viewport,te);return lv(e)?O8({state:e,viewport:fe}):Yu({state:e,viewport:fe})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bo(e))return e;var ie=t.payload.maxScroll;if(no(ie,e.viewport.scroll.max))return e;var ve=Le({},e.viewport,{scroll:Le({},e.viewport.scroll,{max:ie})});return Le({phase:"DRAGGING"},e,{viewport:ve})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();var re=UJ({state:e,type:t.type});return re?Yu({state:e,impact:re.impact,clientSelection:re.clientSelection,scrollJumpRequest:re.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Ue=t.payload.reason;e.phase!=="COLLECTING"&&pe();var $e=Le({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Ue});return $e}if(t.type==="DROP_ANIMATE"){var qe=t.payload,xe=qe.completed,cr=qe.dropDuration,ht=qe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||pe();var ye={phase:"DROP_ANIMATING",completed:xe,dropDuration:cr,newHomeClientOffset:ht,dimensions:e.dimensions};return ye}if(t.type==="DROP_COMPLETE"){var je=t.payload.completed;return{phase:"IDLE",completed:je,shouldFlush:!1}}return e},oee=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},see=function(t){return{type:"LIFT",payload:t}},lee=function(t){return{type:"INITIAL_PUBLISH",payload:t}},uee=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},cee=function(){return{type:"COLLECTION_STARTING",payload:null}},dee=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},fee=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},hee=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},_8=function(t){return{type:"MOVE",payload:t}},pee=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},gee=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},mee=function(){return{type:"MOVE_UP",payload:null}},vee=function(){return{type:"MOVE_DOWN",payload:null}},yee=function(){return{type:"MOVE_RIGHT",payload:null}},xee=function(){return{type:"MOVE_LEFT",payload:null}},$w=function(){return{type:"FLUSH",payload:null}},wee=function(t){return{type:"DROP_ANIMATE",payload:t}},Uw=function(t){return{type:"DROP_COMPLETE",payload:t}},T8=function(t){return{type:"DROP",payload:t}},bee=function(t){return{type:"DROP_PENDING",payload:t}},N8=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Eee=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var s=a.payload,c=s.id,d=s.clientSelection,h=s.movementMode,g=r();g.phase==="DROP_ANIMATING"&&n(Uw({completed:g.completed})),r().phase!=="IDLE"&&pe(),n($w()),n(oee({draggableId:c,movementMode:h}));var v={shouldPublishImmediately:h==="SNAP"},y={draggableId:c,scrollOptions:v},w=e.startPublishing(y),A=w.critical,C=w.dimensions,I=w.viewport;n(lee({critical:A,dimensions:C,clientSelection:d,movementMode:h,viewport:I}))}}}},Aee=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Ww={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},kc={opacity:{drop:0,combining:.7},scale:{drop:.75}},zw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},No=zw.outOfTheWay+"s "+Ww.outOfTheWay,Zu={fluid:"opacity "+No,snap:"transform "+No+", opacity "+No,drop:function(t){var r=t+"s "+Ww.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+No,placeholder:"height "+No+", width "+No+", margin "+No},yC=function(t){return no(t,xr)?null:"translate("+t.x+"px, "+t.y+"px)"},uv={moveTo:yC,drop:function(t,r){var n=yC(t);return n?r?n+" scale("+kc.scale.drop+")":n:null}},cv=zw.minDropTime,P8=zw.maxDropTime,See=P8-cv,xC=1500,Cee=.6,Oee=function(e){var t=e.current,r=e.destination,n=e.reason,i=Tc(t,r);if(i<=0)return cv;if(i>=xC)return P8;var a=i/xC,s=cv+See*a,c=n==="CANCEL"?s*Cee:s;return Number(c.toFixed(2))},Iee=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,a=e.afterCritical,s=n.draggables,c=n.droppables,d=Pn(t),h=d?c[d]:null,g=c[r.descriptor.droppableId],v=C8({impact:t,draggable:r,draggables:s,afterCritical:a,droppable:h||g,viewport:i}),y=_n(v,r.client.borderBox.center);return y},_ee=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,a=e.viewport,s=e.onLiftImpact;if(!n.at||r!=="DROP"){var c=S8({draggables:t,impact:s,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:c,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var d=Le({},n,{displaced:Nc});return{impact:d,didDropInsideDroppable:!0}},Tee=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=t(),s=i.payload.reason;if(a.phase==="COLLECTING"){r(bee({reason:s}));return}if(a.phase!=="IDLE"){var c=a.phase==="DROP_PENDING"&&a.isWaiting;c&&pe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||pe();var d=a.critical,h=a.dimensions,g=h.draggables[a.critical.draggable.id],v=_ee({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=v.impact,w=v.didDropInsideDroppable,A=w?Rw(y):null,C=w?vp(y):null,I={index:d.draggable.index,droppableId:d.droppable.id},O={draggableId:g.descriptor.id,type:g.descriptor.type,source:I,reason:s,mode:a.movementMode,destination:A,combine:C},_=Iee({impact:y,draggable:g,dimensions:h,viewport:a.viewport,afterCritical:a.afterCritical}),T={critical:a.critical,afterCritical:a.afterCritical,result:O,impact:y},D=!no(a.current.client.offset,_)||!!O.combine;if(!D){r(Uw({completed:T}));return}var M=Oee({current:a.current.client.offset,destination:_,reason:s}),j={newHomeClientOffset:_,dropDuration:M,completed:T};r(wee(j))}}}},k8=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Nee(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Pee(e){var t=e.onWindowScroll;function r(){t(k8())}var n=_c(r),i=Nee(n),a=ro;function s(){return a!==ro}function c(){s()&&pe(),a=ri(window,[i])}function d(){s()||pe(),n.cancel(),a(),a=ro}return{start:c,stop:d,isActive:s}}var kee=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Dee=function(e){var t=Pee({onWindowScroll:function(n){e.dispatch(pee({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&kee(n)&&t.stop(),r(n)}}},Ree=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(s){t||r||(t=!0,e(s),clearTimeout(n))};return i.wasCalled=function(){return t},i},Mee=function(){var e=[],t=function(a){var s=Dw(e,function(h){return h.timerId===a});s===-1&&pe();var c=e.splice(s,1),d=c[0];d.callback()},r=function(a){var s=setTimeout(function(){return t(s)}),c={timerId:s,callback:a};e.push(c)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:n}},jee=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Bee=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},Lee=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,i=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&i},Ou=function(t,r){r()},lf=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},e1=function(t,r,n,i){if(!t){n(i(r));return}var a=Ree(n),s={announce:a};t(r,s),a.wasCalled()||n(i(r))},Fee=function(e,t){var r=Mee(),n=null,i=function(y,w){n&&pe(),Ou("onBeforeCapture",function(){var A=e().onBeforeCapture;if(A){var C={draggableId:y,mode:w};A(C)}})},a=function(y,w){n&&pe(),Ou("onBeforeDragStart",function(){var A=e().onBeforeDragStart;A&&A(lf(y,w))})},s=function(y,w){n&&pe();var A=lf(y,w);n={mode:w,lastCritical:y,lastLocation:A.source,lastCombine:null},r.add(function(){Ou("onDragStart",function(){return e1(e().onDragStart,A,t,Of.onDragStart)})})},c=function(y,w){var A=Rw(w),C=vp(w);n||pe();var I=!Lee(y,n.lastCritical);I&&(n.lastCritical=y);var O=!jee(n.lastLocation,A);O&&(n.lastLocation=A);var _=!Bee(n.lastCombine,C);if(_&&(n.lastCombine=C),!(!I&&!O&&!_)){var T=Le({},lf(y,n.mode),{combine:C,destination:A});r.add(function(){Ou("onDragUpdate",function(){return e1(e().onDragUpdate,T,t,Of.onDragUpdate)})})}},d=function(){n||pe(),r.flush()},h=function(y){n||pe(),n=null,Ou("onDragEnd",function(){return e1(e().onDragEnd,y,t,Of.onDragEnd)})},g=function(){if(n){var y=Le({},lf(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});h(y)}};return{beforeCapture:i,beforeStart:a,start:s,update:c,flush:d,drop:h,abort:g}},$ee=function(e,t){var r=Fee(e,t);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var s=a.payload.critical;r.beforeStart(s,a.payload.movementMode),i(a),r.start(s,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var c=a.payload.completed.result;r.flush(),i(a),r.drop(c);return}if(i(a),a.type==="FLUSH"){r.abort();return}var d=n.getState();d.phase==="DRAGGING"&&r.update(d.critical,d.impact)}}}},Uee=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&pe(),e.dispatch(Uw({completed:n.completed}))}}},Wee=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=e.getState();d.phase==="DROP_ANIMATING"&&e.dispatch(N8())}};r=requestAnimationFrame(function(){r=null,t=ri(window,[s])})}}}},zee=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},Gee=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Hee=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Vee=function(e){return function(t){return function(r){return function(n){if(Hee(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=t.getState();i.phase!=="DRAGGING"&&pe(),e.start(i);return}r(n),e.scroll(t.getState())}}}},Kee=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(T8({reason:n.reason})))}}}},qee=$P,Xee=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return FP(aee,qee(zZ(Aee(n),zee(t),Eee(t),Tee,Uee,Wee,Kee,Vee(s),Dee,Gee(r),$ee(i,a))))},t1=function(){return{additions:{},removals:{},modified:{}}};function Yee(e){var t=e.registry,r=e.callbacks,n=t1(),i=null,a=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var g=n,v=g.additions,y=g.removals,w=g.modified,A=Object.keys(v).map(function(O){return t.draggable.getById(O).getDimension(xr)}).sort(function(O,_){return O.descriptor.index-_.descriptor.index}),C=Object.keys(w).map(function(O){var _=t.droppable.getById(O),T=_.callbacks.getScrollWhileDragging();return{droppableId:O,scroll:T}}),I={additions:A,removals:Object.keys(y),modified:C};n=t1(),r.publish(I)}))},s=function(g){var v=g.descriptor.id;n.additions[v]=g,n.modified[g.descriptor.droppableId]=!0,n.removals[v]&&delete n.removals[v],a()},c=function(g){var v=g.descriptor;n.removals[v.id]=!0,n.modified[v.droppableId]=!0,n.additions[v.id]&&delete n.additions[v.id],a()},d=function(){i&&(cancelAnimationFrame(i),i=null,n=t1())};return{add:s,remove:c,stop:d}}var D8=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,a=_n({x:r,y:t},{x:i,y:n}),s={x:Math.max(0,a.x),y:Math.max(0,a.y)};return s},R8=function(){var e=document.documentElement;return e||pe(),e},M8=function(){var e=R8(),t=D8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},Zee=function(){var e=k8(),t=M8(),r=e.y,n=e.x,i=R8(),a=i.clientWidth,s=i.clientHeight,c=n+a,d=r+s,h=Ai({top:r,left:n,right:c,bottom:d}),g={frame:h,scroll:{initial:e,current:e,max:t,diff:{value:xr,displacement:xr}}};return g},Qee=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=Zee(),a=i.scroll.current,s=t.droppable,c=n.droppable.getAllByType(s.type).map(function(v){return v.callbacks.getDimensionAndWatchScroll(a,r)}),d=n.draggable.getAllByType(t.draggable.type).map(function(v){return v.getDimension(a)}),h={draggables:c8(d),droppables:u8(c)},g={dimensions:h,critical:t,viewport:i};return g};function wC(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Jee=function(e,t){var r=null,n=Yee({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(w,A){e.droppable.exists(w)||pe(),r&&t.updateDroppableIsEnabled({id:w,isEnabled:A})},a=function(w,A){r&&(e.droppable.exists(w)||pe(),t.updateDroppableIsCombineEnabled({id:w,isCombineEnabled:A}))},s=function(w,A){r&&(e.droppable.exists(w)||pe(),t.updateDroppableScroll({id:w,newScroll:A}))},c=function(w,A){r&&e.droppable.getById(w).callbacks.scroll(A)},d=function(){if(r){n.stop();var w=r.critical.droppable;e.droppable.getAllByType(w.type).forEach(function(A){return A.callbacks.dragStopped()}),r.unsubscribe(),r=null}},h=function(w){r||pe();var A=r.critical.draggable;w.type==="ADDITION"&&wC(e,A,w.value)&&n.add(w.value),w.type==="REMOVAL"&&wC(e,A,w.value)&&n.remove(w.value)},g=function(w){r&&pe();var A=e.draggable.getById(w.draggableId),C=e.droppable.getById(A.descriptor.droppableId),I={draggable:A.descriptor,droppable:C.descriptor},O=e.subscribe(h);return r={critical:I,unsubscribe:O},Qee({critical:I,registry:e,scrollOptions:w.scrollOptions})},v={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:s,startPublishing:g,stopPublishing:d};return v},j8=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},ete=function(e){window.scrollBy(e.x,e.y)},tte=yr(function(e){return mp(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),rte=function(t,r){var n=wo(tte(r),function(i){return i.frame||pe(),w8(i.frame.pageMarginBox)(t)});return n},nte=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var a=rte(t,n);return a},io={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},ite=function(e,t){var r=e[t.size]*io.startFromPercentage,n=e[t.size]*io.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},B8=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;if(i===0)return 0;var a=n-t,s=a/i;return s},Gw=1,ate=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return io.maxPixelScroll;if(e===t.startScrollingFrom)return Gw;var r=B8({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,i=io.maxPixelScroll*io.ease(n);return Math.ceil(i)},bC=io.durationDampening.accelerateAt,EC=io.durationDampening.stopDampeningAt,ote=function(e,t){var r=t,n=EC,i=Date.now(),a=i-r;if(a>=EC)return e;if(a<bC)return Gw;var s=B8({startOfRange:bC,endOfRange:n,current:a}),c=e*io.ease(s);return Math.ceil(c)},AC=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,a=ate(t,r);return a===0?0:i?Math.max(ote(a,n),Gw):a},SC=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,s=ite(t,i),c=r[i.end]<r[i.start];return c?AC({distanceToEdge:r[i.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a}):-1*AC({distanceToEdge:r[i.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a})},ste=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,a=r.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},lte=s8(function(e){return e===0?0:e}),L8=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,a=e.shouldUseTimeDampening,s={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},c=SC({container:r,distanceToEdges:s,dragStartTime:t,axis:Mw,shouldUseTimeDampening:a}),d=SC({container:r,distanceToEdges:s,dragStartTime:t,axis:h8,shouldUseTimeDampening:a}),h=lte({x:d,y:c});if(no(h,xr))return null;var g=ste({container:r,subject:n,proposedScroll:h});return g?no(g,xr)?null:g:null},ute=s8(function(e){return e===0?0:e>0?1:-1}),Hw=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,i=t.change,a=Pr(r,i),s={x:e(a.x,n.x),y:e(a.y,n.y)};return no(s,xr)?null:s}}(),F8=function(t){var r=t.max,n=t.current,i=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},s=ute(i),c=Hw({max:a,current:n,change:s});return!c||s.x!==0&&c.x===0||s.y!==0&&c.y===0},Vw=function(t,r){return F8({current:t.scroll.current,max:t.scroll.max,change:r})},cte=function(t,r){if(!Vw(t,r))return null;var n=t.scroll.max,i=t.scroll.current;return Hw({current:i,max:n,change:r})},Kw=function(t,r){var n=t.frame;return n?F8({current:n.scroll.current,max:n.scroll.max,change:r}):!1},dte=function(t,r){var n=t.frame;return!n||!Kw(t,r)?null:Hw({current:n.scroll.current,max:n.scroll.max,change:r})},fte=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,s=L8({dragStartTime:i,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return s&&Vw(t,s)?s:null},hte=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var c=L8({dragStartTime:i,container:s.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return c&&Kw(t,c)?c:null},CC=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,s=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id],d=c.page.marginBox;if(t.isWindowScrollAllowed){var h=t.viewport,g=fte({dragStartTime:r,viewport:h,subject:d,center:s,shouldUseTimeDampening:n});if(g){i(g);return}}var v=nte({center:s,destination:Pn(t.impact),droppables:t.dimensions.droppables});if(v){var y=hte({dragStartTime:r,droppable:v,subject:d,center:s,shouldUseTimeDampening:n});y&&a(v.descriptor.id,y)}},pte=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=_c(t),i=_c(r),a=null,s=function(g){a||pe();var v=a,y=v.shouldUseTimeDampening,w=v.dragStartTime;CC({state:g,scrollWindow:n,scrollDroppable:i,dragStartTime:w,shouldUseTimeDampening:y})},c=function(g){a&&pe();var v=Date.now(),y=!1,w=function(){y=!0};CC({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:w,scrollDroppable:w}),a={dragStartTime:v,shouldUseTimeDampening:y},y&&s(g)},d=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:c,stop:d,scroll:s}},gte=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,i=function(h,g){var v=Pr(h.current.client.selection,g);t({client:v})},a=function(h,g){if(!Kw(h,g))return g;var v=dte(h,g);if(!v)return r(h.descriptor.id,g),null;var y=_n(g,v);r(h.descriptor.id,y);var w=_n(g,y);return w},s=function(h,g,v){if(!h||!Vw(g,v))return v;var y=cte(g,v);if(!y)return n(v),null;var w=_n(v,y);n(w);var A=_n(v,w);return A},c=function(h){var g=h.scrollJumpRequest;if(g){var v=Pn(h.impact);v||pe();var y=a(h.dimensions.droppables[v],g);if(y){var w=h.viewport,A=s(h.isWindowScrollAllowed,w,y);A&&i(h,A)}}};return c},mte=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=pte({scrollWindow:r,scrollDroppable:t}),a=gte({move:n,scrollWindow:r,scrollDroppable:t}),s=function(h){if(h.phase==="DRAGGING"){if(h.movementMode==="FLUID"){i.scroll(h);return}h.scrollJumpRequest&&a(h)}},c={scroll:s,start:i.start,stop:i.stop};return c},Dl="data-rbd",Rl=function(){var e=Dl+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),dv=function(){var e=Dl+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),vte=function(){var e=Dl+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),OC={contextId:Dl+"-scroll-container-context-id"},yte=function(t){return function(r){return"["+r+'="'+t+'"]'}},Iu=function(t,r){return t.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},xte="pointer-events: none;",wte=function(e){var t=yte(e),r=function(){var c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Rl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:xte,dropAnimating:c}}}(),n=function(){var c=`
      transition: `+Zu.outOfTheWay+`;
    `;return{selector:t(dv.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}}(),i={selector:t(vte.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[n,r,i,a];return{always:Iu(s,"always"),resting:Iu(s,"resting"),dragging:Iu(s,"dragging"),dropAnimating:Iu(s,"dropAnimating"),userCancel:Iu(s,"userCancel")}},kn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,r1=function(){var t=document.querySelector("head");return t||pe(),t},IC=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function bte(e,t){var r=et(function(){return wte(e)},[e]),n=N.useRef(null),i=N.useRef(null),a=ke(yr(function(v){var y=i.current;y||pe(),y.textContent=v}),[]),s=ke(function(v){var y=n.current;y||pe(),y.textContent=v},[]);kn(function(){!n.current&&!i.current||pe();var v=IC(t),y=IC(t);return n.current=v,i.current=y,v.setAttribute(Dl+"-always",e),y.setAttribute(Dl+"-dynamic",e),r1().appendChild(v),r1().appendChild(y),s(r.always),a(r.resting),function(){var w=function(C){var I=C.current;I||pe(),r1().removeChild(I),C.current=null};w(n),w(i)}},[t,s,a,r.always,r.resting,e]);var c=ke(function(){return a(r.dragging)},[a,r.dragging]),d=ke(function(v){if(v==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),h=ke(function(){i.current&&a(r.resting)},[a,r.resting]),g=et(function(){return{dragging:c,dropping:d,resting:h}},[c,d,h]);return g}var $8=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function wp(e){return e instanceof $8(e).HTMLElement}function Ete(e,t){var r="["+Rl.contextId+'="'+e+'"]',n=l8(document.querySelectorAll(r));if(!n.length)return null;var i=wo(n,function(a){return a.getAttribute(Rl.draggableId)===t});return!i||!wp(i)?null:i}function Ate(e){var t=N.useRef({}),r=N.useRef(null),n=N.useRef(null),i=N.useRef(!1),a=ke(function(y,w){var A={id:y,focus:w};return t.current[y]=A,function(){var I=t.current,O=I[y];O!==A&&delete I[y]}},[]),s=ke(function(y){var w=Ete(e,y);w&&w!==document.activeElement&&w.focus()},[e]),c=ke(function(y,w){r.current===y&&(r.current=w)},[]),d=ke(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var y=r.current;y&&s(y)}))},[s]),h=ke(function(y){r.current=null;var w=document.activeElement;w&&w.getAttribute(Rl.draggableId)===y&&(r.current=y)},[]);kn(function(){return i.current=!0,function(){i.current=!1;var y=n.current;y&&cancelAnimationFrame(y)}},[]);var g=et(function(){return{register:a,tryRecordFocus:h,tryRestoreFocusRecorded:d,tryShiftRecord:c}},[a,h,d,c]);return g}function Ste(){var e={draggables:{},droppables:{}},t=[];function r(v){return t.push(v),function(){var w=t.indexOf(v);w!==-1&&t.splice(w,1)}}function n(v){t.length&&t.forEach(function(y){return y(v)})}function i(v){return e.draggables[v]||null}function a(v){var y=i(v);return y||pe(),y}var s={register:function(y){e.draggables[y.descriptor.id]=y,n({type:"ADDITION",value:y})},update:function(y,w){var A=e.draggables[w.descriptor.id];A&&A.uniqueId===y.uniqueId&&(delete e.draggables[w.descriptor.id],e.draggables[y.descriptor.id]=y)},unregister:function(y){var w=y.descriptor.id,A=i(w);A&&y.uniqueId===A.uniqueId&&(delete e.draggables[w],n({type:"REMOVAL",value:y}))},getById:a,findById:i,exists:function(y){return!!i(y)},getAllByType:function(y){return zh(e.draggables).filter(function(w){return w.descriptor.type===y})}};function c(v){return e.droppables[v]||null}function d(v){var y=c(v);return y||pe(),y}var h={register:function(y){e.droppables[y.descriptor.id]=y},unregister:function(y){var w=c(y.descriptor.id);w&&y.uniqueId===w.uniqueId&&delete e.droppables[y.descriptor.id]},getById:d,findById:c,exists:function(y){return!!c(y)},getAllByType:function(y){return zh(e.droppables).filter(function(w){return w.descriptor.type===y})}};function g(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:h,subscribe:r,clean:g}}function Cte(){var e=et(Ste,[]);return N.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var qw=_t.createContext(null),Hh=function(){var e=document.body;return e||pe(),e},Ote={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ite=function(t){return"rbd-announcement-"+t};function _te(e){var t=et(function(){return Ite(e)},[e]),r=N.useRef(null);N.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Le(a.style,Ote),Hh().appendChild(a),function(){setTimeout(function(){var d=Hh();d.contains(a)&&d.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=ke(function(i){var a=r.current;if(a){a.textContent=i;return}},[]);return n}var Tte=0,Nte={separator:"::"};function Xw(e,t){return t===void 0&&(t=Nte),et(function(){return""+e+t.separator+Tte++},[t.separator,e])}function Pte(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function kte(e){var t=e.contextId,r=e.text,n=Xw("hidden-text",{separator:"-"}),i=et(function(){return Pte({contextId:t,uniqueId:n})},[n,t]);return N.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=r,s.style.display="none",Hh().appendChild(s),function(){var d=Hh();d.contains(s)&&d.removeChild(s)}},[i,r]),i}var bp=_t.createContext(null);function U8(e){var t=N.useRef(e);return N.useEffect(function(){t.current=e}),t}function Dte(){var e=null;function t(){return!!e}function r(s){return s===e}function n(s){e&&pe();var c={abandon:s};return e=c,c}function i(){e||pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:a}}var Rte=9,Mte=13,Yw=27,W8=32,jte=33,Bte=34,Lte=35,Fte=36,$te=37,Ute=38,Wte=39,zte=40,uf,Gte=(uf={},uf[Mte]=!0,uf[Rte]=!0,uf),z8=function(e){Gte[e.keyCode]&&e.preventDefault()},Ep=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=wo(t,function(n){return"on"+n in document});return r||e}(),G8=0,_C=5;function Hte(e,t){return Math.abs(t.x-e.x)>=_C||Math.abs(t.y-e.y)>=_C}var TC={type:"IDLE"};function Vte(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var c=s.button,d=s.clientX,h=s.clientY;if(c===G8){var g={x:d,y:h},v=n();if(v.type==="DRAGGING"){s.preventDefault(),v.actions.move(g);return}v.type!=="PENDING"&&pe();var y=v.point;if(Hte(y,g)){s.preventDefault();var w=v.actions.fluidLift(g);i({type:"DRAGGING",actions:w})}}}},{eventName:"mouseup",fn:function(s){var c=n();if(c.type!=="DRAGGING"){t();return}s.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var c=n();if(c.type==="PENDING"){t();return}if(s.keyCode===Yw){s.preventDefault(),t();return}z8(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var c=n();if(c.type==="IDLE"&&pe(),c.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Ep,fn:t}]}function Kte(e){var t=N.useRef(TC),r=N.useRef(ro),n=et(function(){return{eventName:"mousedown",fn:function(v){if(!v.defaultPrevented&&v.button===G8&&!(v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)){var y=e.findClosestDraggableId(v);if(y){var w=e.tryGetLock(y,s,{sourceEvent:v});if(w){v.preventDefault();var A={x:v.clientX,y:v.clientY};r.current(),h(w,A)}}}}}},[e]),i=et(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(v){if(!v.defaultPrevented){var y=e.findClosestDraggableId(v);if(y){var w=e.findOptionsForDraggable(y);w&&(w.shouldRespectForcePress||e.canGetLock(y)&&v.preventDefault())}}}}},[e]),a=ke(function(){var v={passive:!1,capture:!0};r.current=ri(window,[i,n],v)},[i,n]),s=ke(function(){var g=t.current;g.type!=="IDLE"&&(t.current=TC,r.current(),a())},[a]),c=ke(function(){var g=t.current;s(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[s]),d=ke(function(){var v={capture:!0,passive:!1},y=Vte({cancel:c,completed:s,getPhase:function(){return t.current},setPhase:function(A){t.current=A}});r.current=ri(window,y,v)},[c,s]),h=ke(function(v,y){t.current.type!=="IDLE"&&pe(),t.current={type:"PENDING",point:y,actions:v},d()},[d]);kn(function(){return a(),function(){r.current()}},[a])}var $s;function qte(){}var Xte=($s={},$s[Bte]=!0,$s[jte]=!0,$s[Fte]=!0,$s[Lte]=!0,$s);function Yte(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Yw){a.preventDefault(),r();return}if(a.keyCode===W8){a.preventDefault(),n();return}if(a.keyCode===zte){a.preventDefault(),e.moveDown();return}if(a.keyCode===Ute){a.preventDefault(),e.moveUp();return}if(a.keyCode===Wte){a.preventDefault(),e.moveRight();return}if(a.keyCode===$te){a.preventDefault(),e.moveLeft();return}if(Xte[a.keyCode]){a.preventDefault();return}z8(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Ep,fn:r}]}function Zte(e){var t=N.useRef(qte),r=et(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==W8)return;var s=e.findClosestDraggableId(a);if(!s)return;var c=e.tryGetLock(s,g,{sourceEvent:a});if(!c)return;a.preventDefault();var d=!0,h=c.snapLift();t.current();function g(){d||pe(),d=!1,t.current(),n()}t.current=ri(window,Yte(h,g),{capture:!0,passive:!1})}}},[e]),n=ke(function(){var a={passive:!1,capture:!0};t.current=ri(window,[r],a)},[r]);kn(function(){return n(),function(){t.current()}},[n])}var n1={type:"IDLE"},Qte=120,Jte=.15;function ere(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.keyCode===Yw&&i.preventDefault(),t()}},{eventName:Ep,fn:t}]}function tre(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var c=a.touches[0],d=c.clientX,h=c.clientY,g={x:d,y:h};a.preventDefault(),s.actions.move(g)}},{eventName:"touchend",fn:function(a){var s=n();if(s.type!=="DRAGGING"){t();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var s=n();s.type==="IDLE"&&pe();var c=a.touches[0];if(c){var d=c.force>=Jte;if(d){var h=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){h&&t();return}if(h){if(s.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Ep,fn:t}]}function rre(e){var t=N.useRef(n1),r=N.useRef(ro),n=ke(function(){return t.current},[]),i=ke(function(w){t.current=w},[]),a=et(function(){return{eventName:"touchstart",fn:function(w){if(!w.defaultPrevented){var A=e.findClosestDraggableId(w);if(A){var C=e.tryGetLock(A,c,{sourceEvent:w});if(C){var I=w.touches[0],O=I.clientX,_=I.clientY,T={x:O,y:_};r.current(),v(C,T)}}}}}},[e]),s=ke(function(){var w={capture:!0,passive:!1};r.current=ri(window,[a],w)},[a]),c=ke(function(){var y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(n1),r.current(),s())},[s,i]),d=ke(function(){var y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),h=ke(function(){var w={capture:!0,passive:!1},A={cancel:d,completed:c,getPhase:n},C=ri(window,tre(A),w),I=ri(window,ere(A),w);r.current=function(){C(),I()}},[d,n,c]),g=ke(function(){var w=n();w.type!=="PENDING"&&pe();var A=w.actions.fluidLift(w.point);i({type:"DRAGGING",actions:A,hasMoved:!1})},[n,i]),v=ke(function(w,A){n().type!=="IDLE"&&pe();var C=setTimeout(g,Qte);i({type:"PENDING",point:A,actions:w,longPressTimerId:C}),h()},[h,n,i,g]);kn(function(){return s(),function(){r.current();var A=n();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),i(n1))}},[n,s,i]),kn(function(){var w=ri(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return w},[])}var nre={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function H8(e,t){if(t==null)return!1;var r=!!nre[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:H8(e,t.parentElement)}function ire(e,t){var r=t.target;return wp(r)?H8(e,r):!1}var are=function(e){return Ai(e.getBoundingClientRect()).center};function ore(e){return e instanceof $8(e).Element}var sre=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=wo(t,function(n){return n in Element.prototype});return r||e}();function V8(e,t){return e==null?null:e[sre](t)?e:V8(e.parentElement,t)}function lre(e,t){return e.closest?e.closest(t):V8(e,t)}function ure(e){return"["+Rl.contextId+'="'+e+'"]'}function cre(e,t){var r=t.target;if(!ore(r))return null;var n=ure(e),i=lre(r,n);return!i||!wp(i)?null:i}function dre(e,t){var r=cre(e,t);return r?r.getAttribute(Rl.draggableId):null}function fre(e,t){var r="["+dv.contextId+'="'+e+'"]',n=l8(document.querySelectorAll(r)),i=wo(n,function(a){return a.getAttribute(dv.id)===t});return!i||!wp(i)?null:i}function hre(e){e.preventDefault()}function cf(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function K8(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!j8(r.getState(),i))}function pre(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,a=e.draggableId,s=e.forceSensorStop,c=e.sourceEvent,d=K8({lockAPI:t,store:n,registry:i,draggableId:a});if(!d)return null;var h=i.draggable.getById(a),g=fre(r,h.descriptor.id);if(!g||c&&!h.options.canDragInteractiveElements&&ire(g,c))return null;var v=t.claim(s||ro),y="PRE_DRAG";function w(){return h.options.shouldRespectForcePress}function A(){return t.isActive(v)}function C(j,L){cf({expected:j,phase:y,isLockActive:A,shouldWarn:!0})&&n.dispatch(L())}var I=C.bind(null,"DRAGGING");function O(j){function L(){t.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(L(),y!=="PRE_DRAG"&&pe()),n.dispatch(see(j.liftActionArgs)),y="DRAGGING";function z(U,J){if(J===void 0&&(J={shouldBlockNextClick:!1}),j.cleanup(),J.shouldBlockNextClick){var X=ri(window,[{eventName:"click",fn:hre,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(X)}L(),n.dispatch(T8({reason:U}))}return Le({isActive:function(){return cf({expected:"DRAGGING",phase:y,isLockActive:A,shouldWarn:!1})},shouldRespectForcePress:w,drop:function(J){return z("DROP",J)},cancel:function(J){return z("CANCEL",J)}},j.actions)}function _(j){var L=_c(function(U){I(function(){return _8({client:U})})}),z=O({liftActionArgs:{id:a,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return L.cancel()},actions:{move:L}});return Le({},z,{move:L})}function T(){var j={moveUp:function(){return I(mee)},moveRight:function(){return I(yee)},moveDown:function(){return I(vee)},moveLeft:function(){return I(xee)}};return O({liftActionArgs:{id:a,clientSelection:are(g),movementMode:"SNAP"},cleanup:ro,actions:j})}function D(){var j=cf({expected:"PRE_DRAG",phase:y,isLockActive:A,shouldWarn:!0});j&&t.release()}var M={isActive:function(){return cf({expected:"PRE_DRAG",phase:y,isLockActive:A,shouldWarn:!1})},shouldRespectForcePress:w,fluidLift:_,snapLift:T,abort:D};return M}var gre=[Kte,Zte,rre];function mre(e){var t=e.contextId,r=e.store,n=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?gre:[],i||[]),c=N.useState(function(){return Dte()})[0],d=ke(function(_,T){_.isDragging&&!T.isDragging&&c.tryAbandon()},[c]);kn(function(){var _=r.getState(),T=r.subscribe(function(){var D=r.getState();d(_,D),_=D});return T},[c,r,d]),kn(function(){return c.tryAbandon},[c.tryAbandon]);for(var h=ke(function(O){return K8({lockAPI:c,registry:n,store:r,draggableId:O})},[c,n,r]),g=ke(function(O,_,T){return pre({lockAPI:c,registry:n,contextId:t,store:r,draggableId:O,forceSensorStop:_,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null})},[t,c,n,r]),v=ke(function(O){return dre(t,O)},[t]),y=ke(function(O){var _=n.draggable.findById(O);return _?_.options:null},[n.draggable]),w=ke(function(){c.isClaimed()&&(c.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch($w()))},[c,r]),A=ke(c.isClaimed,[c]),C=et(function(){return{canGetLock:h,tryGetLock:g,findClosestDraggableId:v,findOptionsForDraggable:y,tryReleaseLock:w,isLockClaimed:A}},[h,g,v,y,w,A]),I=0;I<s.length;I++)s[I](C)}var vre=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function _u(e){return e.current||pe(),e.current}function yre(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,s=N.useRef(null),c=U8(e),d=ke(function(){return vre(c.current)},[c]),h=_te(t),g=kte({contextId:t,text:a}),v=bte(t,i),y=ke(function(U){_u(s).dispatch(U)},[]),w=et(function(){return QS({publishWhileDragging:uee,updateDroppableScroll:dee,updateDroppableIsEnabled:fee,updateDroppableIsCombineEnabled:hee,collectionStarting:cee},y)},[y]),A=Cte(),C=et(function(){return Jee(A,w)},[A,w]),I=et(function(){return mte(Le({scrollWindow:ete,scrollDroppable:C.scrollDroppable},QS({move:_8},y)))},[C.scrollDroppable,y]),O=Ate(t),_=et(function(){return Xee({announce:h,autoScroller:I,dimensionMarshal:C,focusMarshal:O,getResponders:d,styleMarshal:v})},[h,I,C,O,d,v]);s.current=_;var T=ke(function(){var U=_u(s),J=U.getState();J.phase!=="IDLE"&&U.dispatch($w())},[]),D=ke(function(){var U=_u(s).getState();return U.isDragging||U.phase==="DROP_ANIMATING"},[]),M=et(function(){return{isDragging:D,tryAbort:T}},[D,T]);r(M);var j=ke(function(U){return j8(_u(s).getState(),U)},[]),L=ke(function(){return Bo(_u(s).getState())},[]),z=et(function(){return{marshal:C,focus:O,contextId:t,canLift:j,isMovementAllowed:L,dragHandleUsageInstructionsId:g,registry:A}},[t,C,g,O,j,L,A]);return mre({contextId:t,store:_,registry:A,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),N.useEffect(function(){return T},[T]),_t.createElement(bp.Provider,{value:z},_t.createElement(qZ,{context:qw,store:_},e.children))}var xre=0;function wre(){return et(function(){return""+xre++},[])}function bre(e){var t=wre(),r=e.dragHandleUsageInstructions||Of.dragHandleUsageInstructions;return _t.createElement(ZQ,null,function(n){return _t.createElement(yre,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var q8=function(t){return function(r){return t===r}},Ere=q8("scroll"),Are=q8("auto"),NC=function(t,r){return r(t.overflowX)||r(t.overflowY)},Sre=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return NC(n,Ere)||NC(n,Are)},Cre=function(){return!1},Ore=function e(t){return t==null?null:t===document.body?Cre()?t:null:t===document.documentElement?null:Sre(t)?t:e(t.parentElement)},fv=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ire=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},_re=function(e){var t=Ore(e),r=Ire(e);return{closestScrollable:t,isFixedOnPage:r}},Tre=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,s=e.client,c=e.page,d=e.closest,h=function(){if(!d)return null;var w=d.scrollSize,A=d.client,C=D8({scrollHeight:w.scrollHeight,scrollWidth:w.scrollWidth,height:A.paddingBox.height,width:A.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:A,scrollSize:w,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:C,diff:{value:xr,displacement:xr}}}}(),g=a==="vertical"?Mw:h8,v=kl({page:c,withPlaceholder:null,axis:g,frame:h}),y={descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:g,isEnabled:r,client:s,page:c,frame:h,subject:v};return y},Nre=function(t,r){var n=n8(t);if(!r||t!==r)return n;var i=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,s=i+r.scrollHeight,c=a+r.scrollWidth,d={top:i,right:c,bottom:s,left:a},h=Nw(d,n.border),g=Pw({borderBox:h,margin:n.margin,border:n.border,padding:n.padding});return g},Pre=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,a=e.direction,s=e.isDropDisabled,c=e.isCombineEnabled,d=e.shouldClipSubject,h=n.closestScrollable,g=Nre(t,h),v=$h(g,i),y=function(){if(!h)return null;var A=n8(h),C={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:A,page:$h(A,i),scroll:fv(h),scrollSize:C,shouldClipSubject:d}}(),w=Tre({descriptor:r,isEnabled:!s,isCombineEnabled:c,isFixedOnPage:n.isFixedOnPage,direction:a,client:g,page:v,closest:y});return w},kre={passive:!1},Dre={passive:!0},PC=function(e){return e.shouldPublishImmediately?kre:Dre};function Vh(e){var t=N.useContext(e);return t||pe(),t}var df=function(t){return t&&t.env.closestScrollable||null};function Rre(e){var t=N.useRef(null),r=Vh(bp),n=Xw("droppable"),i=r.registry,a=r.marshal,s=U8(e),c=et(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),d=N.useRef(c),h=et(function(){return yr(function(D,M){t.current||pe();var j={x:D,y:M};a.updateDroppableScroll(c.id,j)})},[c.id,a]),g=ke(function(){var D=t.current;return!D||!D.env.closestScrollable?xr:fv(D.env.closestScrollable)},[]),v=ke(function(){var D=g();h(D.x,D.y)},[g,h]),y=et(function(){return _c(v)},[v]),w=ke(function(){var D=t.current,M=df(D);D&&M||pe();var j=D.scrollOptions;if(j.shouldPublishImmediately){v();return}y()},[y,v]),A=ke(function(D,M){t.current&&pe();var j=s.current,L=j.getDroppableRef();L||pe();var z=_re(L),U={ref:L,descriptor:c,env:z,scrollOptions:M};t.current=U;var J=Pre({ref:L,descriptor:c,env:z,windowScroll:D,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),X=z.closestScrollable;return X&&(X.setAttribute(OC.contextId,r.contextId),X.addEventListener("scroll",w,PC(U.scrollOptions))),J},[r.contextId,c,w,s]),C=ke(function(){var D=t.current,M=df(D);return D&&M||pe(),fv(M)},[]),I=ke(function(){var D=t.current;D||pe();var M=df(D);t.current=null,M&&(y.cancel(),M.removeAttribute(OC.contextId),M.removeEventListener("scroll",w,PC(D.scrollOptions)))},[w,y]),O=ke(function(D){var M=t.current;M||pe();var j=df(M);j||pe(),j.scrollTop+=D.y,j.scrollLeft+=D.x},[]),_=et(function(){return{getDimensionAndWatchScroll:A,getScrollWhileDragging:C,dragStopped:I,scroll:O}},[I,A,C,O]),T=et(function(){return{uniqueId:n,descriptor:c,callbacks:_}},[_,c,n]);kn(function(){return d.current=T.descriptor,i.droppable.register(T),function(){t.current&&I(),i.droppable.unregister(T)}},[_,c,I,T,a,i.droppable]),kn(function(){t.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),kn(function(){t.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function i1(){}var kC={width:0,height:0,margin:nJ},Mre=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return r||i==="close"?kC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},jre=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,a=Mre({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Zu.placeholder:null}};function Bre(e){var t=N.useRef(null),r=ke(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,i=e.onTransitionEnd,a=e.onClose,s=e.contextId,c=N.useState(e.animate==="open"),d=c[0],h=c[1];N.useEffect(function(){return d?n!=="open"?(r(),h(!1),i1):t.current?i1:(t.current=setTimeout(function(){t.current=null,h(!1)}),r):i1},[n,d,r]);var g=ke(function(y){y.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),v=jre({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return _t.createElement(e.placeholder.tagName,{style:v,"data-rbd-placeholder-context-id":s,onTransitionEnd:g,ref:e.innerRef})}var Lre=_t.memo(Bre),Zw=_t.createContext(null),Fre=function(e){LP(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(_t.PureComponent),DC={dragging:5e3,dropAnimating:4500},$re=function(t,r){return r?Zu.drop(r.duration):t?Zu.snap:Zu.fluid},Ure=function(t,r){return t?r?kc.opacity.drop:kc.opacity.combining:null},Wre=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function zre(e){var t=e.dimension,r=t.client,n=e.offset,i=e.combineWith,a=e.dropping,s=!!i,c=Wre(e),d=!!a,h=d?uv.drop(n,s):uv.moveTo(n),g={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:$re(c,a),transform:h,opacity:Ure(s,d),zIndex:d?DC.dropAnimating:DC.dragging,pointerEvents:"none"};return g}function Gre(e){return{transform:uv.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Hre(e){return e.type==="DRAGGING"?zre(e):Gre(e)}function Vre(e,t,r){r===void 0&&(r=xr);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=r8(i,n),s=$h(a,r),c={client:a,tagName:t.tagName.toLowerCase(),display:n.display},d={x:a.marginBox.width,y:a.marginBox.height},h={descriptor:e,placeholder:c,displaceBy:d,client:a,page:s};return h}function Kre(e){var t=Xw("draggable"),r=e.descriptor,n=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,c=e.isEnabled,d=et(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}},[a,c,s]),h=ke(function(w){var A=i();return A||pe(),Vre(r,A,w)},[r,i]),g=et(function(){return{uniqueId:t,descriptor:r,options:d,getDimension:h}},[r,h,d,t]),v=N.useRef(g),y=N.useRef(!0);kn(function(){return n.draggable.register(v.current),function(){return n.draggable.unregister(v.current)}},[n.draggable]),kn(function(){if(y.current){y.current=!1;return}var w=v.current;v.current=g,n.draggable.update(g,w)},[g,n.draggable])}function qre(e){e.preventDefault()}function Xre(e){var t=N.useRef(null),r=ke(function(U){t.current=U},[]),n=ke(function(){return t.current},[]),i=Vh(bp),a=i.contextId,s=i.dragHandleUsageInstructionsId,c=i.registry,d=Vh(Zw),h=d.type,g=d.droppableId,v=et(function(){return{id:e.draggableId,index:e.index,type:h,droppableId:g}},[e.draggableId,e.index,h,g]),y=e.children,w=e.draggableId,A=e.isEnabled,C=e.shouldRespectForcePress,I=e.canDragInteractiveElements,O=e.isClone,_=e.mapped,T=e.dropAnimationFinished;if(!O){var D=et(function(){return{descriptor:v,registry:c,getDraggableRef:n,canDragInteractiveElements:I,shouldRespectForcePress:C,isEnabled:A}},[v,c,n,I,C,A]);Kre(D)}var M=et(function(){return A?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":w,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:qre}:null},[a,s,w,A]),j=ke(function(U){_.type==="DRAGGING"&&_.dropping&&U.propertyName==="transform"&&T()},[T,_]),L=et(function(){var U=Hre(_),J=_.type==="DRAGGING"&&_.dropping?j:null,X={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":w,style:U,onTransitionEnd:J},dragHandleProps:M};return X},[a,M,w,_,j,r]),z=et(function(){return{draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}},[v.droppableId,v.id,v.index,v.type]);return y(L,_.snapshot,z)}var X8=function(e,t){return e===t},Y8=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Yre=function(t){return t.combine?t.combine.draggableId:null},Zre=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Qre(){var e=yr(function(i,a){return{x:i,y:a}}),t=yr(function(i,a,s,c,d){return{isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:s,combineWith:c,combineTargetFor:null}}),r=yr(function(i,a,s,c,d,h,g){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:h,mode:a,offset:i,dimension:s,forceShouldAnimate:g,snapshot:t(a,c,d,h,null)}}}),n=function(a,s){if(a.isDragging){if(a.critical.draggable.id!==s.draggableId)return null;var c=a.current.client.offset,d=a.dimensions.draggables[s.draggableId],h=Pn(a.impact),g=Zre(a.impact),v=a.forceShouldAnimate;return r(e(c.x,c.y),a.movementMode,d,s.isClone,h,g,v)}if(a.phase==="DROP_ANIMATING"){var y=a.completed;if(y.result.draggableId!==s.draggableId)return null;var w=s.isClone,A=a.dimensions.draggables[s.draggableId],C=y.result,I=C.mode,O=Y8(C),_=Yre(C),T=a.dropDuration,D={duration:T,curve:Ww.drop,moveTo:a.newHomeClientOffset,opacity:_?kc.opacity.drop:null,scale:_?kc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:A,dropping:D,draggingOver:O,combineWith:_,mode:I,forceShouldAnimate:null,snapshot:t(I,w,O,_,D)}}}return null};return n}function Z8(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Jre={mapped:{type:"SECONDARY",offset:xr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Z8(null)}};function ene(){var e=yr(function(s,c){return{x:s,y:c}}),t=yr(Z8),r=yr(function(s,c,d){return c===void 0&&(c=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}}}),n=function(c){return c?r(xr,c,!0):null},i=function(c,d,h,g){var v=h.displaced.visible[c],y=!!(g.inVirtualList&&g.effected[c]),w=vp(h),A=w&&w.draggableId===c?d:null;if(!v){if(!y)return n(A);if(h.displaced.invisible[c])return null;var C=Xl(g.displacedBy.point),I=e(C.x,C.y);return r(I,A,!0)}if(y)return n(A);var O=h.displacedBy.point,_=e(O.x,O.y);return r(_,A,v.shouldAnimate)},a=function(c,d){if(c.isDragging)return c.critical.draggable.id===d.draggableId?null:i(d.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){var h=c.completed;return h.result.draggableId===d.draggableId?null:i(d.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null};return a}var tne=function(){var t=Qre(),r=ene(),n=function(a,s){return t(a,s)||r(a,s)||Jre};return n},rne={dropAnimationFinished:N8},nne=e8(tne,rne,null,{context:qw,pure:!0,areStatePropsEqual:X8})(Xre);function Q8(e){var t=Vh(Zw),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:_t.createElement(nne,e)}function ine(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return _t.createElement(Q8,Le({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function ane(e){var t=N.useContext(bp);t||pe();var r=t.contextId,n=t.isMovementAllowed,i=N.useRef(null),a=N.useRef(null),s=e.children,c=e.droppableId,d=e.type,h=e.mode,g=e.direction,v=e.ignoreContainerClipping,y=e.isDropDisabled,w=e.isCombineEnabled,A=e.snapshot,C=e.useClone,I=e.updateViewportMaxScroll,O=e.getContainerForClone,_=ke(function(){return i.current},[]),T=ke(function(X){i.current=X},[]);ke(function(){return a.current},[]);var D=ke(function(X){a.current=X},[]),M=ke(function(){n()&&I({maxScroll:M8()})},[n,I]);Rre({droppableId:c,type:d,mode:h,direction:g,isDropDisabled:y,isCombineEnabled:w,ignoreContainerClipping:v,getDroppableRef:_});var j=_t.createElement(Fre,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(X){var q=X.onClose,oe=X.data,de=X.animate;return _t.createElement(Lre,{placeholder:oe,onClose:q,innerRef:D,animate:de,contextId:r,onTransitionEnd:M})}),L=et(function(){return{innerRef:T,placeholder:j,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":r}}},[r,c,j,T]),z=C?C.dragging.draggableId:null,U=et(function(){return{droppableId:c,type:d,isUsingCloneFor:z}},[c,z,d]);function J(){if(!C)return null;var X=C.dragging,q=C.render,oe=_t.createElement(Q8,{draggableId:X.draggableId,index:X.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(de,H){return q(de,H,X)});return oD.createPortal(oe,O())}return _t.createElement(Zw.Provider,{value:U},s(L,A),J())}var a1=function(t,r){return t===r.droppable.type},RC=function(t,r){return r.draggables[t.draggable.id]},one=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Le({},t,{shouldAnimatePlaceholder:!1}),n=yr(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=yr(function(s,c,d,h,g,v){var y=g.descriptor.id,w=g.descriptor.droppableId===s;if(w){var A=v?{render:v,dragging:n(g.descriptor)}:null,C={isDraggingOver:d,draggingOverWith:d?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:A}}if(!c)return r;if(!h)return t;var I={isDraggingOver:d,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:I,useClone:null}}),a=function(c,d){var h=d.droppableId,g=d.type,v=!d.isDropDisabled,y=d.renderClone;if(c.isDragging){var w=c.critical;if(!a1(g,w))return r;var A=RC(w,c.dimensions),C=Pn(c.impact)===h;return i(h,v,C,C,A,y)}if(c.phase==="DROP_ANIMATING"){var I=c.completed;if(!a1(g,I.critical))return r;var O=RC(I.critical,c.dimensions);return i(h,v,Y8(I.result)===h,Pn(I.impact)===h,O,y)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){var _=c.completed;if(!a1(g,_.critical))return r;var T=Pn(_.impact)===h,D=!!(_.impact.at&&_.impact.at.type==="COMBINE"),M=_.critical.droppable.id===h;return T?D?t:r:M?t:r}return r};return a},sne={updateViewportMaxScroll:gee};function lne(){return document.body||pe(),document.body}var une={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:lne},J8=e8(one,sne,null,{context:qw,pure:!0,areStatePropsEqual:X8})(ane);J8.defaultProps=une;const cne=({isOpen:e,onClose:t,onConfirm:r,categories:n})=>{const[i,a]=N.useState(""),[s,c]=N.useState(""),d=N.useMemo(()=>n.filter(g=>g.id!==parseInt(i)),[i,n]);if(!e)return null;const h=()=>{if(!i||!s){Oe.error("Pilih kedua kategori.");return}r(parseInt(i),parseInt(s))};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-scale-in",children:[E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gabungkan Kategori"}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pindahkan semua produk dari satu kategori ke kategori lain, lalu hapus kategori sumber."}),E.jsxs("div",{className:"mt-4 space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gabungkan Dari"}),E.jsxs("select",{id:"source",value:i,onChange:g=>a(g.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[E.jsx("option",{value:"",children:"-- Pilih Kategori Sumber --"}),n.map(g=>E.jsx("option",{value:g.id,children:g.name},g.id))]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ke Kategori"}),E.jsxs("select",{id:"destination",value:s,onChange:g=>c(g.target.value),className:"w-full p-2 border border-gray-300 rounded-md",disabled:!i,children:[E.jsx("option",{value:"",children:"-- Pilih Kategori Tujuan --"}),d.map(g=>E.jsx("option",{value:g.id,children:g.name},g.id))]})]})]})]}),E.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex justify-end gap-3",children:[E.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"}),E.jsx("button",{onClick:h,className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Gabungkan"})]})]})})},dne=({isOpen:e,onClose:t,onSave:r,category:n})=>{const[i,a]=N.useState("");if(N.useEffect(()=>{a(n?n.name:"")},[n,e]),!e)return null;const s=c=>{if(c.preventDefault(),i.trim()===""){Oe.error("Nama kategori tidak boleh kosong.");return}r({...n,name:i})};return E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:[" ",E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-scale-in",children:[" ",E.jsxs("form",{onSubmit:s,children:[" ",E.jsxs("div",{className:"p-6",children:[" ",E.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n?"Edit Kategori":"Tambah Kategori Baru"})," ",E.jsxs("div",{className:"mt-4",children:[" ",E.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Nama Kategori",autoFocus:!0})," "]})," "]})," ",E.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex justify-end gap-3",children:[" ",E.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"})," ",E.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Simpan"})," "]})," "]})," "]})," "]})},fne=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,c]=N.useState(!1),[d,h]=N.useState(null),g=N.useCallback(async()=>{n(!0);const{data:C,error:I}=await Ke.from("categories").select("*").order("position",{ascending:!0});I?Oe.error("Gagal memuat kategori."):t(C),n(!1)},[]);N.useEffect(()=>{g()},[g]);const v=async C=>{if(!C.destination)return;const I=Array.from(e),[O]=I.splice(C.source.index,1);I.splice(C.destination.index,0,O),t(I);const _=I.map(D=>D.id),{error:T}=await Ke.rpc("update_category_positions",{category_ids:_});T?(Oe.error("Gagal menyimpan urutan baru."),g()):Oe.success("Urutan kategori berhasil disimpan!")},y=async(C,I)=>{const O=Oe.loading("Menggabungkan kategori..."),{error:_}=await Ke.rpc("merge_categories",{source_id:C,destination_id:I});_?Oe.error(`Gagal: ${_.message}`,{id:O}):Oe.success("Kategori berhasil digabungkan!",{id:O}),c(!1),g()},w=async C=>{const I=Oe.loading(C.id?"Memperbarui...":"Menyimpan...");if(C.id){const{error:O}=await Ke.from("categories").update({name:C.name}).eq("id",C.id);O?Oe.error(`Gagal: ${O.message}`,{id:I}):Oe.success("Kategori diperbarui!",{id:I})}else{const{error:O}=await Ke.from("categories").insert([{name:C.name}]);O?Oe.error(`Gagal: ${O.message}`,{id:I}):Oe.success("Kategori baru ditambahkan!",{id:I})}a(!1),h(null),g()},A=async C=>{if(window.confirm("Menghapus kategori akan membuat produk terkait menjadi tidak berkategori. Yakin?")){const I=Oe.loading("Menghapus...");await Ke.from("products").update({category_id:null}).eq("category_id",C);const{error:O}=await Ke.from("categories").delete().eq("id",C);O?Oe.error(`Gagal: ${O.message}`,{id:I}):Oe.success("Kategori dihapus!",{id:I}),g()}};return E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Daftar Kategori"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-gray-700",children:[E.jsx(pR,{className:"h-5 w-5"}),E.jsx("span",{children:"Gabungkan"})]}),E.jsxs("button",{onClick:()=>{h(null),a(!0)},className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700",children:[E.jsx(c0,{className:"h-5 w-5"}),E.jsx("span",{children:"Tambah"})]})]})]}),E.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Seret dan lepas untuk mengubah urutan kategori di halaman kasir."}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[E.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-2 py-3 w-12"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama Kategori"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:E.jsx("span",{className:"sr-only",children:"Aksi"})})]})}),E.jsx(bre,{onDragEnd:v,children:E.jsx(J8,{droppableId:"categories",children:C=>E.jsxs("tbody",{...C.droppableProps,ref:C.innerRef,children:[r?E.jsx("tr",{children:E.jsx("td",{colSpan:"3",className:"text-center py-4",children:"Memuat..."})}):e.map((I,O)=>E.jsx(ine,{draggableId:String(I.id),index:O,children:_=>E.jsxs("tr",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"bg-white border-b hover:bg-gray-50",children:[E.jsx("td",{className:"px-2 py-4 text-center text-gray-400 cursor-grab",children:E.jsx(hR,{className:"h-5 w-5"})}),E.jsx("td",{className:"px-6 py-4 font-medium",children:I.name}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex items-center justify-end gap-4",children:[E.jsx("button",{onClick:()=>{h(I),a(!0)},className:"text-blue-600 hover:text-blue-800",children:E.jsx(ly,{className:"h-5 w-5"})}),E.jsx("button",{onClick:()=>A(I.id),className:"text-red-600 hover:text-red-800",children:E.jsx(xl,{className:"h-5 w-5"})})]})})]})},I.id)),C.placeholder]})})})]})}),E.jsx(dne,{isOpen:i,onClose:()=>a(!1),onSave:w,category:d}),E.jsx(cne,{isOpen:s,onClose:()=>c(!1),onConfirm:y,categories:e})]})},hne=({isOpen:e,onClose:t,onReturnSuccess:r})=>{const[n,i]=N.useState([]),[a,s]=N.useState([]),[c,d]=N.useState(""),[h,g]=N.useState([]),[v,y]=N.useState(""),[w,A]=N.useState(!1);N.useEffect(()=>{if(!e)return;(async()=>{const{data:j}=await Ke.from("suppliers").select("*"),{data:L}=await Ke.from("products").select("*").order("name");i(j||[]),s(L||[])})()},[e]);const C=()=>{d(""),g([]),y(""),A(!1)},I=()=>{C(),t()},O=M=>{if(h.find(j=>j.id===M.id)){Oe.error("Produk sudah ada di daftar retur.");return}g(j=>[...j,{...M,return_quantity:1}]),A(!1)},_=(M,j)=>{const L=parseInt(j,10);L>0&&g(z=>z.map(U=>U.id===M?{...U,return_quantity:Math.min(L,U.stock)}:U))},T=M=>{g(j=>j.filter(L=>L.id!==M))},D=()=>{if(!c){Oe.error("Silakan pilih suplier.");return}if(h.length===0){Oe.error("Tambahkan minimal satu produk untuk diretur.");return}const M={p_supplier_id:parseInt(c,10),p_returned_items:h.map(j=>({product_id:j.id,quantity:j.return_quantity})),p_total_items:h.reduce((j,L)=>j+L.return_quantity,0),p_notes:v};r(M),I()};return e?E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Buat Retur ke Suplier"}),E.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pilih Suplier"}),E.jsxs("select",{name:"supplier",value:c,onChange:M=>d(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[E.jsx("option",{value:"",children:"-- Pilih Suplier --"}),n.map(M=>E.jsx("option",{value:M.id,children:M.name},M.id))]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Produk yang Diretur"}),E.jsx("div",{className:"mt-1 border rounded-md p-2 min-h-[150px]",children:h.length===0?E.jsx("p",{className:"text-center text-gray-400 p-4",children:"Belum ada produk"}):h.map(M=>E.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[E.jsx("span",{children:M.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{type:"number",value:M.return_quantity,onChange:j=>_(M.id,j.target.value),className:"w-16 p-1 border rounded-md text-center",max:M.stock}),E.jsx("button",{onClick:()=>T(M.id),className:"text-red-500",children:E.jsx(xl,{className:"h-5 w-5"})})]})]},M.id))}),E.jsxs("button",{type:"button",onClick:()=>A(!0),className:"mt-2 text-sm text-blue-600 hover:underline flex items-center gap-1",children:[E.jsx(c0,{className:"h-4 w-4"})," Tambah Produk"]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Catatan (Alasan Retur)"}),E.jsx("textarea",{name:"notes",value:v,onChange:M=>y(M.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[E.jsx("button",{type:"button",onClick:I,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),E.jsx("button",{onClick:D,className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Proses Retur"})]})]}),w&&E.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex justify-center items-center p-4",children:E.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md flex flex-col max-h-[70vh]",children:[E.jsx("h3",{className:"p-4 font-bold border-b",children:"Pilih Produk"}),E.jsx("div",{className:"p-4 overflow-y-auto",children:a.map(M=>E.jsxs("div",{onClick:()=>O(M),className:"p-2 hover:bg-gray-100 cursor-pointer rounded-md",children:[M.name," ",E.jsxs("span",{className:"text-xs text-gray-500",children:["(Stok: ",M.stock,")"]})]},M.id))}),E.jsx("div",{className:"p-2 border-t flex justify-end",children:E.jsx("button",{onClick:()=>A(!1),className:"bg-gray-200 text-gray-800 rounded-lg py-1 px-3",children:"Tutup"})})]})})]}):null},pne=({isOpen:e,onClose:t,onSave:r,supplier:n})=>{const[i,a]=N.useState({name:"",contact_person:"",phone:"",address:""});if(N.useEffect(()=>{a(n?{name:n.name||"",contact_person:n.contact_person||"",phone:n.phone||"",address:n.address||""}:{name:"",contact_person:"",phone:"",address:""})},[n,e]),!e)return null;const s=d=>{const{name:h,value:g}=d.target;a(v=>({...v,[h]:g}))},c=d=>{if(d.preventDefault(),i.name.trim()===""){Oe.error("Nama suplier tidak boleh kosong.");return}r({...n,...i})};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:n?"Edit Suplier":"Tambah Suplier Baru"}),E.jsxs("form",{onSubmit:c,className:"flex-grow flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Suplier"}),E.jsx("input",{type:"text",name:"name",value:i.name,onChange:s,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:"Narahubung"}),E.jsx("input",{type:"text",name:"contact_person",value:i.contact_person,onChange:s,className:"w-full p-2 border border-gray-300 rounded-md"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Telepon"}),E.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:s,className:"w-full p-2 border border-gray-300 rounded-md"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alamat"}),E.jsx("textarea",{name:"address",value:i.address,onChange:s,rows:"3",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[E.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Simpan"})]})]})]})})},gne=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,c]=N.useState(null),[d,h]=N.useState(!1),g=N.useCallback(async()=>{n(!0);const{data:A,error:C}=await Ke.from("suppliers").select("*").order("name",{ascending:!0});C?Oe.error("Gagal memuat suplier."):t(A),n(!1)},[]);N.useEffect(()=>{g()},[g]);const v=async A=>{const C=Oe.loading(A.id?"Memperbarui...":"Menyimpan..."),{id:I,created_at:O,..._}=A;if(I){const{error:T}=await Ke.from("suppliers").update(_).eq("id",I);T?Oe.error(`Gagal: ${T.message}`,{id:C}):Oe.success("Suplier diperbarui!",{id:C})}else{const{error:T}=await Ke.from("suppliers").insert([_]);T?Oe.error(`Gagal: ${T.message}`,{id:C}):Oe.success("Suplier baru ditambahkan!",{id:C})}a(!1),c(null),g()},y=async A=>{if(window.confirm("Menghapus suplier akan membuat produk terkait menjadi tidak memiliki suplier. Yakin?")){const C=Oe.loading("Menghapus...");await Ke.from("products").update({supplier_id:null}).eq("supplier_id",A);const{error:I}=await Ke.from("suppliers").delete().eq("id",A);I?Oe.error(`Gagal: ${I.message}`,{id:C}):Oe.success("Suplier dihapus!",{id:C}),g()}},w=async A=>{const C=Oe.loading("Memproses retur ke suplier..."),{error:I}=await Ke.rpc("process_supplier_return",A);I?Oe.error(`Gagal: ${I.message}`,{id:C}):Oe.success("Retur ke suplier berhasil dicatat & stok diperbarui!",{id:C})};return E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Daftar Suplier"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-yellow-600",children:[E.jsx(eI,{className:"h-5 w-5"}),E.jsx("span",{children:"Buat Retur"})]}),E.jsxs("button",{onClick:()=>{c(null),a(!0)},className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700",children:[E.jsx(c0,{className:"h-5 w-5"}),E.jsx("span",{children:"Tambah Suplier"})]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[E.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama Suplier"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Narahubung"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:"Telepon"}),E.jsx("th",{scope:"col",className:"px-6 py-3",children:E.jsx("span",{className:"sr-only",children:"Aksi"})})]})}),E.jsx("tbody",{children:r?E.jsx("tr",{children:E.jsx("td",{colSpan:"4",className:"text-center py-4",children:"Memuat..."})}):e.map(A=>E.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[E.jsx("td",{className:"px-6 py-4 font-medium",children:A.name}),E.jsx("td",{className:"px-6 py-4",children:A.contact_person}),E.jsx("td",{className:"px-6 py-4",children:A.phone}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex items-center justify-end gap-4",children:[E.jsx("button",{onClick:()=>{c(A),a(!0)},className:"text-blue-600 hover:text-blue-800",children:E.jsx(ly,{className:"h-5 w-5"})}),E.jsx("button",{onClick:()=>y(A.id),className:"text-red-600 hover:text-red-800",children:E.jsx(xl,{className:"h-5 w-5"})})]})})]},A.id))})]})}),E.jsx(pne,{isOpen:i,onClose:()=>a(!1),onSave:v,supplier:s}),E.jsx(hne,{isOpen:d,onClose:()=>h(!1),onReturnSuccess:w})]})},mne=()=>{const[e,t]=N.useState("produk"),r=[{id:"produk",name:"Produk",icon:E.jsx(uy,{className:"h-5 w-5 mr-2"})},{id:"suplier",name:"Suplier",icon:E.jsx(dy,{className:"h-5 w-5 mr-2"})},{id:"kategori",name:"Kategori",icon:E.jsx(cy,{className:"h-5 w-5 mr-2"})}],n=()=>{switch(e){case"produk":return E.jsx(LZ,{});case"suplier":return E.jsx(gne,{});case"kategori":return E.jsx(fne,{});default:return null}};return E.jsxs("div",{className:"p-4 h-full flex flex-col",children:[E.jsx("h1",{className:"text-2xl font-bold mb-4 flex-shrink-0",children:"Manajemen"}),E.jsx("div",{className:"mb-4 border-b border-gray-200 flex-shrink-0",children:E.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:r.map(i=>E.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${e===i.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.icon,i.name]},i.id))})}),E.jsx("div",{className:"flex-grow overflow-y-auto",children:n()})]})},o1=({label:e,description:t,children:r})=>E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-800",children:e}),E.jsx("p",{className:"text-xs text-gray-500 mb-2",children:t}),r]}),vne=({settings:e,setSettings:t})=>{const r=n=>{const{name:i,value:a}=n.target;t(s=>({...s,[i]:a}))};return E.jsxs("div",{className:"space-y-6",children:[E.jsx(o1,{label:"Nama Toko",description:"Nama ini akan muncul di header dan di struk belanja.",children:E.jsx("input",{type:"text",name:"store_name",value:e.store_name||"",onChange:r,className:"w-full p-2 border border-gray-300 rounded-md"})}),E.jsx(o1,{label:"Alamat Toko",description:"Alamat lengkap toko untuk ditampilkan di struk.",children:E.jsx("textarea",{name:"store_address",value:e.store_address||"",onChange:r,rows:"3",className:"w-full p-2 border border-gray-300 rounded-md"})}),E.jsx(o1,{label:"Nomor Telepon",description:"Kontak toko yang akan ditampilkan di struk.",children:E.jsx("input",{type:"text",name:"store_phone",value:e.store_phone||"",onChange:r,className:"w-full p-2 border border-gray-300 rounded-md"})})]})},yne=({label:e,description:t,children:r})=>E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-800",children:e}),E.jsx("p",{className:"text-xs text-gray-500 mb-2",children:t}),r]}),xne=({settings:e,setSettings:t})=>{const r=n=>{const{name:i,value:a}=n.target;t(s=>({...s,[i]:a}))};return E.jsx("div",{className:"space-y-6",children:E.jsx(yne,{label:"Pesan di Bawah Struk",description:"Teks ini akan muncul di bagian paling bawah struk, cocok untuk info promo atau kebijakan retur.",children:E.jsx("textarea",{name:"receipt_footer_message",value:e.receipt_footer_message||"",onChange:r,rows:"4",className:"w-full p-2 border border-gray-300 rounded-md"})})})},wne=()=>E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[E.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manajemen Data"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"p-4 border border-yellow-300 bg-yellow-50 rounded-md",children:[E.jsx("h3",{className:"font-bold text-yellow-800",children:"Ekspor Data"}),E.jsx("p",{className:"text-sm text-yellow-700",children:"Fitur untuk mengunduh semua data produk dan transaksi dalam format CSV/Excel. (Segera Hadir)"})]}),E.jsxs("div",{className:"p-4 border border-red-300 bg-red-50 rounded-md",children:[E.jsx("h3",{className:"font-bold text-red-800",children:"Hapus Semua Data"}),E.jsx("p",{className:"text-sm text-red-700",children:"Fitur berbahaya untuk menghapus semua data transaksi atau produk. (Segera Hadir)"})]})]})]}),bne=()=>{const[e,t]=N.useState("toko"),[r,n]=N.useState({}),[i,a]=N.useState({}),[s,c]=N.useState(!0);N.useEffect(()=>{(async()=>{c(!0);const{data:w,error:A}=await Ke.from("settings").select("*").eq("id",1).single();A?Oe.error("Gagal memuat pengaturan."):(n(w),a(w)),c(!1)})()},[]);const d=async()=>{const y=Oe.loading("Menyimpan pengaturan..."),{error:w}=await Ke.from("settings").update(r).eq("id",1);w?Oe.error(`Gagal: ${w.message}`,{id:y}):(Oe.success("Pengaturan berhasil disimpan!",{id:y}),a(r))},h=JSON.stringify(r)!==JSON.stringify(i),g=[{id:"toko",name:"Toko",icon:E.jsx(gR,{className:"h-5 w-5 mr-2"})},{id:"struk",name:"Struk",icon:E.jsx(mR,{className:"h-5 w-5 mr-2"})},{id:"data",name:"Data",icon:E.jsx(vR,{className:"h-5 w-5 mr-2"})}],v=()=>{if(s)return E.jsxs("div",{className:"space-y-6 animate-pulse",children:[E.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),E.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"})]});switch(e){case"toko":return E.jsx(vne,{settings:r,setSettings:n});case"struk":return E.jsx(xne,{settings:r,setSettings:n});case"data":return E.jsx(wne,{});default:return null}};return E.jsxs("div",{className:"p-4 h-full flex flex-col",children:[E.jsx("h1",{className:"text-2xl font-bold mb-4 flex-shrink-0",children:"Pengaturan"}),E.jsx("div",{className:"mb-4 border-b border-gray-200 flex-shrink-0",children:E.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:g.map(y=>E.jsxs("button",{onClick:()=>t(y.id),className:`flex items-center whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${e===y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[y.icon,y.name]},y.id))})}),E.jsx("div",{className:"flex-grow overflow-y-auto pb-20",children:v()}),h&&E.jsx("div",{className:"absolute bottom-20 left-0 right-0 p-4 animate-fade-in",children:E.jsx("div",{className:"max-w-3xl mx-auto",children:E.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border flex justify-between items-center",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anda memiliki perubahan yang belum disimpan."}),E.jsx("button",{onClick:d,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg shadow hover:bg-blue-700",children:"Simpan"})]})})})]})};function Ene(){const[e,t]=N.useState("Kasir"),r=()=>{switch(e){case"Beranda":return E.jsx(I2,{});case"Kasir":return E.jsx(h7,{});case"Laporan":return E.jsx(MZ,{});case"Manajemen":return E.jsx(mne,{});case"Pengaturan":return E.jsx(bne,{});default:return E.jsx(I2,{})}};return E.jsxs(E.Fragment,{children:[E.jsx(YD,{position:"top-center",reverseOrder:!1,toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),E.jsxs("div",{className:"bg-gray-50 font-sans h-screen flex flex-col",children:[E.jsx(ZD,{}),E.jsx("main",{className:"flex-grow overflow-y-auto pb-20",children:r()}),E.jsx(yR,{activeMenu:e,setActiveMenu:t})]})]})}KO(document.getElementById("root")).render(E.jsx(N.StrictMode,{children:E.jsx(Ene,{})}));
