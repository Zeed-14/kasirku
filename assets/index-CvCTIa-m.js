var Bk=Object.defineProperty;var Lk=(e,t,r)=>t in e?Bk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Gp=(e,t,r)=>Lk(e,typeof t!="symbol"?t+"":t,r);function Fk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $k(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var jC={exports:{}},Kh={},BC={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),Uk=Symbol.for("react.portal"),Wk=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),Gk=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Vk=Symbol.for("react.context"),Kk=Symbol.for("react.forward_ref"),qk=Symbol.for("react.suspense"),Xk=Symbol.for("react.memo"),Yk=Symbol.for("react.lazy"),vb=Symbol.iterator;function Zk(e){return e===null||typeof e!="object"?null:(e=vb&&e[vb]||e["@@iterator"],typeof e=="function"?e:null)}var LC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FC=Object.assign,$C={};function Rl(e,t,r){this.props=e,this.context=t,this.refs=$C,this.updater=r||LC}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UC(){}UC.prototype=Rl.prototype;function hv(e,t,r){this.props=e,this.context=t,this.refs=$C,this.updater=r||LC}var pv=hv.prototype=new UC;pv.constructor=hv;FC(pv,Rl.prototype);pv.isPureReactComponent=!0;var yb=Array.isArray,WC=Object.prototype.hasOwnProperty,gv={current:null},zC={key:!0,ref:!0,__self:!0,__source:!0};function GC(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)WC.call(t,n)&&!zC.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:kc,type:e,key:a,ref:s,props:i,_owner:gv.current}}function Qk(e,t){return{$$typeof:kc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mv(e){return typeof e=="object"&&e!==null&&e.$$typeof===kc}function Jk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xb=/\/+/g;function Hp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jk(""+e.key):t.toString(36)}function ff(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case kc:case Uk:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Hp(s,0):n,yb(i)?(r="",e!=null&&(r=e.replace(xb,"$&/")+"/"),ff(i,t,r,"",function(h){return h})):i!=null&&(mv(i)&&(i=Qk(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",yb(e))for(var u=0;u<e.length;u++){a=e[u];var d=n+Hp(a,u);s+=ff(a,t,r,d,i)}else if(d=Zk(e),typeof d=="function")for(e=d.call(e),u=0;!(a=e.next()).done;)a=a.value,d=n+Hp(a,u++),s+=ff(a,t,r,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Cd(e,t,r){if(e==null)return e;var n=[],i=0;return ff(e,n,"","",function(a){return t.call(r,a,i++)}),n}function e6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},hf={transition:null},t6={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:hf,ReactCurrentOwner:gv};function HC(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Cd,forEach:function(e,t,r){Cd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cd(e,function(){t++}),t},toArray:function(e){return Cd(e,function(t){return t})||[]},only:function(e){if(!mv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Rl;Ye.Fragment=Wk;Ye.Profiler=Gk;Ye.PureComponent=hv;Ye.StrictMode=zk;Ye.Suspense=qk;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t6;Ye.act=HC;Ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=FC({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=gv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)WC.call(t,d)&&!zC.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){u=Array(d);for(var h=0;h<d;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:kc,type:e.type,key:i,ref:a,props:n,_owner:s}};Ye.createContext=function(e){return e={$$typeof:Vk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hk,_context:e},e.Consumer=e};Ye.createElement=GC;Ye.createFactory=function(e){var t=GC.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:Kk,render:e}};Ye.isValidElement=mv;Ye.lazy=function(e){return{$$typeof:Yk,_payload:{_status:-1,_result:e},_init:e6}};Ye.memo=function(e,t){return{$$typeof:Xk,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=hf.transition;hf.transition={};try{e()}finally{hf.transition=t}};Ye.unstable_act=HC;Ye.useCallback=function(e,t){return en.current.useCallback(e,t)};Ye.useContext=function(e){return en.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return en.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return en.current.useEffect(e,t)};Ye.useId=function(){return en.current.useId()};Ye.useImperativeHandle=function(e,t,r){return en.current.useImperativeHandle(e,t,r)};Ye.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return en.current.useMemo(e,t)};Ye.useReducer=function(e,t,r){return en.current.useReducer(e,t,r)};Ye.useRef=function(e){return en.current.useRef(e)};Ye.useState=function(e){return en.current.useState(e)};Ye.useSyncExternalStore=function(e,t,r){return en.current.useSyncExternalStore(e,t,r)};Ye.useTransition=function(){return en.current.useTransition()};Ye.version="18.3.1";BC.exports=Ye;var N=BC.exports;const At=Ln(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6=N,n6=Symbol.for("react.element"),i6=Symbol.for("react.fragment"),a6=Object.prototype.hasOwnProperty,o6=r6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s6={key:!0,ref:!0,__self:!0,__source:!0};function VC(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)a6.call(t,n)&&!s6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:n6,type:e,key:a,ref:s,props:i,_owner:o6.current}}Kh.Fragment=i6;Kh.jsx=VC;Kh.jsxs=VC;jC.exports=Kh;var b=jC.exports,KC={exports:{}},Fn={},qC={exports:{}},XC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,fe){var ie=te.length;te.push(fe);e:for(;0<ie;){var ve=ie-1>>>1,re=te[ve];if(0<i(re,fe))te[ve]=fe,te[ie]=re,ie=ve;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var fe=te[0],ie=te.pop();if(ie!==fe){te[0]=ie;e:for(var ve=0,re=te.length,Ue=re>>>1;ve<Ue;){var $e=2*(ve+1)-1,qe=te[$e],xe=$e+1,cr=te[xe];if(0>i(qe,ie))xe<re&&0>i(cr,qe)?(te[ve]=cr,te[xe]=ie,ve=xe):(te[ve]=qe,te[$e]=ie,ve=$e);else if(xe<re&&0>i(cr,ie))te[ve]=cr,te[xe]=ie,ve=xe;else break e}}return fe}function i(te,fe){var ie=te.sortIndex-fe.sortIndex;return ie!==0?ie:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],h=[],p=1,v=null,y=3,w=!1,A=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var fe=r(h);fe!==null;){if(fe.callback===null)n(h);else if(fe.startTime<=te)n(h),fe.sortIndex=fe.expirationTime,t(d,fe);else break;fe=r(h)}}function D(te){if(C=!1,T(te),!A)if(r(d)!==null)A=!0,we(M);else{var fe=r(h);fe!==null&&ee(D,fe.startTime-te)}}function M(te,fe){A=!1,C&&(C=!1,_(z),z=-1),w=!0;var ie=y;try{for(T(fe),v=r(d);v!==null&&(!(v.expirationTime>fe)||te&&!X());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,y=v.priorityLevel;var re=ve(v.expirationTime<=fe);fe=e.unstable_now(),typeof re=="function"?v.callback=re:v===r(d)&&n(d),T(fe)}else n(d);v=r(d)}if(v!==null)var Ue=!0;else{var $e=r(h);$e!==null&&ee(D,$e.startTime-fe),Ue=!1}return Ue}finally{v=null,y=ie,w=!1}}var j=!1,L=null,z=-1,U=5,J=-1;function X(){return!(e.unstable_now()-J<U)}function q(){if(L!==null){var te=e.unstable_now();J=te;var fe=!0;try{fe=L(!0,te)}finally{fe?oe():(j=!1,L=null)}}else j=!1}var oe;if(typeof I=="function")oe=function(){I(q)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,H=de.port2;de.port1.onmessage=q,oe=function(){H.postMessage(null)}}else oe=function(){O(q,0)};function we(te){L=te,j||(j=!0,oe())}function ee(te,fe){z=O(function(){te(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){A||w||(A=!0,we(M))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(te){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var ie=y;y=fe;try{return te()}finally{y=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=y;y=te;try{return fe()}finally{y=ie}},e.unstable_scheduleCallback=function(te,fe,ie){var ve=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,te){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ie+re,te={id:p++,callback:fe,priorityLevel:te,startTime:ie,expirationTime:re,sortIndex:-1},ie>ve?(te.sortIndex=ie,t(h,te),r(d)===null&&te===r(h)&&(C?(_(z),z=-1):C=!0,ee(D,ie-ve))):(te.sortIndex=re,t(d,te),A||w||(A=!0,we(M))),te},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(te){var fe=y;return function(){var ie=y;y=fe;try{return te.apply(this,arguments)}finally{y=ie}}}})(XC);qC.exports=XC;var l6=qC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=N,Dn=l6;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YC=new Set,Zu={};function fs(e,t){dl(e,t),dl(e+"Capture",t)}function dl(e,t){for(Zu[e]=t,e=0;e<t.length;e++)YC.add(t[e])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s1=Object.prototype.hasOwnProperty,c6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb={},bb={};function d6(e){return s1.call(bb,e)?!0:s1.call(wb,e)?!1:c6.test(e)?bb[e]=!0:(wb[e]=!0,!1)}function f6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h6(e,t,r,n){if(t===null||typeof t>"u"||f6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dr[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dr[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dr[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dr[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dr[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dr[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dr[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dr[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dr[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var vv=/[\-:]([a-z])/g;function yv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vv,yv);Dr[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vv,yv);Dr[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vv,yv);Dr[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dr[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dr[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function xv(e,t,r,n){var i=Dr.hasOwnProperty(t)?Dr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h6(t,r,i,n)&&(r=null),n||i===null?d6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ma=u6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_d=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),ZC=Symbol.for("react.provider"),QC=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),JC=Symbol.for("react.offscreen"),Eb=Symbol.iterator;function ou(e){return e===null||typeof e!="object"?null:(e=Eb&&e[Eb]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Object.assign,Vp;function Iu(e){if(Vp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vp=t&&t[1]||""}return`
`+Vp+e}var Kp=!1;function qp(e,t){if(!e||Kp)return"";Kp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,u=a.length-1;1<=s&&0<=u&&i[s]!==a[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==a[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==a[u]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=u);break}}}finally{Kp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Iu(e):""}function p6(e){switch(e.tag){case 5:return Iu(e.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return e=qp(e.type,!1),e;case 11:return e=qp(e.type.render,!1),e;case 1:return e=qp(e.type,!0),e;default:return""}}function d1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Ws:return"Portal";case l1:return"Profiler";case wv:return"StrictMode";case u1:return"Suspense";case c1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QC:return(e.displayName||"Context")+".Consumer";case ZC:return(e._context.displayName||"Context")+".Provider";case bv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ev:return t=e.displayName||null,t!==null?t:d1(e.type)||"Memo";case Ma:t=e._payload,e=e._init;try{return d1(e(t))}catch{}}return null}function g6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d1(t);case 8:return t===wv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m6(e){var t=e3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Od(e){e._valueTracker||(e._valueTracker=m6(e))}function t3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=e3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Of(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f1(e,t){var r=t.checked;return Lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ab(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r3(e,t){t=t.checked,t!=null&&xv(e,"checked",t,!1)}function h1(e,t){r3(e,t);var r=ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?p1(e,t.type,r):t.hasOwnProperty("defaultValue")&&p1(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function p1(e,t,r){(t!=="number"||Of(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tu=Array.isArray;function nl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ao(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function g1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Tu(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ao(r)}}function n3(e,t){var r=ao(t.value),n=ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _b(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Id,a3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Id.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v6=["Webkit","ms","Moz","O"];Object.keys(Mu).forEach(function(e){v6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mu[t]=Mu[e]})});function o3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mu.hasOwnProperty(e)&&Mu[e]?(""+t).trim():t+"px"}function s3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=o3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var y6=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v1(e,t){if(t){if(y6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=null;function Av(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w1=null,il=null,al=null;function Ob(e){if(e=Mc(e)){if(typeof w1!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Qh(t),w1(e.stateNode,e.type,t))}}function l3(e){il?al?al.push(e):al=[e]:il=e}function u3(){if(il){var e=il,t=al;if(al=il=null,Ob(e),t)for(e=0;e<t.length;e++)Ob(t[e])}}function c3(e,t){return e(t)}function d3(){}var Xp=!1;function f3(e,t,r){if(Xp)return e(t,r);Xp=!0;try{return c3(e,t,r)}finally{Xp=!1,(il!==null||al!==null)&&(d3(),u3())}}function Ju(e,t){var r=e.stateNode;if(r===null)return null;var n=Qh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var b1=!1;if(sa)try{var su={};Object.defineProperty(su,"passive",{get:function(){b1=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{b1=!1}function x6(e,t,r,n,i,a,s,u,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(p){this.onError(p)}}var ju=!1,If=null,Tf=!1,E1=null,w6={onError:function(e){ju=!0,If=e}};function b6(e,t,r,n,i,a,s,u,d){ju=!1,If=null,x6.apply(w6,arguments)}function E6(e,t,r,n,i,a,s,u,d){if(b6.apply(this,arguments),ju){if(ju){var h=If;ju=!1,If=null}else throw Error(le(198));Tf||(Tf=!0,E1=h)}}function hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ib(e){if(hs(e)!==e)throw Error(le(188))}function A6(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ib(i),e;if(a===n)return Ib(i),t;a=a.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function p3(e){return e=A6(e),e!==null?g3(e):null}function g3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g3(e);if(t!==null)return t;e=e.sibling}return null}var m3=Dn.unstable_scheduleCallback,Tb=Dn.unstable_cancelCallback,S6=Dn.unstable_shouldYield,C6=Dn.unstable_requestPaint,Kt=Dn.unstable_now,_6=Dn.unstable_getCurrentPriorityLevel,Sv=Dn.unstable_ImmediatePriority,v3=Dn.unstable_UserBlockingPriority,Nf=Dn.unstable_NormalPriority,O6=Dn.unstable_LowPriority,y3=Dn.unstable_IdlePriority,qh=null,$i=null;function I6(e){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(qh,e,void 0,(e.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:P6,T6=Math.log,N6=Math.LN2;function P6(e){return e>>>=0,e===0?32:31-(T6(e)/N6|0)|0}var Td=64,Nd=4194304;function Nu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var u=s&~i;u!==0?n=Nu(u):(a&=s,a!==0&&(n=Nu(a)))}else s=r&~i,s!==0?n=Nu(s):a!==0&&(n=Nu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Si(t),i=1<<r,n|=e[r],t&=~i;return n}function k6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Si(a),u=1<<s,d=i[s];d===-1?(!(u&r)||u&n)&&(i[s]=k6(u,t)):d<=t&&(e.expiredLanes|=u),a&=~u}}function A1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x3(){var e=Td;return Td<<=1,!(Td&4194240)&&(Td=64),e}function Yp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Si(t),e[t]=r}function R6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Si(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Cv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Si(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ct=0;function w3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b3,_v,E3,A3,S3,S1=!1,Pd=[],Ka=null,qa=null,Xa=null,ec=new Map,tc=new Map,$a=[],M6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nb(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(t.pointerId)}}function lu(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mc(t),t!==null&&_v(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function j6(e,t,r,n,i){switch(t){case"focusin":return Ka=lu(Ka,e,t,r,n,i),!0;case"dragenter":return qa=lu(qa,e,t,r,n,i),!0;case"mouseover":return Xa=lu(Xa,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ec.set(a,lu(ec.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,tc.set(a,lu(tc.get(a)||null,e,t,r,n,i)),!0}return!1}function C3(e){var t=Lo(e.target);if(t!==null){var r=hs(t);if(r!==null){if(t=r.tag,t===13){if(t=h3(r),t!==null){e.blockedOn=t,S3(e.priority,function(){E3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);x1=n,r.target.dispatchEvent(n),x1=null}else return t=Mc(r),t!==null&&_v(t),e.blockedOn=r,!1;t.shift()}return!0}function Pb(e,t,r){pf(e)&&r.delete(t)}function B6(){S1=!1,Ka!==null&&pf(Ka)&&(Ka=null),qa!==null&&pf(qa)&&(qa=null),Xa!==null&&pf(Xa)&&(Xa=null),ec.forEach(Pb),tc.forEach(Pb)}function uu(e,t){e.blockedOn===t&&(e.blockedOn=null,S1||(S1=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,B6)))}function rc(e){function t(i){return uu(i,e)}if(0<Pd.length){uu(Pd[0],e);for(var r=1;r<Pd.length;r++){var n=Pd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ka!==null&&uu(Ka,e),qa!==null&&uu(qa,e),Xa!==null&&uu(Xa,e),ec.forEach(t),tc.forEach(t),r=0;r<$a.length;r++)n=$a[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$a.length&&(r=$a[0],r.blockedOn===null);)C3(r),r.blockedOn===null&&$a.shift()}var ol=ma.ReactCurrentBatchConfig,kf=!0;function L6(e,t,r,n){var i=ct,a=ol.transition;ol.transition=null;try{ct=1,Ov(e,t,r,n)}finally{ct=i,ol.transition=a}}function F6(e,t,r,n){var i=ct,a=ol.transition;ol.transition=null;try{ct=4,Ov(e,t,r,n)}finally{ct=i,ol.transition=a}}function Ov(e,t,r,n){if(kf){var i=C1(e,t,r,n);if(i===null)og(e,t,n,Df,r),Nb(e,n);else if(j6(i,e,t,r,n))n.stopPropagation();else if(Nb(e,n),t&4&&-1<M6.indexOf(e)){for(;i!==null;){var a=Mc(i);if(a!==null&&b3(a),a=C1(e,t,r,n),a===null&&og(e,t,n,Df,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else og(e,t,n,null,r)}}var Df=null;function C1(e,t,r,n){if(Df=null,e=Av(n),e=Lo(e),e!==null)if(t=hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=h3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Df=e,null}function _3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_6()){case Sv:return 1;case v3:return 4;case Nf:case O6:return 16;case y3:return 536870912;default:return 16}default:return 16}}var Ha=null,Iv=null,gf=null;function O3(){if(gf)return gf;var e,t=Iv,r=t.length,n,i="value"in Ha?Ha.value:Ha.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return gf=i.slice(e,1<n?1-n:void 0)}function mf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kd(){return!0}function kb(){return!1}function $n(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kd:kb,this.isPropagationStopped=kb,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),t}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tv=$n(Ml),Rc=Lt({},Ml,{view:0,detail:0}),$6=$n(Rc),Zp,Qp,cu,Xh=Lt({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cu&&(cu&&e.type==="mousemove"?(Zp=e.screenX-cu.screenX,Qp=e.screenY-cu.screenY):Qp=Zp=0,cu=e),Zp)},movementY:function(e){return"movementY"in e?e.movementY:Qp}}),Db=$n(Xh),U6=Lt({},Xh,{dataTransfer:0}),W6=$n(U6),z6=Lt({},Rc,{relatedTarget:0}),Jp=$n(z6),G6=Lt({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),H6=$n(G6),V6=Lt({},Ml,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K6=$n(V6),q6=Lt({},Ml,{data:0}),Rb=$n(q6),X6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z6[e])?!!t[e]:!1}function Nv(){return Q6}var J6=Lt({},Rc,{key:function(e){if(e.key){var t=X6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(e){return e.type==="keypress"?mf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e5=$n(J6),t5=Lt({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mb=$n(t5),r5=Lt({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),n5=$n(r5),i5=Lt({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),a5=$n(i5),o5=Lt({},Xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s5=$n(o5),l5=[9,13,27,32],Pv=sa&&"CompositionEvent"in window,Bu=null;sa&&"documentMode"in document&&(Bu=document.documentMode);var u5=sa&&"TextEvent"in window&&!Bu,I3=sa&&(!Pv||Bu&&8<Bu&&11>=Bu),jb=" ",Bb=!1;function T3(e,t){switch(e){case"keyup":return l5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function c5(e,t){switch(e){case"compositionend":return N3(t);case"keypress":return t.which!==32?null:(Bb=!0,jb);case"textInput":return e=t.data,e===jb&&Bb?null:e;default:return null}}function d5(e,t){if(Gs)return e==="compositionend"||!Pv&&T3(e,t)?(e=O3(),gf=Iv=Ha=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I3&&t.locale!=="ko"?null:t.data;default:return null}}var f5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f5[e.type]:t==="textarea"}function P3(e,t,r,n){l3(n),t=Rf(t,"onChange"),0<t.length&&(r=new Tv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Lu=null,nc=null;function h5(e){W3(e,0)}function Yh(e){var t=Ks(e);if(t3(t))return e}function p5(e,t){if(e==="change")return t}var k3=!1;if(sa){var eg;if(sa){var tg="oninput"in document;if(!tg){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),tg=typeof Fb.oninput=="function"}eg=tg}else eg=!1;k3=eg&&(!document.documentMode||9<document.documentMode)}function $b(){Lu&&(Lu.detachEvent("onpropertychange",D3),nc=Lu=null)}function D3(e){if(e.propertyName==="value"&&Yh(nc)){var t=[];P3(t,nc,e,Av(e)),f3(h5,t)}}function g5(e,t,r){e==="focusin"?($b(),Lu=t,nc=r,Lu.attachEvent("onpropertychange",D3)):e==="focusout"&&$b()}function m5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yh(nc)}function v5(e,t){if(e==="click")return Yh(t)}function y5(e,t){if(e==="input"||e==="change")return Yh(t)}function x5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _i=typeof Object.is=="function"?Object.is:x5;function ic(e,t){if(_i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!s1.call(t,i)||!_i(e[i],t[i]))return!1}return!0}function Ub(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wb(e,t){var r=Ub(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ub(r)}}function R3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?R3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function M3(){for(var e=window,t=Of();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Of(e.document)}return t}function kv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w5(e){var t=M3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&R3(r.ownerDocument.documentElement,r)){if(n!==null&&kv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Wb(r,a);var s=Wb(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b5=sa&&"documentMode"in document&&11>=document.documentMode,Hs=null,_1=null,Fu=null,O1=!1;function zb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;O1||Hs==null||Hs!==Of(n)||(n=Hs,"selectionStart"in n&&kv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fu&&ic(Fu,n)||(Fu=n,n=Rf(_1,"onSelect"),0<n.length&&(t=new Tv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hs)))}function Dd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vs={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},rg={},j3={};sa&&(j3=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Zh(e){if(rg[e])return rg[e];if(!Vs[e])return e;var t=Vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in j3)return rg[e]=t[r];return e}var B3=Zh("animationend"),L3=Zh("animationiteration"),F3=Zh("animationstart"),$3=Zh("transitionend"),U3=new Map,Gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(e,t){U3.set(e,t),fs(t,[e])}for(var ng=0;ng<Gb.length;ng++){var ig=Gb[ng],E5=ig.toLowerCase(),A5=ig[0].toUpperCase()+ig.slice(1);co(E5,"on"+A5)}co(B3,"onAnimationEnd");co(L3,"onAnimationIteration");co(F3,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co($3,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pu));function Hb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,E6(n,t,void 0,e),e.currentTarget=null}function W3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var u=n[s],d=u.instance,h=u.currentTarget;if(u=u.listener,d!==a&&i.isPropagationStopped())break e;Hb(i,u,h),a=d}else for(s=0;s<n.length;s++){if(u=n[s],d=u.instance,h=u.currentTarget,u=u.listener,d!==a&&i.isPropagationStopped())break e;Hb(i,u,h),a=d}}}if(Tf)throw e=E1,Tf=!1,E1=null,e}function _t(e,t){var r=t[k1];r===void 0&&(r=t[k1]=new Set);var n=e+"__bubble";r.has(n)||(z3(t,e,2,!1),r.add(n))}function ag(e,t,r){var n=0;t&&(n|=4),z3(r,e,n,t)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[Rd]){e[Rd]=!0,YC.forEach(function(r){r!=="selectionchange"&&(S5.has(r)||ag(r,!1,e),ag(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rd]||(t[Rd]=!0,ag("selectionchange",!1,t))}}function z3(e,t,r,n){switch(_3(t)){case 1:var i=L6;break;case 4:i=F6;break;default:i=Ov}r=i.bind(null,t,r,e),i=void 0,!b1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function og(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;u!==null;){if(s=Lo(u),s===null)return;if(d=s.tag,d===5||d===6){n=a=s;continue e}u=u.parentNode}}n=n.return}f3(function(){var h=a,p=Av(r),v=[];e:{var y=U3.get(e);if(y!==void 0){var w=Tv,A=e;switch(e){case"keypress":if(mf(r)===0)break e;case"keydown":case"keyup":w=e5;break;case"focusin":A="focus",w=Jp;break;case"focusout":A="blur",w=Jp;break;case"beforeblur":case"afterblur":w=Jp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=W6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=n5;break;case B3:case L3:case F3:w=H6;break;case $3:w=a5;break;case"scroll":w=$6;break;case"wheel":w=s5;break;case"copy":case"cut":case"paste":w=K6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Mb}var C=(t&4)!==0,O=!C&&e==="scroll",_=C?y!==null?y+"Capture":null:y;C=[];for(var I=h,T;I!==null;){T=I;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,_!==null&&(D=Ju(I,_),D!=null&&C.push(oc(I,D,T)))),O)break;I=I.return}0<C.length&&(y=new w(y,A,null,r,p),v.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",y&&r!==x1&&(A=r.relatedTarget||r.fromElement)&&(Lo(A)||A[la]))break e;if((w||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,w?(A=r.relatedTarget||r.toElement,w=h,A=A?Lo(A):null,A!==null&&(O=hs(A),A!==O||A.tag!==5&&A.tag!==6)&&(A=null)):(w=null,A=h),w!==A)){if(C=Db,D="onMouseLeave",_="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(C=Mb,D="onPointerLeave",_="onPointerEnter",I="pointer"),O=w==null?y:Ks(w),T=A==null?y:Ks(A),y=new C(D,I+"leave",w,r,p),y.target=O,y.relatedTarget=T,D=null,Lo(p)===h&&(C=new C(_,I+"enter",A,r,p),C.target=T,C.relatedTarget=O,D=C),O=D,w&&A)t:{for(C=w,_=A,I=0,T=C;T;T=Ps(T))I++;for(T=0,D=_;D;D=Ps(D))T++;for(;0<I-T;)C=Ps(C),I--;for(;0<T-I;)_=Ps(_),T--;for(;I--;){if(C===_||_!==null&&C===_.alternate)break t;C=Ps(C),_=Ps(_)}C=null}else C=null;w!==null&&Vb(v,y,w,C,!1),A!==null&&O!==null&&Vb(v,O,A,C,!0)}}e:{if(y=h?Ks(h):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var M=p5;else if(Lb(y))if(k3)M=y5;else{M=m5;var j=g5}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(M=v5);if(M&&(M=M(e,h))){P3(v,M,r,p);break e}j&&j(e,y,h),e==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&p1(y,"number",y.value)}switch(j=h?Ks(h):window,e){case"focusin":(Lb(j)||j.contentEditable==="true")&&(Hs=j,_1=h,Fu=null);break;case"focusout":Fu=_1=Hs=null;break;case"mousedown":O1=!0;break;case"contextmenu":case"mouseup":case"dragend":O1=!1,zb(v,r,p);break;case"selectionchange":if(b5)break;case"keydown":case"keyup":zb(v,r,p)}var L;if(Pv)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Gs?T3(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(I3&&r.locale!=="ko"&&(Gs||z!=="onCompositionStart"?z==="onCompositionEnd"&&Gs&&(L=O3()):(Ha=p,Iv="value"in Ha?Ha.value:Ha.textContent,Gs=!0)),j=Rf(h,z),0<j.length&&(z=new Rb(z,e,null,r,p),v.push({event:z,listeners:j}),L?z.data=L:(L=N3(r),L!==null&&(z.data=L)))),(L=u5?c5(e,r):d5(e,r))&&(h=Rf(h,"onBeforeInput"),0<h.length&&(p=new Rb("onBeforeInput","beforeinput",null,r,p),v.push({event:p,listeners:h}),p.data=L))}W3(v,t)})}function oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ju(e,r),a!=null&&n.unshift(oc(e,a,i)),a=Ju(e,t),a!=null&&n.push(oc(e,a,i))),e=e.return}return n}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vb(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var u=r,d=u.alternate,h=u.stateNode;if(d!==null&&d===n)break;u.tag===5&&h!==null&&(u=h,i?(d=Ju(r,a),d!=null&&s.unshift(oc(r,d,u))):i||(d=Ju(r,a),d!=null&&s.push(oc(r,d,u)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var C5=/\r\n?/g,_5=/\u0000|\uFFFD/g;function Kb(e){return(typeof e=="string"?e:""+e).replace(C5,`
`).replace(_5,"")}function Md(e,t,r){if(t=Kb(t),Kb(e)!==t&&r)throw Error(le(425))}function Mf(){}var I1=null,T1=null;function N1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var P1=typeof setTimeout=="function"?setTimeout:void 0,O5=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,I5=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(e){return qb.resolve(null).then(e).catch(T5)}:P1;function T5(e){setTimeout(function(){throw e})}function sg(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);rc(t)}function Ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Li="__reactFiber$"+jl,sc="__reactProps$"+jl,la="__reactContainer$"+jl,k1="__reactEvents$"+jl,N5="__reactListeners$"+jl,P5="__reactHandles$"+jl;function Lo(e){var t=e[Li];if(t)return t;for(var r=e.parentNode;r;){if(t=r[la]||r[Li]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xb(e);e!==null;){if(r=e[Li])return r;e=Xb(e)}return t}e=r,r=e.parentNode}return null}function Mc(e){return e=e[Li]||e[la],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Qh(e){return e[sc]||null}var D1=[],qs=-1;function fo(e){return{current:e}}function Tt(e){0>qs||(e.current=D1[qs],D1[qs]=null,qs--)}function St(e,t){qs++,D1[qs]=e.current,e.current=t}var oo={},Gr=fo(oo),gn=fo(!1),es=oo;function fl(e,t){var r=e.type.contextTypes;if(!r)return oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mn(e){return e=e.childContextTypes,e!=null}function jf(){Tt(gn),Tt(Gr)}function Yb(e,t,r){if(Gr.current!==oo)throw Error(le(168));St(Gr,t),St(gn,r)}function G3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(le(108,g6(e)||"Unknown",i));return Lt({},r,n)}function Bf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,es=Gr.current,St(Gr,e),St(gn,gn.current),!0}function Zb(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=G3(e,t,es),n.__reactInternalMemoizedMergedChildContext=e,Tt(gn),Tt(Gr),St(Gr,e)):Tt(gn),St(gn,r)}var Zi=null,Jh=!1,lg=!1;function H3(e){Zi===null?Zi=[e]:Zi.push(e)}function k5(e){Jh=!0,H3(e)}function ho(){if(!lg&&Zi!==null){lg=!0;var e=0,t=ct;try{var r=Zi;for(ct=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zi=null,Jh=!1}catch(i){throw Zi!==null&&(Zi=Zi.slice(e+1)),m3(Sv,ho),i}finally{ct=t,lg=!1}}return null}var Xs=[],Ys=0,Lf=null,Ff=0,Zn=[],Qn=0,ts=null,ea=1,ta="";function No(e,t){Xs[Ys++]=Ff,Xs[Ys++]=Lf,Lf=e,Ff=t}function V3(e,t,r){Zn[Qn++]=ea,Zn[Qn++]=ta,Zn[Qn++]=ts,ts=e;var n=ea;e=ta;var i=32-Si(n)-1;n&=~(1<<i),r+=1;var a=32-Si(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ea=1<<32-Si(t)+i|r<<i|n,ta=a+e}else ea=1<<a|r<<i|n,ta=e}function Dv(e){e.return!==null&&(No(e,1),V3(e,1,0))}function Rv(e){for(;e===Lf;)Lf=Xs[--Ys],Xs[Ys]=null,Ff=Xs[--Ys],Xs[Ys]=null;for(;e===ts;)ts=Zn[--Qn],Zn[Qn]=null,ta=Zn[--Qn],Zn[Qn]=null,ea=Zn[--Qn],Zn[Qn]=null}var Tn=null,On=null,Pt=!1,wi=null;function K3(e,t){var r=ei(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tn=e,On=Ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tn=e,On=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ts!==null?{id:ea,overflow:ta}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ei(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tn=e,On=null,!0):!1;default:return!1}}function R1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function M1(e){if(Pt){var t=On;if(t){var r=t;if(!Qb(e,t)){if(R1(e))throw Error(le(418));t=Ya(r.nextSibling);var n=Tn;t&&Qb(e,t)?K3(n,r):(e.flags=e.flags&-4097|2,Pt=!1,Tn=e)}}else{if(R1(e))throw Error(le(418));e.flags=e.flags&-4097|2,Pt=!1,Tn=e}}}function Jb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tn=e}function jd(e){if(e!==Tn)return!1;if(!Pt)return Jb(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N1(e.type,e.memoizedProps)),t&&(t=On)){if(R1(e))throw q3(),Error(le(418));for(;t;)K3(e,t),t=Ya(t.nextSibling)}if(Jb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){On=Ya(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}On=null}}else On=Tn?Ya(e.stateNode.nextSibling):null;return!0}function q3(){for(var e=On;e;)e=Ya(e.nextSibling)}function hl(){On=Tn=null,Pt=!1}function Mv(e){wi===null?wi=[e]:wi.push(e)}var D5=ma.ReactCurrentBatchConfig;function du(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var u=i.refs;s===null?delete u[a]:u[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Bd(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function e2(e){var t=e._init;return t(e._payload)}function X3(e){function t(_,I){if(e){var T=_.deletions;T===null?(_.deletions=[I],_.flags|=16):T.push(I)}}function r(_,I){if(!e)return null;for(;I!==null;)t(_,I),I=I.sibling;return null}function n(_,I){for(_=new Map;I!==null;)I.key!==null?_.set(I.key,I):_.set(I.index,I),I=I.sibling;return _}function i(_,I){return _=eo(_,I),_.index=0,_.sibling=null,_}function a(_,I,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<I?(_.flags|=2,I):T):(_.flags|=2,I)):(_.flags|=1048576,I)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function u(_,I,T,D){return I===null||I.tag!==6?(I=gg(T,_.mode,D),I.return=_,I):(I=i(I,T),I.return=_,I)}function d(_,I,T,D){var M=T.type;return M===zs?p(_,I,T.props.children,D,T.key):I!==null&&(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ma&&e2(M)===I.type)?(D=i(I,T.props),D.ref=du(_,I,T),D.return=_,D):(D=Af(T.type,T.key,T.props,null,_.mode,D),D.ref=du(_,I,T),D.return=_,D)}function h(_,I,T,D){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=mg(T,_.mode,D),I.return=_,I):(I=i(I,T.children||[]),I.return=_,I)}function p(_,I,T,D,M){return I===null||I.tag!==7?(I=qo(T,_.mode,D,M),I.return=_,I):(I=i(I,T),I.return=_,I)}function v(_,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=gg(""+I,_.mode,T),I.return=_,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _d:return T=Af(I.type,I.key,I.props,null,_.mode,T),T.ref=du(_,null,I),T.return=_,T;case Ws:return I=mg(I,_.mode,T),I.return=_,I;case Ma:var D=I._init;return v(_,D(I._payload),T)}if(Tu(I)||ou(I))return I=qo(I,_.mode,T,null),I.return=_,I;Bd(_,I)}return null}function y(_,I,T,D){var M=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:u(_,I,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _d:return T.key===M?d(_,I,T,D):null;case Ws:return T.key===M?h(_,I,T,D):null;case Ma:return M=T._init,y(_,I,M(T._payload),D)}if(Tu(T)||ou(T))return M!==null?null:p(_,I,T,D,null);Bd(_,T)}return null}function w(_,I,T,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(T)||null,u(I,_,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _d:return _=_.get(D.key===null?T:D.key)||null,d(I,_,D,M);case Ws:return _=_.get(D.key===null?T:D.key)||null,h(I,_,D,M);case Ma:var j=D._init;return w(_,I,T,j(D._payload),M)}if(Tu(D)||ou(D))return _=_.get(T)||null,p(I,_,D,M,null);Bd(I,D)}return null}function A(_,I,T,D){for(var M=null,j=null,L=I,z=I=0,U=null;L!==null&&z<T.length;z++){L.index>z?(U=L,L=null):U=L.sibling;var J=y(_,L,T[z],D);if(J===null){L===null&&(L=U);break}e&&L&&J.alternate===null&&t(_,L),I=a(J,I,z),j===null?M=J:j.sibling=J,j=J,L=U}if(z===T.length)return r(_,L),Pt&&No(_,z),M;if(L===null){for(;z<T.length;z++)L=v(_,T[z],D),L!==null&&(I=a(L,I,z),j===null?M=L:j.sibling=L,j=L);return Pt&&No(_,z),M}for(L=n(_,L);z<T.length;z++)U=w(L,_,z,T[z],D),U!==null&&(e&&U.alternate!==null&&L.delete(U.key===null?z:U.key),I=a(U,I,z),j===null?M=U:j.sibling=U,j=U);return e&&L.forEach(function(X){return t(_,X)}),Pt&&No(_,z),M}function C(_,I,T,D){var M=ou(T);if(typeof M!="function")throw Error(le(150));if(T=M.call(T),T==null)throw Error(le(151));for(var j=M=null,L=I,z=I=0,U=null,J=T.next();L!==null&&!J.done;z++,J=T.next()){L.index>z?(U=L,L=null):U=L.sibling;var X=y(_,L,J.value,D);if(X===null){L===null&&(L=U);break}e&&L&&X.alternate===null&&t(_,L),I=a(X,I,z),j===null?M=X:j.sibling=X,j=X,L=U}if(J.done)return r(_,L),Pt&&No(_,z),M;if(L===null){for(;!J.done;z++,J=T.next())J=v(_,J.value,D),J!==null&&(I=a(J,I,z),j===null?M=J:j.sibling=J,j=J);return Pt&&No(_,z),M}for(L=n(_,L);!J.done;z++,J=T.next())J=w(L,_,z,J.value,D),J!==null&&(e&&J.alternate!==null&&L.delete(J.key===null?z:J.key),I=a(J,I,z),j===null?M=J:j.sibling=J,j=J);return e&&L.forEach(function(q){return t(_,q)}),Pt&&No(_,z),M}function O(_,I,T,D){if(typeof T=="object"&&T!==null&&T.type===zs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case _d:e:{for(var M=T.key,j=I;j!==null;){if(j.key===M){if(M=T.type,M===zs){if(j.tag===7){r(_,j.sibling),I=i(j,T.props.children),I.return=_,_=I;break e}}else if(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ma&&e2(M)===j.type){r(_,j.sibling),I=i(j,T.props),I.ref=du(_,j,T),I.return=_,_=I;break e}r(_,j);break}else t(_,j);j=j.sibling}T.type===zs?(I=qo(T.props.children,_.mode,D,T.key),I.return=_,_=I):(D=Af(T.type,T.key,T.props,null,_.mode,D),D.ref=du(_,I,T),D.return=_,_=D)}return s(_);case Ws:e:{for(j=T.key;I!==null;){if(I.key===j)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){r(_,I.sibling),I=i(I,T.children||[]),I.return=_,_=I;break e}else{r(_,I);break}else t(_,I);I=I.sibling}I=mg(T,_.mode,D),I.return=_,_=I}return s(_);case Ma:return j=T._init,O(_,I,j(T._payload),D)}if(Tu(T))return A(_,I,T,D);if(ou(T))return C(_,I,T,D);Bd(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(r(_,I.sibling),I=i(I,T),I.return=_,_=I):(r(_,I),I=gg(T,_.mode,D),I.return=_,_=I),s(_)):r(_,I)}return O}var pl=X3(!0),Y3=X3(!1),$f=fo(null),Uf=null,Zs=null,jv=null;function Bv(){jv=Zs=Uf=null}function Lv(e){var t=$f.current;Tt($f),e._currentValue=t}function j1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function sl(e,t){Uf=e,jv=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function ai(e){var t=e._currentValue;if(jv!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(Uf===null)throw Error(le(308));Zs=e,Uf.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var Fo=null;function Fv(e){Fo===null?Fo=[e]:Fo.push(e)}function Z3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Fv(t)):(r.next=i.next,i.next=r),t.interleaved=r,ua(e,n)}function ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ja=!1;function $v(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Za(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ua(e,r)}return i=n.interleaved,i===null?(t.next=t,Fv(n)):(t.next=i.next,i.next=t),n.interleaved=t,ua(e,r)}function vf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cv(e,r)}}function t2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wf(e,t,r,n){var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,h=d.next;d.next=null,s===null?a=h:s.next=h,s=d;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==s&&(u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=d))}if(a!==null){var v=i.baseState;s=0,p=h=d=null,u=a;do{var y=u.lane,w=u.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,C=u;switch(y=t,w=r,C.tag){case 1:if(A=C.payload,typeof A=="function"){v=A.call(w,v,y);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,y=typeof A=="function"?A.call(w,v,y):A,y==null)break e;v=Lt({},v,y);break e;case 2:ja=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[u]:y.push(u))}else w={eventTime:w,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(h=p=w,d=v):p=p.next=w,s|=y;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;y=u,u=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(d=v),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ns|=s,e.lanes=s,e.memoizedState=v}}function r2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var jc={},Ui=fo(jc),lc=fo(jc),uc=fo(jc);function $o(e){if(e===jc)throw Error(le(174));return e}function Uv(e,t){switch(St(uc,t),St(lc,e),St(Ui,jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m1(t,e)}Tt(Ui),St(Ui,t)}function gl(){Tt(Ui),Tt(lc),Tt(uc)}function J3(e){$o(uc.current);var t=$o(Ui.current),r=m1(t,e.type);t!==r&&(St(lc,e),St(Ui,r))}function Wv(e){lc.current===e&&(Tt(Ui),Tt(lc))}var jt=fo(0);function zf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ug=[];function zv(){for(var e=0;e<ug.length;e++)ug[e]._workInProgressVersionPrimary=null;ug.length=0}var yf=ma.ReactCurrentDispatcher,cg=ma.ReactCurrentBatchConfig,rs=0,Bt=null,or=null,gr=null,Gf=!1,$u=!1,cc=0,R5=0;function Br(){throw Error(le(321))}function Gv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_i(e[r],t[r]))return!1;return!0}function Hv(e,t,r,n,i,a){if(rs=a,Bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?L5:F5,e=r(n,i),$u){a=0;do{if($u=!1,cc=0,25<=a)throw Error(le(301));a+=1,gr=or=null,t.updateQueue=null,yf.current=$5,e=r(n,i)}while($u)}if(yf.current=Hf,t=or!==null&&or.next!==null,rs=0,gr=or=Bt=null,Gf=!1,t)throw Error(le(300));return e}function Vv(){var e=cc!==0;return cc=0,e}function Bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Bt.memoizedState=gr=e:gr=gr.next=e,gr}function oi(){if(or===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var t=gr===null?Bt.memoizedState:gr.next;if(t!==null)gr=t,or=e;else{if(e===null)throw Error(le(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},gr===null?Bt.memoizedState=gr=e:gr=gr.next=e}return gr}function dc(e,t){return typeof t=="function"?t(e):t}function dg(e){var t=oi(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=or,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=s=null,d=null,h=a;do{var p=h.lane;if((rs&p)===p)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(u=d=v,s=n):d=d.next=v,Bt.lanes|=p,ns|=p}h=h.next}while(h!==null&&h!==a);d===null?s=n:d.next=u,_i(n,t.memoizedState)||(hn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Bt.lanes|=a,ns|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fg(e){var t=oi(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);_i(a,t.memoizedState)||(hn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function e_(){}function t_(e,t){var r=Bt,n=oi(),i=t(),a=!_i(n.memoizedState,i);if(a&&(n.memoizedState=i,hn=!0),n=n.queue,Kv(i_.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||gr!==null&&gr.memoizedState.tag&1){if(r.flags|=2048,fc(9,n_.bind(null,r,n,i,t),void 0,null),vr===null)throw Error(le(349));rs&30||r_(r,t,i)}return i}function r_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n_(e,t,r,n){t.value=r,t.getSnapshot=n,a_(t)&&o_(e)}function i_(e,t,r){return r(function(){a_(t)&&o_(e)})}function a_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_i(e,r)}catch{return!0}}function o_(e){var t=ua(e,1);t!==null&&Ci(t,e,1,-1)}function n2(e){var t=Bi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:e},t.queue=e,e=e.dispatch=B5.bind(null,Bt,e),[t.memoizedState,e]}function fc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s_(){return oi().memoizedState}function xf(e,t,r,n){var i=Bi();Bt.flags|=e,i.memoizedState=fc(1|t,r,void 0,n===void 0?null:n)}function e0(e,t,r,n){var i=oi();n=n===void 0?null:n;var a=void 0;if(or!==null){var s=or.memoizedState;if(a=s.destroy,n!==null&&Gv(n,s.deps)){i.memoizedState=fc(t,r,a,n);return}}Bt.flags|=e,i.memoizedState=fc(1|t,r,a,n)}function i2(e,t){return xf(8390656,8,e,t)}function Kv(e,t){return e0(2048,8,e,t)}function l_(e,t){return e0(4,2,e,t)}function u_(e,t){return e0(4,4,e,t)}function c_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d_(e,t,r){return r=r!=null?r.concat([e]):null,e0(4,4,c_.bind(null,t,e),r)}function qv(){}function f_(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function h_(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p_(e,t,r){return rs&21?(_i(r,t)||(r=x3(),Bt.lanes|=r,ns|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=r)}function M5(e,t){var r=ct;ct=r!==0&&4>r?r:4,e(!0);var n=cg.transition;cg.transition={};try{e(!1),t()}finally{ct=r,cg.transition=n}}function g_(){return oi().memoizedState}function j5(e,t,r){var n=Ja(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},m_(e))v_(t,r);else if(r=Z3(e,t,r,n),r!==null){var i=Zr();Ci(r,e,n,i),y_(r,t,n)}}function B5(e,t,r){var n=Ja(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(m_(e))v_(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,u=a(s,r);if(i.hasEagerState=!0,i.eagerState=u,_i(u,s)){var d=t.interleaved;d===null?(i.next=i,Fv(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=Z3(e,t,i,n),r!==null&&(i=Zr(),Ci(r,e,n,i),y_(r,t,n))}}function m_(e){var t=e.alternate;return e===Bt||t!==null&&t===Bt}function v_(e,t){$u=Gf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function y_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cv(e,r)}}var Hf={readContext:ai,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},L5={readContext:ai,useCallback:function(e,t){return Bi().memoizedState=[e,t===void 0?null:t],e},useContext:ai,useEffect:i2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xf(4194308,4,c_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return xf(4,2,e,t)},useMemo:function(e,t){var r=Bi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=j5.bind(null,Bt,e),[n.memoizedState,e]},useRef:function(e){var t=Bi();return e={current:e},t.memoizedState=e},useState:n2,useDebugValue:qv,useDeferredValue:function(e){return Bi().memoizedState=e},useTransition:function(){var e=n2(!1),t=e[0];return e=M5.bind(null,e[1]),Bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bt,i=Bi();if(Pt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),vr===null)throw Error(le(349));rs&30||r_(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,i2(i_.bind(null,n,a,e),[e]),n.flags|=2048,fc(9,n_.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Bi(),t=vr.identifierPrefix;if(Pt){var r=ta,n=ea;r=(n&~(1<<32-Si(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=R5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F5={readContext:ai,useCallback:f_,useContext:ai,useEffect:Kv,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:h_,useReducer:dg,useRef:s_,useState:function(){return dg(dc)},useDebugValue:qv,useDeferredValue:function(e){var t=oi();return p_(t,or.memoizedState,e)},useTransition:function(){var e=dg(dc)[0],t=oi().memoizedState;return[e,t]},useMutableSource:e_,useSyncExternalStore:t_,useId:g_,unstable_isNewReconciler:!1},$5={readContext:ai,useCallback:f_,useContext:ai,useEffect:Kv,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:h_,useReducer:fg,useRef:s_,useState:function(){return fg(dc)},useDebugValue:qv,useDeferredValue:function(e){var t=oi();return or===null?t.memoizedState=e:p_(t,or.memoizedState,e)},useTransition:function(){var e=fg(dc)[0],t=oi().memoizedState;return[e,t]},useMutableSource:e_,useSyncExternalStore:t_,useId:g_,unstable_isNewReconciler:!1};function vi(e,t){if(e&&e.defaultProps){t=Lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function B1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var t0={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zr(),i=Ja(e),a=ia(n,i);a.payload=t,r!=null&&(a.callback=r),t=Za(e,a,i),t!==null&&(Ci(t,e,i,n),vf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zr(),i=Ja(e),a=ia(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Za(e,a,i),t!==null&&(Ci(t,e,i,n),vf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zr(),n=Ja(e),i=ia(r,n);i.tag=2,t!=null&&(i.callback=t),t=Za(e,i,n),t!==null&&(Ci(t,e,n,r),vf(t,e,n))}};function a2(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!ic(r,n)||!ic(i,a):!0}function x_(e,t,r){var n=!1,i=oo,a=t.contextType;return typeof a=="object"&&a!==null?a=ai(a):(i=mn(t)?es:Gr.current,n=t.contextTypes,a=(n=n!=null)?fl(e,i):oo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=t0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function o2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&t0.enqueueReplaceState(t,t.state,null)}function L1(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$v(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ai(a):(a=mn(t)?es:Gr.current,i.context=fl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(B1(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&t0.enqueueReplaceState(i,i.state,null),Wf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ml(e,t){try{var r="",n=t;do r+=p6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function hg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function F1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var U5=typeof WeakMap=="function"?WeakMap:Map;function w_(e,t,r){r=ia(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kf||(Kf=!0,X1=n),F1(e,t)},r}function b_(e,t,r){r=ia(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){F1(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){F1(e,t),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function s2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new U5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=tD.bind(null,e,t,r),t.then(e,e))}function l2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ia(-1,1),t.tag=2,Za(r,t,1))),r.lanes|=1),e)}var W5=ma.ReactCurrentOwner,hn=!1;function qr(e,t,r,n){t.child=e===null?Y3(t,null,r,n):pl(t,e.child,r,n)}function c2(e,t,r,n,i){r=r.render;var a=t.ref;return sl(t,i),n=Hv(e,t,r,n,a,i),r=Vv(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ca(e,t,i)):(Pt&&r&&Dv(t),t.flags|=1,qr(e,t,n,i),t.child)}function d2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!ry(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,E_(e,t,a,n,i)):(e=Af(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ic,r(s,n)&&e.ref===t.ref)return ca(e,t,i)}return t.flags|=1,e=eo(a,n),e.ref=t.ref,e.return=t,t.child=e}function E_(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ic(a,n)&&e.ref===t.ref)if(hn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,ca(e,t,i)}return $1(e,t,r,n,i)}function A_(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Js,An),An|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(Js,An),An|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,St(Js,An),An|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,St(Js,An),An|=n;return qr(e,t,i,r),t.child}function S_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $1(e,t,r,n,i){var a=mn(r)?es:Gr.current;return a=fl(t,a),sl(t,i),r=Hv(e,t,r,n,a,i),n=Vv(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ca(e,t,i)):(Pt&&n&&Dv(t),t.flags|=1,qr(e,t,r,i),t.child)}function f2(e,t,r,n,i){if(mn(r)){var a=!0;Bf(t)}else a=!1;if(sl(t,i),t.stateNode===null)wf(e,t),x_(t,r,n),L1(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var d=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=ai(h):(h=mn(r)?es:Gr.current,h=fl(t,h));var p=r.getDerivedStateFromProps,v=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==n||d!==h)&&o2(t,s,n,h),ja=!1;var y=t.memoizedState;s.state=y,Wf(t,n,s,i),d=t.memoizedState,u!==n||y!==d||gn.current||ja?(typeof p=="function"&&(B1(t,r,p,n),d=t.memoizedState),(u=ja||a2(t,r,u,n,y,d,h))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=h,n=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Q3(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:vi(t.type,u),s.props=h,v=t.pendingProps,y=s.context,d=r.contextType,typeof d=="object"&&d!==null?d=ai(d):(d=mn(r)?es:Gr.current,d=fl(t,d));var w=r.getDerivedStateFromProps;(p=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==v||y!==d)&&o2(t,s,n,d),ja=!1,y=t.memoizedState,s.state=y,Wf(t,n,s,i);var A=t.memoizedState;u!==v||y!==A||gn.current||ja?(typeof w=="function"&&(B1(t,r,w,n),A=t.memoizedState),(h=ja||a2(t,r,h,n,y,A,d)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,A,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,A,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),s.props=n,s.state=A,s.context=d,n=h):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return U1(e,t,r,n,a,i)}function U1(e,t,r,n,i,a){S_(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Zb(t,r,!1),ca(e,t,a);n=t.stateNode,W5.current=t;var u=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=pl(t,e.child,null,a),t.child=pl(t,null,u,a)):qr(e,t,u,a),t.memoizedState=n.state,i&&Zb(t,r,!0),t.child}function C_(e){var t=e.stateNode;t.pendingContext?Yb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yb(e,t.context,!1),Uv(e,t.containerInfo)}function h2(e,t,r,n,i){return hl(),Mv(i),t.flags|=256,qr(e,t,r,n),t.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function z1(e){return{baseLanes:e,cachePool:null,transitions:null}}function __(e,t,r){var n=t.pendingProps,i=jt.current,a=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),St(jt,i&1),e===null)return M1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=i0(s,n,0,null),e=qo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=z1(r),t.memoizedState=W1,e):Xv(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return z5(e,t,s,n,u,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=eo(i,d),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=eo(u,a):(a=qo(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?z1(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=W1,n}return a=e.child,e=a.sibling,n=eo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xv(e,t){return t=i0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ld(e,t,r,n){return n!==null&&Mv(n),pl(t,e.child,null,r),e=Xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z5(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=hg(Error(le(422))),Ld(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=i0({mode:"visible",children:n.children},i,0,null),a=qo(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&pl(t,e.child,null,s),t.child.memoizedState=z1(s),t.memoizedState=W1,a);if(!(t.mode&1))return Ld(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(le(419)),n=hg(a,n,void 0),Ld(e,t,s,n)}if(u=(s&e.childLanes)!==0,hn||u){if(n=vr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ua(e,i),Ci(n,e,i,-1))}return ty(),n=hg(Error(le(421))),Ld(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rD.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,On=Ya(i.nextSibling),Tn=t,Pt=!0,wi=null,e!==null&&(Zn[Qn++]=ea,Zn[Qn++]=ta,Zn[Qn++]=ts,ea=e.id,ta=e.overflow,ts=t),t=Xv(t,n.children),t.flags|=4096,t)}function p2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),j1(e.return,t,r)}function pg(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function O_(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(qr(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p2(e,r,t);else if(e.tag===19)p2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(St(jt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&zf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),pg(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}pg(t,!0,r,null,a);break;case"together":pg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ca(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=eo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=eo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function G5(e,t,r){switch(t.tag){case 3:C_(t),hl();break;case 5:J3(t);break;case 1:mn(t.type)&&Bf(t);break;case 4:Uv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;St($f,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(St(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?__(e,t,r):(St(jt,jt.current&1),e=ca(e,t,r),e!==null?e.sibling:null);St(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return O_(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,A_(e,t,r)}return ca(e,t,r)}var I_,G1,T_,N_;I_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};G1=function(){};T_=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$o(Ui.current);var a=null;switch(r){case"input":i=f1(e,i),n=f1(e,n),a=[];break;case"select":i=Lt({},i,{value:void 0}),n=Lt({},n,{value:void 0}),a=[];break;case"textarea":i=g1(e,i),n=g1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Mf)}v1(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(s in u)u.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zu.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var d=n[h];if(u=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&d!==u&&(d!=null||u!=null))if(h==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(r||(r={}),r[s]=d[s])}else r||(a||(a=[]),a.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&_t("scroll",e),a||u===d||(a=[])):(a=a||[]).push(h,d))}r&&(a=a||[]).push("style",r);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};N_=function(e,t,r,n){r!==n&&(t.flags|=4)};function fu(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function H5(e,t,r){var n=t.pendingProps;switch(Rv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(t),null;case 1:return mn(t.type)&&jf(),Lr(t),null;case 3:return n=t.stateNode,gl(),Tt(gn),Tt(Gr),zv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wi!==null&&(Q1(wi),wi=null))),G1(e,t),Lr(t),null;case 5:Wv(t);var i=$o(uc.current);if(r=t.type,e!==null&&t.stateNode!=null)T_(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return Lr(t),null}if(e=$o(Ui.current),jd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Li]=t,n[sc]=a,e=(t.mode&1)!==0,r){case"dialog":_t("cancel",n),_t("close",n);break;case"iframe":case"object":case"embed":_t("load",n);break;case"video":case"audio":for(i=0;i<Pu.length;i++)_t(Pu[i],n);break;case"source":_t("error",n);break;case"img":case"image":case"link":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"input":Ab(n,a),_t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},_t("invalid",n);break;case"textarea":Cb(n,a),_t("invalid",n)}v1(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&Md(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Md(n.textContent,u,e),i=["children",""+u]):Zu.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&_t("scroll",n)}switch(r){case"input":Od(n),Sb(n,a,!0);break;case"textarea":Od(n),_b(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Mf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Li]=t,e[sc]=n,I_(e,t,!1,!1),t.stateNode=e;e:{switch(s=y1(r,n),r){case"dialog":_t("cancel",e),_t("close",e),i=n;break;case"iframe":case"object":case"embed":_t("load",e),i=n;break;case"video":case"audio":for(i=0;i<Pu.length;i++)_t(Pu[i],e);i=n;break;case"source":_t("error",e),i=n;break;case"img":case"image":case"link":_t("error",e),_t("load",e),i=n;break;case"details":_t("toggle",e),i=n;break;case"input":Ab(e,n),i=f1(e,n),_t("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Lt({},n,{value:void 0}),_t("invalid",e);break;case"textarea":Cb(e,n),i=g1(e,n),_t("invalid",e);break;default:i=n}v1(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?s3(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&a3(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Qu(e,d):typeof d=="number"&&Qu(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zu.hasOwnProperty(a)?d!=null&&a==="onScroll"&&_t("scroll",e):d!=null&&xv(e,a,d,s))}switch(r){case"input":Od(e),Sb(e,n,!1);break;case"textarea":Od(e),_b(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ao(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?nl(e,!!n.multiple,a,!1):n.defaultValue!=null&&nl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lr(t),null;case 6:if(e&&t.stateNode!=null)N_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=$o(uc.current),$o(Ui.current),jd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Li]=t,(a=n.nodeValue!==r)&&(e=Tn,e!==null))switch(e.tag){case 3:Md(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Md(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Li]=t,t.stateNode=n}return Lr(t),null;case 13:if(Tt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&On!==null&&t.mode&1&&!(t.flags&128))q3(),hl(),t.flags|=98560,a=!1;else if(a=jd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(le(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(le(317));a[Li]=t}else hl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lr(t),a=!1}else wi!==null&&(Q1(wi),wi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?sr===0&&(sr=3):ty())),t.updateQueue!==null&&(t.flags|=4),Lr(t),null);case 4:return gl(),G1(e,t),e===null&&ac(t.stateNode.containerInfo),Lr(t),null;case 10:return Lv(t.type._context),Lr(t),null;case 17:return mn(t.type)&&jf(),Lr(t),null;case 19:if(Tt(jt),a=t.memoizedState,a===null)return Lr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)fu(a,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zf(e),s!==null){for(t.flags|=128,fu(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return St(jt,jt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kt()>vl&&(t.flags|=128,n=!0,fu(a,!1),t.lanes=4194304)}else{if(!n)if(e=zf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Pt)return Lr(t),null}else 2*Kt()-a.renderingStartTime>vl&&r!==1073741824&&(t.flags|=128,n=!0,fu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kt(),t.sibling=null,r=jt.current,St(jt,n?r&1|2:r&1),t):(Lr(t),null);case 22:case 23:return ey(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?An&1073741824&&(Lr(t),t.subtreeFlags&6&&(t.flags|=8192)):Lr(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function V5(e,t){switch(Rv(t),t.tag){case 1:return mn(t.type)&&jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gl(),Tt(gn),Tt(Gr),zv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wv(t),null;case 13:if(Tt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tt(jt),null;case 4:return gl(),null;case 10:return Lv(t.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Fd=!1,Ur=!1,K5=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Qs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zt(e,t,n)}else r.current=null}function H1(e,t,r){try{r()}catch(n){zt(e,t,n)}}var g2=!1;function q5(e,t){if(I1=kf,e=M3(),kv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,u=-1,d=-1,h=0,p=0,v=e,y=null;t:for(;;){for(var w;v!==r||i!==0&&v.nodeType!==3||(u=s+i),v!==a||n!==0&&v.nodeType!==3||(d=s+n),v.nodeType===3&&(s+=v.nodeValue.length),(w=v.firstChild)!==null;)y=v,v=w;for(;;){if(v===e)break t;if(y===r&&++h===i&&(u=s),y===a&&++p===n&&(d=s),(w=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=w}r=u===-1||d===-1?null:{start:u,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(T1={focusedElem:e,selectionRange:r},kf=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,O=A.memoizedState,_=t.stateNode,I=_.getSnapshotBeforeUpdate(t.elementType===t.type?C:vi(t.type,C),O);_.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(D){zt(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return A=g2,g2=!1,A}function Uu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&H1(t,r,a)}i=i.next}while(i!==n)}}function r0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function V1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function P_(e){var t=e.alternate;t!==null&&(e.alternate=null,P_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Li],delete t[sc],delete t[k1],delete t[N5],delete t[P5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k_(e){return e.tag===5||e.tag===3||e.tag===4}function m2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function K1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mf));else if(n!==4&&(e=e.child,e!==null))for(K1(e,t,r),e=e.sibling;e!==null;)K1(e,t,r),e=e.sibling}function q1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(q1(e,t,r),e=e.sibling;e!==null;)q1(e,t,r),e=e.sibling}var Ir=null,yi=!1;function Na(e,t,r){for(r=r.child;r!==null;)D_(e,t,r),r=r.sibling}function D_(e,t,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(qh,r)}catch{}switch(r.tag){case 5:Ur||Qs(r,t);case 6:var n=Ir,i=yi;Ir=null,Na(e,t,r),Ir=n,yi=i,Ir!==null&&(yi?(e=Ir,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ir.removeChild(r.stateNode));break;case 18:Ir!==null&&(yi?(e=Ir,r=r.stateNode,e.nodeType===8?sg(e.parentNode,r):e.nodeType===1&&sg(e,r),rc(e)):sg(Ir,r.stateNode));break;case 4:n=Ir,i=yi,Ir=r.stateNode.containerInfo,yi=!0,Na(e,t,r),Ir=n,yi=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&H1(r,t,s),i=i.next}while(i!==n)}Na(e,t,r);break;case 1:if(!Ur&&(Qs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){zt(r,t,u)}Na(e,t,r);break;case 21:Na(e,t,r);break;case 22:r.mode&1?(Ur=(n=Ur)||r.memoizedState!==null,Na(e,t,r),Ur=n):Na(e,t,r);break;default:Na(e,t,r)}}function v2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new K5),t.forEach(function(n){var i=nD.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function gi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Ir=u.stateNode,yi=!1;break e;case 3:Ir=u.stateNode.containerInfo,yi=!0;break e;case 4:Ir=u.stateNode.containerInfo,yi=!0;break e}u=u.return}if(Ir===null)throw Error(le(160));D_(a,s,i),Ir=null,yi=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){zt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R_(t,e),t=t.sibling}function R_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(t,e),ji(e),n&4){try{Uu(3,e,e.return),r0(3,e)}catch(C){zt(e,e.return,C)}try{Uu(5,e,e.return)}catch(C){zt(e,e.return,C)}}break;case 1:gi(t,e),ji(e),n&512&&r!==null&&Qs(r,r.return);break;case 5:if(gi(t,e),ji(e),n&512&&r!==null&&Qs(r,r.return),e.flags&32){var i=e.stateNode;try{Qu(i,"")}catch(C){zt(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&r3(i,a),y1(u,s);var h=y1(u,a);for(s=0;s<d.length;s+=2){var p=d[s],v=d[s+1];p==="style"?s3(i,v):p==="dangerouslySetInnerHTML"?a3(i,v):p==="children"?Qu(i,v):xv(i,p,v,h)}switch(u){case"input":h1(i,a);break;case"textarea":n3(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?nl(i,!!a.multiple,w,!1):y!==!!a.multiple&&(a.defaultValue!=null?nl(i,!!a.multiple,a.defaultValue,!0):nl(i,!!a.multiple,a.multiple?[]:"",!1))}i[sc]=a}catch(C){zt(e,e.return,C)}}break;case 6:if(gi(t,e),ji(e),n&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){zt(e,e.return,C)}}break;case 3:if(gi(t,e),ji(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rc(t.containerInfo)}catch(C){zt(e,e.return,C)}break;case 4:gi(t,e),ji(e);break;case 13:gi(t,e),ji(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Qv=Kt())),n&4&&v2(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Ur=(h=Ur)||p,gi(t,e),Ur=h):gi(t,e),ji(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(Ae=e,p=e.child;p!==null;){for(v=Ae=p;Ae!==null;){switch(y=Ae,w=y.child,y.tag){case 0:case 11:case 14:case 15:Uu(4,y,y.return);break;case 1:Qs(y,y.return);var A=y.stateNode;if(typeof A.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){zt(n,r,C)}}break;case 5:Qs(y,y.return);break;case 22:if(y.memoizedState!==null){x2(v);continue}}w!==null?(w.return=y,Ae=w):x2(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=v.stateNode,d=v.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=o3("display",s))}catch(C){zt(e,e.return,C)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(C){zt(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:gi(t,e),ji(e),n&4&&v2(e);break;case 21:break;default:gi(t,e),ji(e)}}function ji(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(k_(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qu(i,""),n.flags&=-33);var a=m2(e);q1(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,u=m2(e);K1(e,u,s);break;default:throw Error(le(161))}}catch(d){zt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X5(e,t,r){Ae=e,M_(e)}function M_(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Fd;if(!s){var u=i.alternate,d=u!==null&&u.memoizedState!==null||Ur;u=Fd;var h=Ur;if(Fd=s,(Ur=d)&&!h)for(Ae=i;Ae!==null;)s=Ae,d=s.child,s.tag===22&&s.memoizedState!==null?w2(i):d!==null?(d.return=s,Ae=d):w2(i);for(;a!==null;)Ae=a,M_(a),a=a.sibling;Ae=i,Fd=u,Ur=h}y2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ae=a):y2(e)}}function y2(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||r0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ur)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&r2(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}r2(t,s,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&rc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Ur||t.flags&512&&V1(t)}catch(y){zt(t,t.return,y)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function x2(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function w2(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{r0(4,t)}catch(d){zt(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){zt(t,i,d)}}var a=t.return;try{V1(t)}catch(d){zt(t,a,d)}break;case 5:var s=t.return;try{V1(t)}catch(d){zt(t,s,d)}}}catch(d){zt(t,t.return,d)}if(t===e){Ae=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ae=u;break}Ae=t.return}}var Y5=Math.ceil,Vf=ma.ReactCurrentDispatcher,Yv=ma.ReactCurrentOwner,ni=ma.ReactCurrentBatchConfig,tt=0,vr=null,Qt=null,kr=0,An=0,Js=fo(0),sr=0,hc=null,ns=0,n0=0,Zv=0,Wu=null,dn=null,Qv=0,vl=1/0,Xi=null,Kf=!1,X1=null,Qa=null,$d=!1,Va=null,qf=0,zu=0,Y1=null,bf=-1,Ef=0;function Zr(){return tt&6?Kt():bf!==-1?bf:bf=Kt()}function Ja(e){return e.mode&1?tt&2&&kr!==0?kr&-kr:D5.transition!==null?(Ef===0&&(Ef=x3()),Ef):(e=ct,e!==0||(e=window.event,e=e===void 0?16:_3(e.type)),e):1}function Ci(e,t,r,n){if(50<zu)throw zu=0,Y1=null,Error(le(185));Dc(e,r,n),(!(tt&2)||e!==vr)&&(e===vr&&(!(tt&2)&&(n0|=r),sr===4&&Ua(e,kr)),vn(e,n),r===1&&tt===0&&!(t.mode&1)&&(vl=Kt()+500,Jh&&ho()))}function vn(e,t){var r=e.callbackNode;D6(e,t);var n=Pf(e,e===vr?kr:0);if(n===0)r!==null&&Tb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tb(r),t===1)e.tag===0?k5(b2.bind(null,e)):H3(b2.bind(null,e)),I5(function(){!(tt&6)&&ho()}),r=null;else{switch(w3(n)){case 1:r=Sv;break;case 4:r=v3;break;case 16:r=Nf;break;case 536870912:r=y3;break;default:r=Nf}r=z_(r,j_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function j_(e,t){if(bf=-1,Ef=0,tt&6)throw Error(le(327));var r=e.callbackNode;if(ll()&&e.callbackNode!==r)return null;var n=Pf(e,e===vr?kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xf(e,n);else{t=n;var i=tt;tt|=2;var a=L_();(vr!==e||kr!==t)&&(Xi=null,vl=Kt()+500,Ko(e,t));do try{J5();break}catch(u){B_(e,u)}while(!0);Bv(),Vf.current=a,tt=i,Qt!==null?t=0:(vr=null,kr=0,t=sr)}if(t!==0){if(t===2&&(i=A1(e),i!==0&&(n=i,t=Z1(e,i))),t===1)throw r=hc,Ko(e,0),Ua(e,n),vn(e,Kt()),r;if(t===6)Ua(e,n);else{if(i=e.current.alternate,!(n&30)&&!Z5(i)&&(t=Xf(e,n),t===2&&(a=A1(e),a!==0&&(n=a,t=Z1(e,a))),t===1))throw r=hc,Ko(e,0),Ua(e,n),vn(e,Kt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:Po(e,dn,Xi);break;case 3:if(Ua(e,n),(n&130023424)===n&&(t=Qv+500-Kt(),10<t)){if(Pf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=P1(Po.bind(null,e,dn,Xi),t);break}Po(e,dn,Xi);break;case 4:if(Ua(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Si(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y5(n/1960))-n,10<n){e.timeoutHandle=P1(Po.bind(null,e,dn,Xi),n);break}Po(e,dn,Xi);break;case 5:Po(e,dn,Xi);break;default:throw Error(le(329))}}}return vn(e,Kt()),e.callbackNode===r?j_.bind(null,e):null}function Z1(e,t){var r=Wu;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=Xf(e,t),e!==2&&(t=dn,dn=r,t!==null&&Q1(t)),e}function Q1(e){dn===null?dn=e:dn.push.apply(dn,e)}function Z5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!_i(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t){for(t&=~Zv,t&=~n0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Si(t),n=1<<r;e[r]=-1,t&=~n}}function b2(e){if(tt&6)throw Error(le(327));ll();var t=Pf(e,0);if(!(t&1))return vn(e,Kt()),null;var r=Xf(e,t);if(e.tag!==0&&r===2){var n=A1(e);n!==0&&(t=n,r=Z1(e,n))}if(r===1)throw r=hc,Ko(e,0),Ua(e,t),vn(e,Kt()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Po(e,dn,Xi),vn(e,Kt()),null}function Jv(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(vl=Kt()+500,Jh&&ho())}}function is(e){Va!==null&&Va.tag===0&&!(tt&6)&&ll();var t=tt;tt|=1;var r=ni.transition,n=ct;try{if(ni.transition=null,ct=1,e)return e()}finally{ct=n,ni.transition=r,tt=t,!(tt&6)&&ho()}}function ey(){An=Js.current,Tt(Js)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,O5(r)),Qt!==null)for(r=Qt.return;r!==null;){var n=r;switch(Rv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jf();break;case 3:gl(),Tt(gn),Tt(Gr),zv();break;case 5:Wv(n);break;case 4:gl();break;case 13:Tt(jt);break;case 19:Tt(jt);break;case 10:Lv(n.type._context);break;case 22:case 23:ey()}r=r.return}if(vr=e,Qt=e=eo(e.current,null),kr=An=t,sr=0,hc=null,Zv=n0=ns=0,dn=Wu=null,Fo!==null){for(t=0;t<Fo.length;t++)if(r=Fo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Fo=null}return e}function B_(e,t){do{var r=Qt;try{if(Bv(),yf.current=Hf,Gf){for(var n=Bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gf=!1}if(rs=0,gr=or=Bt=null,$u=!1,cc=0,Yv.current=null,r===null||r.return===null){sr=1,hc=t,Qt=null;break}e:{var a=e,s=r.return,u=r,d=t;if(t=kr,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,p=u,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=l2(s);if(w!==null){w.flags&=-257,u2(w,s,u,a,t),w.mode&1&&s2(a,h,t),t=w,d=h;var A=t.updateQueue;if(A===null){var C=new Set;C.add(d),t.updateQueue=C}else A.add(d);break e}else{if(!(t&1)){s2(a,h,t),ty();break e}d=Error(le(426))}}else if(Pt&&u.mode&1){var O=l2(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),u2(O,s,u,a,t),Mv(ml(d,u));break e}}a=d=ml(d,u),sr!==4&&(sr=2),Wu===null?Wu=[a]:Wu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=w_(a,d,t);t2(a,_);break e;case 1:u=d;var I=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Qa===null||!Qa.has(T)))){a.flags|=65536,t&=-t,a.lanes|=t;var D=b_(a,u,t);t2(a,D);break e}}a=a.return}while(a!==null)}$_(r)}catch(M){t=M,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(!0)}function L_(){var e=Vf.current;return Vf.current=Hf,e===null?Hf:e}function ty(){(sr===0||sr===3||sr===2)&&(sr=4),vr===null||!(ns&268435455)&&!(n0&268435455)||Ua(vr,kr)}function Xf(e,t){var r=tt;tt|=2;var n=L_();(vr!==e||kr!==t)&&(Xi=null,Ko(e,t));do try{Q5();break}catch(i){B_(e,i)}while(!0);if(Bv(),tt=r,Vf.current=n,Qt!==null)throw Error(le(261));return vr=null,kr=0,sr}function Q5(){for(;Qt!==null;)F_(Qt)}function J5(){for(;Qt!==null&&!S6();)F_(Qt)}function F_(e){var t=W_(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?$_(e):Qt=t,Yv.current=null}function $_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=V5(r,t),r!==null){r.flags&=32767,Qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Qt=null;return}}else if(r=H5(r,t,An),r!==null){Qt=r;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);sr===0&&(sr=5)}function Po(e,t,r){var n=ct,i=ni.transition;try{ni.transition=null,ct=1,eD(e,t,r,n)}finally{ni.transition=i,ct=n}return null}function eD(e,t,r,n){do ll();while(Va!==null);if(tt&6)throw Error(le(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(R6(e,a),e===vr&&(Qt=vr=null,kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$d||($d=!0,z_(Nf,function(){return ll(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ni.transition,ni.transition=null;var s=ct;ct=1;var u=tt;tt|=4,Yv.current=null,q5(e,r),R_(r,e),w5(T1),kf=!!I1,T1=I1=null,e.current=r,X5(r),C6(),tt=u,ct=s,ni.transition=a}else e.current=r;if($d&&($d=!1,Va=e,qf=i),a=e.pendingLanes,a===0&&(Qa=null),I6(r.stateNode),vn(e,Kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Kf)throw Kf=!1,e=X1,X1=null,e;return qf&1&&e.tag!==0&&ll(),a=e.pendingLanes,a&1?e===Y1?zu++:(zu=0,Y1=e):zu=0,ho(),null}function ll(){if(Va!==null){var e=w3(qf),t=ni.transition,r=ct;try{if(ni.transition=null,ct=16>e?16:e,Va===null)var n=!1;else{if(e=Va,Va=null,qf=0,tt&6)throw Error(le(331));var i=tt;for(tt|=4,Ae=e.current;Ae!==null;){var a=Ae,s=a.child;if(Ae.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var h=u[d];for(Ae=h;Ae!==null;){var p=Ae;switch(p.tag){case 0:case 11:case 15:Uu(8,p,a)}var v=p.child;if(v!==null)v.return=p,Ae=v;else for(;Ae!==null;){p=Ae;var y=p.sibling,w=p.return;if(P_(p),p===h){Ae=null;break}if(y!==null){y.return=w,Ae=y;break}Ae=w}}}var A=a.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var O=C.sibling;C.sibling=null,C=O}while(C!==null)}}Ae=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ae=s;else e:for(;Ae!==null;){if(a=Ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Uu(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,Ae=_;break e}Ae=a.return}}var I=e.current;for(Ae=I;Ae!==null;){s=Ae;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,Ae=T;else e:for(s=I;Ae!==null;){if(u=Ae,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:r0(9,u)}}catch(M){zt(u,u.return,M)}if(u===s){Ae=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,Ae=D;break e}Ae=u.return}}if(tt=i,ho(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(qh,e)}catch{}n=!0}return n}finally{ct=r,ni.transition=t}}return!1}function E2(e,t,r){t=ml(r,t),t=w_(e,t,1),e=Za(e,t,1),t=Zr(),e!==null&&(Dc(e,1,t),vn(e,t))}function zt(e,t,r){if(e.tag===3)E2(e,e,r);else for(;t!==null;){if(t.tag===3){E2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){e=ml(r,e),e=b_(t,e,1),t=Za(t,e,1),e=Zr(),t!==null&&(Dc(t,1,e),vn(t,e));break}}t=t.return}}function tD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zr(),e.pingedLanes|=e.suspendedLanes&r,vr===e&&(kr&r)===r&&(sr===4||sr===3&&(kr&130023424)===kr&&500>Kt()-Qv?Ko(e,0):Zv|=r),vn(e,t)}function U_(e,t){t===0&&(e.mode&1?(t=Nd,Nd<<=1,!(Nd&130023424)&&(Nd=4194304)):t=1);var r=Zr();e=ua(e,t),e!==null&&(Dc(e,t,r),vn(e,r))}function rD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),U_(e,r)}function nD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),U_(e,r)}var W_;W_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hn=!1,G5(e,t,r);hn=!!(e.flags&131072)}else hn=!1,Pt&&t.flags&1048576&&V3(t,Ff,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wf(e,t),e=t.pendingProps;var i=fl(t,Gr.current);sl(t,r),i=Hv(null,t,n,e,i,r);var a=Vv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(n)?(a=!0,Bf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$v(t),i.updater=t0,t.stateNode=i,i._reactInternals=t,L1(t,n,e,r),t=U1(null,t,n,!0,a,r)):(t.tag=0,Pt&&a&&Dv(t),qr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=aD(n),e=vi(n,e),i){case 0:t=$1(null,t,n,e,r);break e;case 1:t=f2(null,t,n,e,r);break e;case 11:t=c2(null,t,n,e,r);break e;case 14:t=d2(null,t,n,vi(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),$1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),f2(e,t,n,i,r);case 3:e:{if(C_(t),e===null)throw Error(le(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Q3(e,t),Wf(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ml(Error(le(423)),t),t=h2(e,t,n,r,i);break e}else if(n!==i){i=ml(Error(le(424)),t),t=h2(e,t,n,r,i);break e}else for(On=Ya(t.stateNode.containerInfo.firstChild),Tn=t,Pt=!0,wi=null,r=Y3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hl(),n===i){t=ca(e,t,r);break e}qr(e,t,n,r)}t=t.child}return t;case 5:return J3(t),e===null&&M1(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,N1(n,i)?s=null:a!==null&&N1(n,a)&&(t.flags|=32),S_(e,t),qr(e,t,s,r),t.child;case 6:return e===null&&M1(t),null;case 13:return __(e,t,r);case 4:return Uv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pl(t,null,n,r):qr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),c2(e,t,n,i,r);case 7:return qr(e,t,t.pendingProps,r),t.child;case 8:return qr(e,t,t.pendingProps.children,r),t.child;case 12:return qr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,St($f,n._currentValue),n._currentValue=s,a!==null)if(_i(a.value,s)){if(a.children===i.children&&!gn.current){t=ca(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){s=a.child;for(var d=u.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=ia(-1,r&-r),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?d.next=d:(d.next=p.next,p.next=d),h.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),j1(a.return,r,t),u.lanes|=r;break}d=d.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(le(341));s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),j1(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}qr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,sl(t,r),i=ai(i),n=n(i),t.flags|=1,qr(e,t,n,r),t.child;case 14:return n=t.type,i=vi(n,t.pendingProps),i=vi(n.type,i),d2(e,t,n,i,r);case 15:return E_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),wf(e,t),t.tag=1,mn(n)?(e=!0,Bf(t)):e=!1,sl(t,r),x_(t,n,i),L1(t,n,i,r),U1(null,t,n,!0,e,r);case 19:return O_(e,t,r);case 22:return A_(e,t,r)}throw Error(le(156,t.tag))};function z_(e,t){return m3(e,t)}function iD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(e,t,r,n){return new iD(e,t,r,n)}function ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aD(e){if(typeof e=="function")return ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bv)return 11;if(e===Ev)return 14}return 2}function eo(e,t){var r=e.alternate;return r===null?(r=ei(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Af(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")ry(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zs:return qo(r.children,i,a,t);case wv:s=8,i|=8;break;case l1:return e=ei(12,r,t,i|2),e.elementType=l1,e.lanes=a,e;case u1:return e=ei(13,r,t,i),e.elementType=u1,e.lanes=a,e;case c1:return e=ei(19,r,t,i),e.elementType=c1,e.lanes=a,e;case JC:return i0(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZC:s=10;break e;case QC:s=9;break e;case bv:s=11;break e;case Ev:s=14;break e;case Ma:s=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ei(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function qo(e,t,r,n){return e=ei(7,e,n,t),e.lanes=r,e}function i0(e,t,r,n){return e=ei(22,e,n,t),e.elementType=JC,e.lanes=r,e.stateNode={isHidden:!1},e}function gg(e,t,r){return e=ei(6,e,null,t),e.lanes=r,e}function mg(e,t,r){return t=ei(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oD(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ny(e,t,r,n,i,a,s,u,d){return e=new oD(e,t,r,u,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ei(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(a),e}function sD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function G_(e){if(!e)return oo;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(mn(r))return G3(e,r,t)}return t}function H_(e,t,r,n,i,a,s,u,d){return e=ny(r,n,!0,e,i,a,s,u,d),e.context=G_(null),r=e.current,n=Zr(),i=Ja(r),a=ia(n,i),a.callback=t??null,Za(r,a,i),e.current.lanes=i,Dc(e,i,n),vn(e,n),e}function a0(e,t,r,n){var i=t.current,a=Zr(),s=Ja(i);return r=G_(r),t.context===null?t.context=r:t.pendingContext=r,t=ia(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Za(i,t,s),e!==null&&(Ci(e,i,s,a),vf(e,i,s)),s}function Yf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iy(e,t){A2(e,t),(e=e.alternate)&&A2(e,t)}function lD(){return null}var V_=typeof reportError=="function"?reportError:function(e){console.error(e)};function ay(e){this._internalRoot=e}o0.prototype.render=ay.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));a0(e,t,null,null)};o0.prototype.unmount=ay.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;is(function(){a0(null,e,null,null)}),t[la]=null}};function o0(e){this._internalRoot=e}o0.prototype.unstable_scheduleHydration=function(e){if(e){var t=A3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$a.length&&t!==0&&t<$a[r].priority;r++);$a.splice(r,0,e),r===0&&C3(e)}};function oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function S2(){}function uD(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var h=Yf(s);a.call(h)}}var s=H_(t,n,e,0,null,!1,!1,"",S2);return e._reactRootContainer=s,e[la]=s.current,ac(e.nodeType===8?e.parentNode:e),is(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var h=Yf(d);u.call(h)}}var d=ny(e,0,!1,null,null,!1,!1,"",S2);return e._reactRootContainer=d,e[la]=d.current,ac(e.nodeType===8?e.parentNode:e),is(function(){a0(t,d,r,n)}),d}function l0(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var u=i;i=function(){var d=Yf(s);u.call(d)}}a0(t,s,e,i)}else s=uD(r,t,e,i,n);return Yf(s)}b3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nu(t.pendingLanes);r!==0&&(Cv(t,r|1),vn(t,Kt()),!(tt&6)&&(vl=Kt()+500,ho()))}break;case 13:is(function(){var n=ua(e,1);if(n!==null){var i=Zr();Ci(n,e,1,i)}}),iy(e,1)}};_v=function(e){if(e.tag===13){var t=ua(e,134217728);if(t!==null){var r=Zr();Ci(t,e,134217728,r)}iy(e,134217728)}};E3=function(e){if(e.tag===13){var t=Ja(e),r=ua(e,t);if(r!==null){var n=Zr();Ci(r,e,t,n)}iy(e,t)}};A3=function(){return ct};S3=function(e,t){var r=ct;try{return ct=e,t()}finally{ct=r}};w1=function(e,t,r){switch(t){case"input":if(h1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Qh(n);if(!i)throw Error(le(90));t3(n),h1(n,i)}}}break;case"textarea":n3(e,r);break;case"select":t=r.value,t!=null&&nl(e,!!r.multiple,t,!1)}};c3=Jv;d3=is;var cD={usingClientEntryPoint:!1,Events:[Mc,Ks,Qh,l3,u3,Jv]},hu={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dD={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p3(e),e===null?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||lD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{qh=Ud.inject(dD),$i=Ud}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cD;Fn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(t))throw Error(le(200));return sD(e,t,null,r)};Fn.createRoot=function(e,t){if(!oy(e))throw Error(le(299));var r=!1,n="",i=V_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ny(e,1,!1,null,null,r,!1,n,i),e[la]=t.current,ac(e.nodeType===8?e.parentNode:e),new ay(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=p3(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return is(e)};Fn.hydrate=function(e,t,r){if(!s0(t))throw Error(le(200));return l0(null,e,t,!0,r)};Fn.hydrateRoot=function(e,t,r){if(!oy(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=V_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=H_(t,null,e,1,r??null,i,!1,a,s),e[la]=t.current,ac(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new o0(t)};Fn.render=function(e,t,r){if(!s0(t))throw Error(le(200));return l0(null,e,t,!1,r)};Fn.unmountComponentAtNode=function(e){if(!s0(e))throw Error(le(40));return e._reactRootContainer?(is(function(){l0(null,null,e,!1,function(){e._reactRootContainer=null,e[la]=null})}),!0):!1};Fn.unstable_batchedUpdates=Jv;Fn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!s0(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return l0(e,t,r,!1,n)};Fn.version="18.3.1-next-f1338f8080-20240426";function K_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K_)}catch(e){console.error(e)}}K_(),KC.exports=Fn;var Bc=KC.exports;const fD=Ln(Bc);var q_,C2=Bc;q_=C2.createRoot,C2.hydrateRoot;let hD={data:""},pD=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||hD,gD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mD=/\/\*[^]*?\*\/|  +/g,_2=/\n+/g,Wa=(e,t)=>{let r="",n="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?Wa(s,a):a+"{"+Wa(s,a[1]=="k"?"":t)+"}":typeof s=="object"?n+=Wa(s,t?t.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Wa.p?Wa.p(a,s):a+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Vi={},X_=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+X_(e[r]);return t}return e},vD=(e,t,r,n,i)=>{let a=X_(e),s=Vi[a]||(Vi[a]=(d=>{let h=0,p=11;for(;h<d.length;)p=101*p+d.charCodeAt(h++)>>>0;return"go"+p})(a));if(!Vi[s]){let d=a!==e?e:(h=>{let p,v,y=[{}];for(;p=gD.exec(h.replace(mD,""));)p[4]?y.shift():p[3]?(v=p[3].replace(_2," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][p[1]]=p[2].replace(_2," ").trim();return y[0]})(e);Vi[s]=Wa(i?{["@keyframes "+s]:d}:d,r?"":"."+s)}let u=r&&Vi.g?Vi.g:null;return r&&(Vi.g=Vi[s]),((d,h,p,v)=>{v?h.data=h.data.replace(v,d):h.data.indexOf(d)===-1&&(h.data=p?d+h.data:h.data+d)})(Vi[s],t,n,u),s},yD=(e,t,r)=>e.reduce((n,i,a)=>{let s=t[a];if(s&&s.call){let u=s(r),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;s=d?"."+d:u&&typeof u=="object"?u.props?"":Wa(u,""):u===!1?"":u}return n+i+(s??"")},"");function u0(e){let t=this||{},r=e.call?e(t.p):e;return vD(r.unshift?r.raw?yD(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,pD(t.target),t.g,t.o,t.k)}let Y_,J1,em;u0.bind({g:1});let da=u0.bind({k:1});function xD(e,t,r,n){Wa.p=t,Y_=e,J1=r,em=n}function po(e,t){let r=this||{};return function(){let n=arguments;function i(a,s){let u=Object.assign({},a),d=u.className||i.className;r.p=Object.assign({theme:J1&&J1()},u),r.o=/ *go\d+/.test(d),u.className=u0.apply(r,n)+(d?" "+d:"");let h=e;return e[0]&&(h=u.as||e,delete u.as),em&&h[0]&&em(u),Y_(h,u)}return i}}var wD=e=>typeof e=="function",Zf=(e,t)=>wD(e)?e(t):e,bD=(()=>{let e=0;return()=>(++e).toString()})(),Z_=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),ED=20,Q_=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,ED)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return Q_(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Sf=[],Uo={toasts:[],pausedAt:void 0},ps=e=>{Uo=Q_(Uo,e),Sf.forEach(t=>{t(Uo)})},AD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},SD=(e={})=>{let[t,r]=N.useState(Uo),n=N.useRef(Uo);N.useEffect(()=>(n.current!==Uo&&r(Uo),Sf.push(r),()=>{let a=Sf.indexOf(r);a>-1&&Sf.splice(a,1)}),[]);let i=t.toasts.map(a=>{var s,u,d;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((s=e[a.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((u=e[a.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||AD[a.type],style:{...e.style,...(d=e[a.type])==null?void 0:d.style,...a.style}}});return{...t,toasts:i}},CD=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||bD()}),Lc=e=>(t,r)=>{let n=CD(t,e,r);return ps({type:2,toast:n}),n.id},Xr=(e,t)=>Lc("blank")(e,t);Xr.error=Lc("error");Xr.success=Lc("success");Xr.loading=Lc("loading");Xr.custom=Lc("custom");Xr.dismiss=e=>{ps({type:3,toastId:e})};Xr.remove=e=>ps({type:4,toastId:e});Xr.promise=(e,t,r)=>{let n=Xr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Zf(t.success,i):void 0;return a?Xr.success(a,{id:n,...r,...r==null?void 0:r.success}):Xr.dismiss(n),i}).catch(i=>{let a=t.error?Zf(t.error,i):void 0;a?Xr.error(a,{id:n,...r,...r==null?void 0:r.error}):Xr.dismiss(n)}),e};var _D=(e,t)=>{ps({type:1,toast:{id:e,height:t}})},OD=()=>{ps({type:5,time:Date.now()})},Gu=new Map,ID=1e3,TD=(e,t=ID)=>{if(Gu.has(e))return;let r=setTimeout(()=>{Gu.delete(e),ps({type:4,toastId:e})},t);Gu.set(e,r)},ND=e=>{let{toasts:t,pausedAt:r}=SD(e);N.useEffect(()=>{if(r)return;let a=Date.now(),s=t.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(a-u.createdAt);if(d<0){u.visible&&Xr.dismiss(u.id);return}return setTimeout(()=>Xr.dismiss(u.id),d)});return()=>{s.forEach(u=>u&&clearTimeout(u))}},[t,r]);let n=N.useCallback(()=>{r&&ps({type:6,time:Date.now()})},[r]),i=N.useCallback((a,s)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:h}=s||{},p=t.filter(w=>(w.position||h)===(a.position||h)&&w.height),v=p.findIndex(w=>w.id===a.id),y=p.filter((w,A)=>A<v&&w.visible).length;return p.filter(w=>w.visible).slice(...u?[y+1]:[0,y]).reduce((w,A)=>w+(A.height||0)+d,0)},[t]);return N.useEffect(()=>{t.forEach(a=>{if(a.dismissed)TD(a.id,a.removeDelay);else{let s=Gu.get(a.id);s&&(clearTimeout(s),Gu.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:_D,startPause:OD,endPause:n,calculateOffset:i}}},PD=da`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kD=da`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DD=da`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RD=po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,MD=da`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jD=po("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${MD} 1s linear infinite;
`,BD=da`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LD=da`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FD=po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$D=po("div")`
  position: absolute;
`,UD=po("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WD=da`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zD=po("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GD=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(zD,null,t):t:r==="blank"?null:N.createElement(UD,null,N.createElement(jD,{...n}),r!=="loading"&&N.createElement($D,null,r==="error"?N.createElement(RD,{...n}):N.createElement(FD,{...n})))},HD=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VD=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,KD="0%{opacity:0;} 100%{opacity:1;}",qD="0%{opacity:1;} 100%{opacity:0;}",XD=po("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YD=po("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZD=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=Z_()?[KD,qD]:[HD(r),VD(r)];return{animation:t?`${da(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${da(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QD=N.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?ZD(e.position||t||"top-center",e.visible):{opacity:0},a=N.createElement(GD,{toast:e}),s=N.createElement(YD,{...e.ariaProps},Zf(e.message,e));return N.createElement(XD,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:a,message:s}):N.createElement(N.Fragment,null,a,s))});xD(N.createElement);var JD=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=N.useCallback(s=>{if(s){let u=()=>{let d=s.getBoundingClientRect().height;n(e,d)};u(),new MutationObserver(u).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:a,className:t,style:r},i)},eR=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Z_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},tR=u0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wd=16,rR=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:u,handlers:d}=ND(r);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Wd,left:Wd,right:Wd,bottom:Wd,pointerEvents:"none",...a},className:s,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,v=d.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),y=eR(p,v);return N.createElement(JD,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?tR:"",style:y},h.type==="custom"?Zf(h.message,h):i?i(h):N.createElement(QD,{toast:h,position:p}))}))},_e=Xr;const nR="modulepreload",iR=function(e){return"/kasirku/"+e},O2={},Fc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=iR(d),d in O2)return;O2[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":nR,h||(v.as="script"),v.crossOrigin="",v.href=d,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},aR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>Bl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class sy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class oR extends sy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class I2 extends sy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class T2 extends sy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tm||(tm={}));var sR=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};class lR{constructor(t,{headers:r={},customFetch:n,region:i=tm.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=aR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return sR(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${t}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(u["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(u["Content-Type"]="application/json",p=JSON.stringify(s)));const v=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p}).catch(C=>{throw new oR(C)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new I2(v);if(!v.ok)throw new T2(v);let w=((n=v.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),A;return w==="application/json"?A=yield v.json():w==="application/octet-stream"?A=yield v.blob():w==="text/event-stream"?A=v:w==="multipart/form-data"?A=yield v.formData():A=yield v.text(),{data:A,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof T2||i instanceof I2?i.context:void 0}}})}}var fn={},ly={},c0={},$c={},d0={},f0={},uR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yl=uR();const cR=yl.fetch,J_=yl.fetch.bind(yl),eO=yl.Headers,dR=yl.Request,fR=yl.Response,Bl=Object.freeze(Object.defineProperty({__proto__:null,Headers:eO,Request:dR,Response:fR,default:J_,fetch:cR},Symbol.toStringTag,{value:"Module"})),hR=$k(Bl);var h0={};Object.defineProperty(h0,"__esModule",{value:!0});let pR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};h0.default=pR;var tO=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f0,"__esModule",{value:!0});const gR=tO(hR),mR=tO(h0);let vR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,u,d;let h=null,p=null,v=null,y=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const _=await a.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=_:p=JSON.parse(_))}const C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),O=(u=a.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");C&&O&&O.length>1&&(v=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,y=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const C=await a.text();try{h=JSON.parse(C),Array.isArray(h)&&a.status===404&&(p=[],h=null,y=200,w="OK")}catch{a.status===404&&C===""?(y=204,w="No Content"):h={message:C}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,y=200,w="OK"),h&&this.shouldThrowOnError)throw new mR.default(h)}return{error:h,data:p,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,u,d;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(u=a==null?void 0:a.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};f0.default=vR;var yR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d0,"__esModule",{value:!0});const xR=yR(f0);let wR=class extends xR.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var u;const d=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${h}"; options=${d};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};d0.default=wR;var bR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const ER=bR(d0);let AR=class extends ER.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$c.default=AR;var SR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c0,"__esModule",{value:!0});const pu=SR($c);let CR=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new pu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const s=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(s.length>0){const u=[...new Set(s)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new pu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",u=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),a||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const d=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new pu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new pu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new pu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};c0.default=CR;var p0={},g0={};Object.defineProperty(g0,"__esModule",{value:!0});g0.version=void 0;g0.version="0.0.0-automated";Object.defineProperty(p0,"__esModule",{value:!0});p0.DEFAULT_HEADERS=void 0;const _R=g0;p0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_R.version}`};var rO=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ly,"__esModule",{value:!0});const OR=rO(c0),IR=rO($c),TR=p0;let NR=class nO{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},TR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new OR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const u=new URL(`${this.url}/rpc/${t}`);let d;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{u.searchParams.append(p,v)})):(s="POST",d=r);const h=Object.assign({},this.headers);return a&&(h.Prefer=`count=${a}`),new IR.default({method:s,url:u,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};ly.default=NR;var Ll=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const iO=Ll(ly);fn.PostgrestClient=iO.default;const aO=Ll(c0);fn.PostgrestQueryBuilder=aO.default;const oO=Ll($c);fn.PostgrestFilterBuilder=oO.default;const sO=Ll(d0);fn.PostgrestTransformBuilder=sO.default;const lO=Ll(f0);fn.PostgrestBuilder=lO.default;const uO=Ll(h0);fn.PostgrestError=uO.default;var PR=fn.default={PostgrestClient:iO.default,PostgrestQueryBuilder:aO.default,PostgrestFilterBuilder:oO.default,PostgrestTransformBuilder:sO.default,PostgrestBuilder:lO.default,PostgrestError:uO.default};const{PostgrestClient:kR,PostgrestQueryBuilder:Mne,PostgrestFilterBuilder:jne,PostgrestTransformBuilder:Bne,PostgrestBuilder:Lne,PostgrestError:Fne}=PR;function DR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const RR=DR(),MR="2.11.15",jR=`realtime-js/${MR}`,BR="1.0.0",cO=1e4,LR=1e3;var Hu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hu||(Hu={}));var Fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fr||(Fr={}));var xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xi||(xi={}));var rm;(function(e){e.websocket="websocket"})(rm||(rm={}));var Bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bo||(Bo={}));class FR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const u=n.decode(t.slice(s,s+i));s=s+i;const d=n.decode(t.slice(s,s+a));s=s+a;const h=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class dO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const N2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=$R(s,e,t,i),a),{})},$R=(e,t,r,n)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?fO(a,s):nm(s)},fO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return GR(t,r)}switch(e){case bt.bool:return UR(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return WR(t);case bt.json:case bt.jsonb:return zR(t);case bt.timestamp:return HR(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return nm(t);default:return nm(t)}},nm=e=>e,UR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>fO(t,u))}return e},HR=e=>typeof e=="string"?e.replace(" ","T"):e,hO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class vg{constructor(t,r,n={},i=cO){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P2||(P2={}));class Vu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vu.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=Vu.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vu.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),u={},d={};return this.map(a,(h,p)=>{s[h]||(d[h]=p)}),this.map(s,(h,p)=>{const v=a[h];if(v){const y=p.map(O=>O.presence_ref),w=v.map(O=>O.presence_ref),A=p.filter(O=>w.indexOf(O.presence_ref)<0),C=v.filter(O=>y.indexOf(O.presence_ref)<0);A.length>0&&(u[h]=A),C.length>0&&(d[h]=C)}else u[h]=p}),this.syncDiff(a,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),p.length>0){const v=t[u].map(w=>w.presence_ref),y=p.filter(w=>v.indexOf(w.presence_ref)<0);t[u].unshift(...y)}n(u,p,d)}),this.map(s,(u,d)=>{let h=t[u];if(!h)return;const p=d.map(v=>v.presence_ref);h=h.filter(v=>p.indexOf(v.presence_ref)<0),t[u]=h,i(u,h,d),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(k2||(k2={}));var D2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(D2||(D2={}));var Yi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yi||(Yi={}));class uy{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vg(this,xi.join,this.params,this.timeout),this.rejoinTimer=new dO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Vu(this),this.broadcastEndpointURL=hO(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fr.closed){const{config:{broadcast:a,presence:s,private:u}}=this.params;this._onError(p=>t==null?void 0:t(Yi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Yi.CLOSED));const d={},h={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(Yi.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,A=[];for(let C=0;C<w;C++){const O=y[C],{filter:{event:_,schema:I,table:T,filter:D}}=O,M=p&&p[C];if(M&&M.event===_&&M.schema===I&&M.table===T&&M.filter===D)A.push(Object.assign(Object.assign({},O),{id:M.id}));else{this.unsubscribe(),this.state=Fr.errored,t==null||t(Yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(Yi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Fr.errored,t==null||t(Yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new vg(this,xi.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vg(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=xi;if(n&&[u,d,h,p].indexOf(s)>=0&&n!==this._joinRef())return;let y=this._onMessage(s,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var A,C,O;return((A=w.filter)===null||A===void 0?void 0:A.event)==="*"||((O=(C=w.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===s}).map(w=>w.callback(y,n)):(a=this.bindings[s])===null||a===void 0||a.filter(w=>{var A,C,O,_,I,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in w){const D=w.id,M=(A=w.filter)===null||A===void 0?void 0:A.event;return D&&((C=r.ids)===null||C===void 0?void 0:C.includes(D))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const D=(I=(_=w==null?void 0:w.filter)===null||_===void 0?void 0:_.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return D==="*"||D===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===s}).map(w=>{if(typeof y=="object"&&"ids"in y){const A=y.data,{schema:C,table:O,commit_timestamp:_,type:I,errors:T}=A;y=Object.assign(Object.assign({},{schema:C,table:O,commit_timestamp:_,eventType:I,new:{},old:{},errors:T}),this._getPayloadRecords(A))}w.callback(y,n)})}_isClosed(){return this.state===Fr.closed}_isJoined(){return this.state===Fr.joined}_isJoining(){return this.state===Fr.joining}_isLeaving(){return this.state===Fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&uy.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xi.close,{},t)}_onError(t){this._on(xi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=N2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=N2(t.columns,t.old_record)),r}}const R2=()=>{},VR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cO,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R2,this.ref=0,this.logger=R2,this.conn=null,this.sendBuffer=[],this.serializer=new FR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...u)=>Fc(async()=>{const{default:d}=await Promise.resolve().then(()=>Bl);return{default:d}},void 0).then(({default:d})=>d(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${t}/${rm.websocket}`,this.httpEndpoint=hO(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dO(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=RR),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hu.connecting:return Bo.Connecting;case Hu.open:return Bo.Open;case Hu.closing:return Bo.Closing;default:return Bo.Closed}}isConnected(){return this.connectionState()===Bo.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new uy(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:jR};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(xi.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(LR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(xi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([VR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class cy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qR extends cy{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class im extends cy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var XR=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const pO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>Bl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},YR=()=>XR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fc(()=>Promise.resolve().then(()=>Bl),void 0)).Response:Response}),am=e=>{if(Array.isArray(e))return e.map(r=>am(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=am(n)}),t};var gs=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const yg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZR=(e,t,r)=>gs(void 0,void 0,void 0,function*(){const n=yield YR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new qR(yg(i),e.status||500))}).catch(i=>{t(new im(yg(i),i))}):t(new im(yg(e),e))}),QR=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Uc(e,t,r,n,i,a){return gs(this,void 0,void 0,function*(){return new Promise((s,u)=>{e(r,QR(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>ZR(d,u,n))})})}function Qf(e,t,r,n){return gs(this,void 0,void 0,function*(){return Uc(e,"GET",t,r,n)})}function Ba(e,t,r,n,i){return gs(this,void 0,void 0,function*(){return Uc(e,"POST",t,n,i,r)})}function JR(e,t,r,n,i){return gs(this,void 0,void 0,function*(){return Uc(e,"PUT",t,n,i,r)})}function eM(e,t,r,n){return gs(this,void 0,void 0,function*(){return Uc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gO(e,t,r,n,i){return gs(this,void 0,void 0,function*(){return Uc(e,"DELETE",t,n,i,r)})}var ln=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const tM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rM{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=pO(i)}uploadOrUpdate(t,r,n,i){return ln(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},M2),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),v=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:a,headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield v.json();return v.ok?{data:{path:h,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(a){if(hr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ln(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:M2.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const v=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:p}),y=yield v.json();return v.ok?{data:{path:a,fullPath:y.Key},error:null}:{data:null,error:y}}catch(d){if(hr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ln(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ba(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),u=s.searchParams.get("token");if(!u)throw new cy("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}update(t,r,n){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ln(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ln(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ln(this,void 0,void 0,function*(){try{const i=yield Ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}download(t,r){return ln(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Qf(this.fetch,`${this.url}/${i}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(hr(u))return{data:null,error:u};throw u}})}info(t){return ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Qf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:am(n),error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}exists(t){return ln(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield eM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(hr(n)&&n instanceof im){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return ln(this,void 0,void 0,function*(){try{return{data:yield gO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}list(t,r,n){return ln(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},tM),r),{prefix:t||""});return{data:yield Ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nM="2.7.1",iM={"X-Client-Info":`storage-js/${nM}`};var ks=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};class aM{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},iM),r),this.fetch=pO(n)}listBuckets(){return ks(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}getBucket(t){return ks(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ks(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ks(this,void 0,void 0,function*(){try{return{data:yield JR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ks(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ks(this,void 0,void 0,function*(){try{return{data:yield gO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}})}}class oM extends aM{constructor(t,r={},n){super(t,r,n)}from(t){return new rM(this.url,this.headers,t,this.fetch)}}const sM="2.52.1";let ku="";typeof Deno<"u"?ku="deno":typeof document<"u"?ku="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ku="react-native":ku="node";const lM={"X-Client-Info":`supabase-js-${ku}/${sM}`},uM={headers:lM},cM={schema:"public"},dM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fM={};var hM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const pM=e=>{let t;return e?t=e:typeof fetch>"u"?t=J_:t=fetch,(...r)=>t(...r)},gM=()=>typeof Headers>"u"?eO:Headers,mM=(e,t,r)=>{const n=pM(r),i=gM();return(a,s)=>hM(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let h=new i(s==null?void 0:s.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},s),{headers:h}))})};var vM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};function yM(e){return e.endsWith("/")?e:e+"/"}function xM(e,t){var r,n;const{db:i,auth:a,realtime:s,global:u}=e,{db:d,auth:h,realtime:p,global:v}=t,y={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},p),s),global:Object.assign(Object.assign(Object.assign({},v),u),{headers:Object.assign(Object.assign({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>vM(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const mO="2.71.1",$s=30*1e3,om=3,xg=om*$s,wM="http://localhost:9999",bM="supabase.auth.token",EM={"X-Client-Info":`gotrue-js/${mO}`},sm="X-Supabase-Api-Version",vO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SM=10*60*1e3;class dy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CM extends dy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _M(e){return ze(e)&&e.name==="AuthApiError"}class yO extends dy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class go extends dy{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ra extends go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OM(e){return ze(e)&&e.name==="AuthSessionMissingError"}class zd extends go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gd extends go{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hd extends go{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IM(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class j2 extends go{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lm extends go{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wg(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class B2 extends go{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class um extends go{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L2=` 	
\r=`.split(""),TM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<L2.length;t+=1)e[L2[t].charCodeAt(0)]=-2;for(let t=0;t<Jf.length;t+=1)e[Jf[t].charCodeAt(0)]=t;return e})();function F2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jf[n]),t.queuedBits-=6}}function xO(e,t,r){const n=TM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $2(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{kM(s,n,r)};for(let s=0;s<e.length;s+=1)xO(e.charCodeAt(s),i,a);return t.join("")}function NM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function PM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}NM(n,t)}}function kM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function DM(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)xO(e.charCodeAt(i),r,n);return new Uint8Array(t)}function RM(e){const t=[];return PM(e,r=>t.push(r)),new Uint8Array(t)}function MM(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>F2(i,r,n)),F2(null,r,n),t.join("")}function jM(e){return Math.round(Date.now()/1e3)+e}function BM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mi=()=>typeof window<"u"&&typeof document<"u",Oo={tested:!1,writable:!1},wO=()=>{if(!mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oo.tested)return Oo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oo.tested=!0,Oo.writable=!0}catch{Oo.tested=!0,Oo.writable=!1}return Oo.writable};function LM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const bO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fc(async()=>{const{default:n}=await Promise.resolve().then(()=>Bl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Us=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Io=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pa=async(e,t)=>{await e.removeItem(t)};class m0{constructor(){this.promise=new m0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}m0.promiseConstructor=Promise;function bg(e){const t=e.split(".");if(t.length!==3)throw new um("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!AM.test(t[n]))throw new um("JWT not in base64url format");return{header:JSON.parse($2(t[0])),payload:JSON.parse($2(t[1])),signature:DM(t[2]),raw:{header:t[0],payload:t[1]}}}async function $M(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UM(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function WM(e){return("0"+e.toString(16)).substr(-2)}function zM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,WM).join("")}async function GM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function HM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(e,t,r=!1){const n=zM();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Us(e,`${t}-code-verifier`,i);const a=await HM(n);return[a,n===a?"plain":"s256"]}const VM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KM(e){const t=e.headers.get(sm);if(!t||!t.match(VM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rs(e){if(!YM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U2(e){return JSON.parse(JSON.stringify(e))}var ZM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ko=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QM=[502,503,504];async function W2(e){var t;if(!FM(e))throw new lm(ko(e),0);if(QM.includes(e.status))throw new lm(ko(e),e.status);let r;try{r=await e.json()}catch(a){throw new yO(ko(a),a)}let n;const i=KM(e);if(i&&i.getTime()>=vO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new B2(ko(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ra}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new B2(ko(r),e.status,r.weak_password.reasons);throw new CM(ko(r),e.status||500,n)}const JM=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Xe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[sm]||(a[sm]=vO["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await ej(e,t,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function ej(e,t,r,n,i,a){const s=JM(t,n,i,a);let u;try{u=await e(r,Object.assign({},s))}catch(d){throw console.error(d),new lm(ko(d),0)}if(u.ok||await W2(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await W2(d)}}function Ki(e){var t;let r=null;ij(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=jM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function z2(e){const t=Ki(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function za(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tj(e){return{data:e,error:null}}function rj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=ZM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:u,user:d},error:null}}function nj(e){return e}function ij(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ag=["global","local","others"];var aj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class oj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ag[0]){if(Ag.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ag.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:za})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aj(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:za})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nj});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,w=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);h[`${O}Page`]=C}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(ze(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Rs(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:za})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rs(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:za})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rs(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:za})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rs(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rs(t.userId),Rs(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function G2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function sj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ms={debug:!!(globalThis&&wO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class EO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lj extends EO{}async function uj(e,t,r){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ms.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}sj();const cj={url:wM,storageKey:bM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function H2(e,t,r){return await r()}const js={};class pc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pc.nextInstanceID,pc.nextInstanceID+=1,this.instanceID>0&&mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new oj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bO(i.fetch),this.lock=i.lock||H2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:mi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uj:this.lock=H2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=G2(this.memoryStorage)),mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=js[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){js[this.storageKey]=Object.assign(Object.assign({},js[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=js[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){js[this.storageKey]=Object.assign(Object.assign({},js[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=LM(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),IM(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?{error:r}:{error:new yO("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ki}),{data:s,error:u}=a;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:p,password:v,options:y}=t;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await Ds(this.storage,this.storageKey)),a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:v,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:A},xform:Ki})}else if("phone"in t){const{phone:p,password:v,options:y}=t;a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ki})}else throw new Gd("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:z2})}else if("phone"in t){const{phone:a,password:s,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:z2})}else throw new Gd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,u,d,h,p,v,y,w;let A,C;if("message"in t)A=t.message,C=t.signature;else{const{chain:O,wallet:_,statement:I,options:T}=t;let D;if(mi())if(typeof _=="object")D=_;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))D=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=_}const M=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const j=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),I?{statement:I}:null));let L;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")L=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)L=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)A=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),C=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${M.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((s=T==null?void 0:T.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(p=T==null?void 0:T.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const j=await D.signMessage(new TextEncoder().encode(A),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=j}}try{const{data:O,error:_}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:MM(C)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ki});if(_)throw _;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new zd}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:_})}catch(O){if(ze(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const r=await Io(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ki});if(await Pa(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,u=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ki}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new zd}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:u,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ds(this.storage,this.storageKey));const{error:v}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:p}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Gd("You must provide either an email or phone number.")}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:u}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ki});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,h=s.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Ds(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:tj})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ra;const{error:i}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:u}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new Gd("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Io(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Eg()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,p)=>(!s&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:za}):await this._useSession(async r=>{var n,i,a;const{data:s,error:u}=r;if(u)throw u;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ra}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:za})})}catch(r){if(ze(r))return OM(r)&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ra;const s=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Ds(this.storage,this.storageKey));const{data:h,error:p}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:s.access_token,xform:za});if(p)throw p;return s.user=h.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ra;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=bg(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:u}=r;if(u)throw u;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ra;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!mi())throw new Hd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new j2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new j2("No code detected.");const{data:I,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:d,token_type:h}=t;if(!a||!u||!s||!h)throw new Hd("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(u);let y=p+v;d&&(y=parseInt(d));const w=y-p;w*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const A=y-v;p-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,y,p):p-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,y,p);const{data:C,error:O}=await this._getUser(a);if(O)throw O;const _={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:y,refresh_token:s,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Io(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:u}=await this.admin.signOut(s,t);if(u&&!(_M(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=BM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ds(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,u,d,h,p;const{data:v,error:y}=a;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return mi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await UM(async i=>(i>0&&await $M(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ki})),(i,a)=>{const s=200*Math.pow(2,i);return a&&wg(a)&&Date.now()+s-n<$s})}catch(n){if(this._debug(r,"error",n),ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),mi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Io(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Us(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Eg()}else if(i&&!i.user&&!i.user){const s=await Io(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Pa(this.storage,this.storageKey+"-user"),await Us(this.storage,this.storageKey,i)):i.user=Eg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${xg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),wg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new m0;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Ra;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),ze(a)){const s={session:null,error:a};return wg(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Us(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=U2(i);await Us(this.storage,this.storageKey,a)}else{const i=U2(r);await Us(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Pa(this.storage,this.storageKey),await Pa(this.storage,this.storageKey+"-code-verifier"),await Pa(this.storage,this.storageKey+"-user"),this.userStorage&&await Pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$s}ms, refresh threshold is ${om} ticks`),i<=om&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof EO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ds(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:u}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=bg(i.access_token);let u=null;s.aal&&(u=s.aal);let d=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=s.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+SM>i)return n;const{data:a,error:s}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:A}=await this.getSession();if(A||!w.session)return{data:null,error:A};n=w.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:d}}=bg(n);r!=null&&r.allowExpired||qM(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:a,header:i,signature:s},error:null}}const p=XM(i.alg),v=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,s,RM(`${u}.${d}`)))throw new um("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}pc.nextInstanceID=0;const dj=pc;class fj extends dj{constructor(t){super(t)}}var hj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};class pj{constructor(t,r,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=yM(t),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:cM,realtime:fM,auth:Object.assign(Object.assign({},dM),{storageKey:h}),global:uM},v=xM(n??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=v.auth)!==null&&s!==void 0?s:{},this.headers,v.global.fetch),this.fetch=mM(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new kR(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new lR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oM(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return hj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:u,debug:d},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fj({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new KR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gj=(e,t,r)=>new pj(e,t,r);function mj(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vj="https://ogjrgbvuwyuknhzoajfc.supabase.co",yj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nanJnYnZ1d3l1a25oem9hamZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2OTQ5ODUsImV4cCI6MjA2OTI3MDk4NX0.UwImCi4NyvBm1IBHhKt51asdVEEZMslzjdmDdGzHzf4",Ve=gj(vj,yj),v0=N.createContext(),xj=({children:e})=>{const[t,r]=N.useState(null),[n,i]=N.useState(!0);N.useEffect(()=>{(async()=>{const{data:d,error:h}=await Ve.from("settings").select("*").eq("id",1).single();h?_e.error("Gagal memuat pengaturan awal."):r(d),i(!1)})()},[]);const a=async(u,d)=>{const h=_e.loading("Menyimpan pengaturan...");try{let p={...u};if(d){const w=`logo_${Date.now()}`,{error:A}=await Ve.storage.from("store-assets").upload(w,d,{upsert:!0});if(A)throw A;const{data:C}=Ve.storage.from("store-assets").getPublicUrl(w);p.store_logo_url=C.publicUrl}const{data:v,error:y}=await Ve.from("settings").update(p).eq("id",1).select().single();if(y)throw y;return r(v),_e.success("Pengaturan berhasil disimpan!",{id:h}),v}catch(p){return _e.error(`Gagal: ${p.message}`,{id:h}),null}},s=N.useMemo(()=>({settings:t,loading:n,updateSettings:a}),[t,n]);return b.jsx(v0.Provider,{value:s,children:e})},wj=()=>{const{settings:e,loading:t}=N.useContext(v0),r=t?"Memuat...":(e==null?void 0:e.store_name)||"POS-Ku",n=e==null?void 0:e.store_logo_url;return b.jsxs("header",{className:"bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-10",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[n?b.jsx("img",{src:n,alt:"Logo Toko",className:"w-10 h-10 rounded-full object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:r.charAt(0)}),b.jsx("span",{className:"text-lg font-semibold text-gray-800",children:r})]}),b.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full",children:b.jsx("img",{src:"https://placehold.co/40x40/E2E8F0/4A5568?text=U",alt:"Avatar Pengguna",className:"rounded-full"})})]})},bj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Ej=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Aj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Sj=({className:e})=>b.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7v8a2 2 0 002 2h4M8 7a2 2 0 012-2h4a2 2 0 012 2v8a2 2 0 01-2 2h-4a2 2 0 01-2-2z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a2 2 0 012 2v8a2 2 0 01-2 2h-4a2 2 0 01-2-2V9a2 2 0 012-2h4z"})]}),Cj=({className:e})=>b.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),_j=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.838-6.832a1.125 1.125 0 00-.965-1.41H5.64M7.5 14.25L5.106 5.165M7.5 14.25v-2.25"})}),y0=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),AO=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),fy=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v15m3.75-15v15m3.75-15v15m3.75-15v15m3.75-15v15M3 8.25h18M3 15.75h18"})}),hy=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),xl=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Oj=({className:e})=>b.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),Ij=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.572a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})}),py=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),eh=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 100 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),gy=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"})}),SO=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 15.347 16.556 17.25 12 17.25s-8.25-1.903-8.25-4.125v-3.75"})}),Tj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Nj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Pj=({className:e})=>b.jsx("svg",{className:e,xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),kj=({className:e})=>b.jsx("svg",{className:e,xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})}),Dj=({className:e})=>b.jsx("svg",{className:e,xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),Rj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),my=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h16.5M6 12V5.25A2.25 2.25 0 018.25 3h7.5A2.25 2.25 0 0118 5.25V12M6 12h12"})}),CO=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),Mj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.03 1.125 0 1.131.094 1.976 1.057 1.976 2.192V7.5M8.25 7.5h7.5m-7.5 0l-1 10.5a1.5 1.5 0 001.5 1.5h7.5a1.5 1.5 0 001.5-1.5l-1-10.5m-7.5 0V6.375c0-1.125.6-2.062 1.5-2.25m7.5 0V6.375c0-1.125-.6-2.062-1.5-2.25M3 7.5h18M10.5 12l3 3m0-3l-3 3"})}),jj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Bj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-4.5 0V6.75A2.25 2.25 0 0115.75 4.5h1.5a2.25 2.25 0 012.25 2.25v1.5m-4.5 0h4.5m-4.5 0a2.25 2.25 0 01-2.25-2.25V6.75m0 0a2.25 2.25 0 00-2.25-2.25h-1.5A2.25 2.25 0 005.25 6.75v1.5"})}),Lj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75H13.5m0-16.5h-1.5a1.5 1.5 0 00-1.5 1.5v1.5m1.5-1.5h1.5a1.5 1.5 0 011.5 1.5v1.5m0 0H16.5m-3 0h3m-3 0H8.25m0 0H5.25M5.25 5.25V3.75a1.5 1.5 0 011.5-1.5h1.5a1.5 1.5 0 011.5 1.5v1.5m-3 0h3"})}),Fj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),$j=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-12A2.25 2.25 0 013.75 8.25V6zM3.75 15A2.25 2.25 0 016 12.75h12A2.25 2.25 0 0120.25 15v2.25A2.25 2.25 0 0118 19.5h-12A2.25 2.25 0 013.75 17.25V15z"})}),Uj=({className:e})=>b.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Wj=({activeMenu:e,setActiveMenu:t})=>{const r=[{name:"Beranda",icon:bj},{name:"Kasir",icon:Ej},{name:"Laporan",icon:Aj},{name:"Manajemen",icon:Sj},{name:"Pengaturan",icon:Cj}];return b.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-1px_5px_rgba(0,0,0,0.1)]",children:b.jsx("div",{className:"flex justify-around max-w-lg mx-auto",children:r.map(n=>{const i=e===n.name,a=n.icon;return b.jsxs("button",{onClick:()=>t(n.name),className:"flex flex-col items-center justify-center w-full pt-2 pb-1 text-center transition-colors duration-200 focus:outline-none",children:[b.jsx(a,{className:`h-6 w-6 mb-1 ${i?"text-blue-600":"text-gray-500"}`}),b.jsx("span",{className:`text-xs ${i?"text-blue-600 font-semibold":"text-gray-600"}`,children:n.name})]},n.name)})})})},V2=()=>b.jsx("div",{className:"p-4 text-center text-gray-700",children:"Selamat Datang!"}),zj=({product:e,onAddToCart:t})=>{const r=e.stock<=0,n=e.stock>0&&e.stock<=5,i=()=>{r||t(e)};return b.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden transform transition-all duration-200 ${r?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-105 active:scale-95"}`,onClick:i,children:[b.jsxs("div",{className:"relative w-full h-32 bg-gray-200",children:[b.jsx("img",{src:e.image_url||`https://placehold.co/150x150/E2E8F0/4A5568?text=${e.name.charAt(0)}`,alt:e.name,className:"w-full h-full object-cover"}),b.jsxs("div",{className:`absolute top-2 left-2 px-2 py-1 text-xs font-bold text-white rounded-full ${n?"bg-red-500":"bg-gray-800 bg-opacity-70"}`,children:["Stok: ",e.stock]})]}),b.jsxs("div",{className:"p-3",children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:e.name}),b.jsx("p",{className:"text-blue-600 font-bold mt-1",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.price)})]})]})},K2=({items:e,onUpdateQuantity:t,onClose:r,onPay:n,subtotal:i,discountAmount:a,finalPrice:s,onAddDiscount:u,onRemoveDiscount:d,discount:h})=>b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex flex-col h-full",children:[b.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[b.jsx("h2",{className:"text-lg font-bold",children:"Keranjang"}),r&&b.jsx("button",{onClick:r,className:"md:hidden text-gray-500 hover:text-gray-800",children:b.jsx("svg",{xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?b.jsx("p",{className:"text-gray-500 text-center mt-8",children:"Keranjang masih kosong"}):b.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(p=>b.jsxs("li",{className:"py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("p",{className:"font-semibold text-sm",children:p.name}),b.jsx("p",{className:"text-xs text-blue-600",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(p.price)})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>t(p.id,p.quantity-1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold flex items-center justify-center text-lg active:bg-gray-300",children:"-"}),b.jsx("span",{className:"w-8 text-center font-semibold",children:p.quantity}),b.jsx("button",{onClick:()=>t(p.id,p.quantity+1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold flex items-center justify-center text-lg active:bg-gray-300",children:"+"})]}),b.jsx("button",{onClick:()=>t(p.id,0),className:"ml-3 text-gray-400 hover:text-red-500","aria-label":"Hapus item",children:b.jsx(xl,{className:"h-5 w-5"})})]},p.id))})}),b.jsxs("div",{className:"border-t pt-4 mt-4",children:[b.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[b.jsx("p",{children:"Subtotal"}),b.jsx("p",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i)})]}),a>0&&b.jsxs("div",{className:"flex justify-between text-sm text-red-600 mb-1",children:[b.jsxs("p",{children:["Diskon (",h.type==="persen"?`${h.value}%`:"Rp",")"]}),b.jsxs("p",{children:["- ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)]})]}),b.jsxs("div",{className:"flex justify-between items-center font-bold text-lg mt-2",children:[b.jsx("p",{children:"Total"}),b.jsx("p",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)})]}),h?b.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-red-400 text-red-600 rounded-lg py-2 mt-4 font-bold hover:bg-red-50 transition-colors",children:[b.jsx(xl,{className:"h-5 w-5"})," Hapus Diskon"]}):b.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-blue-400 text-blue-600 rounded-lg py-2 mt-4 font-bold hover:bg-blue-50 transition-colors",children:[b.jsx(Oj,{className:"h-5 w-5"})," Tambah Diskon"]}),b.jsx("button",{onClick:n,className:"w-full bg-blue-600 text-white rounded-lg py-3 mt-4 font-bold hover:bg-blue-700 disabled:bg-gray-400",disabled:e.length===0,children:"Bayar"})]})]}),_O=({isOpen:e,onClose:t,onSave:r,initialBarcode:n=""})=>{const[i,a]=N.useState({name:"",price:"",category_id:"",barcode:"",stock:"0",is_consignment:!1,cost_price:"0",supplier_id:""}),[s,u]=N.useState(null),[d,h]=N.useState(null),[p,v]=N.useState([]),[y,w]=N.useState([]);if(N.useEffect(()=>{var I;if(!e)return;(async()=>{const{data:T}=await Ve.from("categories").select("*"),{data:D}=await Ve.from("suppliers").select("*");v(T||[]),w(D||[]),(T==null?void 0:T.length)>0&&a(M=>({...M,category_id:T[0].id}))})(),a({name:"",price:"",category_id:((I=p[0])==null?void 0:I.id)||"",barcode:n,stock:"0",is_consignment:!1,cost_price:"0",supplier_id:""}),u(null),h(null)},[e,n]),!e)return null;const A=_=>{const{name:I,value:T,type:D,checked:M}=_.target;a(j=>({...j,[I]:D==="checkbox"?M:T}))},C=_=>{const I=_.target.files[0];I&&(u(I),h(URL.createObjectURL(I)))},O=_=>{if(_.preventDefault(),!i.name||!i.price||!i.category_id){_e.error("Nama, Harga, dan Kategori wajib diisi!");return}if(i.is_consignment&&!i.supplier_id){_e.error("Barang titipan harus memiliki suplier.");return}r(i,s),t()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Tambah Produk Baru"}),b.jsxs("form",{onSubmit:O,className:"flex-grow flex flex-col overflow-hidden",children:[b.jsxs("div",{className:"p-6 overflow-y-auto",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Produk"}),b.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:b.jsxs("div",{className:"space-y-1 text-center",children:[d?b.jsx("img",{src:d,alt:"Pratinjau",className:"mx-auto h-24 w-24 object-cover rounded-md"}):b.jsx(Tj,{className:"mx-auto h-12 w-12 text-gray-400"}),b.jsxs("div",{className:"flex text-sm text-gray-600",children:[b.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[b.jsx("span",{children:"Unggah file"}),b.jsx("input",{id:"image-upload",name:"image-upload",type:"file",className:"sr-only",accept:"image/*",onChange:C})]}),b.jsx("p",{className:"pl-1",children:"atau seret dan lepas"})]}),b.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hingga 10MB"})]})})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(py,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"text",name:"name",placeholder:"Nama Produk",value:i.name,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(eh,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"number",name:"price",placeholder:"Harga Jual",value:i.price,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(SO,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"number",name:"stock",placeholder:"Stok",value:i.stock,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(gy,{className:"h-5 w-5 text-gray-400"})}),b.jsx("select",{name:"category_id",value:i.category_id,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:p.map(_=>b.jsx("option",{value:_.id,children:_.name},_.id))})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(fy,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"text",name:"barcode",placeholder:"Barcode (opsional)",value:i.barcode,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md bg-gray-50",readOnly:!!n})]}),b.jsxs("div",{className:"border-t pt-4 mt-4",children:[b.jsxs("div",{className:"relative flex items-start",children:[b.jsx("div",{className:"flex items-center h-5",children:b.jsx("input",{id:"is_consignment",name:"is_consignment",type:"checkbox",checked:i.is_consignment,onChange:A,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),b.jsxs("div",{className:"ml-3 text-sm",children:[b.jsx("label",{htmlFor:"is_consignment",className:"font-medium text-gray-700",children:"Barang Titipan (Konsinyasi)"}),b.jsx("p",{className:"text-gray-500",children:"Aktifkan jika produk ini adalah barang titipan dari suplier."})]})]}),i.is_consignment&&b.jsxs("div",{className:"mt-4 space-y-4 animate-fade-in",children:[b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(my,{className:"h-5 w-5 text-gray-400"})}),b.jsxs("select",{name:"supplier_id",value:i.supplier_id,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"",children:"-- Pilih Suplier --"}),y.map(_=>b.jsx("option",{value:_.id,children:_.name},_.id))]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(eh,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"number",name:"cost_price",placeholder:"Harga Modal / Pokok",value:i.cost_price,onChange:A,className:"w-full pl-10 p-2 border border-gray-300 rounded-md"})]})]})]})]}),b.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[b.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),b.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Simpan"})]})]})]})})},q2=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),Gj=({isOpen:e,onClose:t,totalPrice:r,onConfirmPayment:n})=>{const[i,a]=N.useState(""),[s,u]=N.useState(0);if(N.useEffect(()=>{const p=parseFloat(i);!isNaN(p)&&p>=r?u(p-r):u(0)},[i,r]),N.useEffect(()=>{e||(a(""),u(0))},[e]),!e)return null;const d=()=>{n(i),t()},h=parseFloat(i)>=r;return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm m-4",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Pembayaran"}),b.jsxs("div",{className:"mb-4 bg-blue-50 p-4 rounded-lg text-center",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Total Belanja"}),b.jsx("p",{className:"text-3xl font-bold text-blue-600",children:q2(r)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Uang Tunai Diterima"}),b.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:i,onChange:p=>a(p.target.value),className:"w-full text-lg p-2 border-gray-300 rounded-md shadow-sm",placeholder:"Contoh: 50000",autoFocus:!0})]}),b.jsxs("div",{className:"mb-6 bg-green-50 p-4 rounded-lg text-center",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Kembalian"}),b.jsx("p",{className:"text-2xl font-bold text-green-600",children:q2(s)})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("button",{onClick:d,disabled:!h,className:"w-full bg-blue-600 text-white rounded-lg py-3 font-bold hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:"Konfirmasi Pembayaran"}),b.jsx("button",{type:"button",onClick:t,className:"w-full bg-gray-200 text-gray-800 rounded-lg py-2 hover:bg-gray-300",children:"Batal"})]})]})})};var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var X2=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Y2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Y2||(Y2={}));function Hj(e){return Object.values(Ee).includes(e)}var th;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(th||(th={}));var Vj=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[th.SCAN_TYPE_CAMERA,th.SCAN_TYPE_FILE],e}(),OO=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!X2.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,X2.get(t))},e}(),Z2=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),cm;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(cm||(cm={}));var Kj=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:cm.UNKWOWN_ERROR}},e}(),qj=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function qi(e){return typeof e>"u"||e===null}var el=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),IO=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(t),u=0,d=s;u<d.length;u++){var h=d[u];if(a.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e}(),dm={exports:{}};(function(e,t){(function(r,n){n(t)})(Nr,function(r){function n(k){return k==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,o){k.__proto__=o}||function(k,o){for(var l in o)o.hasOwnProperty(l)&&(k[l]=o[l])};function a(k,o){i(k,o);function l(){this.constructor=k}k.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}function s(k,o){var l=Object.setPrototypeOf;l?l(k,o):k.__proto__=o}function u(k,o){o===void 0&&(o=k.constructor);var l=Error.captureStackTrace;l&&l(k,o)}var d=function(k){a(o,k);function o(l){var c=this.constructor,f=k.call(this,l)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),s(f,c.prototype),u(f),f}return o}(Error);class h extends d{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}h.kind="Exception";class p extends h{}p.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class y{constructor(o){if(this.binarizer=o,o===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,l){return this.binarizer.getBlackRow(o,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,l,c,f){const g=this.binarizer.getLuminanceSource().crop(o,l,c,f);return new y(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class w extends h{static getChecksumInstance(){return new w}}w.kind="ChecksumException";class A{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(o,l,c,f,g){for(;g--;)c[f++]=o[l++]}static currentTimeMillis(){return Date.now()}}class O extends h{}O.kind="IndexOutOfBoundsException";class _ extends O{constructor(o=void 0,l=void 0){super(l),this.index=o,this.message=l}}_.kind="ArrayIndexOutOfBoundsException";class I{static fill(o,l){for(let c=0,f=o.length;c<f;c++)o[c]=l}static fillWithin(o,l,c,f){I.rangeCheck(o.length,l,c);for(let g=l;g<c;g++)o[g]=f}static rangeCheck(o,l,c){if(l>c)throw new v("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new _(l);if(c>o)throw new _(c)}static asList(...o){return o}static create(o,l,c){return Array.from({length:o}).map(g=>Array.from({length:l}).fill(c))}static createInt32Array(o,l,c){return Array.from({length:o}).map(g=>Int32Array.from({length:l}).fill(c))}static equals(o,l){if(!o||!l||!o.length||!l.length||o.length!==l.length)return!1;for(let c=0,f=o.length;c<f;c++)if(o[c]!==l[c])return!1;return!0}static hashCode(o){if(o===null)return 0;let l=1;for(const c of o)l=31*l+c;return l}static fillUint8Array(o,l){for(let c=0;c!==o.length;c++)o[c]=l}static copyOf(o,l){return o.slice(0,l)}static copyOfUint8Array(o,l){if(o.length<=l){const c=new Uint8Array(l);return c.set(o),c}return o.slice(0,l)}static copyOfRange(o,l,c){const f=c-l,g=new Int32Array(f);return C.arraycopy(o,l,g,0,f),g}static binarySearch(o,l,c){c===void 0&&(c=I.numberComparator);let f=0,g=o.length-1;for(;f<=g;){const m=g+f>>1,x=c(l,o[m]);if(x>0)f=m+1;else if(x<0)g=m-1;else return m}return-f-1}static numberComparator(o,l){return o-l}}class T{static numberOfTrailingZeros(o){let l;if(o===0)return 32;let c=31;return l=o<<16,l!==0&&(c-=16,o=l),l=o<<8,l!==0&&(c-=8,o=l),l=o<<4,l!==0&&(c-=4,o=l),l=o<<2,l!==0&&(c-=2,o=l),c-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let l=1;return o>>>16||(l+=16,o<<=16),o>>>24||(l+=8,o<<=8),o>>>28||(l+=4,o<<=4),o>>>30||(l+=2,o<<=2),l-=o>>>31,l}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,l){return Math.trunc(o/l)}static parseInt(o,l=void 0){return parseInt(o,l)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(o,l){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,l==null?this.bits=D.makeArray(o):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const l=D.makeArray(o);C.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const l=this.size;if(o>=l)return l;const c=this.bits;let f=Math.floor(o/32),g=c[f];g&=~((1<<(o&31))-1);const m=c.length;for(;g===0;){if(++f===m)return l;g=c[f]}const x=f*32+T.numberOfTrailingZeros(g);return x>l?l:x}getNextUnset(o){const l=this.size;if(o>=l)return l;const c=this.bits;let f=Math.floor(o/32),g=~c[f];g&=~((1<<(o&31))-1);const m=c.length;for(;g===0;){if(++f===m)return l;g=~c[f]}const x=f*32+T.numberOfTrailingZeros(g);return x>l?l:x}setBulk(o,l){this.bits[Math.floor(o/32)]=l}setRange(o,l){if(l<o||o<0||l>this.size)throw new v;if(l===o)return;l--;const c=Math.floor(o/32),f=Math.floor(l/32),g=this.bits;for(let m=c;m<=f;m++){const x=m>c?0:o&31,S=(2<<(m<f?31:l&31))-(1<<x);g[m]|=S}}clear(){const o=this.bits.length,l=this.bits;for(let c=0;c<o;c++)l[c]=0}isRange(o,l,c){if(l<o||o<0||l>this.size)throw new v;if(l===o)return!0;l--;const f=Math.floor(o/32),g=Math.floor(l/32),m=this.bits;for(let x=f;x<=g;x++){const E=x>f?0:o&31,P=(2<<(x<g?31:l&31))-(1<<E)&4294967295;if((m[x]&P)!==(c?P:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,l){if(l<0||l>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((o>>c-1&1)===1)}appendBitArray(o){const l=o.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(o.get(c))}xor(o){if(this.size!==o.size)throw new v("Sizes don't match");const l=this.bits;for(let c=0,f=l.length;c<f;c++)l[c]^=o.bits[c]}toBytes(o,l,c,f){for(let g=0;g<f;g++){let m=0;for(let x=0;x<8;x++)this.get(o)&&(m|=1<<7-x),o++;l[c+g]=m}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,f=this.bits;for(let g=0;g<c;g++){let m=f[g];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,o[l-g]=m}if(this.size!==c*32){const g=c*32-this.size;let m=o[0]>>>g;for(let x=1;x<c;x++){const E=o[x];m|=E<<32-g,o[x-1]=m,m=E>>>g}o[c-1]=m}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof D))return!1;const l=o;return this.size===l.size&&I.equals(this.bits,l.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let o="";for(let l=0,c=this.size;l<c;l++)l&7||(o+=" "),o+=this.get(l)?"X":".";return o}clone(){return new D(this.size,this.bits.slice())}}var M;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(M||(M={}));var j=M;class L extends h{static getFormatInstance(){return new L}}L.kind="FormatException";var z;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(z||(z={}));class U{constructor(o,l,c,...f){this.valueIdentifier=o,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=f,U.VALUE_IDENTIFIER_TO_ECI.set(o,this),U.NAME_TO_ECI.set(c,this);const g=this.values;for(let m=0,x=g.length;m!==x;m++){const E=g[m];U.VALUES_TO_ECI.set(E,this)}for(const m of f)U.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new L("incorect value");const l=U.VALUES_TO_ECI.get(o);if(l===void 0)throw new L("incorect value");return l}static getCharacterSetECIByName(o){const l=U.NAME_TO_ECI.get(o);if(l===void 0)throw new L("incorect value");return l}equals(o){if(!(o instanceof U))return!1;const l=o;return this.getName()===l.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(z.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(z.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(z.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(z.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(z.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(z.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(z.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(z.Big5,28,"Big5"),U.GB18030=new U(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(z.EUC_KR,30,"EUC_KR","EUC-KR");class J extends h{}J.kind="UnsupportedOperationException";class X{static decode(o,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(o,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(o,c):new TextDecoder(c).decode(o)}static shouldDecodeOnFallback(o){return!X.isBrowser()&&o==="ISO-8859-1"}static encode(o,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(o,c):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof U?o:U.getCharacterSetECIByName(o)}static decodeFallback(o,l){const c=this.encodingCharacterSet(l);if(X.isDecodeFallbackSupported(c)){let f="";for(let g=0,m=o.length;g<m;g++){let x=o[g].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(c.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new J(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(U.UTF8)||o.equals(U.ISO8859_1)||o.equals(U.ASCII)}static encodeFallback(o){const c=btoa(unescape(encodeURIComponent(o))).split(""),f=[];for(let g=0;g<c.length;g++)f.push(c[g].charCodeAt(0));return new Uint8Array(f)}}class q{static castAsNonUtf8Char(o,l=null){const c=l?l.getName():this.ISO88591;return X.decode(new Uint8Array([o]),c)}static guessEncoding(o,l){if(l!=null&&l.get(j.CHARACTER_SET)!==void 0)return l.get(j.CHARACTER_SET).toString();const c=o.length;let f=!0,g=!0,m=!0,x=0,E=0,S=0,P=0,R=0,B=0,$=0,W=0,G=0,V=0,Z=0;const ue=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ce=0;ce<c&&(f||g||m);ce++){const se=o[ce]&255;m&&(x>0?se&128?x--:m=!1:se&128&&(se&64?(x++,se&32?(x++,se&16?(x++,se&8?m=!1:P++):S++):E++):m=!1)),f&&(se>127&&se<160?f=!1:se>159&&(se<192||se===215||se===247)&&Z++),g&&(R>0?se<64||se===127||se>252?g=!1:R--:se===128||se===160||se>239?g=!1:se>160&&se<224?(B++,W=0,$++,$>G&&(G=$)):se>127?(R++,$=0,W++,W>V&&(V=W)):($=0,W=0))}return m&&x>0&&(m=!1),g&&R>0&&(g=!1),m&&(ue||E+S+P>0)?q.UTF8:g&&(q.ASSUME_SHIFT_JIS||G>=3||V>=3)?q.SHIFT_JIS:f&&g?G===2&&B===2||Z*10>=c?q.SHIFT_JIS:q.ISO88591:f?q.ISO88591:g?q.SHIFT_JIS:m?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(o,...l){let c=-1;function f(m,x,E,S,P,R){if(m==="%%")return"%";if(l[++c]===void 0)return;m=S?parseInt(S.substr(1)):void 0;let B=P?parseInt(P.substr(1)):void 0,$;switch(R){case"s":$=l[c];break;case"c":$=l[c][0];break;case"f":$=parseFloat(l[c]).toFixed(m);break;case"p":$=parseFloat(l[c]).toPrecision(m);break;case"e":$=parseFloat(l[c]).toExponential(m);break;case"x":$=parseInt(l[c]).toString(B||16);break;case"d":$=parseFloat(parseInt(l[c],B||10).toPrecision(m)).toFixed(0);break}$=typeof $=="object"?JSON.stringify($):(+$).toString(B);let W=parseInt(E),G=E&&E[0]+""=="0"?"0":" ";for(;$.length<W;)$=x!==void 0?$+G:G+$;return $}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(g,f)}static getBytes(o,l){return X.encode(o,l)}static getCharCode(o,l=0){return o.charCodeAt(l)}static getCharAt(o){return String.fromCharCode(o)}}q.SHIFT_JIS=U.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=U.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=U.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class oe{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=q.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,l,c){for(let f=l;l<l+c;f++)this.append(o[f]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+1)}substring(o,l){return this.value.substring(o,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+l.length)}}class de{constructor(o,l,c,f){if(this.width=o,this.height=l,this.rowSize=c,this.bits=f,l==null&&(l=o),this.height=l,o<1||l<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((o+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const l=o.length,c=o[0].length,f=new de(c,l);for(let g=0;g<l;g++){const m=o[g];for(let x=0;x<c;x++)m[x]&&f.set(x,g)}return f}static parseFromString(o,l,c){if(o===null)throw new v("stringRepresentation cannot be null");const f=new Array(o.length);let g=0,m=0,x=-1,E=0,S=0;for(;S<o.length;)if(o.charAt(S)===`
`||o.charAt(S)==="\r"){if(g>m){if(x===-1)x=g-m;else if(g-m!==x)throw new v("row lengths do not match");m=g,E++}S++}else if(o.substring(S,S+l.length)===l)S+=l.length,f[g]=!0,g++;else if(o.substring(S,S+c.length)===c)S+=c.length,f[g]=!1,g++;else throw new v("illegal character encountered: "+o.substring(S));if(g>m){if(x===-1)x=g-m;else if(g-m!==x)throw new v("row lengths do not match");E++}const P=new de(x,E);for(let R=0;R<g;R++)f[R]&&P.set(Math.floor(R%x),Math.floor(R/x));return P}get(o,l){const c=l*this.rowSize+Math.floor(o/32);return(this.bits[c]>>>(o&31)&1)!==0}set(o,l){const c=l*this.rowSize+Math.floor(o/32);this.bits[c]|=1<<(o&31)&4294967295}unset(o,l){const c=l*this.rowSize+Math.floor(o/32);this.bits[c]&=~(1<<(o&31)&4294967295)}flip(o,l){const c=l*this.rowSize+Math.floor(o/32);this.bits[c]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new v("input matrix dimensions do not match");const l=new D(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let g=0,m=this.height;g<m;g++){const x=g*c,E=o.getRow(g,l).getBitArray();for(let S=0;S<c;S++)f[x+S]^=E[S]}}clear(){const o=this.bits,l=o.length;for(let c=0;c<l;c++)o[c]=0}setRegion(o,l,c,f){if(l<0||o<0)throw new v("Left and top must be nonnegative");if(f<1||c<1)throw new v("Height and width must be at least 1");const g=o+c,m=l+f;if(m>this.height||g>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,E=this.bits;for(let S=l;S<m;S++){const P=S*x;for(let R=o;R<g;R++)E[P+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(o,l){l==null||l.getSize()<this.width?l=new D(this.width):l.clear();const c=this.rowSize,f=this.bits,g=o*c;for(let m=0;m<c;m++)l.setBulk(m*32,f[g+m]);return l}setRow(o,l){C.arraycopy(l.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),l=this.getHeight();let c=new D(o),f=new D(o);for(let g=0,m=Math.floor((l+1)/2);g<m;g++)c=this.getRow(g,c),f=this.getRow(l-1-g,f),c.reverse(),f.reverse(),this.setRow(g,f),this.setRow(l-1-g,c)}getEnclosingRectangle(){const o=this.width,l=this.height,c=this.rowSize,f=this.bits;let g=o,m=l,x=-1,E=-1;for(let S=0;S<l;S++)for(let P=0;P<c;P++){const R=f[S*c+P];if(R!==0){if(S<m&&(m=S),S>E&&(E=S),P*32<g){let B=0;for(;!(R<<31-B&4294967295);)B++;P*32+B<g&&(g=P*32+B)}if(P*32+31>x){let B=31;for(;!(R>>>B);)B--;P*32+B>x&&(x=P*32+B)}}}return x<g||E<m?null:Int32Array.from([g,m,x-g+1,E-m+1])}getTopLeftOnBit(){const o=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const f=c/o;let g=c%o*32;const m=l[c];let x=0;for(;!(m<<31-x&4294967295);)x++;return g+=x,Int32Array.from([g,f])}getBottomRightOnBit(){const o=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/o);let g=Math.floor(c%o)*32;const m=l[c];let x=31;for(;!(m>>>x);)x--;return g+=x,Int32Array.from([g,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof de))return!1;const l=o;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&I.equals(this.bits,l.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+I.hashCode(this.bits),o}toString(o="X ",l="  ",c=`
`){return this.buildToString(o,l,c)}buildToString(o,l,c){let f=new oe;for(let g=0,m=this.height;g<m;g++){for(let x=0,E=this.width;x<E;x++)f.append(this.get(x,g)?o:l);f.append(c)}return f.toString()}clone(){return new de(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends h{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class we extends A{constructor(o){super(o),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(o,l){const c=this.getLuminanceSource(),f=c.getWidth();l==null||l.getSize()<f?l=new D(f):l.clear(),this.initArrays(f);const g=c.getRow(o,this.luminances),m=this.buckets;for(let E=0;E<f;E++)m[(g[E]&255)>>we.LUMINANCE_SHIFT]++;const x=we.estimateBlackPoint(m);if(f<3)for(let E=0;E<f;E++)(g[E]&255)<x&&l.set(E);else{let E=g[0]&255,S=g[1]&255;for(let P=1;P<f-1;P++){const R=g[P+1]&255;(S*4-E-R)/2<x&&l.set(P),E=S,S=R}}return l}getBlackMatrix(){const o=this.getLuminanceSource(),l=o.getWidth(),c=o.getHeight(),f=new de(l,c);this.initArrays(l);const g=this.buckets;for(let E=1;E<5;E++){const S=Math.floor(c*E/5),P=o.getRow(S,this.luminances),R=Math.floor(l*4/5);for(let B=Math.floor(l/5);B<R;B++){const $=P[B]&255;g[$>>we.LUMINANCE_SHIFT]++}}const m=we.estimateBlackPoint(g),x=o.getMatrix();for(let E=0;E<c;E++){const S=E*l;for(let P=0;P<l;P++)(x[S+P]&255)<m&&f.set(P,E)}return f}createBinarizer(o){return new we(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const l=this.buckets;for(let c=0;c<we.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(o){const l=o.length;let c=0,f=0,g=0;for(let P=0;P<l;P++)o[P]>g&&(f=P,g=o[P]),o[P]>c&&(c=o[P]);let m=0,x=0;for(let P=0;P<l;P++){const R=P-f,B=o[P]*R*R;B>x&&(m=P,x=B)}if(f>m){const P=f;f=m,m=P}if(m-f<=l/16)throw new H;let E=m-1,S=-1;for(let P=m-1;P>f;P--){const R=P-f,B=R*R*(m-P)*(c-o[P]);B>S&&(E=P,S=B)}return E<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class ee extends we{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),l=o.getWidth(),c=o.getHeight();if(l>=ee.MINIMUM_DIMENSION&&c>=ee.MINIMUM_DIMENSION){const f=o.getMatrix();let g=l>>ee.BLOCK_SIZE_POWER;l&ee.BLOCK_SIZE_MASK&&g++;let m=c>>ee.BLOCK_SIZE_POWER;c&ee.BLOCK_SIZE_MASK&&m++;const x=ee.calculateBlackPoints(f,g,m,l,c),E=new de(l,c);ee.calculateThresholdForBlock(f,g,m,l,c,x,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ee(o)}static calculateThresholdForBlock(o,l,c,f,g,m,x){const E=g-ee.BLOCK_SIZE,S=f-ee.BLOCK_SIZE;for(let P=0;P<c;P++){let R=P<<ee.BLOCK_SIZE_POWER;R>E&&(R=E);const B=ee.cap(P,2,c-3);for(let $=0;$<l;$++){let W=$<<ee.BLOCK_SIZE_POWER;W>S&&(W=S);const G=ee.cap($,2,l-3);let V=0;for(let ue=-2;ue<=2;ue++){const ce=m[B+ue];V+=ce[G-2]+ce[G-1]+ce[G]+ce[G+1]+ce[G+2]}const Z=V/25;ee.thresholdBlock(o,W,R,Z,f,x)}}}static cap(o,l,c){return o<l?l:o>c?c:o}static thresholdBlock(o,l,c,f,g,m){for(let x=0,E=c*g+l;x<ee.BLOCK_SIZE;x++,E+=g)for(let S=0;S<ee.BLOCK_SIZE;S++)(o[E+S]&255)<=f&&m.set(l+S,c+x)}static calculateBlackPoints(o,l,c,f,g){const m=g-ee.BLOCK_SIZE,x=f-ee.BLOCK_SIZE,E=new Array(c);for(let S=0;S<c;S++){E[S]=new Int32Array(l);let P=S<<ee.BLOCK_SIZE_POWER;P>m&&(P=m);for(let R=0;R<l;R++){let B=R<<ee.BLOCK_SIZE_POWER;B>x&&(B=x);let $=0,W=255,G=0;for(let Z=0,ue=P*f+B;Z<ee.BLOCK_SIZE;Z++,ue+=f){for(let ce=0;ce<ee.BLOCK_SIZE;ce++){const se=o[ue+ce]&255;$+=se,se<W&&(W=se),se>G&&(G=se)}if(G-W>ee.MIN_DYNAMIC_RANGE)for(Z++,ue+=f;Z<ee.BLOCK_SIZE;Z++,ue+=f)for(let ce=0;ce<ee.BLOCK_SIZE;ce++)$+=o[ue+ce]&255}let V=$>>ee.BLOCK_SIZE_POWER*2;if(G-W<=ee.MIN_DYNAMIC_RANGE&&(V=W/2,S>0&&R>0)){const Z=(E[S-1][R]+2*E[S][R-1]+E[S-1][R-1])/4;W<Z&&(V=Z)}E[S][R]=V}}return E}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class te{constructor(o,l){this.width=o,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,l,c,f){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let l=new oe;for(let c=0;c<this.height;c++){const f=this.getRow(c,o);for(let g=0;g<this.width;g++){const m=f[g]&255;let x;m<64?x="#":m<128?x="+":m<192?x=".":x=" ",l.append(x)}l.append(`
`)}return l.toString()}}class fe extends te{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,l){const c=this.delegate.getRow(o,l),f=this.getWidth();for(let g=0;g<f;g++)c[g]=255-(c[g]&255);return c}getMatrix(){const o=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let f=0;f<l;f++)c[f]=255-(o[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(o,l,c,f){return new fe(this.delegate.crop(o,l,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ie extends te{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=ie.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const l=o.getContext("2d").getImageData(0,0,o.width,o.height);return ie.toGrayscaleBuffer(l.data,o.width,o.height)}static toGrayscaleBuffer(o,l,c){const f=new Uint8ClampedArray(l*c);for(let g=0,m=0,x=o.length;g<x;g+=4,m++){let E;if(o[g+3]===0)E=255;else{const P=o[g],R=o[g+1],B=o[g+2];E=306*P+601*R+117*B+512>>10}f[m]=E}return f}getRow(o,l){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const c=this.getWidth(),f=o*c;return l===null?l=this.buffer.slice(f,f+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(f,f+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,l,c,f){return super.crop(o,l,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const l=this.getTempCanvasElement(),c=l.getContext("2d"),f=o*ie.DEGREE_TO_RADIANS,g=this.canvas.width,m=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*g+Math.abs(Math.sin(f))*m),E=Math.ceil(Math.abs(Math.sin(f))*g+Math.abs(Math.cos(f))*m);return l.width=x,l.height=E,c.translate(x/2,E/2),c.rotate(f),c.drawImage(this.canvas,g/-2,m/-2),this.buffer=ie.makeBufferFromCanvasImageData(l),this}invert(){return new fe(this)}}ie.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(o,l,c){this.deviceId=o,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Nr||self||window||void 0)&&(globalThis||Nr||self||window||void 0).__awaiter||function(k,o,l,c){function f(g){return g instanceof l?g:new l(function(m){m(g)})}return new(l||(l=Promise))(function(g,m){function x(P){try{S(c.next(P))}catch(R){m(R)}}function E(P){try{S(c.throw(P))}catch(R){m(R)}}function S(P){P.done?g(P.value):f(P.value).then(x,E)}S((c=c.apply(k,o||[])).next())})};class Ue{constructor(o,l=500,c){this.reader=o,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of o){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const g=c.deviceId||c.id,m=c.label||`Video device ${l.length+1}`,x=c.groupId,E={deviceId:g,label:m,kind:f,groupId:x};l.push(E)}return l})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ve(l.deviceId,l.label))})}findDeviceById(o){return re(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===o):null})}decodeFromInputVideoDevice(o,l){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,l)})}decodeOnceFromVideoDevice(o,l){return re(this,void 0,void 0,function*(){this.reset();let c;o?c={deviceId:{exact:o}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,l)})}decodeOnceFromConstraints(o,l){return re(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(o,l){return re(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(o,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(o,l,c){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,l,c)})}decodeFromVideoDevice(o,l,c){return re(this,void 0,void 0,function*(){let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const g={video:f};return yield this.decodeFromConstraints(g,l,c)})}decodeFromConstraints(o,l,c){return re(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(f,l,c)})}decodeFromStream(o,l,c){return re(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,l);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,l){return re(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,o),this.videoElement=c,this.stream=o,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(o){return new Promise((l,c)=>this.playVideoOnLoad(o,()=>l()))}playVideoOnLoad(o,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",l),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,l){const c=document.getElementById(o);if(!c)throw new p(`element with id '${o}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new p(`element with id '${o}' must be an ${l} element`);return c}decodeFromImage(o,l){if(!o&&!l)throw new p("either imageElement with a src set or an url must be provided");return l&&!o?this.decodeFromImageUrl(l):this.decodeFromImageElement(o)}decodeFromVideo(o,l){if(!o&&!l)throw new p("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,l,c){if(o===void 0&&l===void 0)throw new p("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(o,c)}decodeFromImageElement(o){if(!o)throw new p("An image element must be provided.");this.reset();const l=this.prepareImageElement(o);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(o){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(o,l){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(o){if(!o)throw new p("A video element must be provided.");this.reset();const l=this.prepareVideoElement(o);return this.videoElement=l,l}decodeFromImageUrl(o){if(!o)throw new p("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=o,c}decodeFromVideoUrl(o){if(!o)throw new p("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=o,c}decodeFromVideoUrlContinuously(o,l){if(!o)throw new p("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,l);return c.src=o,f}_decodeOnLoadImage(o){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(l,c),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,l){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,l)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let l;return typeof o>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(l=o),l}prepareVideoElement(o){let l;return!o&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(l=o),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(o,l=!0,c=!0){this._stopAsyncDecode=!1;const f=(g,m)=>{if(this._stopAsyncDecode){m(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(o);g(x)}catch(x){const E=l&&x instanceof H,P=(x instanceof w||x instanceof L)&&c;if(E||P)return setTimeout(f,this._timeBetweenDecodingAttempts,g,m);m(x)}};return new Promise((g,m)=>f(g,m))}decodeContinuously(o,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(o);l(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){l(null,f);const g=f instanceof w||f instanceof L,m=f instanceof H;(g||m)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(o){const l=this.createBinaryBitmap(o);return this.decodeBitmap(l)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,l,c){l||(l={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(o,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),c=new ie(l),f=new ee(c);return new y(f)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const l=this.createCaptureCanvas(o);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,f;return typeof o<"u"&&(o instanceof HTMLVideoElement?(c=o.videoWidth,f=o.videoHeight):o instanceof HTMLImageElement&&(c=o.naturalWidth||o.width,f=o.naturalHeight||o.height)),l.style.width=c+"px",l.style.height=f+"px",l.width=c,l.height=f,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,l){try{o.srcObject=l}catch{o.src=URL.createObjectURL(l)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class $e{constructor(o,l,c=l==null?0:8*l.length,f,g,m=C.currentTimeMillis()){this.text=o,this.rawBytes=l,this.numBits=c,this.resultPoints=f,this.format=g,this.timestamp=m,this.text=o,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=f,this.format=g,this.resultMetadata=null,m==null?this.timestamp=C.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,l)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const l=this.resultPoints;if(l===null)this.resultPoints=o;else if(o!==null&&o.length>0){const c=new Array(l.length+o.length);C.arraycopy(l,0,c,0,l.length),C.arraycopy(o,0,c,l.length,o.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var xe=qe,cr;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(cr||(cr={}));var ht=cr;class ye{constructor(o,l,c,f,g=-1,m=-1){this.rawBytes=o,this.text=l,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=m,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class je{exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}static addOrSubtract(o,l){return o^l}}class De{constructor(o,l){if(l.length===0)throw new v;this.field=o;const c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(o===1){c=0;for(let m=0,x=l.length;m!==x;m++){const E=l[m];c=je.addOrSubtract(c,E)}return c}c=l[0];const f=l.length,g=this.field;for(let m=1;m<f;m++)c=je.addOrSubtract(g.multiply(o,c),l[m]);return c}addOrSubtract(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,c=o.coefficients;if(l.length>c.length){const m=l;l=c,c=m}let f=new Int32Array(c.length);const g=c.length-l.length;C.arraycopy(c,0,f,0,g);for(let m=g;m<c.length;m++)f[m]=je.addOrSubtract(l[m-g],c[m]);return new De(this.field,f)}multiply(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,f=o.coefficients,g=f.length,m=new Int32Array(c+g-1),x=this.field;for(let E=0;E<c;E++){const S=l[E];for(let P=0;P<g;P++)m[E+P]=je.addOrSubtract(m[E+P],x.multiply(S,f[P]))}return new De(x,m)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const l=this.coefficients.length,c=this.field,f=new Int32Array(l),g=this.coefficients;for(let m=0;m<l;m++)f[m]=c.multiply(g[m],o);return new De(c,f)}multiplyByMonomial(o,l){if(o<0)throw new v;if(l===0)return this.field.getZero();const c=this.coefficients,f=c.length,g=new Int32Array(f+o),m=this.field;for(let x=0;x<f;x++)g[x]=m.multiply(c[x],l);return new De(m,g)}divide(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new v("Divide by 0");const l=this.field;let c=l.getZero(),f=this;const g=o.getCoefficient(o.getDegree()),m=l.inverse(g);for(;f.getDegree()>=o.getDegree()&&!f.isZero();){const x=f.getDegree()-o.getDegree(),E=l.multiply(f.getCoefficient(f.getDegree()),m),S=o.multiplyByMonomial(x,E),P=l.buildMonomial(x,E);c=c.addOrSubtract(P),f=f.addOrSubtract(S)}return[c,f]}toString(){let o="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(o+=" - ",c=-c):o.length>0&&(o+=" + "),l===0||c!==1){const f=this.field.log(c);f===0?o+="1":f===1?o+="a":(o+="a^",o+=f)}l!==0&&(l===1?o+="x":(o+="x^",o+=l))}}return o}}class ae extends h{}ae.kind="ArithmeticException";class Me extends je{constructor(o,l,c){super(),this.primitive=o,this.size=l,this.generatorBase=c;const f=new Int32Array(l);let g=1;for(let x=0;x<l;x++)f[x]=g,g*=2,g>=l&&(g^=o,g&=l-1);this.expTable=f;const m=new Int32Array(l);for(let x=0;x<l-1;x++)m[f[x]]=x;this.logTable=m,this.zero=new De(this,Int32Array.from([0])),this.one=new De(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new v;if(l===0)return this.zero;const c=new Int32Array(o+1);return c[0]=l,new De(this,c)}inverse(o){if(o===0)throw new ae;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class Ge extends h{}Ge.kind="ReedSolomonException";class at extends h{}at.kind="IllegalStateException";class he{constructor(o){this.field=o}decode(o,l){const c=this.field,f=new De(c,o),g=new Int32Array(l);let m=!0;for(let $=0;$<l;$++){const W=f.evaluateAt(c.exp($+c.getGeneratorBase()));g[g.length-1-$]=W,W!==0&&(m=!1)}if(m)return;const x=new De(c,g),E=this.runEuclideanAlgorithm(c.buildMonomial(l,1),x,l),S=E[0],P=E[1],R=this.findErrorLocations(S),B=this.findErrorMagnitudes(P,R);for(let $=0;$<R.length;$++){const W=o.length-1-c.log(R[$]);if(W<0)throw new Ge("Bad error location");o[W]=Me.addOrSubtract(o[W],B[$])}}runEuclideanAlgorithm(o,l,c){if(o.getDegree()<l.getDegree()){const $=o;o=l,l=$}const f=this.field;let g=o,m=l,x=f.getZero(),E=f.getOne();for(;m.getDegree()>=(c/2|0);){let $=g,W=x;if(g=m,x=E,g.isZero())throw new Ge("r_{i-1} was zero");m=$;let G=f.getZero();const V=g.getCoefficient(g.getDegree()),Z=f.inverse(V);for(;m.getDegree()>=g.getDegree()&&!m.isZero();){const ue=m.getDegree()-g.getDegree(),ce=f.multiply(m.getCoefficient(m.getDegree()),Z);G=G.addOrSubtract(f.buildMonomial(ue,ce)),m=m.addOrSubtract(g.multiplyByMonomial(ue,ce))}if(E=G.multiply(x).addOrSubtract(W),m.getDegree()>=g.getDegree())throw new at("Division algorithm failed to reduce polynomial?")}const S=E.getCoefficient(0);if(S===0)throw new Ge("sigmaTilde(0) was zero");const P=f.inverse(S),R=E.multiplyScalar(P),B=m.multiplyScalar(P);return[R,B]}findErrorLocations(o){const l=o.getDegree();if(l===1)return Int32Array.from([o.getCoefficient(1)]);const c=new Int32Array(l);let f=0;const g=this.field;for(let m=1;m<g.getSize()&&f<l;m++)o.evaluateAt(m)===0&&(c[f]=g.inverse(m),f++);if(f!==l)throw new Ge("Error locator degree does not match number of roots");return c}findErrorMagnitudes(o,l){const c=l.length,f=new Int32Array(c),g=this.field;for(let m=0;m<c;m++){const x=g.inverse(l[m]);let E=1;for(let S=0;S<c;S++)if(m!==S){const P=g.multiply(l[S],x),R=P&1?P&-2:P|1;E=g.multiply(E,R)}f[m]=g.multiply(o.evaluateAt(x),g.inverse(E)),g.getGeneratorBase()!==0&&(f[m]=g.multiply(f[m],x))}return f}}var Te;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Te||(Te={}));class Ie{decode(o){this.ddata=o;let l=o.getBits(),c=this.extractBits(l),f=this.correctBits(c),g=Ie.convertBoolArrayToByteArray(f),m=Ie.getEncodedData(f),x=new ye(g,m,null,null);return x.setNumBits(f.length),x}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let l=o.length,c=Te.UPPER,f=Te.UPPER,g="",m=0;for(;m<l;)if(f===Te.BINARY){if(l-m<5)break;let x=Ie.readCode(o,m,5);if(m+=5,x===0){if(l-m<11)break;x=Ie.readCode(o,m,11)+31,m+=11}for(let E=0;E<x;E++){if(l-m<8){m=l;break}const S=Ie.readCode(o,m,8);g+=q.castAsNonUtf8Char(S),m+=8}f=c}else{let x=f===Te.DIGIT?4:5;if(l-m<x)break;let E=Ie.readCode(o,m,x);m+=x;let S=Ie.getCharacter(f,E);S.startsWith("CTRL_")?(c=f,f=Ie.getTable(S.charAt(5)),S.charAt(6)==="L"&&(c=f)):(g+=S,f=c)}return g}static getTable(o){switch(o){case"L":return Te.LOWER;case"P":return Te.PUNCT;case"M":return Te.MIXED;case"D":return Te.DIGIT;case"B":return Te.BINARY;case"U":default:return Te.UPPER}}static getCharacter(o,l){switch(o){case Te.UPPER:return Ie.UPPER_TABLE[l];case Te.LOWER:return Ie.LOWER_TABLE[l];case Te.MIXED:return Ie.MIXED_TABLE[l];case Te.PUNCT:return Ie.PUNCT_TABLE[l];case Te.DIGIT:return Ie.DIGIT_TABLE[l];default:throw new at("Bad table")}}correctBits(o){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Me.AZTEC_DATA_10):(c=12,l=Me.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),g=o.length/c;if(g<f)throw new L;let m=o.length%c,x=new Int32Array(g);for(let B=0;B<g;B++,m+=c)x[B]=Ie.readCode(o,m,c);try{new he(l).decode(x,g-f)}catch(B){throw new L(B)}let E=(1<<c)-1,S=0;for(let B=0;B<f;B++){let $=x[B];if($===0||$===E)throw new L;($===1||$===E-1)&&S++}let P=new Array(f*c-S),R=0;for(let B=0;B<f;B++){let $=x[B];if($===1||$===E-1)P.fill($>1,R,R+c-1),R+=c-1;else for(let W=c-1;W>=0;--W)P[R++]=($&1<<W)!==0}return P}extractBits(o){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(l?11:14)+c*4,g=new Int32Array(f),m=new Array(this.totalBitsInLayer(c,l));if(l)for(let x=0;x<g.length;x++)g[x]=x;else{let x=f+1+2*T.truncDivision(T.truncDivision(f,2)-1,15),E=f/2,S=T.truncDivision(x,2);for(let P=0;P<E;P++){let R=P+T.truncDivision(P,15);g[E-P-1]=S-R-1,g[E+P]=S+R+1}}for(let x=0,E=0;x<c;x++){let S=(c-x)*4+(l?9:12),P=x*2,R=f-1-P;for(let B=0;B<S;B++){let $=B*2;for(let W=0;W<2;W++)m[E+$+W]=o.get(g[P+W],g[P+B]),m[E+2*S+$+W]=o.get(g[P+B],g[R-W]),m[E+4*S+$+W]=o.get(g[R-W],g[R-B]),m[E+6*S+$+W]=o.get(g[R-B],g[P+W])}E+=S*8}return m}static readCode(o,l,c){let f=0;for(let g=l;g<l+c;g++)f<<=1,o[g]&&(f|=1);return f}static readByte(o,l){let c=o.length-l;return c>=8?Ie.readCode(o,l,8):Ie.readCode(o,l,c)<<8-c}static convertBoolArrayToByteArray(o){let l=new Uint8Array((o.length+7)/8);for(let c=0;c<l.length;c++)l[c]=Ie.readByte(o,8*c);return l}totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}Ie.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ie.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ie.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ie.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ie.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Oe{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,l,c,f){const g=o-c,m=l-f;return Math.sqrt(g*g+m*m)}static sum(o){let l=0;for(let c=0,f=o.length;c!==f;c++){const g=o[c];l+=g}return l}}class Rt{static floatToIntBits(o){return o}}Rt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(o,l){this.x=o,this.y=l}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof me){const l=o;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Rt.floatToIntBits(this.x)+Rt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const l=this.distance(o[0],o[1]),c=this.distance(o[1],o[2]),f=this.distance(o[0],o[2]);let g,m,x;if(c>=l&&c>=f?(m=o[0],g=o[1],x=o[2]):f>=c&&f>=l?(m=o[1],g=o[0],x=o[2]):(m=o[2],g=o[0],x=o[1]),this.crossProductZ(g,m,x)<0){const E=g;g=x,x=E}o[0]=g,o[1]=m,o[2]=x}static distance(o,l){return Oe.distance(o.x,o.y,l.x,l.y)}static crossProductZ(o,l,c){const f=l.x,g=l.y;return(c.x-f)*(o.y-g)-(c.y-g)*(o.x-f)}}class Hi{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Ea extends Hi{constructor(o,l,c,f,g){super(o,l),this.compact=c,this.nbDatablocks=f,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class di{constructor(o,l,c,f){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),l==null&&(l=di.INIT_SIZE),c==null&&(c=o.getWidth()/2|0),f==null&&(f=o.getHeight()/2|0);const g=l/2|0;if(this.leftInit=c-g,this.rightInit=c+g,this.upInit=f-g,this.downInit=f+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let o=this.leftInit,l=this.rightInit,c=this.upInit,f=this.downInit,g=!1,m=!0,x=!1,E=!1,S=!1,P=!1,R=!1;const B=this.width,$=this.height;for(;m;){m=!1;let W=!0;for(;(W||!E)&&l<B;)W=this.containsBlackPoint(c,f,l,!1),W?(l++,m=!0,E=!0):E||l++;if(l>=B){g=!0;break}let G=!0;for(;(G||!S)&&f<$;)G=this.containsBlackPoint(o,l,f,!0),G?(f++,m=!0,S=!0):S||f++;if(f>=$){g=!0;break}let V=!0;for(;(V||!P)&&o>=0;)V=this.containsBlackPoint(c,f,o,!1),V?(o--,m=!0,P=!0):P||o--;if(o<0){g=!0;break}let Z=!0;for(;(Z||!R)&&c>=0;)Z=this.containsBlackPoint(o,l,c,!0),Z?(c--,m=!0,R=!0):R||c--;if(c<0){g=!0;break}m&&(x=!0)}if(!g&&x){const W=l-o;let G=null;for(let ce=1;G===null&&ce<W;ce++)G=this.getBlackPointOnSegment(o,f-ce,o+ce,f);if(G==null)throw new H;let V=null;for(let ce=1;V===null&&ce<W;ce++)V=this.getBlackPointOnSegment(o,c+ce,o+ce,c);if(V==null)throw new H;let Z=null;for(let ce=1;Z===null&&ce<W;ce++)Z=this.getBlackPointOnSegment(l,c+ce,l-ce,c);if(Z==null)throw new H;let ue=null;for(let ce=1;ue===null&&ce<W;ce++)ue=this.getBlackPointOnSegment(l,f-ce,l-ce,f);if(ue==null)throw new H;return this.centerEdges(ue,G,Z,V)}else throw new H}getBlackPointOnSegment(o,l,c,f){const g=Oe.round(Oe.distance(o,l,c,f)),m=(c-o)/g,x=(f-l)/g,E=this.image;for(let S=0;S<g;S++){const P=Oe.round(o+S*m),R=Oe.round(l+S*x);if(E.get(P,R))return new me(P,R)}return null}centerEdges(o,l,c,f){const g=o.getX(),m=o.getY(),x=l.getX(),E=l.getY(),S=c.getX(),P=c.getY(),R=f.getX(),B=f.getY(),$=di.CORR;return g<this.width/2?[new me(R-$,B+$),new me(x+$,E+$),new me(S-$,P-$),new me(g+$,m-$)]:[new me(R+$,B+$),new me(x+$,E-$),new me(S-$,P+$),new me(g-$,m-$)]}containsBlackPoint(o,l,c,f){const g=this.image;if(f){for(let m=o;m<=l;m++)if(g.get(m,c))return!0}else for(let m=o;m<=l;m++)if(g.get(c,m))return!0;return!1}}di.INIT_SIZE=10,di.CORR=1;class Sp{static checkAndNudgePoints(o,l){const c=o.getWidth(),f=o.getHeight();let g=!0;for(let m=0;m<l.length&&g;m+=2){const x=Math.floor(l[m]),E=Math.floor(l[m+1]);if(x<-1||x>c||E<-1||E>f)throw new H;g=!1,x===-1?(l[m]=0,g=!0):x===c&&(l[m]=c-1,g=!0),E===-1?(l[m+1]=0,g=!0):E===f&&(l[m+1]=f-1,g=!0)}g=!0;for(let m=l.length-2;m>=0&&g;m-=2){const x=Math.floor(l[m]),E=Math.floor(l[m+1]);if(x<-1||x>c||E<-1||E>f)throw new H;g=!1,x===-1?(l[m]=0,g=!0):x===c&&(l[m]=c-1,g=!0),E===-1?(l[m+1]=0,g=!0):E===f&&(l[m+1]=f-1,g=!0)}}}class fi{constructor(o,l,c,f,g,m,x,E,S){this.a11=o,this.a21=l,this.a31=c,this.a12=f,this.a22=g,this.a32=m,this.a13=x,this.a23=E,this.a33=S}static quadrilateralToQuadrilateral(o,l,c,f,g,m,x,E,S,P,R,B,$,W,G,V){const Z=fi.quadrilateralToSquare(o,l,c,f,g,m,x,E);return fi.squareToQuadrilateral(S,P,R,B,$,W,G,V).times(Z)}transformPoints(o){const l=o.length,c=this.a11,f=this.a12,g=this.a13,m=this.a21,x=this.a22,E=this.a23,S=this.a31,P=this.a32,R=this.a33;for(let B=0;B<l;B+=2){const $=o[B],W=o[B+1],G=g*$+E*W+R;o[B]=(c*$+m*W+S)/G,o[B+1]=(f*$+x*W+P)/G}}transformPointsWithValues(o,l){const c=this.a11,f=this.a12,g=this.a13,m=this.a21,x=this.a22,E=this.a23,S=this.a31,P=this.a32,R=this.a33,B=o.length;for(let $=0;$<B;$++){const W=o[$],G=l[$],V=g*W+E*G+R;o[$]=(c*W+m*G+S)/V,l[$]=(f*W+x*G+P)/V}}static squareToQuadrilateral(o,l,c,f,g,m,x,E){const S=o-c+g-x,P=l-f+m-E;if(S===0&&P===0)return new fi(c-o,g-c,o,f-l,m-f,l,0,0,1);{const R=c-g,B=x-g,$=f-m,W=E-m,G=R*W-B*$,V=(S*W-B*P)/G,Z=(R*P-S*$)/G;return new fi(c-o+V*c,x-o+Z*x,o,f-l+V*f,E-l+Z*E,l,V,Z,1)}}static quadrilateralToSquare(o,l,c,f,g,m,x,E){return fi.squareToQuadrilateral(o,l,c,f,g,m,x,E).buildAdjoint()}buildAdjoint(){return new fi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new fi(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Qw extends Sp{sampleGrid(o,l,c,f,g,m,x,E,S,P,R,B,$,W,G,V,Z,ue,ce){const se=fi.quadrilateralToQuadrilateral(f,g,m,x,E,S,P,R,B,$,W,G,V,Z,ue,ce);return this.sampleGridWithTransform(o,l,c,se)}sampleGridWithTransform(o,l,c,f){if(l<=0||c<=0)throw new H;const g=new de(l,c),m=new Float32Array(2*l);for(let x=0;x<c;x++){const E=m.length,S=x+.5;for(let P=0;P<E;P+=2)m[P]=P/2+.5,m[P+1]=S;f.transformPoints(m),Sp.checkAndNudgePoints(o,m);try{for(let P=0;P<E;P+=2)o.get(Math.floor(m[P]),Math.floor(m[P+1]))&&g.set(P/2,x)}catch{throw new H}}return g}}class Aa{static setGridSampler(o){Aa.gridSampler=o}static getInstance(){return Aa.gridSampler}}Aa.gridSampler=new Qw;class Hr{constructor(o,l){this.x=o,this.y=l}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jw{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(o){let m=c[0];c[0]=c[2],c[2]=m}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),g=this.getMatrixCornerPoints(c);return new Ea(f,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new H;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(o[0],o[1],l),this.sampleLine(o[1],o[2],l),this.sampleLine(o[2],o[3],l),this.sampleLine(o[3],o[0],l)]);this.shift=this.getRotation(c,l);let f=0;for(let m=0;m<4;m++){let x=c[(this.shift+m)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let g=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(o,l){let c=0;o.forEach((f,g,m)=>{let x=(f>>l-2<<1)+(f&1);c=(c<<3)+x}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(T.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new H}getCorrectedParameterData(o,l){let c,f;l?(c=7,f=2):(c=10,f=4);let g=c-f,m=new Int32Array(c);for(let E=c-1;E>=0;--E)m[E]=o&15,o>>=4;try{new he(Me.AZTEC_PARAM).decode(m,g)}catch{throw new H}let x=0;for(let E=0;E<f;E++)x=(x<<4)+m[E];return x}getBullsEyeCorners(o){let l=o,c=o,f=o,g=o,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(l,m,1,-1),B=this.getFirstDifferent(c,m,1,1),$=this.getFirstDifferent(f,m,-1,1),W=this.getFirstDifferent(g,m,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(W,R)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(R,B,$,W))break}l=R,c=B,f=$,g=W,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let x=new me(l.getX()+.5,l.getY()-.5),E=new me(c.getX()+.5,c.getY()+.5),S=new me(f.getX()-.5,f.getY()+.5),P=new me(g.getX()-.5,g.getY()-.5);return this.expandSquare([x,E,S,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,l,c,f;try{let x=new di(this.image).detect();o=x[0],l=x[1],c=x[2],f=x[3]}catch{let E=this.image.getWidth()/2,S=this.image.getHeight()/2;o=this.getFirstDifferent(new Hr(E+7,S-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Hr(E+7,S+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Hr(E-7,S+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Hr(E-7,S-7),!1,-1,-1).toResultPoint()}let g=Oe.round((o.getX()+f.getX()+l.getX()+c.getX())/4),m=Oe.round((o.getY()+f.getY()+l.getY()+c.getY())/4);try{let x=new di(this.image,15,g,m).detect();o=x[0],l=x[1],c=x[2],f=x[3]}catch{o=this.getFirstDifferent(new Hr(g+7,m-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Hr(g+7,m+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Hr(g-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Hr(g-7,m-7),!1,-1,-1).toResultPoint()}return g=Oe.round((o.getX()+f.getX()+l.getX()+c.getX())/4),m=Oe.round((o.getY()+f.getY()+l.getY()+c.getY())/4),new Hr(g,m)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,l,c,f,g){let m=Aa.getInstance(),x=this.getDimension(),E=x/2-this.nbCenterLayers,S=x/2+this.nbCenterLayers;return m.sampleGrid(o,x,x,E,E,S,E,S,S,E,S,l.getX(),l.getY(),c.getX(),c.getY(),f.getX(),f.getY(),g.getX(),g.getY())}sampleLine(o,l,c){let f=0,g=this.distanceResultPoint(o,l),m=g/c,x=o.getX(),E=o.getY(),S=m*(l.getX()-o.getX())/g,P=m*(l.getY()-o.getY())/g;for(let R=0;R<c;R++)this.image.get(Oe.round(x+R*S),Oe.round(E+R*P))&&(f|=1<<c-R-1);return f}isWhiteOrBlackRectangle(o,l,c,f){let g=3;o=new Hr(o.getX()-g,o.getY()+g),l=new Hr(l.getX()-g,l.getY()-g),c=new Hr(c.getX()+g,c.getY()-g),f=new Hr(f.getX()+g,f.getY()+g);let m=this.getColor(f,o);if(m===0)return!1;let x=this.getColor(o,l);return x!==m||(x=this.getColor(l,c),x!==m)?!1:(x=this.getColor(c,f),x===m)}getColor(o,l){let c=this.distancePoint(o,l),f=(l.getX()-o.getX())/c,g=(l.getY()-o.getY())/c,m=0,x=o.getX(),E=o.getY(),S=this.image.get(o.getX(),o.getY()),P=Math.ceil(c);for(let B=0;B<P;B++)x+=f,E+=g,this.image.get(Oe.round(x),Oe.round(E))!==S&&m++;let R=m/c;return R>.1&&R<.9?0:R<=.1===S?1:-1}getFirstDifferent(o,l,c,f){let g=o.getX()+c,m=o.getY()+f;for(;this.isValid(g,m)&&this.image.get(g,m)===l;)g+=c,m+=f;for(g-=c,m-=f;this.isValid(g,m)&&this.image.get(g,m)===l;)g+=c;for(g-=c;this.isValid(g,m)&&this.image.get(g,m)===l;)m+=f;return m-=f,new Hr(g,m)}expandSquare(o,l,c){let f=c/(2*l),g=o[0].getX()-o[2].getX(),m=o[0].getY()-o[2].getY(),x=(o[0].getX()+o[2].getX())/2,E=(o[0].getY()+o[2].getY())/2,S=new me(x+f*g,E+f*m),P=new me(x-f*g,E-f*m);g=o[1].getX()-o[3].getX(),m=o[1].getY()-o[3].getY(),x=(o[1].getX()+o[3].getX())/2,E=(o[1].getY()+o[3].getY())/2;let R=new me(x+f*g,E+f*m),B=new me(x-f*g,E-f*m);return[S,R,P,B]}isValid(o,l){return o>=0&&o<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(o){let l=Oe.round(o.getX()),c=Oe.round(o.getY());return this.isValid(l,c)}distancePoint(o,l){return Oe.distance(o.getX(),o.getY(),l.getX(),l.getY())}distanceResultPoint(o,l){return Oe.distance(o.getX(),o.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class gd{decode(o,l=null){let c=null,f=new Jw(o.getBlackMatrix()),g=null,m=null;try{let P=f.detectMirror(!1);g=P.getPoints(),this.reportFoundResultPoints(l,g),m=new Ie().decode(P)}catch(P){c=P}if(m==null)try{let P=f.detectMirror(!0);g=P.getPoints(),this.reportFoundResultPoints(l,g),m=new Ie().decode(P)}catch(P){throw c??P}let x=new $e(m.getText(),m.getRawBytes(),m.getNumBits(),g,xe.AZTEC,C.currentTimeMillis()),E=m.getByteSegments();E!=null&&x.putMetadata(ht.BYTE_SEGMENTS,E);let S=m.getECLevel();return S!=null&&x.putMetadata(ht.ERROR_CORRECTION_LEVEL,S),x}reportFoundResultPoints(o,l){if(o!=null){let c=o.get(j.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((f,g,m)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class ok extends Ue{constructor(o=500){super(new gd,o)}}class Yt{decode(o,l){try{return this.doDecode(o,l)}catch{if(l&&l.get(j.TRY_HARDER)===!0&&o.isRotateSupported()){const g=o.rotateCounterClockwise(),m=this.doDecode(g,l),x=m.getResultMetadata();let E=270;x!==null&&x.get(ht.ORIENTATION)===!0&&(E=E+x.get(ht.ORIENTATION)%360),m.putMetadata(ht.ORIENTATION,E);const S=m.getResultPoints();if(S!==null){const P=g.getHeight();for(let R=0;R<S.length;R++)S[R]=new me(P-S[R].getY()-1,S[R].getX())}return m}else throw new H}}reset(){}doDecode(o,l){const c=o.getWidth(),f=o.getHeight();let g=new D(c);const m=l&&l.get(j.TRY_HARDER)===!0,x=Math.max(1,f>>(m?8:5));let E;m?E=f:E=15;const S=Math.trunc(f/2);for(let P=0;P<E;P++){const R=Math.trunc((P+1)/2),B=(P&1)===0,$=S+x*(B?R:-R);if($<0||$>=f)break;try{g=o.getBlackRow($,g)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(g.reverse(),l&&l.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;l.forEach((V,Z)=>G.set(Z,V)),G.delete(j.NEED_RESULT_POINT_CALLBACK),l=G}try{const G=this.decodeRow($,g,l);if(W===1){G.putMetadata(ht.ORIENTATION,180);const V=G.getResultPoints();V!==null&&(V[0]=new me(c-V[0].getX()-1,V[0].getY()),V[1]=new me(c-V[1].getX()-1,V[1].getY()))}return G}catch{}}}throw new H}static recordPattern(o,l,c){const f=c.length;for(let S=0;S<f;S++)c[S]=0;const g=o.getSize();if(l>=g)throw new H;let m=!o.get(l),x=0,E=l;for(;E<g;){if(o.get(E)!==m)c[x]++;else{if(++x===f)break;c[x]=1,m=!m}E++}if(!(x===f||x===f-1&&E===g))throw new H}static recordPatternInReverse(o,l,c){let f=c.length,g=o.get(l);for(;l>0&&f>=0;)o.get(--l)!==g&&(f--,g=!g);if(f>=0)throw new H;Yt.recordPattern(o,l+1,c)}static patternMatchVariance(o,l,c){const f=o.length;let g=0,m=0;for(let S=0;S<f;S++)g+=o[S],m+=l[S];if(g<m)return Number.POSITIVE_INFINITY;const x=g/m;c*=x;let E=0;for(let S=0;S<f;S++){const P=o[S],R=l[S]*x,B=P>R?P-R:R-P;if(B>c)return Number.POSITIVE_INFINITY;E+=B}return E/g}}class ge extends Yt{static findStartPattern(o){const l=o.getSize(),c=o.getNextSet(0);let f=0,g=Int32Array.from([0,0,0,0,0,0]),m=c,x=!1;const E=6;for(let S=c;S<l;S++)if(o.get(S)!==x)g[f]++;else{if(f===E-1){let P=ge.MAX_AVG_VARIANCE,R=-1;for(let B=ge.CODE_START_A;B<=ge.CODE_START_C;B++){const $=Yt.patternMatchVariance(g,ge.CODE_PATTERNS[B],ge.MAX_INDIVIDUAL_VARIANCE);$<P&&(P=$,R=B)}if(R>=0&&o.isRange(Math.max(0,m-(S-m)/2),m,!1))return Int32Array.from([m,S,R]);m+=g[0]+g[1],g=g.slice(2,g.length-1),g[f-1]=0,g[f]=0,f--}else f++;g[f]=1,x=!x}throw new H}static decodeCode(o,l,c){Yt.recordPattern(o,c,l);let f=ge.MAX_AVG_VARIANCE,g=-1;for(let m=0;m<ge.CODE_PATTERNS.length;m++){const x=ge.CODE_PATTERNS[m],E=this.patternMatchVariance(l,x,ge.MAX_INDIVIDUAL_VARIANCE);E<f&&(f=E,g=m)}if(g>=0)return g;throw new H}decodeRow(o,l,c){const f=c&&c.get(j.ASSUME_GS1)===!0,g=ge.findStartPattern(l),m=g[2];let x=0;const E=new Uint8Array(20);E[x++]=m;let S;switch(m){case ge.CODE_START_A:S=ge.CODE_CODE_A;break;case ge.CODE_START_B:S=ge.CODE_CODE_B;break;case ge.CODE_START_C:S=ge.CODE_CODE_C;break;default:throw new L}let P=!1,R=!1,B="",$=g[0],W=g[1];const G=Int32Array.from([0,0,0,0,0,0]);let V=0,Z=0,ue=m,ce=0,se=!0,Ze=!1,We=!1;for(;!P;){const Ns=R;switch(R=!1,V=Z,Z=ge.decodeCode(l,G,W),E[x++]=Z,Z!==ge.CODE_STOP&&(se=!0),Z!==ge.CODE_STOP&&(ce++,ue+=ce*Z),$=W,W+=G.reduce((Mk,jk)=>Mk+jk,0),Z){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new L}switch(S){case ge.CODE_CODE_A:if(Z<64)We===Ze?B+=String.fromCharCode(32+Z):B+=String.fromCharCode(32+Z+128),We=!1;else if(Z<96)We===Ze?B+=String.fromCharCode(Z-64):B+=String.fromCharCode(Z+64),We=!1;else switch(Z!==ge.CODE_STOP&&(se=!1),Z){case ge.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!Ze&&We?(Ze=!0,We=!1):Ze&&We?(Ze=!1,We=!1):We=!0;break;case ge.CODE_SHIFT:R=!0,S=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:S=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:S=ge.CODE_CODE_C;break;case ge.CODE_STOP:P=!0;break}break;case ge.CODE_CODE_B:if(Z<96)We===Ze?B+=String.fromCharCode(32+Z):B+=String.fromCharCode(32+Z+128),We=!1;else switch(Z!==ge.CODE_STOP&&(se=!1),Z){case ge.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!Ze&&We?(Ze=!0,We=!1):Ze&&We?(Ze=!1,We=!1):We=!0;break;case ge.CODE_SHIFT:R=!0,S=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:S=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:S=ge.CODE_CODE_C;break;case ge.CODE_STOP:P=!0;break}break;case ge.CODE_CODE_C:if(Z<100)Z<10&&(B+="0"),B+=Z;else switch(Z!==ge.CODE_STOP&&(se=!1),Z){case ge.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case ge.CODE_CODE_A:S=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:S=ge.CODE_CODE_B;break;case ge.CODE_STOP:P=!0;break}break}Ns&&(S=S===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const on=W-$;if(W=l.getNextUnset(W),!l.isRange(W,Math.min(l.getSize(),W+(W-$)/2),!1))throw new H;if(ue-=ce*V,ue%103!==V)throw new w;const pi=B.length;if(pi===0)throw new H;pi>0&&se&&(S===ge.CODE_CODE_C?B=B.substring(0,pi-2):B=B.substring(0,pi-1));const sn=(g[1]+g[0])/2,vt=$+on/2,Cr=E.length,xn=new Uint8Array(Cr);for(let Ns=0;Ns<Cr;Ns++)xn[Ns]=E[Ns];const Ts=[new me(sn,o),new me(vt,o)];return new $e(B,xn,0,Ts,xe.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class rr extends Yt{constructor(o=!1,l=!1){super(),this.usingCheckDigit=o,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,l,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let g=rr.findAsteriskPattern(l,f),m=l.getNextSet(g[1]),x=l.getSize(),E,S;do{rr.recordPattern(l,m,f);let G=rr.toNarrowWidePattern(f);if(G<0)throw new H;E=rr.patternToChar(G),this.decodeRowResult+=E,S=m;for(let V of f)m+=V;m=l.getNextSet(m)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let G of f)P+=G;let R=m-S-P;if(m!==x&&R*2<P)throw new H;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,V=0;for(let Z=0;Z<G;Z++)V+=rr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(G)!==rr.ALPHABET_STRING.charAt(V%43))throw new w;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new H;let B;this.extendedMode?B=rr.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;let $=(g[1]+g[0])/2,W=S+P/2;return new $e(B,null,0,[new me($,o),new me(W,o)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,l){let c=o.getSize(),f=o.getNextSet(0),g=0,m=f,x=!1,E=l.length;for(let S=f;S<c;S++)if(o.get(S)!==x)l[g]++;else{if(g===E-1){if(this.toNarrowWidePattern(l)===rr.ASTERISK_ENCODING&&o.isRange(Math.max(0,m-Math.floor((S-m)/2)),m,!1))return[m,S];m+=l[0]+l[1],l.copyWithin(0,2,2+g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,x=!x}throw new H}static toNarrowWidePattern(o){let l=o.length,c=0,f;do{let g=2147483647;for(let E of o)E<g&&E>c&&(g=E);c=g,f=0;let m=0,x=0;for(let E=0;E<l;E++){let S=o[E];S>c&&(x|=1<<l-1-E,f++,m+=S)}if(f===3){for(let E=0;E<l&&f>0;E++){let S=o[E];if(S>c&&(f--,S*2>=m))return-1}return x}}while(f>3);return-1}static patternToChar(o){for(let l=0;l<rr.CHARACTER_ENCODINGS.length;l++)if(rr.CHARACTER_ENCODINGS[l]===o)return rr.ALPHABET_STRING.charAt(l);if(o===rr.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(o){let l=o.length,c="";for(let f=0;f<l;f++){let g=o.charAt(f);if(g==="+"||g==="$"||g==="%"||g==="/"){let m=o.charAt(f+1),x="\0";switch(g){case"+":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)+32);else throw new L;break;case"$":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)-64);else throw new L;break;case"%":if(m>="A"&&m<="E")x=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")x=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")x=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")x="\0";else if(m==="V")x="@";else if(m==="W")x="`";else if(m==="X"||m==="Y"||m==="Z")x="";else throw new L;break;case"/":if(m>="A"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")x=":";else throw new L;break}c+=x,f++}else c+=g}return c}}rr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rr.ASTERISK_ENCODING=148;class gt extends Yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,l,c){let f=this.decodeStart(l),g=this.decodeEnd(l),m=new oe;gt.decodeMiddle(l,f[1],g[0],m);let x=m.toString(),E=null;c!=null&&(E=c.get(j.ALLOWED_LENGTHS)),E==null&&(E=gt.DEFAULT_ALLOWED_LENGTHS);let S=x.length,P=!1,R=0;for(let W of E){if(S===W){P=!0;break}W>R&&(R=W)}if(!P&&S>R&&(P=!0),!P)throw new L;const B=[new me(f[1],o),new me(g[0],o)];return new $e(x,null,0,B,xe.ITF,new Date().getTime())}static decodeMiddle(o,l,c,f){let g=new Int32Array(10),m=new Int32Array(5),x=new Int32Array(5);for(g.fill(0),m.fill(0),x.fill(0);l<c;){Yt.recordPattern(o,l,g);for(let S=0;S<5;S++){let P=2*S;m[S]=g[P],x[S]=g[P+1]}let E=gt.decodeDigit(m);f.append(E.toString()),E=this.decodeDigit(x),f.append(E.toString()),g.forEach(function(S){l+=S})}}decodeStart(o){let l=gt.skipWhiteSpace(o),c=gt.findGuardPattern(o,l,gt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(o,c[0]),c}validateQuietZone(o,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let f=l-1;c>0&&f>=0&&!o.get(f);f--)c--;if(c!==0)throw new H}static skipWhiteSpace(o){const l=o.getSize(),c=o.getNextSet(0);if(c===l)throw new H;return c}decodeEnd(o){o.reverse();try{let l=gt.skipWhiteSpace(o),c;try{c=gt.findGuardPattern(o,l,gt.END_PATTERN_REVERSED[0])}catch(g){g instanceof H&&(c=gt.findGuardPattern(o,l,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,c[0]);let f=c[0];return c[0]=o.getSize()-c[1],c[1]=o.getSize()-f,c}finally{o.reverse()}}static findGuardPattern(o,l,c){let f=c.length,g=new Int32Array(f),m=o.getSize(),x=!1,E=0,S=l;g.fill(0);for(let P=l;P<m;P++)if(o.get(P)!==x)g[E]++;else{if(E===f-1){if(Yt.patternMatchVariance(g,c,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[S,P];S+=g[0]+g[1],C.arraycopy(g,2,g,0,E-1),g[E-1]=0,g[E]=0,E--}else E++;g[E]=1,x=!x}throw new H}static decodeDigit(o){let l=gt.MAX_AVG_VARIANCE,c=-1,f=gt.PATTERNS.length;for(let g=0;g<f;g++){let m=gt.PATTERNS[g],x=Yt.patternMatchVariance(o,m,gt.MAX_INDIVIDUAL_VARIANCE);x<l?(l=x,c=g):x===l&&(c=-1)}if(c>=0)return c%10;throw new H}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l=!1,c,f=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),c=Ft.findGuardPattern(o,f,!1,this.START_END_PATTERN,g);let m=c[0];f=c[1];let x=m-(f-m);x>=0&&(l=o.isRange(x,m,!1))}return c}static checkChecksum(o){return Ft.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let c=parseInt(o.charAt(l-1),10);return Ft.getStandardUPCEANChecksum(o.substring(0,l-1))===c}static getStandardUPCEANChecksum(o){let l=o.length,c=0;for(let f=l-1;f>=0;f-=2){let g=o.charAt(f).charCodeAt(0)-48;if(g<0||g>9)throw new L;c+=g}c*=3;for(let f=l-2;f>=0;f-=2){let g=o.charAt(f).charCodeAt(0)-48;if(g<0||g>9)throw new L;c+=g}return(1e3-c)%10}static decodeEnd(o,l){return Ft.findGuardPattern(o,l,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,l,c,f){return this.findGuardPattern(o,l,c,f,new Int32Array(f.length))}static findGuardPattern(o,l,c,f,g){let m=o.getSize();l=c?o.getNextUnset(l):o.getNextSet(l);let x=0,E=l,S=f.length,P=c;for(let R=l;R<m;R++)if(o.get(R)!==P)g[x]++;else{if(x===S-1){if(Yt.patternMatchVariance(g,f,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([E,R]);E+=g[0]+g[1];let B=g.slice(2,g.length-1);for(let $=0;$<x-1;$++)g[$]=B[$];g[x-1]=0,g[x]=0,x--}else x++;g[x]=1,P=!P}throw new H}static decodeDigit(o,l,c,f){this.recordPattern(o,c,l);let g=this.MAX_AVG_VARIANCE,m=-1,x=f.length;for(let E=0;E<x;E++){let S=f[E],P=Yt.patternMatchVariance(l,S,Ft.MAX_INDIVIDUAL_VARIANCE);P<g&&(g=P,m=E)}if(m>=0)return m;throw new H}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Zl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,c){let f=this.decodeRowStringBuffer,g=this.decodeMiddle(l,c,f),m=f.toString(),x=Zl.parseExtensionString(m),E=[new me((c[0]+c[1])/2,o),new me(g,o)],S=new $e(m,null,0,E,xe.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&S.putAllMetadata(x),S}decodeMiddle(o,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),m=l[1],x=0;for(let S=0;S<5&&m<g;S++){let P=Ft.decodeDigit(o,f,m,Ft.L_AND_G_PATTERNS);c+=String.fromCharCode(48+P%10);for(let R of f)m+=R;P>=10&&(x|=1<<4-S),S!==4&&(m=o.getNextSet(m),m=o.getNextUnset(m))}if(c.length!==5)throw new H;let E=this.determineCheckDigit(x);if(Zl.extensionChecksum(c.toString())!==E)throw new H;return m}static extensionChecksum(o){let l=o.length,c=0;for(let f=l-2;f>=0;f-=2)c+=o.charAt(f).charCodeAt(0)-48;c*=3;for(let f=l-1;f>=0;f-=2)c+=o.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(o){for(let l=0;l<10;l++)if(o===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new H}static parseExtensionString(o){if(o.length!==5)return null;let l=Zl.parseExtension5String(o);return l==null?null:new Map([[ht.SUGGESTED_PRICE,l]])}static parseExtension5String(o){let l;switch(o.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(o.substring(1)),f=(c/100).toString(),g=c%100,m=g<10?"0"+g:g.toString();return l+f+"."+m}}class Cp{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,c){let f=this.decodeRowStringBuffer,g=this.decodeMiddle(l,c,f),m=f.toString(),x=Cp.parseExtensionString(m),E=[new me((c[0]+c[1])/2,o),new me(g,o)],S=new $e(m,null,0,E,xe.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&S.putAllMetadata(x),S}decodeMiddle(o,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),m=l[1],x=0;for(let E=0;E<2&&m<g;E++){let S=Ft.decodeDigit(o,f,m,Ft.L_AND_G_PATTERNS);c+=String.fromCharCode(48+S%10);for(let P of f)m+=P;S>=10&&(x|=1<<1-E),E!==1&&(m=o.getNextSet(m),m=o.getNextUnset(m))}if(c.length!==2)throw new H;if(parseInt(c.toString())%4!==x)throw new H;return m}static parseExtensionString(o){return o.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(o)]])}}class eb{static decodeRow(o,l,c){let f=Ft.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Zl().decodeRow(o,l,f)}catch{return new Cp().decodeRow(o,l,f)}}}eb.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nt extends Ft{constructor(){super(),this.decodeRowStringBuffer="",nt.L_AND_G_PATTERNS=nt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let l=nt.L_PATTERNS[o-10],c=new Int32Array(l.length);for(let f=0;f<l.length;f++)c[f]=l[l.length-f-1];nt.L_AND_G_PATTERNS[o]=c}}decodeRow(o,l,c){let f=nt.findStartGuardPattern(l),g=c==null?null:c.get(j.NEED_RESULT_POINT_CALLBACK);if(g!=null){const se=new me((f[0]+f[1])/2,o);g.foundPossibleResultPoint(se)}let m=this.decodeMiddle(l,f,this.decodeRowStringBuffer),x=m.rowOffset,E=m.resultString;if(g!=null){const se=new me(x,o);g.foundPossibleResultPoint(se)}let S=this.decodeEnd(l,x);if(g!=null){const se=new me((S[0]+S[1])/2,o);g.foundPossibleResultPoint(se)}let P=S[1],R=P+(P-S[0]);if(R>=l.getSize()||!l.isRange(P,R,!1))throw new H;let B=E.toString();if(B.length<8)throw new L;if(!nt.checkChecksum(B))throw new w;let $=(f[1]+f[0])/2,W=(S[1]+S[0])/2,G=this.getBarcodeFormat(),V=[new me($,o),new me(W,o)],Z=new $e(B,null,0,V,G,new Date().getTime()),ue=0;try{let se=eb.decodeRow(o,l,S[1]);Z.putMetadata(ht.UPC_EAN_EXTENSION,se.getText()),Z.putAllMetadata(se.getResultMetadata()),Z.addResultPoints(se.getResultPoints()),ue=se.getText().length}catch{}let ce=c==null?null:c.get(j.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let se=!1;for(let Ze in ce)if(ue.toString()===Ze){se=!0;break}if(!se)throw new H}return Z}decodeEnd(o,l){return nt.findGuardPattern(o,l,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return nt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let c=parseInt(o.charAt(l-1),10);return nt.getStandardUPCEANChecksum(o.substring(0,l-1))===c}static getStandardUPCEANChecksum(o){let l=o.length,c=0;for(let f=l-1;f>=0;f-=2){let g=o.charAt(f).charCodeAt(0)-48;if(g<0||g>9)throw new L;c+=g}c*=3;for(let f=l-2;f>=0;f-=2){let g=o.charAt(f).charCodeAt(0)-48;if(g<0||g>9)throw new L;c+=g}return(1e3-c)%10}}class bo extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),m=l[1],x=0;for(let S=0;S<6&&m<g;S++){let P=nt.decodeDigit(o,f,m,nt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+P%10);for(let R of f)m+=R;P>=10&&(x|=1<<5-S)}c=bo.determineFirstDigit(c,x),m=nt.findGuardPattern(o,m,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&m<g;S++){let P=nt.decodeDigit(o,f,m,nt.L_PATTERNS);c+=String.fromCharCode(48+P);for(let R of f)m+=R}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(o,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return o=String.fromCharCode(48+c)+o,o;throw new H}}bo.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class tb extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),m=l[1];for(let E=0;E<4&&m<g;E++){let S=nt.decodeDigit(o,f,m,nt.L_PATTERNS);c+=String.fromCharCode(48+S);for(let P of f)m+=P}m=nt.findGuardPattern(o,m,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&m<g;E++){let S=nt.decodeDigit(o,f,m,nt.L_PATTERNS);c+=String.fromCharCode(48+S);for(let P of f)m+=P}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return xe.EAN_8}}class rb extends nt{constructor(){super(...arguments),this.ean13Reader=new bo}getBarcodeFormat(){return xe.UPC_A}decode(o,l){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,l,c))}decodeMiddle(o,l,c){return this.ean13Reader.decodeMiddle(o,l,c)}maybeReturnResult(o){let l=o.getText();if(l.charAt(0)==="0"){let c=new $e(l.substring(1),null,null,o.getResultPoints(),xe.UPC_A);return o.getResultMetadata()!=null&&c.putAllMetadata(o.getResultMetadata()),c}else throw new H}reset(){this.ean13Reader.reset()}}class hi extends nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,l,c){const f=this.decodeMiddleCounters.map(S=>S);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const g=o.getSize();let m=l[1],x=0;for(let S=0;S<6&&m<g;S++){const P=hi.decodeDigit(o,f,m,hi.L_AND_G_PATTERNS);c+=String.fromCharCode(48+P%10);for(let R of f)m+=R;P>=10&&(x|=1<<5-S)}let E=hi.determineNumSysAndCheckDigit(c,x);return{rowOffset:m,resultString:E}}decodeEnd(o,l){return hi.findGuardPatternWithoutCounters(o,l,!0,hi.MIDDLE_END_PATTERN)}checkChecksum(o){return nt.checkChecksum(hi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,l){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let g=String.fromCharCode(48+c),m=String.fromCharCode(48+f);return g+o+m}throw H.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(o){const l=o.slice(1,7).split("").map(g=>g.charCodeAt(0)),c=new oe;c.append(o.charAt(0));let f=l[5];switch(f){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(f),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(f);break}return o.length>=8&&c.append(o.charAt(7)),c.toString()}}hi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class _p extends Yt{constructor(o){super();let l=o==null?null:o.get(j.POSSIBLE_FORMATS),c=[];n(l)?(c.push(new bo),c.push(new rb),c.push(new tb),c.push(new hi)):(l.indexOf(xe.EAN_13)>-1&&c.push(new bo),l.indexOf(xe.UPC_A)>-1&&c.push(new rb),l.indexOf(xe.EAN_8)>-1&&c.push(new tb),l.indexOf(xe.UPC_E)>-1&&c.push(new hi)),this.readers=c}decodeRow(o,l,c){for(let f of this.readers)try{const g=f.decodeRow(o,l,c),m=g.getBarcodeFormat()===xe.EAN_13&&g.getText().charAt(0)==="0",x=c==null?null:c.get(j.POSSIBLE_FORMATS),E=x==null||x.includes(xe.UPC_A);if(m&&E){const S=g.getRawBytes(),P=new $e(g.getText().substring(1),S,S?S.length:null,g.getResultPoints(),xe.UPC_A);return P.putAllMetadata(g.getResultMetadata()),P}return g}catch{}throw new H}reset(){for(let o of this.readers)o.reset()}}class Mr extends Yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,l){for(let c=0;c<l.length;c++)if(Yt.patternMatchVariance(o,l[c],Mr.MAX_INDIVIDUAL_VARIANCE)<Mr.MAX_AVG_VARIANCE)return c;throw new H}static count(o){return Oe.sum(new Int32Array(o))}static increment(o,l){let c=0,f=l[0];for(let g=1;g<o.length;g++)l[g]>f&&(f=l[g],c=g);o[c]++}static decrement(o,l){let c=0,f=l[0];for(let g=1;g<o.length;g++)l[g]<f&&(f=l[g],c=g);o[c]--}static isFinderPattern(o){let l=o[0]+o[1],c=l+o[2]+o[3],f=l/c;if(f>=Mr.MIN_FINDER_PATTERN_RATIO&&f<=Mr.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let x of o)x>m&&(m=x),x<g&&(g=x);return m<10*g}return!1}}Mr.MAX_AVG_VARIANCE=.2,Mr.MAX_INDIVIDUAL_VARIANCE=.45,Mr.MIN_FINDER_PATTERN_RATIO=9.5/12,Mr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Es{constructor(o,l){this.value=o,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Es))return!1;const l=o;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class md{constructor(o,l,c,f,g){this.value=o,this.startEnd=l,this.value=o,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new me(c,g)),this.resultPoints.push(new me(f,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof md))return!1;const l=o;return this.value===l.value}hashCode(){return this.value}}class Ni{constructor(){}static getRSSvalue(o,l,c){let f=0;for(let E of o)f+=E;let g=0,m=0,x=o.length;for(let E=0;E<x-1;E++){let S;for(S=1,m|=1<<E;S<o[E];S++,m&=~(1<<E)){let P=Ni.combins(f-S-1,x-E-2);if(c&&m===0&&f-S-(x-E-1)>=x-E-1&&(P-=Ni.combins(f-S-(x-E),x-E-2)),x-E-1>1){let R=0;for(let B=f-S-(x-E-2);B>l;B--)R+=Ni.combins(f-S-B-1,x-E-3);P-=R*(x-1-E)}else f-S>l&&P--;g+=P}f-=S}return g}static combins(o,l){let c,f;o-l>l?(f=l,c=o-l):(f=o-l,c=l);let g=1,m=1;for(let x=o;x>c;x--)g*=x,m<=f&&(g/=m,m++);for(;m<=f;)g/=m,m++;return g}}class sk{static buildBitArray(o){let l=o.length*2-1;o[o.length-1].getRightChar()==null&&(l-=1);let c=12*l,f=new D(c),g=0,x=o[0].getRightChar().getValue();for(let E=11;E>=0;--E)x&1<<E&&f.set(g),g++;for(let E=1;E<o.length;++E){let S=o[E],P=S.getLeftChar().getValue();for(let R=11;R>=0;--R)P&1<<R&&f.set(g),g++;if(S.getRightChar()!=null){let R=S.getRightChar().getValue();for(let B=11;B>=0;--B)R&1<<B&&f.set(g),g++}}return f}}class Eo{constructor(o,l){l?this.decodedInformation=null:(this.finished=o,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Op{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class rn extends Op{constructor(o,l){super(o),this.value=l}getValue(){return this.value}isFNC1(){return this.value===rn.FNC1}}rn.FNC1="$";class Ao extends Op{constructor(o,l,c){super(o),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Wn extends Op{constructor(o,l,c){if(super(o),l<0||l>10||c<0||c>10)throw new L;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Wn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Wn.FNC1}isAnyFNC1(){return this.firstDigit===Wn.FNC1||this.secondDigit===Wn.FNC1}}Wn.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new H;let l=o.substring(0,2);for(let g of be.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,g[2],o):be.processFixedAI(2,g[1],o);if(o.length<3)throw new H;let c=o.substring(0,3);for(let g of be.THREE_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,g[2],o):be.processFixedAI(3,g[1],o);for(let g of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,g[2],o):be.processFixedAI(4,g[1],o);if(o.length<4)throw new H;let f=o.substring(0,4);for(let g of be.FOUR_DIGIT_DATA_LENGTH)if(g[0]===f)return g[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,g[2],o):be.processFixedAI(4,g[1],o);throw new H}static processFixedAI(o,l,c){if(c.length<o)throw new H;let f=c.substring(0,o);if(c.length<o+l)throw new H;let g=c.substring(o,o+l),m=c.substring(o+l),x="("+f+")"+g,E=be.parseFieldsInGeneralPurpose(m);return E==null?x:x+E}static processVariableAI(o,l,c){let f=c.substring(0,o),g;c.length<o+l?g=c.length:g=o+l;let m=c.substring(o,g),x=c.substring(g),E="("+f+")"+m,S=be.parseFieldsInGeneralPurpose(x);return S==null?E:E+S}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class As{constructor(o){this.buffer=new oe,this.information=o}decodeAllCodes(o,l){let c=l,f=null;do{let g=this.decodeGeneralPurposeField(c,f),m=be.parseFieldsInGeneralPurpose(g.getNewString());if(m!=null&&o.append(m),g.isRemaining()?f=""+g.getRemainingValue():f=null,c===g.getNewPosition())break;c=g.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let l=o;l<o+3;++l)if(this.information.get(l))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(o,4);return g===0?new Wn(this.information.getSize(),Wn.FNC1,Wn.FNC1):new Wn(this.information.getSize(),g-1,Wn.FNC1)}let l=this.extractNumericValueFromBitArray(o,7),c=(l-8)/11,f=(l-8)%11;return new Wn(o+7,c,f)}extractNumericValueFromBitArray(o,l){return As.extractNumericValueFromBitArray(this.information,o,l)}static extractNumericValueFromBitArray(o,l,c){let f=0;for(let g=0;g<c;++g)o.get(l+g)&&(f|=1<<c-g-1);return f}decodeGeneralPurposeField(o,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(o);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Ao(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Ao(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),o=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),o=l.isFinished()):(l=this.parseNumericBlock(),o=l.isFinished()),!(c!==this.current.getPosition())&&!o)break}while(!o);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let l;return o.isSecondDigitFNC1()?l=new Ao(this.current.getPosition(),this.buffer.toString()):l=new Ao(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Eo(!0,l)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let l=new Ao(this.current.getPosition(),this.buffer.toString());return new Eo(!0,l)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Eo(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Ao(this.current.getPosition(),this.buffer.toString());return new Eo(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Eo(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Ao(this.current.getPosition(),this.buffer.toString());return new Eo(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Eo(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,7);if(c>=64&&c<116)return!0;if(o+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,8);return f>=232&&f<253}decodeIsoIec646(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new rn(o+5,rn.FNC1);if(l>=5&&l<15)return new rn(o+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(o,7);if(c>=64&&c<90)return new rn(o+7,""+(c+1));if(c>=90&&c<116)return new rn(o+7,""+(c+7));let f=this.extractNumericValueFromBitArray(o,8),g;switch(f){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new L}return new rn(o+8,g)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,6);return c>=16&&c<63}decodeAlphanumeric(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new rn(o+5,rn.FNC1);if(l>=5&&l<15)return new rn(o+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(o,6);if(c>=32&&c<58)return new rn(o+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new at("Decoding invalid alphanumeric value: "+c)}return new rn(o+6,f)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<5&&l+o<this.information.getSize();++l)if(l===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+l))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let l=o;l<o+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<4&&l+o<this.information.getSize();++l)if(this.information.get(o+l))return!1;return!0}}class Ip{constructor(o){this.information=o,this.generalDecoder=new As(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nn extends Ip{constructor(o){super(o)}encodeCompressedGtin(o,l){o.append("(01)");let c=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,l,c)}encodeCompressedGtinWithoutAI(o,l,c){for(let f=0;f<4;++f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*f,10);g/100===0&&o.append("0"),g/10===0&&o.append("0"),o.append(g)}nn.appendCheckDigit(o,c)}static appendCheckDigit(o,l){let c=0;for(let f=0;f<13;f++){let g=o.charAt(f+l).charCodeAt(0)-48;c+=f&1?g:3*g}c=10-c%10,c===10&&(c=0),o.append(c)}}nn.GTIN_SIZE=40;class Ss extends nn{constructor(o){super(o)}parseInformation(){let o=new oe;o.append("(01)");let l=o.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ss.HEADER_SIZE,4);return o.append(c),this.encodeCompressedGtinWithoutAI(o,Ss.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(o,Ss.HEADER_SIZE+44)}}Ss.HEADER_SIZE=4;class vd extends Ip{constructor(o){super(o)}parseInformation(){let o=new oe;return this.getGeneralDecoder().decodeAllCodes(o,vd.HEADER_SIZE)}}vd.HEADER_SIZE=5;class yd extends nn{constructor(o){super(o)}encodeCompressedWeight(o,l,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(o,f);let g=this.checkWeight(f),m=1e5;for(let x=0;x<5;++x)g/m===0&&o.append("0"),m/=10;o.append(g)}}class Pi extends yd{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Pi.HEADER_SIZE+yd.GTIN_SIZE+Pi.WEIGHT_SIZE)throw new H;let o=new oe;return this.encodeCompressedGtin(o,Pi.HEADER_SIZE),this.encodeCompressedWeight(o,Pi.HEADER_SIZE+yd.GTIN_SIZE,Pi.WEIGHT_SIZE),o.toString()}}Pi.HEADER_SIZE=5,Pi.WEIGHT_SIZE=15;class lk extends Pi{constructor(o){super(o)}addWeightCode(o,l){o.append("(3103)")}checkWeight(o){return o}}class uk extends Pi{constructor(o){super(o)}addWeightCode(o,l){l<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class ki extends nn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ki.HEADER_SIZE+nn.GTIN_SIZE)throw new H;let o=new oe;this.encodeCompressedGtin(o,ki.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ki.HEADER_SIZE+nn.GTIN_SIZE,ki.LAST_DIGIT_SIZE);o.append("(392"),o.append(l),o.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(ki.HEADER_SIZE+nn.GTIN_SIZE+ki.LAST_DIGIT_SIZE,null);return o.append(c.getNewString()),o.toString()}}ki.HEADER_SIZE=8,ki.LAST_DIGIT_SIZE=2;class Vr extends nn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Vr.HEADER_SIZE+nn.GTIN_SIZE)throw new H;let o=new oe;this.encodeCompressedGtin(o,Vr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Vr.HEADER_SIZE+nn.GTIN_SIZE,Vr.LAST_DIGIT_SIZE);o.append("(393"),o.append(l),o.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Vr.HEADER_SIZE+nn.GTIN_SIZE+Vr.LAST_DIGIT_SIZE,Vr.FIRST_THREE_DIGITS_SIZE);c/100==0&&o.append("0"),c/10==0&&o.append("0"),o.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Vr.HEADER_SIZE+nn.GTIN_SIZE+Vr.LAST_DIGIT_SIZE+Vr.FIRST_THREE_DIGITS_SIZE,null);return o.append(f.getNewString()),o.toString()}}Vr.HEADER_SIZE=8,Vr.LAST_DIGIT_SIZE=2,Vr.FIRST_THREE_DIGITS_SIZE=10;class Nt extends yd{constructor(o,l,c){super(o),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new H;let o=new oe;return this.encodeCompressedGtin(o,Nt.HEADER_SIZE),this.encodeCompressedWeight(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Nt.DATE_SIZE);if(c==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let f=c%32;c/=32;let g=c%12+1;c/=12;let m=c;m/10==0&&o.append("0"),o.append(m),g/10==0&&o.append("0"),o.append(g),f/10==0&&o.append("0"),o.append(f)}addWeightCode(o,l){o.append("("),o.append(this.firstAIdigits),o.append(l/1e5),o.append(")")}checkWeight(o){return o%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function nb(k){try{if(k.get(1))return new Ss(k);if(!k.get(2))return new vd(k);switch(As.extractNumericValueFromBitArray(k,1,4)){case 4:return new lk(k);case 5:return new uk(k)}switch(As.extractNumericValueFromBitArray(k,1,5)){case 12:return new ki(k);case 13:return new Vr(k)}switch(As.extractNumericValueFromBitArray(k,1,7)){case 56:return new Nt(k,"310","11");case 57:return new Nt(k,"320","11");case 58:return new Nt(k,"310","13");case 59:return new Nt(k,"320","13");case 60:return new Nt(k,"310","15");case 61:return new Nt(k,"320","15");case 62:return new Nt(k,"310","17");case 63:return new Nt(k,"320","17")}}catch(o){throw console.log(o),new at("unknown decoder: "+k)}}class Sa{constructor(o,l,c,f){this.leftchar=o,this.rightchar=l,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,l){return o instanceof Sa?Sa.equalsOrNull(o.leftchar,l.leftchar)&&Sa.equalsOrNull(o.rightchar,l.rightchar)&&Sa.equalsOrNull(o.finderpattern,l.finderpattern):!1}static equalsOrNull(o,l){return o===null?l===null:Sa.equals(o,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Tp{constructor(o,l,c){this.pairs=o,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,l){return o instanceof Tp?this.checkEqualitity(o,l)&&o.wasReversed===l.wasReversed:!1}checkEqualitity(o,l){if(!o||!l)return;let c;return o.forEach((f,g)=>{l.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(c=!0)})}),c}}class ne extends Mr{constructor(o){super(...arguments),this.pairs=new Array(ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,l,c){this.pairs.length=0,this.startFromEven=!1;try{return ne.constructResult(this.decodeRow2pairs(o,l))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,ne.constructResult(this.decodeRow2pairs(o,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,o))}catch(g){if(g instanceof H){if(!this.pairs.length)throw new H;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(o,!1),f){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new H}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return o&&(this.rows=this.rows.reverse()),l}checkRows(o,l){for(let c=l;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let m of o)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(o);g.push(f);try{return this.checkRows(g,c+1)}catch(m){this.verbose&&console.log(m)}}throw new H}static isValidSequence(o){for(let l of ne.FINDER_PATTERN_SEQUENCES){if(o.length>l.length)continue;let c=!0;for(let f=0;f<o.length;f++)if(o[f].getFinderPattern().getValue()!=l[f]){c=!1;break}if(c)return!0}return!1}storeRow(o,l){let c=0,f=!1,g=!1;for(;c<this.rows.length;){let m=this.rows[c];if(m.getRowNumber()>o){g=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),c++}g||f||ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Tp(this.pairs,o,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,l){for(let c of l)if(c.getPairs().length!==o.length){for(let f of c.getPairs())for(let g of o)if(Sa.equals(f,g))break}}static isPartialRow(o,l){for(let c of l){let f=!0;for(let g of o){let m=!1;for(let x of c.getPairs())if(g.equals(x)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(o){let l=sk.buildBitArray(o),f=nb(l).parseInformation(),g=o[0].getFinderPattern().getResultPoints(),m=o[o.length-1].getFinderPattern().getResultPoints(),x=[g[0],g[1],m[0],m[1]];return new $e(f,null,null,x,xe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),l=o.getLeftChar(),c=o.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),g=2;for(let x=1;x<this.pairs.size();++x){let E=this.pairs.get(x);f+=E.getLeftChar().getChecksumPortion(),g++;let S=E.getRightChar();S!=null&&(f+=S.getChecksumPortion(),g++)}return f%=211,211*(g-4)+f==l.getValue()}static getNextSecondBar(o,l){let c;return o.get(l)?(c=o.getNextUnset(l),c=o.getNextSet(c)):(c=o.getNextSet(l),c=o.getNextUnset(c)),c}retrieveNextPair(o,l,c){let f=l.length%2==0;this.startFromEven&&(f=!f);let g,m=!0,x=-1;do this.findNextPair(o,l,x),g=this.parseFoundFinderPattern(o,c,f),g==null?x=ne.getNextSecondBar(o,this.startEnd[0]):m=!1;while(m);let E=this.decodeDataCharacter(o,g,f,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new H;let S;try{S=this.decodeDataCharacter(o,g,f,!1)}catch(P){S=null,this.verbose&&console.log(P)}return new Sa(E,S,g,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,l,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),m;c>=0?m=c:this.isEmptyPair(l)?m=0:m=l[l.length-1].getFinderPattern().getStartEnd()[1];let x=l.length%2!=0;this.startFromEven&&(x=!x);let E=!1;for(;m<g&&(E=!o.get(m),!!E);)m++;let S=0,P=m;for(let R=m;R<g;R++)if(o.get(R)!=E)f[S]++;else{if(S==3){if(x&&ne.reverseCounters(f),ne.isFinderPattern(f)){this.startEnd[0]=P,this.startEnd[1]=R;return}x&&ne.reverseCounters(f),P+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,S--}else S++;f[S]=1,E=!E}throw new H}static reverseCounters(o){let l=o.length;for(let c=0;c<l/2;++c){let f=o[c];o[c]=o[l-c-1],o[l-c-1]=f}}parseFoundFinderPattern(o,l,c){let f,g,m;if(c){let S=this.startEnd[0]-1;for(;S>=0&&!o.get(S);)S--;S++,f=this.startEnd[0]-S,g=S,m=this.startEnd[1]}else g=this.startEnd[0],m=o.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let x=this.getDecodeFinderCounters();C.arraycopy(x,0,x,1,x.length-1),x[0]=f;let E;try{E=this.parseFinderValue(x,ne.FINDER_PATTERNS)}catch{return null}return new md(E,[g,m],g,m,l)}decodeDataCharacter(o,l,c,f){let g=this.getDataCharacterCounters();for(let vt=0;vt<g.length;vt++)g[vt]=0;if(f)ne.recordPatternInReverse(o,l.getStartEnd()[0],g);else{ne.recordPattern(o,l.getStartEnd()[1],g);for(let vt=0,Cr=g.length-1;vt<Cr;vt++,Cr--){let xn=g[vt];g[vt]=g[Cr],g[Cr]=xn}}let m=17,x=Oe.sum(new Int32Array(g))/m,E=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(x-E)/E>.3)throw new H;let S=this.getOddCounts(),P=this.getEvenCounts(),R=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let vt=0;vt<g.length;vt++){let Cr=1*g[vt]/x,xn=Cr+.5;if(xn<1){if(Cr<.3)throw new H;xn=1}else if(xn>8){if(Cr>8.7)throw new H;xn=8}let Ts=vt/2;vt&1?(P[Ts]=xn,B[Ts]=Cr-xn):(S[Ts]=xn,R[Ts]=Cr-xn)}this.adjustOddEvenCounts(m);let $=4*l.getValue()+(c?0:2)+(f?0:1)-1,W=0,G=0;for(let vt=S.length-1;vt>=0;vt--){if(ne.isNotA1left(l,c,f)){let Cr=ne.WEIGHTS[$][2*vt];G+=S[vt]*Cr}W+=S[vt]}let V=0;for(let vt=P.length-1;vt>=0;vt--)if(ne.isNotA1left(l,c,f)){let Cr=ne.WEIGHTS[$][2*vt+1];V+=P[vt]*Cr}let Z=G+V;if(W&1||W>13||W<4)throw new H;let ue=(13-W)/2,ce=ne.SYMBOL_WIDEST[ue],se=9-ce,Ze=Ni.getRSSvalue(S,ce,!0),We=Ni.getRSSvalue(P,se,!1),on=ne.EVEN_TOTAL_SUBSET[ue],pi=ne.GSUM[ue],sn=Ze*on+We+pi;return new Es(sn,Z)}static isNotA1left(o,l,c){return!(o.getValue()==0&&l&&c)}adjustOddEvenCounts(o){let l=Oe.sum(new Int32Array(this.getOddCounts())),c=Oe.sum(new Int32Array(this.getEvenCounts())),f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let m=!1,x=!1;c>13?x=!0:c<4&&(m=!0);let E=l+c-o,S=(l&1)==1,P=(c&1)==0;if(E==1)if(S){if(P)throw new H;g=!0}else{if(!P)throw new H;x=!0}else if(E==-1)if(S){if(P)throw new H;f=!0}else{if(!P)throw new H;m=!0}else if(E==0){if(S){if(!P)throw new H;l<c?(f=!0,x=!0):(g=!0,m=!0)}else if(P)throw new H}else throw new H;if(f){if(g)throw new H;ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new H;ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ne.SYMBOL_WIDEST=[7,5,4,3,1],ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ne.GSUM=[0,348,1388,2948,3988],ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ne.FINDER_PAT_A=0,ne.FINDER_PAT_B=1,ne.FINDER_PAT_C=2,ne.FINDER_PAT_D=3,ne.FINDER_PAT_E=4,ne.FINDER_PAT_F=5,ne.FINDER_PATTERN_SEQUENCES=[[ne.FINDER_PAT_A,ne.FINDER_PAT_A],[ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B],[ne.FINDER_PAT_A,ne.FINDER_PAT_C,ne.FINDER_PAT_B,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_C],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F]],ne.MAX_PAIRS=11;class ck extends Es{constructor(o,l,c){super(o,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class $t extends Mr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,l,c){const f=this.decodePair(l,!1,o,c);$t.addOrTally(this.possibleLeftPairs,f),l.reverse();let g=this.decodePair(l,!0,o,c);$t.addOrTally(this.possibleRightPairs,g),l.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&$t.checkChecksum(m,x))return $t.constructResult(m,x)}throw new H}static addOrTally(o,l){if(l==null)return;let c=!1;for(let f of o)if(f.getValue()===l.getValue()){f.incrementCount(),c=!0;break}c||o.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,l){let c=4537077*o.getValue()+l.getValue(),f=new String(c).toString(),g=new oe;for(let S=13-f.length;S>0;S--)g.append("0");g.append(f);let m=0;for(let S=0;S<13;S++){let P=g.charAt(S).charCodeAt(0)-48;m+=S&1?P:3*P}m=10-m%10,m===10&&(m=0),g.append(m.toString());let x=o.getFinderPattern().getResultPoints(),E=l.getFinderPattern().getResultPoints();return new $e(g.toString(),null,0,[x[0],x[1],E[0],E[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(o,l){let c=(o.getChecksumPortion()+16*l.getChecksumPortion())%79,f=9*o.getFinderPattern().getValue()+l.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(o,l,c,f){try{let g=this.findFinderPattern(o,l),m=this.parseFoundFinderPattern(o,c,l,g),x=f==null?null:f.get(j.NEED_RESULT_POINT_CALLBACK);if(x!=null){let P=(g[0]+g[1])/2;l&&(P=o.getSize()-1-P),x.foundPossibleResultPoint(new me(P,c))}let E=this.decodeDataCharacter(o,m,!0),S=this.decodeDataCharacter(o,m,!1);return new ck(1597*E.getValue()+S.getValue(),E.getChecksumPortion()+4*S.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(o,l,c){let f=this.getDataCharacterCounters();for(let V=0;V<f.length;V++)f[V]=0;if(c)Yt.recordPatternInReverse(o,l.getStartEnd()[0],f);else{Yt.recordPattern(o,l.getStartEnd()[1]+1,f);for(let V=0,Z=f.length-1;V<Z;V++,Z--){let ue=f[V];f[V]=f[Z],f[Z]=ue}}let g=c?16:15,m=Oe.sum(new Int32Array(f))/g,x=this.getOddCounts(),E=this.getEvenCounts(),S=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let V=0;V<f.length;V++){let Z=f[V]/m,ue=Math.floor(Z+.5);ue<1?ue=1:ue>8&&(ue=8);let ce=Math.floor(V/2);V&1?(E[ce]=ue,P[ce]=Z-ue):(x[ce]=ue,S[ce]=Z-ue)}this.adjustOddEvenCounts(c,g);let R=0,B=0;for(let V=x.length-1;V>=0;V--)B*=9,B+=x[V],R+=x[V];let $=0,W=0;for(let V=E.length-1;V>=0;V--)$*=9,$+=E[V],W+=E[V];let G=B+3*$;if(c){if(R&1||R>12||R<4)throw new H;let V=(12-R)/2,Z=$t.OUTSIDE_ODD_WIDEST[V],ue=9-Z,ce=Ni.getRSSvalue(x,Z,!1),se=Ni.getRSSvalue(E,ue,!0),Ze=$t.OUTSIDE_EVEN_TOTAL_SUBSET[V],We=$t.OUTSIDE_GSUM[V];return new Es(ce*Ze+se+We,G)}else{if(W&1||W>10||W<4)throw new H;let V=(10-W)/2,Z=$t.INSIDE_ODD_WIDEST[V],ue=9-Z,ce=Ni.getRSSvalue(x,Z,!0),se=Ni.getRSSvalue(E,ue,!1),Ze=$t.INSIDE_ODD_TOTAL_SUBSET[V],We=$t.INSIDE_GSUM[V];return new Es(se*Ze+ce+We,G)}}findFinderPattern(o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=o.getSize(),g=!1,m=0;for(;m<f&&(g=!o.get(m),l!==g);)m++;let x=0,E=m;for(let S=m;S<f;S++)if(o.get(S)!==g)c[x]++;else{if(x===3){if(Mr.isFinderPattern(c))return[E,S];E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,g=!g}throw new H}parseFoundFinderPattern(o,l,c,f){let g=o.get(f[0]),m=f[0]-1;for(;m>=0&&g!==o.get(m);)m--;m++;const x=f[0]-m,E=this.getDecodeFinderCounters(),S=new Int32Array(E.length);C.arraycopy(E,0,S,1,E.length-1),S[0]=x;const P=this.parseFinderValue(S,$t.FINDER_PATTERNS);let R=m,B=f[1];return c&&(R=o.getSize()-1-R,B=o.getSize()-1-B),new md(P,[m,f[1]],R,B,l)}adjustOddEvenCounts(o,l){let c=Oe.sum(new Int32Array(this.getOddCounts())),f=Oe.sum(new Int32Array(this.getEvenCounts())),g=!1,m=!1,x=!1,E=!1;o?(c>12?m=!0:c<4&&(g=!0),f>12?E=!0:f<4&&(x=!0)):(c>11?m=!0:c<5&&(g=!0),f>10?E=!0:f<4&&(x=!0));let S=c+f-l,P=(c&1)===(o?1:0),R=(f&1)===1;if(S===1)if(P){if(R)throw new H;m=!0}else{if(!R)throw new H;E=!0}else if(S===-1)if(P){if(R)throw new H;g=!0}else{if(!R)throw new H;x=!0}else if(S===0){if(P){if(!R)throw new H;c<f?(g=!0,E=!0):(m=!0,x=!0)}else if(R)throw new H}else throw new H;if(g){if(m)throw new H;Mr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Mr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new H;Mr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Mr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],$t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],$t.OUTSIDE_GSUM=[0,161,961,2015,2715],$t.INSIDE_GSUM=[0,336,1036,1516],$t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],$t.INSIDE_ODD_WIDEST=[2,4,6,8],$t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Cs extends Yt{constructor(o,l){super(),this.readers=[],this.verbose=l===!0;const c=o?o.get(j.POSSIBLE_FORMATS):null,f=o&&o.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(xe.EAN_13)||c.includes(xe.UPC_A)||c.includes(xe.EAN_8)||c.includes(xe.UPC_E))&&this.readers.push(new _p(o)),c.includes(xe.CODE_39)&&this.readers.push(new rr(f)),c.includes(xe.CODE_128)&&this.readers.push(new ge),c.includes(xe.ITF)&&this.readers.push(new gt),c.includes(xe.RSS_14)&&this.readers.push(new $t),c.includes(xe.RSS_EXPANDED)&&this.readers.push(new ne(this.verbose))):(this.readers.push(new _p(o)),this.readers.push(new rr),this.readers.push(new _p(o)),this.readers.push(new ge),this.readers.push(new gt),this.readers.push(new $t),this.readers.push(new ne(this.verbose)))}decodeRow(o,l,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(o,l,c)}catch{}throw new H}reset(){this.readers.forEach(o=>o.reset())}}class dk extends Ue{constructor(o=500,l){super(new Cs(l),o,l)}}class ot{constructor(o,l,c){this.ecCodewords=o,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(o,l,c,f,g,m){this.versionNumber=o,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=g,this.ecBlocks=m;let x=0;const E=m.getECCodewords(),S=m.getECBlocks();for(let P of S)x+=P.getCount()*(P.getDataCodewords()+E);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,l){if(o&1||l&1)throw new L;for(let c of Qe.VERSIONS)if(c.symbolSizeRows===o&&c.symbolSizeColumns===l)return c;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Qe(1,10,10,8,8,new ot(5,new it(1,3))),new Qe(2,12,12,10,10,new ot(7,new it(1,5))),new Qe(3,14,14,12,12,new ot(10,new it(1,8))),new Qe(4,16,16,14,14,new ot(12,new it(1,12))),new Qe(5,18,18,16,16,new ot(14,new it(1,18))),new Qe(6,20,20,18,18,new ot(18,new it(1,22))),new Qe(7,22,22,20,20,new ot(20,new it(1,30))),new Qe(8,24,24,22,22,new ot(24,new it(1,36))),new Qe(9,26,26,24,24,new ot(28,new it(1,44))),new Qe(10,32,32,14,14,new ot(36,new it(1,62))),new Qe(11,36,36,16,16,new ot(42,new it(1,86))),new Qe(12,40,40,18,18,new ot(48,new it(1,114))),new Qe(13,44,44,20,20,new ot(56,new it(1,144))),new Qe(14,48,48,22,22,new ot(68,new it(1,174))),new Qe(15,52,52,24,24,new ot(42,new it(2,102))),new Qe(16,64,64,14,14,new ot(56,new it(2,140))),new Qe(17,72,72,16,16,new ot(36,new it(4,92))),new Qe(18,80,80,18,18,new ot(48,new it(4,114))),new Qe(19,88,88,20,20,new ot(56,new it(4,144))),new Qe(20,96,96,22,22,new ot(68,new it(4,174))),new Qe(21,104,104,24,24,new ot(56,new it(6,136))),new Qe(22,120,120,18,18,new ot(68,new it(6,175))),new Qe(23,132,132,20,20,new ot(62,new it(8,163))),new Qe(24,144,144,22,22,new ot(62,new it(8,156),new it(2,155))),new Qe(25,8,18,6,16,new ot(7,new it(1,5))),new Qe(26,8,32,6,14,new ot(11,new it(1,10))),new Qe(27,12,26,10,24,new ot(14,new it(1,16))),new Qe(28,12,36,10,16,new ot(18,new it(1,22))),new Qe(29,16,36,14,16,new ot(24,new it(1,32))),new Qe(30,16,48,14,22,new ot(28,new it(1,49)))]}}Qe.VERSIONS=Qe.buildVersions();class Np{constructor(o){const l=o.getHeight();if(l<8||l>144||l&1)throw new L;this.version=Np.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new de(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const l=o.getHeight(),c=o.getWidth();return Qe.getVersionForDimensions(l,c)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,f=0;const g=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let x=!1,E=!1,S=!1,P=!1;do if(c===g&&f===0&&!x)o[l++]=this.readCorner1(g,m)&255,c-=2,f+=2,x=!0;else if(c===g-2&&f===0&&m&3&&!E)o[l++]=this.readCorner2(g,m)&255,c-=2,f+=2,E=!0;else if(c===g+4&&f===2&&!(m&7)&&!S)o[l++]=this.readCorner3(g,m)&255,c-=2,f+=2,S=!0;else if(c===g-2&&f===0&&(m&7)===4&&!P)o[l++]=this.readCorner4(g,m)&255,c-=2,f+=2,P=!0;else{do c<g&&f>=0&&!this.readMappingMatrix.get(f,c)&&(o[l++]=this.readUtah(c,f,g,m)&255),c-=2,f+=2;while(c>=0&&f<m);c+=1,f+=3;do c>=0&&f<m&&!this.readMappingMatrix.get(f,c)&&(o[l++]=this.readUtah(c,f,g,m)&255),c+=2,f-=2;while(c<g&&f>=0);c+=3,f+=1}while(c<g||f<m);if(l!==this.version.getTotalCodewords())throw new L;return o}readModule(o,l,c,f){return o<0&&(o+=c,l+=4-(c+4&7)),l<0&&(l+=f,o+=4-(f+4&7)),this.readMappingMatrix.set(l,o),this.mappingBitMatrix.get(l,o)}readUtah(o,l,c,f){let g=0;return this.readModule(o-2,l-2,c,f)&&(g|=1),g<<=1,this.readModule(o-2,l-1,c,f)&&(g|=1),g<<=1,this.readModule(o-1,l-2,c,f)&&(g|=1),g<<=1,this.readModule(o-1,l-1,c,f)&&(g|=1),g<<=1,this.readModule(o-1,l,c,f)&&(g|=1),g<<=1,this.readModule(o,l-2,c,f)&&(g|=1),g<<=1,this.readModule(o,l-1,c,f)&&(g|=1),g<<=1,this.readModule(o,l,c,f)&&(g|=1),g}readCorner1(o,l){let c=0;return this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,1,o,l)&&(c|=1),c<<=1,this.readModule(o-1,2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c<<=1,this.readModule(2,l-1,o,l)&&(c|=1),c<<=1,this.readModule(3,l-1,o,l)&&(c|=1),c}readCorner2(o,l){let c=0;return this.readModule(o-3,0,o,l)&&(c|=1),c<<=1,this.readModule(o-2,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(0,l-4,o,l)&&(c|=1),c<<=1,this.readModule(0,l-3,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c}readCorner3(o,l){let c=0;return this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,l-1,o,l)&&(c|=1),c<<=1,this.readModule(0,l-3,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-3,o,l)&&(c|=1),c<<=1,this.readModule(1,l-2,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c}readCorner4(o,l){let c=0;return this.readModule(o-3,0,o,l)&&(c|=1),c<<=1,this.readModule(o-2,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c<<=1,this.readModule(2,l-1,o,l)&&(c|=1),c<<=1,this.readModule(3,l-1,o,l)&&(c|=1),c}extractDataRegion(o){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(o.getHeight()!==l)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),m=l/f|0,x=c/g|0,E=m*f,S=x*g,P=new de(S,E);for(let R=0;R<m;++R){const B=R*f;for(let $=0;$<x;++$){const W=$*g;for(let G=0;G<f;++G){const V=R*(f+2)+1+G,Z=B+G;for(let ue=0;ue<g;++ue){const ce=$*(g+2)+1+ue;if(o.get(ce,V)){const se=W+ue;P.set(se,Z)}}}}}return P}}class Pp{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l){const c=l.getECBlocks();let f=0;const g=c.getECBlocks();for(let G of g)f+=G.getCount();const m=new Array(f);let x=0;for(let G of g)for(let V=0;V<G.getCount();V++){const Z=G.getDataCodewords(),ue=c.getECCodewords()+Z;m[x++]=new Pp(Z,new Uint8Array(ue))}const S=m[0].codewords.length-c.getECCodewords(),P=S-1;let R=0;for(let G=0;G<P;G++)for(let V=0;V<x;V++)m[V].codewords[G]=o[R++];const B=l.getVersionNumber()===24,$=B?8:x;for(let G=0;G<$;G++)m[G].codewords[S-1]=o[R++];const W=m[0].codewords.length;for(let G=S;G<W;G++)for(let V=0;V<x;V++){const Z=B?(V+8)%x:V,ue=B&&Z>7?G-1:G;m[Z].codewords[ue]=o[R++]}if(R!==o.length)throw new v;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class kp{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new v(""+o);let l=0,c=this.bitOffset,f=this.byteOffset;const g=this.bytes;if(c>0){const m=8-c,x=o<m?o:m,E=m-x,S=255>>8-x<<E;l=(g[f]&S)>>E,o-=x,c+=x,c===8&&(c=0,f++)}if(o>0){for(;o>=8;)l=l<<8|g[f]&255,f++,o-=8;if(o>0){const m=8-o,x=255>>m<<m;l=l<<o|(g[f]&x)>>m,c+=o}}return this.bitOffset=c,this.byteOffset=f,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nr;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(nr||(nr={}));class Ca{static decode(o){const l=new kp(o),c=new oe,f=new oe,g=new Array;let m=nr.ASCII_ENCODE;do if(m===nr.ASCII_ENCODE)m=this.decodeAsciiSegment(l,c,f);else{switch(m){case nr.C40_ENCODE:this.decodeC40Segment(l,c);break;case nr.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case nr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case nr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case nr.BASE256_ENCODE:this.decodeBase256Segment(l,c,g);break;default:throw new L}m=nr.ASCII_ENCODE}while(m!==nr.PAD_ENCODE&&l.available()>0);return f.length()>0&&c.append(f.toString()),new ye(o,c.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(o,l,c){let f=!1;do{let g=o.readBits(8);if(g===0)throw new L;if(g<=128)return f&&(g+=128),l.append(String.fromCharCode(g-1)),nr.ASCII_ENCODE;if(g===129)return nr.PAD_ENCODE;if(g<=229){const m=g-130;m<10&&l.append("0"),l.append(""+m)}else switch(g){case 230:return nr.C40_ENCODE;case 231:return nr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return nr.ANSIX12_ENCODE;case 239:return nr.TEXT_ENCODE;case 240:return nr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||o.available()!==0)throw new L;break}}while(o.available()>0);return nr.ASCII_ENCODE}static decodeC40Segment(o,l){let c=!1;const f=[];let g=0;do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),f);for(let x=0;x<3;x++){const E=f[x];switch(g){case 0:if(E<3)g=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[E];c?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),c=!1):l.append(S)}else throw new L;break;case 1:c?(l.append(String.fromCharCode(E+128)),c=!1):l.append(String.fromCharCode(E)),g=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[E];c?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),c=!1):l.append(S)}else switch(E){case 27:l.append("");break;case 30:c=!0;break;default:throw new L}g=0;break;case 3:c?(l.append(String.fromCharCode(E+224)),c=!1):l.append(String.fromCharCode(E+96)),g=0;break;default:throw new L}}}while(o.available()>0)}static decodeTextSegment(o,l){let c=!1,f=[],g=0;do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),f);for(let x=0;x<3;x++){const E=f[x];switch(g){case 0:if(E<3)g=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[E];c?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),c=!1):l.append(S)}else throw new L;break;case 1:c?(l.append(String.fromCharCode(E+128)),c=!1):l.append(String.fromCharCode(E)),g=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[E];c?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),c=!1):l.append(S)}else switch(E){case 27:l.append("");break;case 30:c=!0;break;default:throw new L}g=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[E];c?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),c=!1):l.append(S),g=0}else throw new L;break;default:throw new L}}}while(o.available()>0)}static decodeAnsiX12Segment(o,l){const c=[];do{if(o.available()===8)return;const f=o.readBits(8);if(f===254)return;this.parseTwoBytes(f,o.readBits(8),c);for(let g=0;g<3;g++){const m=c[g];switch(m){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(m<14)l.append(String.fromCharCode(m+44));else if(m<40)l.append(String.fromCharCode(m+51));else throw new L;break}}}while(o.available()>0)}static parseTwoBytes(o,l,c){let f=(o<<8)+l-1,g=Math.floor(f/1600);c[0]=g,f-=g*1600,g=Math.floor(f/40),c[1]=g,c[2]=f-g*40}static decodeEdifactSegment(o,l){do{if(o.available()<=16)return;for(let c=0;c<4;c++){let f=o.readBits(6);if(f===31){const g=8-o.getBitOffset();g!==8&&o.readBits(g);return}f&32||(f|=64),l.append(String.fromCharCode(f))}}while(o.available()>0)}static decodeBase256Segment(o,l,c){let f=1+o.getByteOffset();const g=this.unrandomize255State(o.readBits(8),f++);let m;if(g===0?m=o.available()/8|0:g<250?m=g:m=250*(g-249)+this.unrandomize255State(o.readBits(8),f++),m<0)throw new L;const x=new Uint8Array(m);for(let E=0;E<m;E++){if(o.available()<8)throw new L;x[E]=this.unrandomize255State(o.readBits(8),f++)}c.push(x);try{l.append(X.decode(x,q.ISO88591))}catch(E){throw new at("Platform does not support required encoding: "+E.message)}}static unrandomize255State(o,l){const c=149*l%255+1,f=o-c;return f>=0?f:f+256}}Ca.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ca.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ca.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ca.TEXT_SHIFT2_SET_CHARS=Ca.C40_SHIFT2_SET_CHARS,Ca.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class fk{constructor(){this.rsDecoder=new he(Me.DATA_MATRIX_FIELD_256)}decode(o){const l=new Np(o),c=l.getVersion(),f=l.readCodewords(),g=Pp.getDataBlocks(f,c);let m=0;for(let S of g)m+=S.getNumDataCodewords();const x=new Uint8Array(m),E=g.length;for(let S=0;S<E;S++){const P=g[S],R=P.getCodewords(),B=P.getNumDataCodewords();this.correctErrors(R,B);for(let $=0;$<B;$++)x[$*E+S]=R[$]}return Ca.decode(x)}correctErrors(o,l){const c=new Int32Array(o);try{this.rsDecoder.decode(c,o.length-l)}catch{throw new w}for(let f=0;f<l;f++)o[f]=c[f]}}class Vt{constructor(o){this.image=o,this.rectangleDetector=new di(this.image)}detect(){const o=this.rectangleDetector.detect();let l=this.detectSolid1(o);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new H;l=this.shiftToModuleCenter(l);const c=l[0],f=l[1],g=l[2],m=l[3];let x=this.transitionsBetween(c,m)+1,E=this.transitionsBetween(g,m)+1;(x&1)===1&&(x+=1),(E&1)===1&&(E+=1),4*x<7*E&&4*E<7*x&&(x=E=Math.max(x,E));let S=Vt.sampleGrid(this.image,c,f,g,m,x,E);return new Hi(S,[c,f,g,m])}static shiftPoint(o,l,c){let f=(l.getX()-o.getX())/(c+1),g=(l.getY()-o.getY())/(c+1);return new me(o.getX()+f,o.getY()+g)}static moveAway(o,l,c){let f=o.getX(),g=o.getY();return f<l?f-=1:f+=1,g<c?g-=1:g+=1,new me(f,g)}detectSolid1(o){let l=o[0],c=o[1],f=o[3],g=o[2],m=this.transitionsBetween(l,c),x=this.transitionsBetween(c,f),E=this.transitionsBetween(f,g),S=this.transitionsBetween(g,l),P=m,R=[g,l,c,f];return P>x&&(P=x,R[0]=l,R[1]=c,R[2]=f,R[3]=g),P>E&&(P=E,R[0]=c,R[1]=f,R[2]=g,R[3]=l),P>S&&(R[0]=f,R[1]=g,R[2]=l,R[3]=c),R}detectSolid2(o){let l=o[0],c=o[1],f=o[2],g=o[3],m=this.transitionsBetween(l,g),x=Vt.shiftPoint(c,f,(m+1)*4),E=Vt.shiftPoint(f,c,(m+1)*4),S=this.transitionsBetween(x,l),P=this.transitionsBetween(E,g);return S<P?(o[0]=l,o[1]=c,o[2]=f,o[3]=g):(o[0]=c,o[1]=f,o[2]=g,o[3]=l),o}correctTopRight(o){let l=o[0],c=o[1],f=o[2],g=o[3],m=this.transitionsBetween(l,g),x=this.transitionsBetween(c,g),E=Vt.shiftPoint(l,c,(x+1)*4),S=Vt.shiftPoint(f,c,(m+1)*4);m=this.transitionsBetween(E,g),x=this.transitionsBetween(S,g);let P=new me(g.getX()+(f.getX()-c.getX())/(m+1),g.getY()+(f.getY()-c.getY())/(m+1)),R=new me(g.getX()+(l.getX()-c.getX())/(x+1),g.getY()+(l.getY()-c.getY())/(x+1));if(!this.isValid(P))return this.isValid(R)?R:null;if(!this.isValid(R))return P;let B=this.transitionsBetween(E,P)+this.transitionsBetween(S,P),$=this.transitionsBetween(E,R)+this.transitionsBetween(S,R);return B>$?P:R}shiftToModuleCenter(o){let l=o[0],c=o[1],f=o[2],g=o[3],m=this.transitionsBetween(l,g)+1,x=this.transitionsBetween(f,g)+1,E=Vt.shiftPoint(l,c,x*4),S=Vt.shiftPoint(f,c,m*4);m=this.transitionsBetween(E,g)+1,x=this.transitionsBetween(S,g)+1,(m&1)===1&&(m+=1),(x&1)===1&&(x+=1);let P=(l.getX()+c.getX()+f.getX()+g.getX())/4,R=(l.getY()+c.getY()+f.getY()+g.getY())/4;l=Vt.moveAway(l,P,R),c=Vt.moveAway(c,P,R),f=Vt.moveAway(f,P,R),g=Vt.moveAway(g,P,R);let B,$;return E=Vt.shiftPoint(l,c,x*4),E=Vt.shiftPoint(E,g,m*4),B=Vt.shiftPoint(c,l,x*4),B=Vt.shiftPoint(B,f,m*4),S=Vt.shiftPoint(f,g,x*4),S=Vt.shiftPoint(S,c,m*4),$=Vt.shiftPoint(g,f,x*4),$=Vt.shiftPoint($,l,m*4),[E,B,S,$]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,l,c,f,g,m,x){return Aa.getInstance().sampleGrid(o,m,x,.5,.5,m-.5,.5,m-.5,x-.5,.5,x-.5,l.getX(),l.getY(),g.getX(),g.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(o,l){let c=Math.trunc(o.getX()),f=Math.trunc(o.getY()),g=Math.trunc(l.getX()),m=Math.trunc(l.getY()),x=Math.abs(m-f)>Math.abs(g-c);if(x){let G=c;c=f,f=G,G=g,g=m,m=G}let E=Math.abs(g-c),S=Math.abs(m-f),P=-E/2,R=f<m?1:-1,B=c<g?1:-1,$=0,W=this.image.get(x?f:c,x?c:f);for(let G=c,V=f;G!==g;G+=B){let Z=this.image.get(x?V:G,x?G:V);if(Z!==W&&($++,W=Z),P+=S,P>0){if(V===m)break;V+=R,P-=E}}return $}}class _a{constructor(){this.decoder=new fk}decode(o,l=null){let c,f;if(l!=null&&l.has(j.PURE_BARCODE)){const S=_a.extractPureBits(o.getBlackMatrix());c=this.decoder.decode(S),f=_a.NO_POINTS}else{const S=new Vt(o.getBlackMatrix()).detect();c=this.decoder.decode(S.getBits()),f=S.getPoints()}const g=c.getRawBytes(),m=new $e(c.getText(),g,8*g.length,f,xe.DATA_MATRIX,C.currentTimeMillis()),x=c.getByteSegments();x!=null&&m.putMetadata(ht.BYTE_SEGMENTS,x);const E=c.getECLevel();return E!=null&&m.putMetadata(ht.ERROR_CORRECTION_LEVEL,E),m}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(l==null||c==null)throw new H;const f=this.moduleSize(l,o);let g=l[1];const m=c[1];let x=l[0];const S=(c[0]-x+1)/f,P=(m-g+1)/f;if(S<=0||P<=0)throw new H;const R=f/2;g+=R,x+=R;const B=new de(S,P);for(let $=0;$<P;$++){const W=g+$*f;for(let G=0;G<S;G++)o.get(x+G*f,W)&&B.set(G,$)}return B}static moduleSize(o,l){const c=l.getWidth();let f=o[0];const g=o[1];for(;f<c&&l.get(f,g);)f++;if(f===c)throw new H;const m=f-o[0];if(m===0)throw new H;return m}}_a.NO_POINTS=[];class hk extends Ue{constructor(o=500){super(new _a,o)}}var _s;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(_s||(_s={}));class wt{constructor(o,l,c){this.value=o,this.stringValue=l,this.bits=c,wt.FOR_BITS.set(c,this),wt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return wt.L;case"M":return wt.M;case"Q":return wt.Q;case"H":return wt.H;default:throw new p(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof wt))return!1;const l=o;return this.value===l.value}static forBits(o){if(o<0||o>=wt.FOR_BITS.size)throw new v;return wt.FOR_BITS.get(o)}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.L=new wt(_s.L,"L",1),wt.M=new wt(_s.M,"M",0),wt.Q=new wt(_s.Q,"Q",3),wt.H=new wt(_s.H,"H",2);class jr{constructor(o){this.errorCorrectionLevel=wt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,l){return T.bitCount(o^l)}static decodeFormatInformation(o,l){const c=jr.doDecodeFormatInformation(o,l);return c!==null?c:jr.doDecodeFormatInformation(o^jr.FORMAT_INFO_MASK_QR,l^jr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,l){let c=Number.MAX_SAFE_INTEGER,f=0;for(const g of jr.FORMAT_INFO_DECODE_LOOKUP){const m=g[0];if(m===o||m===l)return new jr(g[1]);let x=jr.numBitsDiffering(o,m);x<c&&(f=g[1],c=x),o!==l&&(x=jr.numBitsDiffering(l,m),x<c&&(f=g[1],c=x))}return c<=3?new jr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof jr))return!1;const l=o;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}jr.FORMAT_INFO_MASK_QR=21522,jr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(o,...l){this.ecCodewordsPerBlock=o,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const l=this.ecBlocks;for(const c of l)o+=c.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(o,l,...c){this.versionNumber=o,this.alignmentPatternCenters=l,this.ecBlocks=c;let f=0;const g=c[0].getECCodewordsPerBlock(),m=c[0].getECBlocks();for(const x of m)f+=x.getCount()*(x.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new L;try{return this.getVersionForNumber((o-17)/4)}catch{throw new L}}static getVersionForNumber(o){if(o<1||o>40)throw new v;return Pe.VERSIONS[o-1]}static decodeVersionInformation(o){let l=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Pe.VERSION_DECODE_INFO.length;f++){const g=Pe.VERSION_DECODE_INFO[f];if(g===o)return Pe.getVersionForNumber(f+7);const m=jr.numBitsDiffering(o,g);m<l&&(c=f+7,l=m)}return l<=3?Pe.getVersionForNumber(c):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),l=new de(o);l.setRegion(0,0,9,9),l.setRegion(o-8,0,8,9),l.setRegion(0,o-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const g=this.alignmentPatternCenters[f]-2;for(let m=0;m<c;m++)f===0&&(m===0||m===c-1)||f===c-1&&m===0||l.setRegion(this.alignmentPatternCenters[m]-2,g,5,5)}return l.setRegion(6,9,1,o-17),l.setRegion(9,6,o-17,1),this.versionNumber>6&&(l.setRegion(o-11,0,3,6),l.setRegion(0,o-11,6,3)),l}toString(){return""+this.versionNumber}}Pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Pe.VERSIONS=[new Pe(1,new Int32Array(0),new K(7,new F(1,19)),new K(10,new F(1,16)),new K(13,new F(1,13)),new K(17,new F(1,9))),new Pe(2,Int32Array.from([6,18]),new K(10,new F(1,34)),new K(16,new F(1,28)),new K(22,new F(1,22)),new K(28,new F(1,16))),new Pe(3,Int32Array.from([6,22]),new K(15,new F(1,55)),new K(26,new F(1,44)),new K(18,new F(2,17)),new K(22,new F(2,13))),new Pe(4,Int32Array.from([6,26]),new K(20,new F(1,80)),new K(18,new F(2,32)),new K(26,new F(2,24)),new K(16,new F(4,9))),new Pe(5,Int32Array.from([6,30]),new K(26,new F(1,108)),new K(24,new F(2,43)),new K(18,new F(2,15),new F(2,16)),new K(22,new F(2,11),new F(2,12))),new Pe(6,Int32Array.from([6,34]),new K(18,new F(2,68)),new K(16,new F(4,27)),new K(24,new F(4,19)),new K(28,new F(4,15))),new Pe(7,Int32Array.from([6,22,38]),new K(20,new F(2,78)),new K(18,new F(4,31)),new K(18,new F(2,14),new F(4,15)),new K(26,new F(4,13),new F(1,14))),new Pe(8,Int32Array.from([6,24,42]),new K(24,new F(2,97)),new K(22,new F(2,38),new F(2,39)),new K(22,new F(4,18),new F(2,19)),new K(26,new F(4,14),new F(2,15))),new Pe(9,Int32Array.from([6,26,46]),new K(30,new F(2,116)),new K(22,new F(3,36),new F(2,37)),new K(20,new F(4,16),new F(4,17)),new K(24,new F(4,12),new F(4,13))),new Pe(10,Int32Array.from([6,28,50]),new K(18,new F(2,68),new F(2,69)),new K(26,new F(4,43),new F(1,44)),new K(24,new F(6,19),new F(2,20)),new K(28,new F(6,15),new F(2,16))),new Pe(11,Int32Array.from([6,30,54]),new K(20,new F(4,81)),new K(30,new F(1,50),new F(4,51)),new K(28,new F(4,22),new F(4,23)),new K(24,new F(3,12),new F(8,13))),new Pe(12,Int32Array.from([6,32,58]),new K(24,new F(2,92),new F(2,93)),new K(22,new F(6,36),new F(2,37)),new K(26,new F(4,20),new F(6,21)),new K(28,new F(7,14),new F(4,15))),new Pe(13,Int32Array.from([6,34,62]),new K(26,new F(4,107)),new K(22,new F(8,37),new F(1,38)),new K(24,new F(8,20),new F(4,21)),new K(22,new F(12,11),new F(4,12))),new Pe(14,Int32Array.from([6,26,46,66]),new K(30,new F(3,115),new F(1,116)),new K(24,new F(4,40),new F(5,41)),new K(20,new F(11,16),new F(5,17)),new K(24,new F(11,12),new F(5,13))),new Pe(15,Int32Array.from([6,26,48,70]),new K(22,new F(5,87),new F(1,88)),new K(24,new F(5,41),new F(5,42)),new K(30,new F(5,24),new F(7,25)),new K(24,new F(11,12),new F(7,13))),new Pe(16,Int32Array.from([6,26,50,74]),new K(24,new F(5,98),new F(1,99)),new K(28,new F(7,45),new F(3,46)),new K(24,new F(15,19),new F(2,20)),new K(30,new F(3,15),new F(13,16))),new Pe(17,Int32Array.from([6,30,54,78]),new K(28,new F(1,107),new F(5,108)),new K(28,new F(10,46),new F(1,47)),new K(28,new F(1,22),new F(15,23)),new K(28,new F(2,14),new F(17,15))),new Pe(18,Int32Array.from([6,30,56,82]),new K(30,new F(5,120),new F(1,121)),new K(26,new F(9,43),new F(4,44)),new K(28,new F(17,22),new F(1,23)),new K(28,new F(2,14),new F(19,15))),new Pe(19,Int32Array.from([6,30,58,86]),new K(28,new F(3,113),new F(4,114)),new K(26,new F(3,44),new F(11,45)),new K(26,new F(17,21),new F(4,22)),new K(26,new F(9,13),new F(16,14))),new Pe(20,Int32Array.from([6,34,62,90]),new K(28,new F(3,107),new F(5,108)),new K(26,new F(3,41),new F(13,42)),new K(30,new F(15,24),new F(5,25)),new K(28,new F(15,15),new F(10,16))),new Pe(21,Int32Array.from([6,28,50,72,94]),new K(28,new F(4,116),new F(4,117)),new K(26,new F(17,42)),new K(28,new F(17,22),new F(6,23)),new K(30,new F(19,16),new F(6,17))),new Pe(22,Int32Array.from([6,26,50,74,98]),new K(28,new F(2,111),new F(7,112)),new K(28,new F(17,46)),new K(30,new F(7,24),new F(16,25)),new K(24,new F(34,13))),new Pe(23,Int32Array.from([6,30,54,78,102]),new K(30,new F(4,121),new F(5,122)),new K(28,new F(4,47),new F(14,48)),new K(30,new F(11,24),new F(14,25)),new K(30,new F(16,15),new F(14,16))),new Pe(24,Int32Array.from([6,28,54,80,106]),new K(30,new F(6,117),new F(4,118)),new K(28,new F(6,45),new F(14,46)),new K(30,new F(11,24),new F(16,25)),new K(30,new F(30,16),new F(2,17))),new Pe(25,Int32Array.from([6,32,58,84,110]),new K(26,new F(8,106),new F(4,107)),new K(28,new F(8,47),new F(13,48)),new K(30,new F(7,24),new F(22,25)),new K(30,new F(22,15),new F(13,16))),new Pe(26,Int32Array.from([6,30,58,86,114]),new K(28,new F(10,114),new F(2,115)),new K(28,new F(19,46),new F(4,47)),new K(28,new F(28,22),new F(6,23)),new K(30,new F(33,16),new F(4,17))),new Pe(27,Int32Array.from([6,34,62,90,118]),new K(30,new F(8,122),new F(4,123)),new K(28,new F(22,45),new F(3,46)),new K(30,new F(8,23),new F(26,24)),new K(30,new F(12,15),new F(28,16))),new Pe(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new F(3,117),new F(10,118)),new K(28,new F(3,45),new F(23,46)),new K(30,new F(4,24),new F(31,25)),new K(30,new F(11,15),new F(31,16))),new Pe(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new F(7,116),new F(7,117)),new K(28,new F(21,45),new F(7,46)),new K(30,new F(1,23),new F(37,24)),new K(30,new F(19,15),new F(26,16))),new Pe(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new F(5,115),new F(10,116)),new K(28,new F(19,47),new F(10,48)),new K(30,new F(15,24),new F(25,25)),new K(30,new F(23,15),new F(25,16))),new Pe(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new F(13,115),new F(3,116)),new K(28,new F(2,46),new F(29,47)),new K(30,new F(42,24),new F(1,25)),new K(30,new F(23,15),new F(28,16))),new Pe(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new F(17,115)),new K(28,new F(10,46),new F(23,47)),new K(30,new F(10,24),new F(35,25)),new K(30,new F(19,15),new F(35,16))),new Pe(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new F(17,115),new F(1,116)),new K(28,new F(14,46),new F(21,47)),new K(30,new F(29,24),new F(19,25)),new K(30,new F(11,15),new F(46,16))),new Pe(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new F(13,115),new F(6,116)),new K(28,new F(14,46),new F(23,47)),new K(30,new F(44,24),new F(7,25)),new K(30,new F(59,16),new F(1,17))),new Pe(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new F(12,121),new F(7,122)),new K(28,new F(12,47),new F(26,48)),new K(30,new F(39,24),new F(14,25)),new K(30,new F(22,15),new F(41,16))),new Pe(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new F(6,121),new F(14,122)),new K(28,new F(6,47),new F(34,48)),new K(30,new F(46,24),new F(10,25)),new K(30,new F(2,15),new F(64,16))),new Pe(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new F(17,122),new F(4,123)),new K(28,new F(29,46),new F(14,47)),new K(30,new F(49,24),new F(10,25)),new K(30,new F(24,15),new F(46,16))),new Pe(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new F(4,122),new F(18,123)),new K(28,new F(13,46),new F(32,47)),new K(30,new F(48,24),new F(14,25)),new K(30,new F(42,15),new F(32,16))),new Pe(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new F(20,117),new F(4,118)),new K(28,new F(40,47),new F(7,48)),new K(30,new F(43,24),new F(22,25)),new K(30,new F(10,15),new F(67,16))),new Pe(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new F(19,118),new F(6,119)),new K(28,new F(18,47),new F(31,48)),new K(30,new F(34,24),new F(34,25)),new K(30,new F(20,15),new F(61,16)))];var dr;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(dr||(dr={}));class zn{constructor(o,l){this.value=o,this.isMasked=l}unmaskBitMatrix(o,l){for(let c=0;c<l;c++)for(let f=0;f<l;f++)this.isMasked(c,f)&&o.flip(f,c)}}zn.values=new Map([[dr.DATA_MASK_000,new zn(dr.DATA_MASK_000,(k,o)=>(k+o&1)===0)],[dr.DATA_MASK_001,new zn(dr.DATA_MASK_001,(k,o)=>(k&1)===0)],[dr.DATA_MASK_010,new zn(dr.DATA_MASK_010,(k,o)=>o%3===0)],[dr.DATA_MASK_011,new zn(dr.DATA_MASK_011,(k,o)=>(k+o)%3===0)],[dr.DATA_MASK_100,new zn(dr.DATA_MASK_100,(k,o)=>(Math.floor(k/2)+Math.floor(o/3)&1)===0)],[dr.DATA_MASK_101,new zn(dr.DATA_MASK_101,(k,o)=>k*o%6===0)],[dr.DATA_MASK_110,new zn(dr.DATA_MASK_110,(k,o)=>k*o%6<3)],[dr.DATA_MASK_111,new zn(dr.DATA_MASK_111,(k,o)=>(k+o+k*o%3&1)===0)]]);class pk{constructor(o){const l=o.getHeight();if(l<21||(l&3)!==1)throw new L;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let g=0;g<6;g++)o=this.copyBit(g,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let g=5;g>=0;g--)o=this.copyBit(8,g,o);const l=this.bitMatrix.getHeight();let c=0;const f=l-7;for(let g=l-1;g>=f;g--)c=this.copyBit(8,g,c);for(let g=l-8;g<l;g++)c=this.copyBit(g,8,c);if(this.parsedFormatInfo=jr.decodeFormatInformation(o,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),l=Math.floor((o-17)/4);if(l<=6)return Pe.getVersionForNumber(l);let c=0;const f=o-11;for(let m=5;m>=0;m--)for(let x=o-9;x>=f;x--)c=this.copyBit(x,m,c);let g=Pe.decodeVersionInformation(c);if(g!==null&&g.getDimensionForVersion()===o)return this.parsedVersion=g,g;c=0;for(let m=5;m>=0;m--)for(let x=o-9;x>=f;x--)c=this.copyBit(m,x,c);if(g=Pe.decodeVersionInformation(c),g!==null&&g.getDimensionForVersion()===o)return this.parsedVersion=g,g;throw new L}copyBit(o,l,c){return(this.isMirror?this.bitMatrix.get(l,o):this.bitMatrix.get(o,l))?c<<1|1:c<<1}readCodewords(){const o=this.readFormatInformation(),l=this.readVersion(),c=zn.values.get(o.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const g=l.buildFunctionPattern();let m=!0;const x=new Uint8Array(l.getTotalCodewords());let E=0,S=0,P=0;for(let R=f-1;R>0;R-=2){R===6&&R--;for(let B=0;B<f;B++){const $=m?f-1-B:B;for(let W=0;W<2;W++)g.get(R-W,$)||(P++,S<<=1,this.bitMatrix.get(R-W,$)&&(S|=1),P===8&&(x[E++]=S,P=0,S=0))}m=!m}if(E!==l.getTotalCodewords())throw new L;return x}remask(){if(this.parsedFormatInfo===null)return;const o=zn.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let l=0,c=o.getWidth();l<c;l++)for(let f=l+1,g=o.getHeight();f<g;f++)o.get(l,f)!==o.get(f,l)&&(o.flip(f,l),o.flip(l,f))}}class Dp{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l,c){if(o.length!==l.getTotalCodewords())throw new v;const f=l.getECBlocksForLevel(c);let g=0;const m=f.getECBlocks();for(const W of m)g+=W.getCount();const x=new Array(g);let E=0;for(const W of m)for(let G=0;G<W.getCount();G++){const V=W.getDataCodewords(),Z=f.getECCodewordsPerBlock()+V;x[E++]=new Dp(V,new Uint8Array(Z))}const S=x[0].codewords.length;let P=x.length-1;for(;P>=0&&x[P].codewords.length!==S;)P--;P++;const R=S-f.getECCodewordsPerBlock();let B=0;for(let W=0;W<R;W++)for(let G=0;G<E;G++)x[G].codewords[W]=o[B++];for(let W=P;W<E;W++)x[W].codewords[R]=o[B++];const $=x[0].codewords.length;for(let W=R;W<$;W++)for(let G=0;G<E;G++){const V=G<P?W:W+1;x[G].codewords[V]=o[B++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Gn||(Gn={}));class Re{constructor(o,l,c,f){this.value=o,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=f,Re.FOR_BITS.set(f,this),Re.FOR_VALUE.set(o,this)}static forBits(o){const l=Re.FOR_BITS.get(o);if(l===void 0)throw new v;return l}getCharacterCountBits(o){const l=o.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Re))return!1;const l=o;return this.value===l.value}toString(){return this.stringValue}}Re.FOR_BITS=new Map,Re.FOR_VALUE=new Map,Re.TERMINATOR=new Re(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Re.NUMERIC=new Re(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Re.ALPHANUMERIC=new Re(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Re.STRUCTURED_APPEND=new Re(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Re.BYTE=new Re(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Re.ECI=new Re(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Re.KANJI=new Re(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Re.FNC1_FIRST_POSITION=new Re(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Re.FNC1_SECOND_POSITION=new Re(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Re.HANZI=new Re(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(o,l,c,f){const g=new kp(o);let m=new oe;const x=new Array;let E=-1,S=-1;try{let P=null,R=!1,B;do{if(g.available()<4)B=Re.TERMINATOR;else{const $=g.readBits(4);B=Re.forBits($)}switch(B){case Re.TERMINATOR:break;case Re.FNC1_FIRST_POSITION:case Re.FNC1_SECOND_POSITION:R=!0;break;case Re.STRUCTURED_APPEND:if(g.available()<16)throw new L;E=g.readBits(8),S=g.readBits(8);break;case Re.ECI:const $=Mt.parseECIValue(g);if(P=U.getCharacterSetECIByValue($),P===null)throw new L;break;case Re.HANZI:const W=g.readBits(4),G=g.readBits(B.getCharacterCountBits(l));W===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(g,m,G);break;default:const V=g.readBits(B.getCharacterCountBits(l));switch(B){case Re.NUMERIC:Mt.decodeNumericSegment(g,m,V);break;case Re.ALPHANUMERIC:Mt.decodeAlphanumericSegment(g,m,V,R);break;case Re.BYTE:Mt.decodeByteSegment(g,m,V,P,x,f);break;case Re.KANJI:Mt.decodeKanjiSegment(g,m,V);break;default:throw new L}break}}while(B!==Re.TERMINATOR)}catch{throw new L}return new ye(o,m.toString(),x.length===0?null:x,c===null?null:c.toString(),E,S)}static decodeHanziSegment(o,l,c){if(c*13>o.available())throw new L;const f=new Uint8Array(2*c);let g=0;for(;c>0;){const m=o.readBits(13);let x=m/96<<8&4294967295|m%96;x<959?x+=41377:x+=42657,f[g]=x>>8&255,f[g+1]=x&255,g+=2,c--}try{l.append(X.decode(f,q.GB2312))}catch(m){throw new L(m)}}static decodeKanjiSegment(o,l,c){if(c*13>o.available())throw new L;const f=new Uint8Array(2*c);let g=0;for(;c>0;){const m=o.readBits(13);let x=m/192<<8&4294967295|m%192;x<7936?x+=33088:x+=49472,f[g]=x>>8,f[g+1]=x,g+=2,c--}try{l.append(X.decode(f,q.SHIFT_JIS))}catch(m){throw new L(m)}}static decodeByteSegment(o,l,c,f,g,m){if(8*c>o.available())throw new L;const x=new Uint8Array(c);for(let S=0;S<c;S++)x[S]=o.readBits(8);let E;f===null?E=q.guessEncoding(x,m):E=f.getName();try{l.append(X.decode(x,E))}catch(S){throw new L(S)}g.push(x)}static toAlphaNumericChar(o){if(o>=Mt.ALPHANUMERIC_CHARS.length)throw new L;return Mt.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,l,c,f){const g=l.length();for(;c>1;){if(o.available()<11)throw new L;const m=o.readBits(11);l.append(Mt.toAlphaNumericChar(Math.floor(m/45))),l.append(Mt.toAlphaNumericChar(m%45)),c-=2}if(c===1){if(o.available()<6)throw new L;l.append(Mt.toAlphaNumericChar(o.readBits(6)))}if(f)for(let m=g;m<l.length();m++)l.charAt(m)==="%"&&(m<l.length()-1&&l.charAt(m+1)==="%"?l.deleteCharAt(m+1):l.setCharAt(m,""))}static decodeNumericSegment(o,l,c){for(;c>=3;){if(o.available()<10)throw new L;const f=o.readBits(10);if(f>=1e3)throw new L;l.append(Mt.toAlphaNumericChar(Math.floor(f/100))),l.append(Mt.toAlphaNumericChar(Math.floor(f/10)%10)),l.append(Mt.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(o.available()<7)throw new L;const f=o.readBits(7);if(f>=100)throw new L;l.append(Mt.toAlphaNumericChar(Math.floor(f/10))),l.append(Mt.toAlphaNumericChar(f%10))}else if(c===1){if(o.available()<4)throw new L;const f=o.readBits(4);if(f>=10)throw new L;l.append(Mt.toAlphaNumericChar(f))}}static parseECIValue(o){const l=o.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=o.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=o.readBits(16);return(l&31)<<16&4294967295|c}throw new L}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class ib{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const l=o[0];o[0]=o[2],o[2]=l}}class gk{constructor(){this.rsDecoder=new he(Me.QR_CODE_FIELD_256)}decodeBooleanArray(o,l){return this.decodeBitMatrix(de.parseFromBooleanArray(o),l)}decodeBitMatrix(o,l){const c=new pk(o);let f=null;try{return this.decodeBitMatrixParser(c,l)}catch(g){f=g}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const g=this.decodeBitMatrixParser(c,l);return g.setOther(new ib(!0)),g}catch(g){throw f!==null?f:g}}decodeBitMatrixParser(o,l){const c=o.readVersion(),f=o.readFormatInformation().getErrorCorrectionLevel(),g=o.readCodewords(),m=Dp.getDataBlocks(g,c,f);let x=0;for(const P of m)x+=P.getNumDataCodewords();const E=new Uint8Array(x);let S=0;for(const P of m){const R=P.getCodewords(),B=P.getNumDataCodewords();this.correctErrors(R,B);for(let $=0;$<B;$++)E[S++]=R[$]}return Mt.decode(E,c,f,l)}correctErrors(o,l){const c=new Int32Array(o);try{this.rsDecoder.decode(c,o.length-l)}catch{throw new w}for(let f=0;f<l;f++)o[f]=c[f]}}class Rp extends me{constructor(o,l,c){super(o,l),this.estimatedModuleSize=c}aboutEquals(o,l,c){if(Math.abs(l-this.getY())<=o&&Math.abs(c-this.getX())<=o){const f=Math.abs(o-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(o,l,c){const f=(this.getX()+l)/2,g=(this.getY()+o)/2,m=(this.estimatedModuleSize+c)/2;return new Rp(f,g,m)}}class xd{constructor(o,l,c,f,g,m,x){this.image=o,this.startX=l,this.startY=c,this.width=f,this.height=g,this.moduleSize=m,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,l=this.height,c=this.width,f=o+c,g=this.startY+l/2,m=new Int32Array(3),x=this.image;for(let E=0;E<l;E++){const S=g+(E&1?-Math.floor((E+1)/2):Math.floor((E+1)/2));m[0]=0,m[1]=0,m[2]=0;let P=o;for(;P<f&&!x.get(P,S);)P++;let R=0;for(;P<f;){if(x.get(P,S))if(R===1)m[1]++;else if(R===2){if(this.foundPatternCross(m)){const B=this.handlePossibleCenter(m,S,P);if(B!==null)return B}m[0]=m[2],m[1]=1,m[2]=0,R=1}else m[++R]++;else R===1&&R++,m[R]++;P++}if(this.foundPatternCross(m)){const B=this.handlePossibleCenter(m,S,f);if(B!==null)return B}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(o,l){return l-o[2]-o[1]/2}foundPatternCross(o){const l=this.moduleSize,c=l/2;for(let f=0;f<3;f++)if(Math.abs(l-o[f])>=c)return!1;return!0}crossCheckVertical(o,l,c,f){const g=this.image,m=g.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let E=o;for(;E>=0&&g.get(l,E)&&x[1]<=c;)x[1]++,E--;if(E<0||x[1]>c)return NaN;for(;E>=0&&!g.get(l,E)&&x[0]<=c;)x[0]++,E--;if(x[0]>c)return NaN;for(E=o+1;E<m&&g.get(l,E)&&x[1]<=c;)x[1]++,E++;if(E===m||x[1]>c)return NaN;for(;E<m&&!g.get(l,E)&&x[2]<=c;)x[2]++,E++;if(x[2]>c)return NaN;const S=x[0]+x[1]+x[2];return 5*Math.abs(S-f)>=2*f?NaN:this.foundPatternCross(x)?xd.centerFromEnd(x,E):NaN}handlePossibleCenter(o,l,c){const f=o[0]+o[1]+o[2],g=xd.centerFromEnd(o,c),m=this.crossCheckVertical(l,g,2*o[1],f);if(!isNaN(m)){const x=(o[0]+o[1]+o[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(x,m,g))return S.combineEstimate(m,g,x);const E=new Rp(g,m,x);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Mp extends me{constructor(o,l,c,f){super(o,l),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,l,c){if(Math.abs(l-this.getY())<=o&&Math.abs(c-this.getX())<=o){const f=Math.abs(o-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(o,l,c){const f=this.count+1,g=(this.count*this.getX()+l)/f,m=(this.count*this.getY()+o)/f,x=(this.count*this.estimatedModuleSize+c)/f;return new Mp(g,m,x,f)}}class mk{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class fr{constructor(o,l){this.image=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const l=o!=null&&o.get(j.TRY_HARDER)!==void 0,c=o!=null&&o.get(j.PURE_BARCODE)!==void 0,f=this.image,g=f.getHeight(),m=f.getWidth();let x=Math.floor(3*g/(4*fr.MAX_MODULES));(x<fr.MIN_SKIP||l)&&(x=fr.MIN_SKIP);let E=!1;const S=new Int32Array(5);for(let R=x-1;R<g&&!E;R+=x){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let B=0;for(let $=0;$<m;$++)if(f.get($,R))(B&1)===1&&B++,S[B]++;else if(B&1)S[B]++;else if(B===4)if(fr.foundPatternCross(S)){if(this.handlePossibleCenter(S,R,$,c)===!0)if(x=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>S[2]&&(R+=G-S[2]-x,$=m-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,B=3;continue}B=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,B=3;else S[++B]++;fr.foundPatternCross(S)&&this.handlePossibleCenter(S,R,m,c)===!0&&(x=S[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return me.orderBestPatterns(P),new mk(P)}static centerFromEnd(o,l){return l-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let l=0;for(let g=0;g<5;g++){const m=o[g];if(m===0)return!1;l+=m}if(l<7)return!1;const c=l/7,f=c/2;return Math.abs(c-o[0])<f&&Math.abs(c-o[1])<f&&Math.abs(3*c-o[2])<3*f&&Math.abs(c-o[3])<f&&Math.abs(c-o[4])<f}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,l,c,f){const g=this.getCrossCheckStateCount();let m=0;const x=this.image;for(;o>=m&&l>=m&&x.get(l-m,o-m);)g[2]++,m++;if(o<m||l<m)return!1;for(;o>=m&&l>=m&&!x.get(l-m,o-m)&&g[1]<=c;)g[1]++,m++;if(o<m||l<m||g[1]>c)return!1;for(;o>=m&&l>=m&&x.get(l-m,o-m)&&g[0]<=c;)g[0]++,m++;if(g[0]>c)return!1;const E=x.getHeight(),S=x.getWidth();for(m=1;o+m<E&&l+m<S&&x.get(l+m,o+m);)g[2]++,m++;if(o+m>=E||l+m>=S)return!1;for(;o+m<E&&l+m<S&&!x.get(l+m,o+m)&&g[3]<c;)g[3]++,m++;if(o+m>=E||l+m>=S||g[3]>=c)return!1;for(;o+m<E&&l+m<S&&x.get(l+m,o+m)&&g[4]<c;)g[4]++,m++;if(g[4]>=c)return!1;const P=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(P-f)<2*f&&fr.foundPatternCross(g)}crossCheckVertical(o,l,c,f){const g=this.image,m=g.getHeight(),x=this.getCrossCheckStateCount();let E=o;for(;E>=0&&g.get(l,E);)x[2]++,E--;if(E<0)return NaN;for(;E>=0&&!g.get(l,E)&&x[1]<=c;)x[1]++,E--;if(E<0||x[1]>c)return NaN;for(;E>=0&&g.get(l,E)&&x[0]<=c;)x[0]++,E--;if(x[0]>c)return NaN;for(E=o+1;E<m&&g.get(l,E);)x[2]++,E++;if(E===m)return NaN;for(;E<m&&!g.get(l,E)&&x[3]<c;)x[3]++,E++;if(E===m||x[3]>=c)return NaN;for(;E<m&&g.get(l,E)&&x[4]<c;)x[4]++,E++;if(x[4]>=c)return NaN;const S=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(S-f)>=2*f?NaN:fr.foundPatternCross(x)?fr.centerFromEnd(x,E):NaN}crossCheckHorizontal(o,l,c,f){const g=this.image,m=g.getWidth(),x=this.getCrossCheckStateCount();let E=o;for(;E>=0&&g.get(E,l);)x[2]++,E--;if(E<0)return NaN;for(;E>=0&&!g.get(E,l)&&x[1]<=c;)x[1]++,E--;if(E<0||x[1]>c)return NaN;for(;E>=0&&g.get(E,l)&&x[0]<=c;)x[0]++,E--;if(x[0]>c)return NaN;for(E=o+1;E<m&&g.get(E,l);)x[2]++,E++;if(E===m)return NaN;for(;E<m&&!g.get(E,l)&&x[3]<c;)x[3]++,E++;if(E===m||x[3]>=c)return NaN;for(;E<m&&g.get(E,l)&&x[4]<c;)x[4]++,E++;if(x[4]>=c)return NaN;const S=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(S-f)>=f?NaN:fr.foundPatternCross(x)?fr.centerFromEnd(x,E):NaN}handlePossibleCenter(o,l,c,f){const g=o[0]+o[1]+o[2]+o[3]+o[4];let m=fr.centerFromEnd(o,c),x=this.crossCheckVertical(l,Math.floor(m),o[2],g);if(!isNaN(x)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(x),o[2],g),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(m),o[2],g)))){const E=g/7;let S=!1;const P=this.possibleCenters;for(let R=0,B=P.length;R<B;R++){const $=P[R];if($.aboutEquals(E,x,m)){P[R]=$.combineEstimate(x,m,E),S=!0;break}}if(!S){const R=new Mp(m,x,E);P.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=fr.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,l=0;const c=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=fr.CENTER_QUORUM&&(o++,l+=m.getEstimatedModuleSize());if(o<3)return!1;const f=l/c;let g=0;for(const m of this.possibleCenters)g+=Math.abs(m.getEstimatedModuleSize()-f);return g<=.05*l}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new H;const l=this.possibleCenters;let c;if(o>3){let f=0,g=0;for(const E of this.possibleCenters){const S=E.getEstimatedModuleSize();f+=S,g+=S*S}c=f/o;let m=Math.sqrt(g/o-c*c);l.sort((E,S)=>{const P=Math.abs(S.getEstimatedModuleSize()-c),R=Math.abs(E.getEstimatedModuleSize()-c);return P<R?-1:P>R?1:0});const x=Math.max(.2*c,m);for(let E=0;E<l.length&&l.length>3;E++){const S=l[E];Math.abs(S.getEstimatedModuleSize()-c)>x&&(l.splice(E,1),E--)}}if(l.length>3){let f=0;for(const g of l)f+=g.getEstimatedModuleSize();c=f/l.length,l.sort((g,m)=>{if(m.getCount()===g.getCount()){const x=Math.abs(m.getEstimatedModuleSize()-c),E=Math.abs(g.getEstimatedModuleSize()-c);return x<E?1:x>E?-1:0}else return m.getCount()-g.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}fr.CENTER_QUORUM=2,fr.MIN_SKIP=3,fr.MAX_MODULES=57;class Ql{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(j.NEED_RESULT_POINT_CALLBACK);const c=new fr(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(c)}processFinderPatternInfo(o){const l=o.getTopLeft(),c=o.getTopRight(),f=o.getBottomLeft(),g=this.calculateModuleSize(l,c,f);if(g<1)throw new H("No pattern found in proccess finder.");const m=Ql.computeDimension(l,c,f,g),x=Pe.getProvisionalVersionForDimension(m),E=x.getDimensionForVersion()-7;let S=null;if(x.getAlignmentPatternCenters().length>0){const $=c.getX()-l.getX()+f.getX(),W=c.getY()-l.getY()+f.getY(),G=1-3/E,V=Math.floor(l.getX()+G*($-l.getX())),Z=Math.floor(l.getY()+G*(W-l.getY()));for(let ue=4;ue<=16;ue<<=1)try{S=this.findAlignmentInRegion(g,V,Z,ue);break}catch(ce){if(!(ce instanceof H))throw ce}}const P=Ql.createTransform(l,c,f,S,m),R=Ql.sampleGrid(this.image,P,m);let B;return S===null?B=[f,l,c]:B=[f,l,c,S],new Hi(R,B)}static createTransform(o,l,c,f,g){const m=g-3.5;let x,E,S,P;return f!==null?(x=f.getX(),E=f.getY(),S=m-3,P=S):(x=l.getX()-o.getX()+c.getX(),E=l.getY()-o.getY()+c.getY(),S=m,P=m),fi.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,S,P,3.5,m,o.getX(),o.getY(),l.getX(),l.getY(),x,E,c.getX(),c.getY())}static sampleGrid(o,l,c){return Aa.getInstance().sampleGridWithTransform(o,c,c,l)}static computeDimension(o,l,c,f){const g=Oe.round(me.distance(o,l)/f),m=Oe.round(me.distance(o,c)/f);let x=Math.floor((g+m)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new H("Dimensions could be not found.")}return x}calculateModuleSize(o,l,c){return(this.calculateModuleSizeOneWay(o,l)+this.calculateModuleSizeOneWay(o,c))/2}calculateModuleSizeOneWay(o,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(l.getX()),Math.floor(l.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(o,l,c,f){let g=this.sizeOfBlackWhiteBlackRun(o,l,c,f),m=1,x=o-(c-o);x<0?(m=o/(o-x),x=0):x>=this.image.getWidth()&&(m=(this.image.getWidth()-1-o)/(x-o),x=this.image.getWidth()-1);let E=Math.floor(l-(f-l)*m);return m=1,E<0?(m=l/(l-E),E=0):E>=this.image.getHeight()&&(m=(this.image.getHeight()-1-l)/(E-l),E=this.image.getHeight()-1),x=Math.floor(o+(x-o)*m),g+=this.sizeOfBlackWhiteBlackRun(o,l,x,E),g-1}sizeOfBlackWhiteBlackRun(o,l,c,f){const g=Math.abs(f-l)>Math.abs(c-o);if(g){let $=o;o=l,l=$,$=c,c=f,f=$}const m=Math.abs(c-o),x=Math.abs(f-l);let E=-m/2;const S=o<c?1:-1,P=l<f?1:-1;let R=0;const B=c+S;for(let $=o,W=l;$!==B;$+=S){const G=g?W:$,V=g?$:W;if(R===1===this.image.get(G,V)){if(R===2)return Oe.distance($,W,o,l);R++}if(E+=x,E>0){if(W===f)break;W+=P,E-=m}}return R===2?Oe.distance(c+S,f,o,l):NaN}findAlignmentInRegion(o,l,c,f){const g=Math.floor(f*o),m=Math.max(0,l-g),x=Math.min(this.image.getWidth()-1,l+g);if(x-m<o*3)throw new H("Alignment top exceeds estimated module size.");const E=Math.max(0,c-g),S=Math.min(this.image.getHeight()-1,c+g);if(S-E<o*3)throw new H("Alignment bottom exceeds estimated module size.");return new xd(this.image,m,E,x-m,S-E,o,this.resultPointCallback).find()}}class Oa{constructor(){this.decoder=new gk}getDecoder(){return this.decoder}decode(o,l){let c,f;if(l!=null&&l.get(j.PURE_BARCODE)!==void 0){const E=Oa.extractPureBits(o.getBlackMatrix());c=this.decoder.decodeBitMatrix(E,l),f=Oa.NO_POINTS}else{const E=new Ql(o.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(E.getBits(),l),f=E.getPoints()}c.getOther()instanceof ib&&c.getOther().applyMirroredCorrection(f);const g=new $e(c.getText(),c.getRawBytes(),void 0,f,xe.QR_CODE,void 0),m=c.getByteSegments();m!==null&&g.putMetadata(ht.BYTE_SEGMENTS,m);const x=c.getECLevel();return x!==null&&g.putMetadata(ht.ERROR_CORRECTION_LEVEL,x),c.hasStructuredAppend()&&(g.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),g.putMetadata(ht.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),g}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(l===null||c===null)throw new H;const f=this.moduleSize(l,o);let g=l[1],m=c[1],x=l[0],E=c[0];if(x>=E||g>=m)throw new H;if(m-g!==E-x&&(E=x+(m-g),E>=o.getWidth()))throw new H;const S=Math.round((E-x+1)/f),P=Math.round((m-g+1)/f);if(S<=0||P<=0)throw new H;if(P!==S)throw new H;const R=Math.floor(f/2);g+=R,x+=R;const B=x+Math.floor((S-1)*f)-E;if(B>0){if(B>R)throw new H;x-=B}const $=g+Math.floor((P-1)*f)-m;if($>0){if($>R)throw new H;g-=$}const W=new de(S,P);for(let G=0;G<P;G++){const V=g+Math.floor(G*f);for(let Z=0;Z<S;Z++)o.get(x+Math.floor(Z*f),V)&&W.set(Z,G)}return W}static moduleSize(o,l){const c=l.getHeight(),f=l.getWidth();let g=o[0],m=o[1],x=!0,E=0;for(;g<f&&m<c;){if(x!==l.get(g,m)){if(++E===5)break;x=!x}g++,m++}if(g===f||m===c)throw new H;return(g-o[0])/7}}Oa.NO_POINTS=new Array;class Fe{PDF417Common(){}static getBitCountSum(o){return Oe.sum(o)}static toIntArray(o){if(o==null||!o.length)return Fe.EMPTY_INT_ARRAY;const l=new Int32Array(o.length);let c=0;for(const f of o)l[c++]=f;return l}static getCodeword(o){const l=I.binarySearch(Fe.SYMBOL_TABLE,o&262143);return l<0?-1:(Fe.CODEWORD_TABLE[l]-1)%Fe.NUMBER_OF_CODEWORDS}}Fe.NUMBER_OF_CODEWORDS=929,Fe.MAX_CODEWORDS_IN_BARCODE=Fe.NUMBER_OF_CODEWORDS-1,Fe.MIN_ROWS_IN_BARCODE=3,Fe.MAX_ROWS_IN_BARCODE=90,Fe.MODULES_IN_CODEWORD=17,Fe.MODULES_IN_STOP_PATTERN=18,Fe.BARS_IN_MODULE=8,Fe.EMPTY_INT_ARRAY=new Int32Array([]),Fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vk{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(o,l,c){let f=o.getBlackMatrix(),g=He.detect(c,f);return g.length||(f=f.clone(),f.rotate180(),g=He.detect(c,f)),new vk(f,g)}static detect(o,l){const c=new Array;let f=0,g=0,m=!1;for(;f<l.getHeight();){const x=He.findVertices(l,f,g);if(x[0]==null&&x[3]==null){if(!m)break;m=!1,g=0;for(const E of c)E[1]!=null&&(f=Math.trunc(Math.max(f,E[1].getY()))),E[3]!=null&&(f=Math.max(f,Math.trunc(E[3].getY())));f+=He.ROW_STEP;continue}if(m=!0,c.push(x),!o)break;x[2]!=null?(g=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(g=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return c}static findVertices(o,l,c){const f=o.getHeight(),g=o.getWidth(),m=new Array(8);return He.copyToResult(m,He.findRowsWithPattern(o,f,g,l,c,He.START_PATTERN),He.INDEXES_START_PATTERN),m[4]!=null&&(c=Math.trunc(m[4].getX()),l=Math.trunc(m[4].getY())),He.copyToResult(m,He.findRowsWithPattern(o,f,g,l,c,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),m}static copyToResult(o,l,c){for(let f=0;f<c.length;f++)o[c[f]]=l[f]}static findRowsWithPattern(o,l,c,f,g,m){const x=new Array(4);let E=!1;const S=new Int32Array(m.length);for(;f<l;f+=He.ROW_STEP){let R=He.findGuardPattern(o,g,f,c,!1,m,S);if(R!=null){for(;f>0;){const B=He.findGuardPattern(o,g,--f,c,!1,m,S);if(B!=null)R=B;else{f++;break}}x[0]=new me(R[0],f),x[1]=new me(R[1],f),E=!0;break}}let P=f+1;if(E){let R=0,B=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;P<l;P++){const $=He.findGuardPattern(o,B[0],P,c,!1,m,S);if($!=null&&Math.abs(B[0]-$[0])<He.MAX_PATTERN_DRIFT&&Math.abs(B[1]-$[1])<He.MAX_PATTERN_DRIFT)B=$,R=0;else{if(R>He.SKIPPED_ROW_COUNT_MAX)break;R++}}P-=R+1,x[2]=new me(B[0],P),x[3]=new me(B[1],P)}return P-f<He.BARCODE_MIN_HEIGHT&&I.fill(x,null),x}static findGuardPattern(o,l,c,f,g,m,x){I.fillWithin(x,0,x.length,0);let E=l,S=0;for(;o.get(E,c)&&E>0&&S++<He.MAX_PIXEL_DRIFT;)E--;let P=E,R=0,B=m.length;for(let $=g;P<f;P++)if(o.get(P,c)!==$)x[R]++;else{if(R===B-1){if(He.patternMatchVariance(x,m,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([E,P]);E+=x[0]+x[1],C.arraycopy(x,2,x,0,R-1),x[R-1]=0,x[R]=0,R--}else R++;x[R]=1,$=!$}return R===B-1&&He.patternMatchVariance(x,m,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([E,P-1]):null}static patternMatchVariance(o,l,c){let f=o.length,g=0,m=0;for(let S=0;S<f;S++)g+=o[S],m+=l[S];if(g<m)return 1/0;let x=g/m;c*=x;let E=0;for(let S=0;S<f;S++){let P=o[S],R=l[S]*x,B=P>R?P-R:R-P;if(B>c)return 1/0;E+=B}return E/g}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Ar{constructor(o,l){if(l.length===0)throw new v;this.field=o;let c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let f=0;for(let g of this.coefficients)f=this.field.add(f,g);return f}let l=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)l=this.field.add(this.field.multiply(o,l),this.coefficients[f]);return l}add(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,c=o.coefficients;if(l.length>c.length){let m=l;l=c,c=m}let f=new Int32Array(c.length),g=c.length-l.length;C.arraycopy(c,0,f,0,g);for(let m=g;m<c.length;m++)f[m]=this.field.add(l[m-g],c[m]);return new Ar(this.field,f)}subtract(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Ar?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Ar(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,f=o.coefficients,g=f.length,m=new Int32Array(c+g-1);for(let x=0;x<c;x++){let E=l[x];for(let S=0;S<g;S++)m[x+S]=this.field.add(m[x+S],this.field.multiply(E,f[S]))}return new Ar(this.field,m)}negative(){let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new Ar(this.field,l)}multiplyScalar(o){if(o===0)return new Ar(this.field,new Int32Array([0]));if(o===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let f=0;f<l;f++)c[f]=this.field.multiply(this.coefficients[f],o);return new Ar(this.field,c)}multiplyByMonomial(o,l){if(o<0)throw new v;if(l===0)return new Ar(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+o);for(let g=0;g<c;g++)f[g]=this.field.multiply(this.coefficients[g],l);return new Ar(this.field,f)}toString(){let o=new oe;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(o.append(" - "),c=-c):o.length()>0&&o.append(" + "),(l===0||c!==1)&&o.append(c),l!==0&&(l===1?o.append("x"):(o.append("x^"),o.append(l))))}return o.toString()}}class yk{add(o,l){return(o+l)%this.modulus}subtract(o,l){return(this.modulus+o-l)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}inverse(o){if(o===0)throw new ae;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class jp extends yk{constructor(o,l){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let c=1;for(let f=0;f<o;f++)this.expTable[f]=c,c=c*l%o;for(let f=0;f<o-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Ar(this,new Int32Array([0])),this.one=new Ar(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new v;if(l===0)return this.zero;let c=new Int32Array(o+1);return c[0]=l,new Ar(this,c)}}jp.PDF417_GF=new jp(Fe.NUMBER_OF_CODEWORDS,3);class ab{constructor(){this.field=jp.PDF417_GF}decode(o,l,c){let f=new Ar(this.field,o),g=new Int32Array(l),m=!1;for(let W=l;W>0;W--){let G=f.evaluateAt(this.field.exp(W));g[l-W]=G,G!==0&&(m=!0)}if(!m)return 0;let x=this.field.getOne();if(c!=null)for(const W of c){let G=this.field.exp(o.length-1-W),V=new Ar(this.field,new Int32Array([this.field.subtract(0,G),1]));x=x.multiply(V)}let E=new Ar(this.field,g),S=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),E,l),P=S[0],R=S[1],B=this.findErrorLocations(P),$=this.findErrorMagnitudes(R,P,B);for(let W=0;W<B.length;W++){let G=o.length-1-this.field.log(B[W]);if(G<0)throw w.getChecksumInstance();o[G]=this.field.subtract(o[G],$[W])}return B.length}runEuclideanAlgorithm(o,l,c){if(o.getDegree()<l.getDegree()){let B=o;o=l,l=B}let f=o,g=l,m=this.field.getZero(),x=this.field.getOne();for(;g.getDegree()>=Math.round(c/2);){let B=f,$=m;if(f=g,m=x,f.isZero())throw w.getChecksumInstance();g=B;let W=this.field.getZero(),G=f.getCoefficient(f.getDegree()),V=this.field.inverse(G);for(;g.getDegree()>=f.getDegree()&&!g.isZero();){let Z=g.getDegree()-f.getDegree(),ue=this.field.multiply(g.getCoefficient(g.getDegree()),V);W=W.add(this.field.buildMonomial(Z,ue)),g=g.subtract(f.multiplyByMonomial(Z,ue))}x=W.multiply(m).subtract($).negative()}let E=x.getCoefficient(0);if(E===0)throw w.getChecksumInstance();let S=this.field.inverse(E),P=x.multiply(S),R=g.multiply(S);return[P,R]}findErrorLocations(o){let l=o.getDegree(),c=new Int32Array(l),f=0;for(let g=1;g<this.field.getSize()&&f<l;g++)o.evaluateAt(g)===0&&(c[f]=this.field.inverse(g),f++);if(f!==l)throw w.getChecksumInstance();return c}findErrorMagnitudes(o,l,c){let f=l.getDegree(),g=new Int32Array(f);for(let S=1;S<=f;S++)g[f-S]=this.field.multiply(S,l.getCoefficient(S));let m=new Ar(this.field,g),x=c.length,E=new Int32Array(x);for(let S=0;S<x;S++){let P=this.field.inverse(c[S]),R=this.field.subtract(0,o.evaluateAt(P)),B=this.field.inverse(m.evaluateAt(P));E[S]=this.field.multiply(R,B)}return E}}class So{constructor(o,l,c,f,g){o instanceof So?this.constructor_2(o):this.constructor_1(o,l,c,f,g)}constructor_1(o,l,c,f,g){const m=l==null||c==null,x=f==null||g==null;if(m&&x)throw new H;m?(l=new me(0,f.getY()),c=new me(0,g.getY())):x&&(f=new me(o.getWidth()-1,l.getY()),g=new me(o.getWidth()-1,c.getY())),this.image=o,this.topLeft=l,this.bottomLeft=c,this.topRight=f,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),g.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,l){return o==null?l:l==null?o:new So(o.image,o.topLeft,o.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(o,l,c){let f=this.topLeft,g=this.bottomLeft,m=this.topRight,x=this.bottomRight;if(o>0){let E=c?this.topLeft:this.topRight,S=Math.trunc(E.getY()-o);S<0&&(S=0);let P=new me(E.getX(),S);c?f=P:m=P}if(l>0){let E=c?this.bottomLeft:this.bottomRight,S=Math.trunc(E.getY()+l);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let P=new me(E.getX(),S);c?g=P:x=P}return new So(this.image,f,g,m,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class xk{constructor(o,l,c,f){this.columnCount=o,this.errorCorrectionLevel=f,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Jl{constructor(){this.buffer=""}static form(o,l){let c=-1;function f(m,x,E,S,P,R){if(m==="%%")return"%";if(l[++c]===void 0)return;m=S?parseInt(S.substr(1)):void 0;let B=P?parseInt(P.substr(1)):void 0,$;switch(R){case"s":$=l[c];break;case"c":$=l[c][0];break;case"f":$=parseFloat(l[c]).toFixed(m);break;case"p":$=parseFloat(l[c]).toPrecision(m);break;case"e":$=parseFloat(l[c]).toExponential(m);break;case"x":$=parseInt(l[c]).toString(B||16);break;case"d":$=parseFloat(parseInt(l[c],B||10).toPrecision(m)).toFixed(0);break}$=typeof $=="object"?JSON.stringify($):(+$).toString(B);let W=parseInt(E),G=E&&E[0]+""=="0"?"0":" ";for(;$.length<W;)$=x!==void 0?$+G:G+$;return $}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(g,f)}format(o,...l){this.buffer+=Jl.form(o,l)}toString(){return this.buffer}}class eu{constructor(o){this.boundingBox=new So(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let l=this.getCodeword(o);if(l!=null)return l;for(let c=1;c<eu.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(o)-c;if(f>=0&&(l=this.codewords[f],l!=null)||(f=this.imageRowToCodewordIndex(o)+c,f<this.codewords.length&&(l=this.codewords[f],l!=null)))return l}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,l){this.codewords[this.imageRowToCodewordIndex(o)]=l}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Jl;let l=0;for(const c of this.codewords){if(c==null){o.format("%3d:    |   %n",l++);continue}o.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return o.toString()}}eu.MAX_NEARBY_DISTANCE=5;class tu{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let l=this.values.get(o);l==null&&(l=0),l++,this.values.set(o,l)}getValue(){let o=-1,l=new Array;for(const[c,f]of this.values.entries()){const g={getKey:()=>c,getValue:()=>f};g.getValue()>o?(o=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===o&&l.push(g.getKey())}return Fe.toIntArray(l)}getConfidence(o){return this.values.get(o)}}class ob extends eu{constructor(o,l){super(o),this._isLeft=l}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,o);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),g=this._isLeft?c.getBottomLeft():c.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=-1,S=1,P=0;for(let R=m;R<x;R++){if(l[R]==null)continue;let B=l[R],$=B.getRowNumber()-E;if($===0)P++;else if($===1)S=Math.max(S,P),P=1,E=B.getRowNumber();else if($<0||B.getRowNumber()>=o.getRowCount()||$>R)l[R]=null;else{let W;S>2?W=(S-2)*$:W=$;let G=W>=R;for(let V=1;V<=W&&!G;V++)G=l[R-V]!=null;G?l[R]=null:(E=B.getRowNumber(),P=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let l=new Int32Array(o.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=l.length)continue;l[f]++}return l}adjustIncompleteIndicatorColumnRowNumbers(o){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),E=-1;for(let S=g;S<m;S++){if(x[S]==null)continue;let P=x[S];P.setRowNumberAsRowIndicatorColumn();let R=P.getRowNumber()-E;R===0||(R===1?E=P.getRowNumber():P.getRowNumber()>=o.getRowCount()?x[S]=null:E=P.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),l=new tu,c=new tu,f=new tu,g=new tu;for(let x of o){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let E=x.getValue()%30,S=x.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:c.setValue(E*3+1);break;case 1:g.setValue(E/3),f.setValue(E%3);break;case 2:l.setValue(E+1);break}}if(l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||g.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<Fe.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>Fe.MAX_ROWS_IN_BARCODE)return null;let m=new xk(l.getValue()[0],c.getValue()[0],f.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(o,m),m}removeIncorrectCodewords(o,l){for(let c=0;c<o.length;c++){let f=o[c];if(o[c]==null)continue;let g=f.getValue()%30,m=f.getRowNumber();if(m>l.getRowCount()){o[c]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:g*3+1!==l.getRowCountUpperPart()&&(o[c]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(o[c]=null);break;case 2:g+1!==l.getColumnCount()&&(o[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ru{constructor(o,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Fe.MAX_CODEWORDS_IN_BARCODE,l;do l=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(l,f,c))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++)if(o[c]!=null&&l[c]!=null&&o[c].getRowNumber()===l[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let g=this.detectionResultColumns[f].getCodewords()[c];g!=null&&(g.setRowNumber(o[c].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),g=0;for(let m=this.barcodeColumnCount+1;m>0&&g<this.ADJUST_ROW_NUMBER_SKIP;m--){let x=this.detectionResultColumns[m].getCodewords()[c];x!=null&&(g=ru.adjustRowNumberIfValid(f,g,x),x.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),g=0;for(let m=1;m<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;m++){let x=this.detectionResultColumns[m].getCodewords()[c];x!=null&&(g=ru.adjustRowNumberIfValid(f,g,x),x.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(o)?(c.setRowNumber(o),l=0):++l),l}adjustRowNumbers(o,l,c){if(!this.detectionResultColumns[o-1])return;let f=c[l],g=this.detectionResultColumns[o-1].getCodewords(),m=g;this.detectionResultColumns[o+1]!=null&&(m=this.detectionResultColumns[o+1].getCodewords());let x=new Array(14);x[2]=g[l],x[3]=m[l],l>0&&(x[0]=c[l-1],x[4]=g[l-1],x[5]=m[l-1]),l>1&&(x[8]=c[l-2],x[10]=g[l-2],x[11]=m[l-2]),l<c.length-1&&(x[1]=c[l+1],x[6]=g[l+1],x[7]=m[l+1]),l<c.length-2&&(x[9]=c[l+2],x[12]=g[l+2],x[13]=m[l+2]);for(let E of x)if(ru.adjustRowNumber(f,E))return}static adjustRowNumber(o,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===o.getBucket()?(o.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,l){this.detectionResultColumns[o]=l}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Jl;for(let c=0;c<o.getCodewords().length;c++){l.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){l.format("    |   ");continue}let g=this.detectionResultColumns[f].getCodewords()[c];if(g==null){l.format("    |   ");continue}l.format(" %3d|%3d",g.getRowNumber(),g.getValue())}l.format("%n")}return l.toString()}}class nu{constructor(o,l,c,f){this.rowNumber=nu.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==nu.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}nu.BARCODE_ROW_UNKNOWN=-1;class an{static initialize(){for(let o=0;o<Fe.SYMBOL_TABLE.length;o++){let l=Fe.SYMBOL_TABLE[o],c=l&1;for(let f=0;f<Fe.BARS_IN_MODULE;f++){let g=0;for(;(l&1)===c;)g+=1,l>>=1;c=l&1,an.RATIOS_TABLE[o]||(an.RATIOS_TABLE[o]=new Array(Fe.BARS_IN_MODULE)),an.RATIOS_TABLE[o][Fe.BARS_IN_MODULE-f-1]=Math.fround(g/Fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let l=an.getDecodedCodewordValue(an.sampleBitCounts(o));return l!==-1?l:an.getClosestDecodedValue(o)}static sampleBitCounts(o){let l=Oe.sum(o),c=new Int32Array(Fe.BARS_IN_MODULE),f=0,g=0;for(let m=0;m<Fe.MODULES_IN_CODEWORD;m++){let x=l/(2*Fe.MODULES_IN_CODEWORD)+m*l/Fe.MODULES_IN_CODEWORD;g+o[f]<=x&&(g+=o[f],f++),c[f]++}return c}static getDecodedCodewordValue(o){let l=an.getBitValue(o);return Fe.getCodeword(l)===-1?-1:l}static getBitValue(o){let l=0;for(let c=0;c<o.length;c++)for(let f=0;f<o[c];f++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(o){let l=Oe.sum(o),c=new Array(Fe.BARS_IN_MODULE);if(l>1)for(let m=0;m<c.length;m++)c[m]=Math.fround(o[m]/l);let f=Rt.MAX_VALUE,g=-1;this.bSymbolTableReady||an.initialize();for(let m=0;m<an.RATIOS_TABLE.length;m++){let x=0,E=an.RATIOS_TABLE[m];for(let S=0;S<Fe.BARS_IN_MODULE;S++){let P=Math.fround(E[S]-c[S]);if(x+=Math.fround(P*P),x>=f)break}x<f&&(f=x,g=Fe.SYMBOL_TABLE[m])}return g}}an.bSymbolTableReady=!1,an.RATIOS_TABLE=new Array(Fe.SYMBOL_TABLE.length).map(k=>new Array(Fe.BARS_IN_MODULE));class sb{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class lb{static parseLong(o,l=void 0){return parseInt(o,l)}}class ub extends h{}ub.kind="NullPointerException";class wk{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,l,c){if(o==null)throw new ub;if(l<0||l>o.length||c<0||l+c>o.length||l+c<0)throw new O;if(c===0)return;for(let f=0;f<c;f++)this.write(o[l+f])}flush(){}close(){}}class bk extends h{}class Ek extends wk{constructor(o=32){if(super(),this.count=0,o<0)throw new v("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let c=this.buf.length<<1;if(c-o<0&&(c=o),c<0){if(o<0)throw new bk;c=T.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,c)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,l,c){if(l<0||l>o.length||c<0||l+c-o.length>0)throw new O;this.ensureCapacity(this.count+c),C.arraycopy(o,l,this.buf,this.count,c),this.count+=c}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var pt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pt||(pt={}));function cb(){if(typeof window<"u")return window.BigInt||null;if(typeof Nr<"u")return Nr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let wd;function Ia(k){if(typeof wd>"u"&&(wd=cb()),wd===null)throw new Error("BigInt is not supported!");return wd(k)}function Ak(){let k=[];k[0]=Ia(1);let o=Ia(900);k[1]=o;for(let l=2;l<16;l++)k[l]=k[l-1]*o;return k}class Y{static decode(o,l){let c=new oe(""),f=U.ISO8859_1;c.enableDecoding(f);let g=1,m=o[g++],x=new sb;for(;g<o[0];){switch(m){case Y.TEXT_COMPACTION_MODE_LATCH:g=Y.textCompaction(o,g,c);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:g=Y.byteCompaction(m,o,f,g,c);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:g=Y.numericCompaction(o,g,c);break;case Y.ECI_CHARSET:U.getCharacterSetECIByValue(o[g++]);break;case Y.ECI_GENERAL_PURPOSE:g+=2;break;case Y.ECI_USER_DEFINED:g++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=Y.decodeMacroBlock(o,g,x);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new L;default:g--,g=Y.textCompaction(o,g,c);break}if(g<o.length)m=o[g++];else throw L.getFormatInstance()}if(c.length()===0)throw L.getFormatInstance();let E=new ye(null,c.toString(),null,l);return E.setOther(x),E}static decodeMacroBlock(o,l,c){if(l+Y.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw L.getFormatInstance();let f=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Y.NUMBER_OF_SEQUENCE_CODEWORDS;x++,l++)f[x]=o[l];c.setSegmentIndex(T.parseInt(Y.decodeBase900toBase10(f,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new oe;l=Y.textCompaction(o,l,g),c.setFileId(g.toString());let m=-1;for(o[l]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=l+1);l<o[0];)switch(o[l]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,o[l]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new oe;l=Y.textCompaction(o,l+1,x),c.setFileName(x.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new oe;l=Y.textCompaction(o,l+1,E),c.setSender(E.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new oe;l=Y.textCompaction(o,l+1,S),c.setAddressee(S.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new oe;l=Y.numericCompaction(o,l+1,P),c.setSegmentCount(T.parseInt(P.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new oe;l=Y.numericCompaction(o,l+1,R),c.setTimestamp(lb.parseLong(R.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let B=new oe;l=Y.numericCompaction(o,l+1,B),c.setChecksum(T.parseInt(B.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let $=new oe;l=Y.numericCompaction(o,l+1,$),c.setFileSize(lb.parseLong($.toString()));break;default:throw L.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(m!==-1){let x=l-m;c.isLastSegment()&&x--,c.setOptionalData(I.copyOfRange(o,m,m+x))}return l}static textCompaction(o,l,c){let f=new Int32Array((o[0]-l)*2),g=new Int32Array((o[0]-l)*2),m=0,x=!1;for(;l<o[0]&&!x;){let E=o[l++];if(E<Y.TEXT_COMPACTION_MODE_LATCH)f[m]=E/30,f[m+1]=E%30,m+=2;else switch(E){case Y.TEXT_COMPACTION_MODE_LATCH:f[m++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:l--,x=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=o[l++],g[m]=E,m++;break}}return Y.decodeTextCompaction(f,g,m,c),l}static decodeTextCompaction(o,l,c,f){let g=pt.ALPHA,m=pt.ALPHA,x=0;for(;x<c;){let E=o[x],S="";switch(g){case pt.ALPHA:if(E<26)S=String.fromCharCode(65+E);else switch(E){case 26:S=" ";break;case Y.LL:g=pt.LOWER;break;case Y.ML:g=pt.MIXED;break;case Y.PS:m=g,g=pt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:g=pt.ALPHA;break}break;case pt.LOWER:if(E<26)S=String.fromCharCode(97+E);else switch(E){case 26:S=" ";break;case Y.AS:m=g,g=pt.ALPHA_SHIFT;break;case Y.ML:g=pt.MIXED;break;case Y.PS:m=g,g=pt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:g=pt.ALPHA;break}break;case pt.MIXED:if(E<Y.PL)S=Y.MIXED_CHARS[E];else switch(E){case Y.PL:g=pt.PUNCT;break;case 26:S=" ";break;case Y.LL:g=pt.LOWER;break;case Y.AL:g=pt.ALPHA;break;case Y.PS:m=g,g=pt.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:g=pt.ALPHA;break}break;case pt.PUNCT:if(E<Y.PAL)S=Y.PUNCT_CHARS[E];else switch(E){case Y.PAL:g=pt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:g=pt.ALPHA;break}break;case pt.ALPHA_SHIFT:if(g=m,E<26)S=String.fromCharCode(65+E);else switch(E){case 26:S=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:g=pt.ALPHA;break}break;case pt.PUNCT_SHIFT:if(g=m,E<Y.PAL)S=Y.PUNCT_CHARS[E];else switch(E){case Y.PAL:g=pt.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[x]);break;case Y.TEXT_COMPACTION_MODE_LATCH:g=pt.ALPHA;break}break}S!==""&&f.append(S),x++}}static byteCompaction(o,l,c,f,g){let m=new Ek,x=0,E=0,S=!1;switch(o){case Y.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),R=l[f++];for(;f<l[0]&&!S;)switch(P[x++]=R,E=900*E+R,R=l[f++],R){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:f--,S=!0;break;default:if(x%5===0&&x>0){for(let B=0;B<6;++B)m.write(Number(Ia(E)>>Ia(8*(5-B))));E=0,x=0}break}f===l[0]&&R<Y.TEXT_COMPACTION_MODE_LATCH&&(P[x++]=R);for(let B=0;B<x;B++)m.write(P[B]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;f<l[0]&&!S;){let B=l[f++];if(B<Y.TEXT_COMPACTION_MODE_LATCH)x++,E=900*E+B;else switch(B){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:f--,S=!0;break}if(x%5===0&&x>0){for(let $=0;$<6;++$)m.write(Number(Ia(E)>>Ia(8*(5-$))));E=0,x=0}}break}return g.append(X.decode(m.toByteArray(),c)),f}static numericCompaction(o,l,c){let f=0,g=!1,m=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;l<o[0]&&!g;){let x=o[l++];if(l===o[0]&&(g=!0),x<Y.TEXT_COMPACTION_MODE_LATCH)m[f]=x,f++;else switch(x){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:l--,g=!0;break}(f%Y.MAX_NUMERIC_CODEWORDS===0||x===Y.NUMERIC_COMPACTION_MODE_LATCH||g)&&f>0&&(c.append(Y.decodeBase900toBase10(m,f)),f=0)}return l}static decodeBase900toBase10(o,l){let c=Ia(0);for(let g=0;g<l;g++)c+=Y.EXP900[l-g-1]*Ia(o[g]);let f=c.toString();if(f.charAt(0)!=="1")throw new L;return f.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=cb()?Ak():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ke{constructor(){}static decode(o,l,c,f,g,m,x){let E=new So(o,l,c,f,g),S=null,P=null,R;for(let W=!0;;W=!1){if(l!=null&&(S=Ke.getRowIndicatorColumn(o,E,l,!0,m,x)),f!=null&&(P=Ke.getRowIndicatorColumn(o,E,f,!1,m,x)),R=Ke.merge(S,P),R==null)throw H.getNotFoundInstance();let G=R.getBoundingBox();if(W&&G!=null&&(G.getMinY()<E.getMinY()||G.getMaxY()>E.getMaxY()))E=G;else break}R.setBoundingBox(E);let B=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,S),R.setDetectionResultColumn(B,P);let $=S!=null;for(let W=1;W<=B;W++){let G=$?W:B-W;if(R.getDetectionResultColumn(G)!==void 0)continue;let V;G===0||G===B?V=new ob(E,G===0):V=new eu(E),R.setDetectionResultColumn(G,V);let Z=-1,ue=Z;for(let ce=E.getMinY();ce<=E.getMaxY();ce++){if(Z=Ke.getStartColumn(R,G,ce,$),Z<0||Z>E.getMaxX()){if(ue===-1)continue;Z=ue}let se=Ke.detectCodeword(o,E.getMinX(),E.getMaxX(),$,Z,ce,m,x);se!=null&&(V.setCodeword(ce,se),ue=Z,m=Math.min(m,se.getWidth()),x=Math.max(x,se.getWidth()))}}return Ke.createDecoderResult(R)}static merge(o,l){if(o==null&&l==null)return null;let c=Ke.getBarcodeMetadata(o,l);if(c==null)return null;let f=So.merge(Ke.adjustBoundingBox(o),Ke.adjustBoundingBox(l));return new ru(c,f)}static adjustBoundingBox(o){if(o==null)return null;let l=o.getRowHeights();if(l==null)return null;let c=Ke.getMax(l),f=0;for(let x of l)if(f+=c-x,x>0)break;let g=o.getCodewords();for(let x=0;f>0&&g[x]==null;x++)f--;let m=0;for(let x=l.length-1;x>=0&&(m+=c-l[x],!(l[x]>0));x--);for(let x=g.length-1;m>0&&g[x]==null;x--)m--;return o.getBoundingBox().addMissingRows(f,m,o.isLeft())}static getMax(o){let l=-1;for(let c of o)l=Math.max(l,c);return l}static getBarcodeMetadata(o,l){let c;if(o==null||(c=o.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let f;return l==null||(f=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(o,l,c,f,g,m){let x=new ob(l,f);for(let E=0;E<2;E++){let S=E===0?1:-1,P=Math.trunc(Math.trunc(c.getX()));for(let R=Math.trunc(Math.trunc(c.getY()));R<=l.getMaxY()&&R>=l.getMinY();R+=S){let B=Ke.detectCodeword(o,0,o.getWidth(),f,P,R,g,m);B!=null&&(x.setCodeword(R,B),f?P=B.getStartX():P=B.getEndX())}}return x}static adjustCodewordCount(o,l){let c=l[0][1],f=c.getValue(),g=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Ke.getNumberOfECCodeWords(o.getBarcodeECLevel());if(f.length===0){if(g<1||g>Fe.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();c.setValue(g)}else f[0]!==g&&c.setValue(g)}static createDecoderResult(o){let l=Ke.createBarcodeMatrix(o);Ke.adjustCodewordCount(o,l);let c=new Array,f=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),g=[],m=new Array;for(let E=0;E<o.getBarcodeRowCount();E++)for(let S=0;S<o.getBarcodeColumnCount();S++){let P=l[E][S+1].getValue(),R=E*o.getBarcodeColumnCount()+S;P.length===0?c.push(R):P.length===1?f[R]=P[0]:(m.push(R),g.push(P))}let x=new Array(g.length);for(let E=0;E<x.length;E++)x[E]=g[E];return Ke.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),f,Fe.toIntArray(c),Fe.toIntArray(m),x)}static createDecoderResultFromAmbiguousValues(o,l,c,f,g){let m=new Int32Array(f.length),x=100;for(;x-- >0;){for(let E=0;E<m.length;E++)l[f[E]]=g[E][m[E]];try{return Ke.decodeCodewords(l,o,c)}catch(E){if(!(E instanceof w))throw E}if(m.length===0)throw w.getChecksumInstance();for(let E=0;E<m.length;E++)if(m[E]<g[E].length-1){m[E]++;break}else if(m[E]=0,E===m.length-1)throw w.getChecksumInstance()}throw w.getChecksumInstance()}static createBarcodeMatrix(o){let l=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let f=0;f<l.length;f++)for(let g=0;g<l[f].length;g++)l[f][g]=new tu;let c=0;for(let f of o.getDetectionResultColumns()){if(f!=null){for(let g of f.getCodewords())if(g!=null){let m=g.getRowNumber();if(m>=0){if(m>=l.length)continue;l[m][c].setValue(g.getValue())}}}c++}return l}static isValidBarcodeColumn(o,l){return l>=0&&l<=o.getBarcodeColumnCount()+1}static getStartColumn(o,l,c,f){let g=f?1:-1,m=null;if(Ke.isValidBarcodeColumn(o,l-g)&&(m=o.getDetectionResultColumn(l-g).getCodeword(c)),m!=null)return f?m.getEndX():m.getStartX();if(m=o.getDetectionResultColumn(l).getCodewordNearby(c),m!=null)return f?m.getStartX():m.getEndX();if(Ke.isValidBarcodeColumn(o,l-g)&&(m=o.getDetectionResultColumn(l-g).getCodewordNearby(c)),m!=null)return f?m.getEndX():m.getStartX();let x=0;for(;Ke.isValidBarcodeColumn(o,l-g);){l-=g;for(let E of o.getDetectionResultColumn(l).getCodewords())if(E!=null)return(f?E.getEndX():E.getStartX())+g*x*(E.getEndX()-E.getStartX());x++}return f?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,l,c,f,g,m,x,E){g=Ke.adjustCodewordStartColumn(o,l,c,f,g,m);let S=Ke.getModuleBitCount(o,l,c,f,g,m);if(S==null)return null;let P,R=Oe.sum(S);if(f)P=g+R;else{for(let W=0;W<S.length/2;W++){let G=S[W];S[W]=S[S.length-1-W],S[S.length-1-W]=G}P=g,g=P-R}if(!Ke.checkCodewordSkew(R,x,E))return null;let B=an.getDecodedValue(S),$=Fe.getCodeword(B);return $===-1?null:new nu(g,P,Ke.getCodewordBucketNumber(B),$)}static getModuleBitCount(o,l,c,f,g,m){let x=g,E=new Int32Array(8),S=0,P=f?1:-1,R=f;for(;(f?x<c:x>=l)&&S<E.length;)o.get(x,m)===R?(E[S]++,x+=P):(S++,R=!R);return S===E.length||x===(f?c:l)&&S===E.length-1?E:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,l,c,f,g,m){let x=g,E=f?-1:1;for(let S=0;S<2;S++){for(;(f?x>=l:x<c)&&f===o.get(x,m);){if(Math.abs(g-x)>Ke.CODEWORD_SKEW_SIZE)return g;x+=E}E=-E,f=!f}return x}static checkCodewordSkew(o,l,c){return l-Ke.CODEWORD_SKEW_SIZE<=o&&o<=c+Ke.CODEWORD_SKEW_SIZE}static decodeCodewords(o,l,c){if(o.length===0)throw L.getFormatInstance();let f=1<<l+1,g=Ke.correctErrors(o,c,f);Ke.verifyCodewordCount(o,f);let m=Y.decode(o,""+l);return m.setErrorsCorrected(g),m.setErasures(c.length),m}static correctErrors(o,l,c){if(l!=null&&l.length>c/2+Ke.MAX_ERRORS||c<0||c>Ke.MAX_EC_CODEWORDS)throw w.getChecksumInstance();return Ke.errorCorrection.decode(o,c,l)}static verifyCodewordCount(o,l){if(o.length<4)throw L.getFormatInstance();let c=o[0];if(c>o.length)throw L.getFormatInstance();if(c===0)if(l<o.length)o[0]=o.length-l;else throw L.getFormatInstance()}static getBitCountForCodeword(o){let l=new Int32Array(8),c=0,f=l.length-1;for(;!((o&1)!==c&&(c=o&1,f--,f<0));)l[f]++,o>>=1;return l}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Ke.getCodewordBucketNumber(Ke.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let l=new Jl;for(let c=0;c<o.length;c++){l.format("Row %2d: ",c);for(let f=0;f<o[c].length;f++){let g=o[c][f];g.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}Ke.CODEWORD_SKEW_SIZE=2,Ke.MAX_ERRORS=3,Ke.MAX_EC_CODEWORDS=512,Ke.errorCorrection=new ab;class Sr{decode(o,l=null){let c=Sr.decode(o,l,!1);if(c==null||c.length===0||c[0]==null)throw H.getNotFoundInstance();return c[0]}decodeMultiple(o,l=null){try{return Sr.decode(o,l,!0)}catch(c){throw c instanceof L||c instanceof w?H.getNotFoundInstance():c}}static decode(o,l,c){const f=new Array,g=He.detectMultiple(o,l,c);for(const m of g.getPoints()){const x=Ke.decode(g.getBits(),m[4],m[5],m[6],m[7],Sr.getMinCodewordWidth(m),Sr.getMaxCodewordWidth(m)),E=new $e(x.getText(),x.getRawBytes(),void 0,m,xe.PDF_417);E.putMetadata(ht.ERROR_CORRECTION_LEVEL,x.getECLevel());const S=x.getOther();S!=null&&E.putMetadata(ht.PDF417_EXTRA_METADATA,S),f.push(E)}return f.map(m=>m)}static getMaxWidth(o,l){return o==null||l==null?0:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMinWidth(o,l){return o==null||l==null?T.MAX_VALUE:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Sr.getMaxWidth(o[0],o[4]),Sr.getMaxWidth(o[6],o[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.max(Sr.getMaxWidth(o[1],o[5]),Sr.getMaxWidth(o[7],o[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Sr.getMinWidth(o[0],o[4]),Sr.getMinWidth(o[6],o[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.min(Sr.getMinWidth(o[1],o[5]),Sr.getMinWidth(o[7],o[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class bd extends h{}bd.kind="ReaderException";class db{constructor(o,l){this.verbose=o===!0,l&&this.setHints(l)}decode(o,l){return l&&this.setHints(l),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const l=!n(o)&&o.get(j.TRY_HARDER)===!0,c=n(o)?null:o.get(j.POSSIBLE_FORMATS),f=new Array;if(!n(c)){const g=c.some(m=>m===xe.UPC_A||m===xe.UPC_E||m===xe.EAN_13||m===xe.EAN_8||m===xe.CODABAR||m===xe.CODE_39||m===xe.CODE_93||m===xe.CODE_128||m===xe.ITF||m===xe.RSS_14||m===xe.RSS_EXPANDED);g&&!l&&f.push(new Cs(o,this.verbose)),c.includes(xe.QR_CODE)&&f.push(new Oa),c.includes(xe.DATA_MATRIX)&&f.push(new _a),c.includes(xe.AZTEC)&&f.push(new gd),c.includes(xe.PDF_417)&&f.push(new Sr),g&&l&&f.push(new Cs(o,this.verbose))}f.length===0&&(l||f.push(new Cs(o,this.verbose)),f.push(new Oa),f.push(new _a),f.push(new gd),f.push(new Sr),l&&f.push(new Cs(o,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new bd("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(o,this.hints)}catch(c){if(c instanceof bd)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class Sk extends Ue{constructor(o=null,l=500){const c=new db;c.setHints(o),super(c,l)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ck extends Ue{constructor(o=500){super(new Sr,o)}}class _k extends Ue{constructor(o=500){super(new Oa,o)}}var Bp;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(Bp||(Bp={}));var ir=Bp;class Lp{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new De(o,Int32Array.from([1])))}buildGenerator(o){const l=this.cachedGenerators;if(o>=l.length){let c=l[l.length-1];const f=this.field;for(let g=l.length;g<=o;g++){const m=c.multiply(new De(f,Int32Array.from([1,f.exp(g-1+f.getGeneratorBase())])));l.push(m),c=m}}return l[o]}encode(o,l){if(l===0)throw new v("No error correction bytes");const c=o.length-l;if(c<=0)throw new v("No data bytes provided");const f=this.buildGenerator(l),g=new Int32Array(c);C.arraycopy(o,0,g,0,c);let m=new De(this.field,g);m=m.multiplyByMonomial(l,1);const E=m.divide(f)[1].getCoefficients(),S=l-E.length;for(let P=0;P<S;P++)o[c+P]=0;C.arraycopy(E,0,o,c+S,E.length)}}class Ut{constructor(){}static applyMaskPenaltyRule1(o){return Ut.applyMaskPenaltyRule1Internal(o,!0)+Ut.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let l=0;const c=o.getArray(),f=o.getWidth(),g=o.getHeight();for(let m=0;m<g-1;m++){const x=c[m];for(let E=0;E<f-1;E++){const S=x[E];S===x[E+1]&&S===c[m+1][E]&&S===c[m+1][E+1]&&l++}}return Ut.N2*l}static applyMaskPenaltyRule3(o){let l=0;const c=o.getArray(),f=o.getWidth(),g=o.getHeight();for(let m=0;m<g;m++)for(let x=0;x<f;x++){const E=c[m];x+6<f&&E[x]===1&&E[x+1]===0&&E[x+2]===1&&E[x+3]===1&&E[x+4]===1&&E[x+5]===0&&E[x+6]===1&&(Ut.isWhiteHorizontal(E,x-4,x)||Ut.isWhiteHorizontal(E,x+7,x+11))&&l++,m+6<g&&c[m][x]===1&&c[m+1][x]===0&&c[m+2][x]===1&&c[m+3][x]===1&&c[m+4][x]===1&&c[m+5][x]===0&&c[m+6][x]===1&&(Ut.isWhiteVertical(c,x,m-4,m)||Ut.isWhiteVertical(c,x,m+7,m+11))&&l++}return l*Ut.N3}static isWhiteHorizontal(o,l,c){l=Math.max(l,0),c=Math.min(c,o.length);for(let f=l;f<c;f++)if(o[f]===1)return!1;return!0}static isWhiteVertical(o,l,c,f){c=Math.max(c,0),f=Math.min(f,o.length);for(let g=c;g<f;g++)if(o[g][l]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let l=0;const c=o.getArray(),f=o.getWidth(),g=o.getHeight();for(let E=0;E<g;E++){const S=c[E];for(let P=0;P<f;P++)S[P]===1&&l++}const m=o.getHeight()*o.getWidth();return Math.floor(Math.abs(l*2-m)*10/m)*Ut.N4}static getDataMaskBit(o,l,c){let f,g;switch(o){case 0:f=c+l&1;break;case 1:f=c&1;break;case 2:f=l%3;break;case 3:f=(c+l)%3;break;case 4:f=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:g=c*l,f=(g&1)+g%3;break;case 6:g=c*l,f=(g&1)+g%3&1;break;case 7:g=c*l,f=g%3+(c+l&1)&1;break;default:throw new v("Invalid mask pattern: "+o)}return f===0}static applyMaskPenaltyRule1Internal(o,l){let c=0;const f=l?o.getHeight():o.getWidth(),g=l?o.getWidth():o.getHeight(),m=o.getArray();for(let x=0;x<f;x++){let E=0,S=-1;for(let P=0;P<g;P++){const R=l?m[x][P]:m[P][x];R===S?E++:(E>=5&&(c+=Ut.N1+(E-5)),E=1,S=R)}E>=5&&(c+=Ut.N1+(E-5))}return c}}Ut.N1=3,Ut.N2=3,Ut.N3=40,Ut.N4=10;class Ed{constructor(o,l){this.width=o,this.height=l;const c=new Array(l);for(let f=0;f!==l;f++)c[f]=new Uint8Array(o);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(o,l){return this.bytes[l][o]}getArray(){return this.bytes}setNumber(o,l,c){this.bytes[l][o]=c}setBoolean(o,l,c){this.bytes[l][o]=c?1:0}clear(o){for(const l of this.bytes)I.fill(l,o)}equals(o){if(!(o instanceof Ed))return!1;const l=o;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,f=this.height;c<f;++c){const g=this.bytes[c],m=l.bytes[c];for(let x=0,E=this.width;x<E;++x)if(g[x]!==m[x])return!1}return!0}toString(){const o=new oe;for(let l=0,c=this.height;l<c;++l){const f=this.bytes[l];for(let g=0,m=this.width;g<m;++g)switch(f[g]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Co{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new oe;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Co.NUM_MASK_PATTERNS}}Co.NUM_MASK_PATTERNS=8;class mt extends h{}mt.kind="WriterException";class Be{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,l,c,f,g){Be.clearMatrix(g),Be.embedBasicPatterns(c,g),Be.embedTypeInfo(l,f,g),Be.maybeEmbedVersionInfo(c,g),Be.embedDataBits(o,f,g)}static embedBasicPatterns(o,l){Be.embedPositionDetectionPatternsAndSeparators(l),Be.embedDarkDotAtLeftBottomCorner(l),Be.maybeEmbedPositionAdjustmentPatterns(o,l),Be.embedTimingPatterns(l)}static embedTypeInfo(o,l,c){const f=new D;Be.makeTypeInfoBits(o,l,f);for(let g=0,m=f.getSize();g<m;++g){const x=f.get(f.getSize()-1-g),E=Be.TYPE_INFO_COORDINATES[g],S=E[0],P=E[1];if(c.setBoolean(S,P,x),g<8){const R=c.getWidth()-g-1;c.setBoolean(R,8,x)}else{const B=c.getHeight()-7+(g-8);c.setBoolean(8,B,x)}}}static maybeEmbedVersionInfo(o,l){if(o.getVersionNumber()<7)return;const c=new D;Be.makeVersionInfoBits(o,c);let f=6*3-1;for(let g=0;g<6;++g)for(let m=0;m<3;++m){const x=c.get(f);f--,l.setBoolean(g,l.getHeight()-11+m,x),l.setBoolean(l.getHeight()-11+m,g,x)}}static embedDataBits(o,l,c){let f=0,g=-1,m=c.getWidth()-1,x=c.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);x>=0&&x<c.getHeight();){for(let E=0;E<2;++E){const S=m-E;if(!Be.isEmpty(c.get(S,x)))continue;let P;f<o.getSize()?(P=o.get(f),++f):P=!1,l!==255&&Ut.getDataMaskBit(l,S,x)&&(P=!P),c.setBoolean(S,x,P)}x+=g}g=-g,x+=g,m-=2}if(f!==o.getSize())throw new mt("Not all bits consumed: "+f+"/"+o.getSize())}static findMSBSet(o){return 32-T.numberOfLeadingZeros(o)}static calculateBCHCode(o,l){if(l===0)throw new v("0 polynomial");const c=Be.findMSBSet(l);for(o<<=c-1;Be.findMSBSet(o)>=c;)o^=l<<Be.findMSBSet(o)-c;return o}static makeTypeInfoBits(o,l,c){if(!Co.isValidMaskPattern(l))throw new mt("Invalid mask pattern");const f=o.getBits()<<3|l;c.appendBits(f,5);const g=Be.calculateBCHCode(f,Be.TYPE_INFO_POLY);c.appendBits(g,10);const m=new D;if(m.appendBits(Be.TYPE_INFO_MASK_PATTERN,15),c.xor(m),c.getSize()!==15)throw new mt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(o,l){l.appendBits(o.getVersionNumber(),6);const c=Be.calculateBCHCode(o.getVersionNumber(),Be.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new mt("should not happen but we got: "+l.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let l=8;l<o.getWidth()-8;++l){const c=(l+1)%2;Be.isEmpty(o.get(l,6))&&o.setNumber(l,6,c),Be.isEmpty(o.get(6,l))&&o.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new mt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,l,c){for(let f=0;f<8;++f){if(!Be.isEmpty(c.get(o+f,l)))throw new mt;c.setNumber(o+f,l,0)}}static embedVerticalSeparationPattern(o,l,c){for(let f=0;f<7;++f){if(!Be.isEmpty(c.get(o,l+f)))throw new mt;c.setNumber(o,l+f,0)}}static embedPositionAdjustmentPattern(o,l,c){for(let f=0;f<5;++f){const g=Be.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)c.setNumber(o+m,l+f,g[m])}}static embedPositionDetectionPattern(o,l,c){for(let f=0;f<7;++f){const g=Be.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)c.setNumber(o+m,l+f,g[m])}}static embedPositionDetectionPatternsAndSeparators(o){const l=Be.POSITION_DETECTION_PATTERN[0].length;Be.embedPositionDetectionPattern(0,0,o),Be.embedPositionDetectionPattern(o.getWidth()-l,0,o),Be.embedPositionDetectionPattern(0,o.getWidth()-l,o);const c=8;Be.embedHorizontalSeparationPattern(0,c-1,o),Be.embedHorizontalSeparationPattern(o.getWidth()-c,c-1,o),Be.embedHorizontalSeparationPattern(0,o.getWidth()-c,o);const f=7;Be.embedVerticalSeparationPattern(f,0,o),Be.embedVerticalSeparationPattern(o.getHeight()-f-1,0,o),Be.embedVerticalSeparationPattern(f,o.getHeight()-f,o)}static maybeEmbedPositionAdjustmentPatterns(o,l){if(o.getVersionNumber()<2)return;const c=o.getVersionNumber()-1,f=Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let g=0,m=f.length;g!==m;g++){const x=f[g];if(x>=0)for(let E=0;E!==m;E++){const S=f[E];S>=0&&Be.isEmpty(l.get(S,x))&&Be.embedPositionAdjustmentPattern(S-2,x-2,l)}}}}Be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Be.VERSION_INFO_POLY=7973,Be.TYPE_INFO_POLY=1335,Be.TYPE_INFO_MASK_PATTERN=21522;class Ok{constructor(o,l){this.dataBytes=o,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ct{constructor(){}static calculateMaskPenalty(o){return Ut.applyMaskPenaltyRule1(o)+Ut.applyMaskPenaltyRule2(o)+Ut.applyMaskPenaltyRule3(o)+Ut.applyMaskPenaltyRule4(o)}static encode(o,l,c=null){let f=Ct.DEFAULT_BYTE_MODE_ENCODING;const g=c!==null&&c.get(ir.CHARACTER_SET)!==void 0;g&&(f=c.get(ir.CHARACTER_SET).toString());const m=this.chooseMode(o,f),x=new D;if(m===Re.BYTE&&(g||Ct.DEFAULT_BYTE_MODE_ENCODING!==f)){const ce=U.getCharacterSetECIByName(f);ce!==void 0&&this.appendECI(ce,x)}this.appendModeInfo(m,x);const E=new D;this.appendBytes(o,m,E,f);let S;if(c!==null&&c.get(ir.QR_VERSION)!==void 0){const ce=Number.parseInt(c.get(ir.QR_VERSION).toString(),10);S=Pe.getVersionForNumber(ce);const se=this.calculateBitsNeeded(m,x,E,S);if(!this.willFit(se,S,l))throw new mt("Data too big for requested version")}else S=this.recommendVersion(l,m,x,E);const P=new D;P.appendBitArray(x);const R=m===Re.BYTE?E.getSizeInBytes():o.length;this.appendLengthInfo(R,S,m,P),P.appendBitArray(E);const B=S.getECBlocksForLevel(l),$=S.getTotalCodewords()-B.getTotalECCodewords();this.terminateBits($,P);const W=this.interleaveWithECBytes(P,S.getTotalCodewords(),$,B.getNumBlocks()),G=new Co;G.setECLevel(l),G.setMode(m),G.setVersion(S);const V=S.getDimensionForVersion(),Z=new Ed(V,V),ue=this.chooseMaskPattern(W,l,S,Z);return G.setMaskPattern(ue),Be.buildMatrix(W,l,S,ue,Z),G.setMatrix(Z),G}static recommendVersion(o,l,c,f){const g=this.calculateBitsNeeded(l,c,f,Pe.getVersionForNumber(1)),m=this.chooseVersion(g,o),x=this.calculateBitsNeeded(l,c,f,m);return this.chooseVersion(x,o)}static calculateBitsNeeded(o,l,c,f){return l.getSize()+o.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(o){return o<Ct.ALPHANUMERIC_TABLE.length?Ct.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,l=null){if(U.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(o))return Re.KANJI;let c=!1,f=!1;for(let g=0,m=o.length;g<m;++g){const x=o.charAt(g);if(Ct.isDigit(x))c=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return Re.BYTE}return f?Re.ALPHANUMERIC:c?Re.NUMERIC:Re.BYTE}static isOnlyDoubleByteKanji(o){let l;try{l=X.encode(o,U.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const g=l[f]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(o,l,c,f){let g=Number.MAX_SAFE_INTEGER,m=-1;for(let x=0;x<Co.NUM_MASK_PATTERNS;x++){Be.buildMatrix(o,l,c,x,f);let E=this.calculateMaskPenalty(f);E<g&&(g=E,m=x)}return m}static chooseVersion(o,l){for(let c=1;c<=40;c++){const f=Pe.getVersionForNumber(c);if(Ct.willFit(o,f,l))return f}throw new mt("Data too big")}static willFit(o,l,c){const f=l.getTotalCodewords(),m=l.getECBlocksForLevel(c).getTotalECCodewords(),x=f-m,E=(o+7)/8;return x>=E}static terminateBits(o,l){const c=o*8;if(l.getSize()>c)throw new mt("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let m=0;m<4&&l.getSize()<c;++m)l.appendBit(!1);const f=l.getSize()&7;if(f>0)for(let m=f;m<8;m++)l.appendBit(!1);const g=o-l.getSizeInBytes();for(let m=0;m<g;++m)l.appendBits(m&1?17:236,8);if(l.getSize()!==c)throw new mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,l,c,f,g,m){if(f>=c)throw new mt("Block ID too large");const x=o%c,E=c-x,S=Math.floor(o/c),P=S+1,R=Math.floor(l/c),B=R+1,$=S-R,W=P-B;if($!==W)throw new mt("EC bytes mismatch");if(c!==E+x)throw new mt("RS blocks mismatch");if(o!==(R+$)*E+(B+W)*x)throw new mt("Total bytes mismatch");f<E?(g[0]=R,m[0]=$):(g[0]=B,m[0]=W)}static interleaveWithECBytes(o,l,c,f){if(o.getSizeInBytes()!==c)throw new mt("Number of bits and data bytes does not match");let g=0,m=0,x=0;const E=new Array;for(let P=0;P<f;++P){const R=new Int32Array(1),B=new Int32Array(1);Ct.getNumDataBytesAndNumECBytesForBlockID(l,c,f,P,R,B);const $=R[0],W=new Uint8Array($);o.toBytes(8*g,W,0,$);const G=Ct.generateECBytes(W,B[0]);E.push(new Ok(W,G)),m=Math.max(m,$),x=Math.max(x,G.length),g+=R[0]}if(c!==g)throw new mt("Data bytes does not match offset");const S=new D;for(let P=0;P<m;++P)for(const R of E){const B=R.getDataBytes();P<B.length&&S.appendBits(B[P],8)}for(let P=0;P<x;++P)for(const R of E){const B=R.getErrorCorrectionBytes();P<B.length&&S.appendBits(B[P],8)}if(l!==S.getSizeInBytes())throw new mt("Interleaving error: "+l+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(o,l){const c=o.length,f=new Int32Array(c+l);for(let m=0;m<c;m++)f[m]=o[m]&255;new Lp(Me.QR_CODE_FIELD_256).encode(f,l);const g=new Uint8Array(l);for(let m=0;m<l;m++)g[m]=f[c+m];return g}static appendModeInfo(o,l){l.appendBits(o.getBits(),4)}static appendLengthInfo(o,l,c,f){const g=c.getCharacterCountBits(l);if(o>=1<<g)throw new mt(o+" is bigger than "+((1<<g)-1));f.appendBits(o,g)}static appendBytes(o,l,c,f){switch(l){case Re.NUMERIC:Ct.appendNumericBytes(o,c);break;case Re.ALPHANUMERIC:Ct.appendAlphanumericBytes(o,c);break;case Re.BYTE:Ct.append8BitBytes(o,c,f);break;case Re.KANJI:Ct.appendKanjiBytes(o,c);break;default:throw new mt("Invalid mode: "+l)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const l=Ct.getDigit(o);return l>=0&&l<=9}static appendNumericBytes(o,l){const c=o.length;let f=0;for(;f<c;){const g=Ct.getDigit(o.charAt(f));if(f+2<c){const m=Ct.getDigit(o.charAt(f+1)),x=Ct.getDigit(o.charAt(f+2));l.appendBits(g*100+m*10+x,10),f+=3}else if(f+1<c){const m=Ct.getDigit(o.charAt(f+1));l.appendBits(g*10+m,7),f+=2}else l.appendBits(g,4),f++}}static appendAlphanumericBytes(o,l){const c=o.length;let f=0;for(;f<c;){const g=Ct.getAlphanumericCode(o.charCodeAt(f));if(g===-1)throw new mt;if(f+1<c){const m=Ct.getAlphanumericCode(o.charCodeAt(f+1));if(m===-1)throw new mt;l.appendBits(g*45+m,11),f+=2}else l.appendBits(g,6),f++}}static append8BitBytes(o,l,c){let f;try{f=X.encode(o,c)}catch(g){throw new mt(g)}for(let g=0,m=f.length;g!==m;g++){const x=f[g];l.appendBits(x,8)}}static appendKanjiBytes(o,l){let c;try{c=X.encode(o,U.SJIS)}catch(g){throw new mt(g)}const f=c.length;for(let g=0;g<f;g+=2){const m=c[g]&255,x=c[g+1]&255,E=m<<8&4294967295|x;let S=-1;if(E>=33088&&E<=40956?S=E-33088:E>=57408&&E<=60351&&(S=E-49472),S===-1)throw new mt("Invalid byte sequence");const P=(S>>8)*192+(S&255);l.appendBits(P,13)}}static appendECI(o,l){l.appendBits(Re.ECI.getBits(),4),l.appendBits(o.getValue(),8)}}Ct.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ct.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class _o{write(o,l,c,f=null){if(o.length===0)throw new v("Found empty contents");if(l<0||c<0)throw new v("Requested dimensions are too small: "+l+"x"+c);let g=wt.L,m=_o.QUIET_ZONE_SIZE;f!==null&&(f.get(ir.ERROR_CORRECTION)!==void 0&&(g=wt.fromString(f.get(ir.ERROR_CORRECTION).toString())),f.get(ir.MARGIN)!==void 0&&(m=Number.parseInt(f.get(ir.MARGIN).toString(),10)));const x=Ct.encode(o,g,f);return this.renderResult(x,l,c,m)}writeToDom(o,l,c,f,g=null){typeof o=="string"&&(o=document.querySelector(o));const m=this.write(l,c,f,g);o&&o.appendChild(m)}renderResult(o,l,c,f){const g=o.getMatrix();if(g===null)throw new at;const m=g.getWidth(),x=g.getHeight(),E=m+f*2,S=x+f*2,P=Math.max(l,E),R=Math.max(c,S),B=Math.min(Math.floor(P/E),Math.floor(R/S)),$=Math.floor((P-m*B)/2),W=Math.floor((R-x*B)/2),G=this.createSVGElement(P,R);for(let V=0,Z=W;V<x;V++,Z+=B)for(let ue=0,ce=$;ue<m;ue++,ce+=B)if(g.get(ue,V)===1){const se=this.createSvgRectElement(ce,Z,B,B);G.appendChild(se)}return G}createSVGElement(o,l){const c=document.createElementNS(_o.SVG_NS,"svg");return c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(o,l,c,f){const g=document.createElementNS(_o.SVG_NS,"rect");return g.setAttributeNS(null,"x",o.toString()),g.setAttributeNS(null,"y",l.toString()),g.setAttributeNS(null,"height",c.toString()),g.setAttributeNS(null,"width",f.toString()),g.setAttributeNS(null,"fill","#000000"),g}}_o.QUIET_ZONE_SIZE=4,_o.SVG_NS="http://www.w3.org/2000/svg";class Os{encode(o,l,c,f,g){if(o.length===0)throw new v("Found empty contents");if(l!==xe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+l);if(c<0||f<0)throw new v(`Requested dimensions are too small: ${c}x${f}`);let m=wt.L,x=Os.QUIET_ZONE_SIZE;g!==null&&(g.get(ir.ERROR_CORRECTION)!==void 0&&(m=wt.fromString(g.get(ir.ERROR_CORRECTION).toString())),g.get(ir.MARGIN)!==void 0&&(x=Number.parseInt(g.get(ir.MARGIN).toString(),10)));const E=Ct.encode(o,m,g);return Os.renderResult(E,c,f,x)}static renderResult(o,l,c,f){const g=o.getMatrix();if(g===null)throw new at;const m=g.getWidth(),x=g.getHeight(),E=m+f*2,S=x+f*2,P=Math.max(l,E),R=Math.max(c,S),B=Math.min(Math.floor(P/E),Math.floor(R/S)),$=Math.floor((P-m*B)/2),W=Math.floor((R-x*B)/2),G=new de(P,R);for(let V=0,Z=W;V<x;V++,Z+=B)for(let ue=0,ce=$;ue<m;ue++,ce+=B)g.get(ue,V)===1&&G.setRegion(ce,Z,B,B);return G}}Os.QUIET_ZONE_SIZE=4;class Ik{encode(o,l,c,f,g){let m;switch(l){case xe.QR_CODE:m=new Os;break;default:throw new v("No encoder available for format "+l)}return m.encode(o,l,c,f,g)}}class Di extends te{constructor(o,l,c,f,g,m,x,E){if(super(m,x),this.yuvData=o,this.dataWidth=l,this.dataHeight=c,this.left=f,this.top=g,f+m>l||g+x>c)throw new v("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(m,x)}getRow(o,l){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(o+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,f,l,0,c),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=o*l,f=new Uint8ClampedArray(c);let g=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return C.arraycopy(this.yuvData,g,f,0,c),f;for(let m=0;m<l;m++){const x=m*o;C.arraycopy(this.yuvData,g,f,x,o),g+=this.dataWidth}return f}isCropSupported(){return!0}crop(o,l,c,f){return new Di(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+l,c,f,!1)}renderThumbnail(){const o=this.getWidth()/Di.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Di.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(o*l),f=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let m=0;m<l;m++){const x=m*o;for(let E=0;E<o;E++){const S=f[g+E*Di.THUMBNAIL_SCALE_FACTOR]&255;c[x+E]=4278190080|S*65793}g+=this.dataWidth*Di.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Di.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Di.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,l){const c=this.yuvData;for(let f=0,g=this.top*this.dataWidth+this.left;f<l;f++,g+=this.dataWidth){const m=g+o/2;for(let x=g,E=g+o-1;x<m;x++,E--){const S=c[x];c[x]=c[E],c[E]=S}}}invert(){return new fe(this)}}Di.THUMBNAIL_SCALE_FACTOR=2;class Fp extends te{constructor(o,l,c,f,g,m,x){if(super(l,c),this.dataWidth=f,this.dataHeight=g,this.left=m,this.top=x,o.BYTES_PER_ELEMENT===4){const E=l*c,S=new Uint8ClampedArray(E);for(let P=0;P<E;P++){const R=o[P],B=R>>16&255,$=R>>7&510,W=R&255;S[P]=(B+$+W)/4&255}this.luminances=S}else this.luminances=o;if(f===void 0&&(this.dataWidth=l),g===void 0&&(this.dataHeight=c),m===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(o,l){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(o+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,f,l,0,c),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=o*l,f=new Uint8ClampedArray(c);let g=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return C.arraycopy(this.luminances,g,f,0,c),f;for(let m=0;m<l;m++){const x=m*o;C.arraycopy(this.luminances,g,f,x,o),g+=this.dataWidth}return f}isCropSupported(){return!0}crop(o,l,c,f){return new Fp(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+o,this.top+l)}invert(){return new fe(this)}}class fb extends U{static forName(o){return this.getCharacterSetECIByName(o)}}class $p{}$p.ISO_8859_1=U.ISO8859_1;class hb{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class pb{static singletonList(o){return[o]}static min(o,l){return o.sort(l)[0]}}class Tk{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Is extends Tk{constructor(o,l,c){super(o),this.value=l,this.bitCount=c}appendTo(o,l){o.appendBits(this.value,this.bitCount)}add(o,l){return new Is(this,o,l)}addBinaryShift(o,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Is(this,o,l)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+T.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Up extends Is{constructor(o,l,c){super(o,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(o,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):c===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(o,l){return new Up(this,o,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Nk(k,o,l){return new Up(k,o,l)}function iu(k,o,l){return new Is(k,o,l)}const Pk=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ta=0,Ad=1,Hn=2,gb=3,Ri=4,kk=new Is(null,0,0),Wp=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Dk(k){for(let o of k)I.fill(o,-1);return k[Ta][Ri]=0,k[Ad][Ri]=0,k[Ad][Ta]=28,k[gb][Ri]=0,k[Hn][Ri]=0,k[Hn][Ta]=15,k}const mb=Dk(I.createInt32Array(6,6));class Mi{constructor(o,l,c,f){this.token=o,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,l){let c=this.bitCount,f=this.token;if(o!==this.mode){let m=Wp[this.mode][o];f=iu(f,m&65535,m>>16),c+=m>>16}let g=o===Hn?4:5;return f=iu(f,l,g),new Mi(f,o,0,c+g)}shiftAndAppend(o,l){let c=this.token,f=this.mode===Hn?4:5;return c=iu(c,mb[this.mode][o],f),c=iu(c,l,5),new Mi(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(o){let l=this.token,c=this.mode,f=this.bitCount;if(this.mode===Ri||this.mode===Hn){let x=Wp[c][Ta];l=iu(l,x&65535,x>>16),f+=x>>16,c=Ta}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Mi(l,c,this.binaryShiftByteCount+1,f+g);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(o+1)),m}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Nk(l,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mi(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let l=this.bitCount+(Wp[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?l+=Mi.calculateBinaryShiftCost(o)-Mi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(l+=10),l<=o.bitCount}toBitArray(o){let l=[];for(let f=this.endBinaryShift(o.length).token;f!==null;f=f.getPrevious())l.unshift(f);let c=new D;for(const f of l)f.appendTo(c,o);return c}toString(){return q.format("%s bits=%d bytes=%d",Pk[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Mi.INITIAL_STATE=new Mi(kk,Ta,0,0);function Rk(k){const o=q.getCharCode(" "),l=q.getCharCode("."),c=q.getCharCode(",");k[Ta][o]=1;const f=q.getCharCode("Z"),g=q.getCharCode("A");for(let B=g;B<=f;B++)k[Ta][B]=B-g+2;k[Ad][o]=1;const m=q.getCharCode("z"),x=q.getCharCode("a");for(let B=x;B<=m;B++)k[Ad][B]=B-x+2;k[Hn][o]=1;const E=q.getCharCode("9"),S=q.getCharCode("0");for(let B=S;B<=E;B++)k[Hn][B]=B-S+2;k[Hn][c]=12,k[Hn][l]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let B=0;B<P.length;B++)k[gb][q.getCharCode(P[B])]=B;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let B=0;B<R.length;B++)q.getCharCode(R[B])>0&&(k[Ri][q.getCharCode(R[B])]=B);return k}const zp=Rk(I.createInt32Array(5,256));class au{constructor(o){this.text=o}encode(){const o=q.getCharCode(" "),l=q.getCharCode(`
`);let c=pb.singletonList(Mi.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let m,x=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case q.getCharCode("\r"):m=x===l?2:0;break;case q.getCharCode("."):m=x===o?3:0;break;case q.getCharCode(","):m=x===o?4:0;break;case q.getCharCode(":"):m=x===o?5:0;break;default:m=0}m>0?(c=au.updateStateListForPair(c,g,m),g++):c=this.updateStateListForChar(c,g)}return pb.min(c,(g,m)=>g.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,l){const c=[];for(let f of o)this.updateStateForChar(f,l,c);return au.simplifyStates(c)}updateStateForChar(o,l,c){let f=this.text[l]&255,g=zp[o.getMode()][f]>0,m=null;for(let x=0;x<=Ri;x++){let E=zp[x][f];if(E>0){if(m==null&&(m=o.endBinaryShift(l)),!g||x===o.getMode()||x===Hn){const S=m.latchAndAppend(x,E);c.push(S)}if(!g&&mb[o.getMode()][x]>=0){const S=m.shiftAndAppend(x,E);c.push(S)}}}if(o.getBinaryShiftByteCount()>0||zp[o.getMode()][f]===0){let x=o.addBinaryShiftChar(l);c.push(x)}}static updateStateListForPair(o,l,c){const f=[];for(let g of o)this.updateStateForPair(g,l,c,f);return this.simplifyStates(f)}static updateStateForPair(o,l,c,f){let g=o.endBinaryShift(l);if(f.push(g.latchAndAppend(Ri,c)),o.getMode()!==Ri&&f.push(g.shiftAndAppend(Ri,c)),c===3||c===4){let m=g.latchAndAppend(Hn,16-c).latchAndAppend(Hn,1);f.push(m)}if(o.getBinaryShiftByteCount()>0){let m=o.addBinaryShiftChar(l).addBinaryShiftChar(l+1);f.push(m)}}static simplifyStates(o){let l=[];for(const c of o){let f=!0;for(const g of l){if(g.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(g)&&(l=l.filter(m=>m!==g))}f&&l.push(c)}return l}}class Je{constructor(){}static encodeBytes(o){return Je.encode(o,Je.DEFAULT_EC_PERCENT,Je.DEFAULT_AZTEC_LAYERS)}static encode(o,l,c){let f=new au(o).encode(),g=T.truncDivision(f.getSize()*l,100)+11,m=f.getSize()+g,x,E,S,P,R;if(c!==Je.DEFAULT_AZTEC_LAYERS){if(x=c<0,E=Math.abs(c),E>(x?Je.MAX_NB_BITS_COMPACT:Je.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",c));S=Je.totalBitsInLayer(E,x),P=Je.WORD_SIZE[E];let se=S-S%P;if(R=Je.stuffBits(f,P),R.getSize()+g>se)throw new v("Data to large for user specified layer");if(x&&R.getSize()>P*64)throw new v("Data to large for user specified layer")}else{P=0,R=null;for(let se=0;;se++){if(se>Je.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=se<=3,E=x?se+1:se,S=Je.totalBitsInLayer(E,x),m>S)continue;(R==null||P!==Je.WORD_SIZE[E])&&(P=Je.WORD_SIZE[E],R=Je.stuffBits(f,P));let Ze=S-S%P;if(!(x&&R.getSize()>P*64)&&R.getSize()+g<=Ze)break}}let B=Je.generateCheckWords(R,S,P),$=R.getSize()/P,W=Je.generateModeMessage(x,E,$),G=(x?11:14)+E*4,V=new Int32Array(G),Z;if(x){Z=G;for(let se=0;se<V.length;se++)V[se]=se}else{Z=G+1+2*T.truncDivision(T.truncDivision(G,2)-1,15);let se=T.truncDivision(G,2),Ze=T.truncDivision(Z,2);for(let We=0;We<se;We++){let on=We+T.truncDivision(We,15);V[se-We-1]=Ze-on-1,V[se+We]=Ze+on+1}}let ue=new de(Z);for(let se=0,Ze=0;se<E;se++){let We=(E-se)*4+(x?9:12);for(let on=0;on<We;on++){let pi=on*2;for(let sn=0;sn<2;sn++)B.get(Ze+pi+sn)&&ue.set(V[se*2+sn],V[se*2+on]),B.get(Ze+We*2+pi+sn)&&ue.set(V[se*2+on],V[G-1-se*2-sn]),B.get(Ze+We*4+pi+sn)&&ue.set(V[G-1-se*2-sn],V[G-1-se*2-on]),B.get(Ze+We*6+pi+sn)&&ue.set(V[G-1-se*2-on],V[se*2+sn])}Ze+=We*8}if(Je.drawModeMessage(ue,x,Z,W),x)Je.drawBullsEye(ue,T.truncDivision(Z,2),5);else{Je.drawBullsEye(ue,T.truncDivision(Z,2),7);for(let se=0,Ze=0;se<T.truncDivision(G,2)-1;se+=15,Ze+=16)for(let We=T.truncDivision(Z,2)&1;We<Z;We+=2)ue.set(T.truncDivision(Z,2)-Ze,We),ue.set(T.truncDivision(Z,2)+Ze,We),ue.set(We,T.truncDivision(Z,2)-Ze),ue.set(We,T.truncDivision(Z,2)+Ze)}let ce=new hb;return ce.setCompact(x),ce.setSize(Z),ce.setLayers(E),ce.setCodeWords($),ce.setMatrix(ue),ce}static drawBullsEye(o,l,c){for(let f=0;f<c;f+=2)for(let g=l-f;g<=l+f;g++)o.set(g,l-f),o.set(g,l+f),o.set(l-f,g),o.set(l+f,g);o.set(l-c,l-c),o.set(l-c+1,l-c),o.set(l-c,l-c+1),o.set(l+c,l-c),o.set(l+c,l-c+1),o.set(l+c,l+c-1)}static generateModeMessage(o,l,c){let f=new D;return o?(f.appendBits(l-1,2),f.appendBits(c-1,6),f=Je.generateCheckWords(f,28,4)):(f.appendBits(l-1,5),f.appendBits(c-1,11),f=Je.generateCheckWords(f,40,4)),f}static drawModeMessage(o,l,c,f){let g=T.truncDivision(c,2);if(l)for(let m=0;m<7;m++){let x=g-3+m;f.get(m)&&o.set(x,g-5),f.get(m+7)&&o.set(g+5,x),f.get(20-m)&&o.set(x,g+5),f.get(27-m)&&o.set(g-5,x)}else for(let m=0;m<10;m++){let x=g-5+m+T.truncDivision(m,5);f.get(m)&&o.set(x,g-7),f.get(m+10)&&o.set(g+7,x),f.get(29-m)&&o.set(x,g+7),f.get(39-m)&&o.set(g-7,x)}}static generateCheckWords(o,l,c){let f=o.getSize()/c,g=new Lp(Je.getGF(c)),m=T.truncDivision(l,c),x=Je.bitsToWords(o,c,m);g.encode(x,m-f);let E=l%c,S=new D;S.appendBits(0,E);for(const P of Array.from(x))S.appendBits(P,c);return S}static bitsToWords(o,l,c){let f=new Int32Array(c),g,m;for(g=0,m=o.getSize()/l;g<m;g++){let x=0;for(let E=0;E<l;E++)x|=o.get(g*l+E)?1<<l-E-1:0;f[g]=x}return f}static getGF(o){switch(o){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new v("Unsupported word size "+o)}}static stuffBits(o,l){let c=new D,f=o.getSize(),g=(1<<l)-2;for(let m=0;m<f;m+=l){let x=0;for(let E=0;E<l;E++)(m+E>=f||o.get(m+E))&&(x|=1<<l-1-E);(x&g)===g?(c.appendBits(x&g,l),m--):x&g?c.appendBits(x,l):(c.appendBits(x|1,l),m--)}return c}static totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}Je.DEFAULT_EC_PERCENT=33,Je.DEFAULT_AZTEC_LAYERS=0,Je.MAX_NB_BITS=32,Je.MAX_NB_BITS_COMPACT=4,Je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Sd{encode(o,l,c,f){return this.encodeWithHints(o,l,c,f,null)}encodeWithHints(o,l,c,f,g){let m=$p.ISO_8859_1,x=Je.DEFAULT_EC_PERCENT,E=Je.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(ir.CHARACTER_SET)&&(m=fb.forName(g.get(ir.CHARACTER_SET).toString())),g.has(ir.ERROR_CORRECTION)&&(x=T.parseInt(g.get(ir.ERROR_CORRECTION).toString())),g.has(ir.AZTEC_LAYERS)&&(E=T.parseInt(g.get(ir.AZTEC_LAYERS).toString()))),Sd.encodeLayers(o,l,c,f,m,x,E)}static encodeLayers(o,l,c,f,g,m,x){if(l!==xe.AZTEC)throw new v("Can only encode AZTEC, but got "+l);let E=Je.encode(q.getBytes(o,g),m,x);return Sd.renderResult(E,c,f)}static renderResult(o,l,c){let f=o.getMatrix();if(f==null)throw new at;let g=f.getWidth(),m=f.getHeight(),x=Math.max(l,g),E=Math.max(c,m),S=Math.min(x/g,E/m),P=(x-g*S)/2,R=(E-m*S)/2,B=new de(x,E);for(let $=0,W=R;$<m;$++,W+=S)for(let G=0,V=P;G<g;G++,V+=S)f.get(G,$)&&B.setRegion(V,W,S,S);return B}}r.AbstractExpandedDecoder=Ip,r.ArgumentException=p,r.ArithmeticException=ae,r.AztecCode=hb,r.AztecCodeReader=gd,r.AztecCodeWriter=Sd,r.AztecDecoder=Ie,r.AztecDetector=Jw,r.AztecDetectorResult=Ea,r.AztecEncoder=Je,r.AztecHighLevelEncoder=au,r.AztecPoint=Hr,r.BarcodeFormat=xe,r.Binarizer=A,r.BinaryBitmap=y,r.BitArray=D,r.BitMatrix=de,r.BitSource=kp,r.BrowserAztecCodeReader=ok,r.BrowserBarcodeReader=dk,r.BrowserCodeReader=Ue,r.BrowserDatamatrixCodeReader=hk,r.BrowserMultiFormatReader=Sk,r.BrowserPDF417Reader=Ck,r.BrowserQRCodeReader=_k,r.BrowserQRCodeSvgWriter=_o,r.CharacterSetECI=U,r.ChecksumException=w,r.Code128Reader=ge,r.Code39Reader=rr,r.DataMatrixDecodedBitStreamParser=Ca,r.DataMatrixReader=_a,r.DecodeHintType=j,r.DecoderResult=ye,r.DefaultGridSampler=Qw,r.DetectorResult=Hi,r.EAN13Reader=bo,r.EncodeHintType=ir,r.Exception=h,r.FormatException=L,r.GenericGF=Me,r.GenericGFPoly=De,r.GlobalHistogramBinarizer=we,r.GridSampler=Sp,r.GridSamplerInstance=Aa,r.HTMLCanvasElementLuminanceSource=ie,r.HybridBinarizer=ee,r.ITFReader=gt,r.IllegalArgumentException=v,r.IllegalStateException=at,r.InvertedLuminanceSource=fe,r.LuminanceSource=te,r.MathUtils=Oe,r.MultiFormatOneDReader=Cs,r.MultiFormatReader=db,r.MultiFormatWriter=Ik,r.NotFoundException=H,r.OneDReader=Yt,r.PDF417DecodedBitStreamParser=Y,r.PDF417DecoderErrorCorrection=ab,r.PDF417Reader=Sr,r.PDF417ResultMetadata=sb,r.PerspectiveTransform=fi,r.PlanarYUVLuminanceSource=Di,r.QRCodeByteMatrix=Ed,r.QRCodeDataMask=zn,r.QRCodeDecodedBitStreamParser=Mt,r.QRCodeDecoderErrorCorrectionLevel=wt,r.QRCodeDecoderFormatInformation=jr,r.QRCodeEncoder=Ct,r.QRCodeEncoderQRCode=Co,r.QRCodeMaskUtil=Ut,r.QRCodeMatrixUtil=Be,r.QRCodeMode=Re,r.QRCodeReader=Oa,r.QRCodeVersion=Pe,r.QRCodeWriter=Os,r.RGBLuminanceSource=Fp,r.RSS14Reader=$t,r.RSSExpandedReader=ne,r.ReaderException=bd,r.ReedSolomonDecoder=he,r.ReedSolomonEncoder=Lp,r.ReedSolomonException=Ge,r.Result=$e,r.ResultMetadataType=ht,r.ResultPoint=me,r.StringUtils=q,r.UnsupportedOperationException=J,r.VideoInputDevice=ve,r.WhiteRectangleDetector=di,r.WriterException=mt,r.ZXingArrays=I,r.ZXingCharset=fb,r.ZXingInteger=T,r.ZXingStandardCharsets=$p,r.ZXingStringBuilder=oe,r.ZXingStringEncoding=X,r.ZXingSystem=C,r.createAbstractExpandedDecoder=nb,Object.defineProperty(r,"__esModule",{value:!0})})})(dm,dm.exports);var Ot=dm.exports;const Xj=Ln(Ot),Yj=Fk({__proto__:null,default:Xj},[Ot]);var Q2=function(){function e(t,r,n){if(this.formatMap=new Map([[Ee.QR_CODE,Ot.BarcodeFormat.QR_CODE],[Ee.AZTEC,Ot.BarcodeFormat.AZTEC],[Ee.CODABAR,Ot.BarcodeFormat.CODABAR],[Ee.CODE_39,Ot.BarcodeFormat.CODE_39],[Ee.CODE_93,Ot.BarcodeFormat.CODE_93],[Ee.CODE_128,Ot.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,Ot.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,Ot.BarcodeFormat.MAXICODE],[Ee.ITF,Ot.BarcodeFormat.ITF],[Ee.EAN_13,Ot.BarcodeFormat.EAN_13],[Ee.EAN_8,Ot.BarcodeFormat.EAN_8],[Ee.PDF_417,Ot.BarcodeFormat.PDF_417],[Ee.RSS_14,Ot.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,Ot.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,Ot.BarcodeFormat.UPC_A],[Ee.UPC_E,Ot.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,Ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Yj)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Ot.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Ot.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Ot.MultiFormatReader(this.verbose,this.hints),n=new Ot.HTMLCanvasElementLuminanceSource(t),i=new Ot.BinaryBitmap(new Ot.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:OO.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Zj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})},Qj=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},J2=function(){function e(t,r,n){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Zj(this,void 0,void 0,function(){var r,n;return Qj(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:OO.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var s=a[i],u=s.boundingBox.width*s.boundingBox.height;u>n&&(n=u,r=s)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),eE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})},tE=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Jj=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&J2.isSupported()?(this.primaryDecoder=new J2(t,n,i),this.secondaryDecoder=new Q2(t,n,i)):this.primaryDecoder=new Q2(t,n,i)}return e.prototype.decodeAsync=function(t){return eE(this,void 0,void 0,function(){var r;return tE(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return eE(this,void 0,void 0,function(){var r,n;return tE(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),vy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rh=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})},nh=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},TO=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),e7=function(e){vy(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(TO),t7=function(e){vy(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(e7),r7=function(e){vy(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(TO),n7=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new t7(this.track)},e.prototype.torchFeature=function(){return new r7(this.track)},e}(),i7=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return rh(this,void 0,void 0,function(){var a,s;return nh(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rh(this,void 0,void 0,function(){return nh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,s=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++s,s>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new n7(this.getFirstTrackOrFail())},e}(),a7=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return rh(this,void 0,void 0,function(){return nh(this,function(i){return[2,i7.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return rh(this,void 0,void 0,function(){var r,n;return nh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),rE=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})},nE=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},o7=function(){function e(){}return e.failIfNotSupported=function(){return rE(this,void 0,void 0,function(){return nE(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return rE(this,void 0,void 0,function(){return nE(this,function(r){return[2,a7.create(t)]})})},e}(),s7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})},l7=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},u7=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=el.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=el.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return s7(this,void 0,void 0,function(){var t,r,n,i,a,s,u;return l7(this,function(d){switch(d.label){case 0:return t=function(h){for(var p=h.getVideoTracks(),v=0,y=p;v<y.length;v++){var w=y[v];w.enabled=!1,w.stop(),h.removeTrack(w)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],a=0,s=n;a<s.length;a++)u=s[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var s=[],u=0,d=a;u<d.length;u++){var h=d[u];h.kind==="video"&&s.push({id:h.id,label:h.label})}t(s)},i=MediaStreamTrack;i.getSources(n)})},e}(),Wt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Wt||(Wt={}));var c7=function(){function e(){this.state=Wt.NOT_STARTED,this.onGoingTransactionNewState=Wt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Wt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Wt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Wt.UNKNOWN:throw"Transition from unknown is not allowed";case Wt.NOT_STARTED:this.failIfNewStateIs(t,[Wt.PAUSED]);break;case Wt.SCANNING:break;case Wt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),d7=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Wt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Wt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Wt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Wt.PAUSED},e}(),f7=function(){function e(){}return e.create=function(){return new d7(new c7)},e}(),h7=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wn=function(e){h7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Vj),p7=function(){function e(t,r){this.logger=r,this.fps=wn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=wn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?IO.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!qi(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),g7=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new qj(this.verbose),this.qrcode=new Jj(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=f7.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var u=p7.create(r,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=d,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:wn.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var v=this,y=this.stateManagerProxy.startTransition(Wt.SCANNING);return new Promise(function(w,A){var C=h?u.videoConstraints:v.createVideoConstraints(t);if(!C){y.cancel(),A("videoConstraints should be defined");return}var O={};(!h||u.aspectRatio)&&(O.aspectRatio=u.aspectRatio);var _={onRenderSurfaceReady:function(I,T){v.setupUi(I,T,u),v.isScanning=!0,v.foreverScan(u,n,s)}};o7.failIfNotSupported().then(function(I){I.create(C).then(function(T){return T.render(a.element,O,_).then(function(D){v.renderedCamera=D,y.execute(),w(null)}).catch(function(D){y.cancel(),A(D)})}).catch(function(T){y.cancel(),A(el.errorGettingUserMedia(T))})}).catch(function(I){y.cancel(),A(el.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Wt.PAUSED),this.showPausedState(),(qi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Wt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(wn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qi(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var s=new Image;s.onload=function(){var u=s.width,d=s.height,h=document.getElementById(n.elementId),p=h.clientWidth?h.clientWidth:wn.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:d,wn.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(u,d,p,v);if(r){var w=n.createCanvasElement(p,v,"qr-canvas-visible");w.style.display="inline-block",h.appendChild(w);var A=w.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=p,A.canvas.height=v,A.drawImage(s,0,0,u,d,y.x,y.y,y.width,y.height)}var C=wn.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(s.width,y.width),_=Math.max(s.height,y.height),I=O+2*C,T=_+2*C,D=n.createCanvasElement(I,T);h.appendChild(D);var M=D.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=I,M.canvas.height=T,M.drawImage(s,0,0,u,d,C,C,O,_);try{n.qrcode.decodeRobustlyAsync(D).then(function(j){i(Z2.createFromQrcodeResult(j))}).catch(a)}catch(j){a("QR code parse error, error = ".concat(j))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return u7.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!IO.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var s=a[i];Hj(s)?n.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(qi(t))return!0;if(!qi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(qi(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return qi(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(t,r,a),u=function(h){if(h<wn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wn.MIN_QR_BOX_SIZE,"px.")},d=function(h){return h>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};u(s.width),u(s.height),s.width=d(s.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=qi(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},d=s?this.getShadedRegionBounds(t,r,a):u,h=this.createCanvasElement(d.width,d.height),p={willReadFrequently:!0},v=h.getContext("2d",p);v.canvas.width=d.width,v.canvas.height=d.height,this.element.append(h),s&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=v,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=el.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Z2.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=el.codeParseError(i);return r(a,Kj.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*s,h=this.qrRegion.height*u,p=this.qrRegion.x*s,v=this.qrRegion.y*u;this.context.drawImage(a,p,v,d,h,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(w){!w&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){y()})):y()}).catch(function(w){i.logger.logError("Error happend while scanning context",w),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={},a="exact",s=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var h=t.facingMode;if(typeof h=="string"){if(s(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(s(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var p=typeof h;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var y=typeof v;throw"Invalid type of 'deviceId' = ".concat(y)}}}var w=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(w)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,s=(i-r)/2;return{x:a,y:s,width:t,height:r}}else{var u=t,d=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?wn.BORDER_SHADER_MATCH_COLOR:wn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=qi(n)?"qr-canvas":n,s},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(wn.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,h=40;this.insertShaderBorders(a,h,d,-d,null,0,!0),this.insertShaderBorders(a,h,d,-d,null,0,!1),this.insertShaderBorders(a,h,d,null,-d,0,!0),this.insertShaderBorders(a,h,d,null,-d,0,!1),this.insertShaderBorders(a,d,h+d,-d,null,-d,!0),this.insertShaderBorders(a,d,h+d,null,-d,-d,!0),this.insertShaderBorders(a,d,h+d,-d,null,-d,!1),this.insertShaderBorders(a,d,h+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,s,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=wn.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),u?d.style.left="".concat(s,"px"):d.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),iE;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(iE||(iE={}));const m7=()=>b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsxs("div",{className:"relative w-full h-full",children:[b.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white rounded-tl-lg"}),b.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white rounded-tr-lg"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white rounded-bl-lg"}),b.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white rounded-br-lg"}),b.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-red-500 rounded-full animate-scan-laser"})]})}),v7=({isOpen:e,onClose:t,onScanSuccess:r})=>{const n=N.useRef(null);return N.useEffect(()=>{if(!e)return;const i=new g7("barcode-scanner-container");n.current=i;const a={fps:10},s=(d,h)=>{r(d)},u=d=>{};return i.start({facingMode:"environment"},a,s,u).catch(d=>{console.error("Gagal memulai scanner",d)}),()=>{n.current&&n.current.isScanning&&n.current.stop().catch(d=>console.error("Gagal menghentikan scanner.",d))}},[e,r]),e?b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex flex-col justify-center items-center p-4 animate-fade-in",children:[b.jsxs("div",{className:"relative w-full max-w-md h-64 bg-gray-800 rounded-lg overflow-hidden shadow-2xl",children:[b.jsx("div",{id:"barcode-scanner-container",className:"w-full h-full"}),b.jsx(m7,{})]}),b.jsx("p",{className:"z-10 text-white text-lg mt-6",children:"Posisikan barcode di dalam kotak"}),b.jsx("button",{onClick:()=>{n.current&&n.current.isScanning&&n.current.stop(),t()},className:"z-10 mt-6 bg-white bg-opacity-20 backdrop-blur-md text-white font-bold py-3 px-8 rounded-lg border border-white border-opacity-30",children:"Batal"})]}):null},y7=({isOpen:e,onClose:t,onApplyDiscount:r})=>{const[n,i]=N.useState("persen"),[a,s]=N.useState("");if(!e)return null;const u=()=>{const d=parseFloat(a);!isNaN(d)&&d>=0?(r({type:n,value:d}),t()):alert("Nilai diskon tidak valid.")};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm m-4",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Tambah Diskon"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Diskon"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>i("persen"),className:`w-full py-2 rounded-md ${n==="persen"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Persen (%)"}),b.jsx("button",{onClick:()=>i("rupiah"),className:`w-full py-2 rounded-md ${n==="rupiah"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Rupiah (Rp)"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nilai Diskon"}),b.jsx("input",{type:"number",name:"value",id:"value",value:a,onChange:d=>s(d.target.value),className:"w-full text-lg p-2 border-gray-300 rounded-md shadow-sm",placeholder:n==="persen"?"Contoh: 10":"Contoh: 5000",autoFocus:!0})]}),b.jsxs("div",{className:"flex justify-end gap-4",children:[b.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"}),b.jsx("button",{onClick:u,className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Terapkan"})]})]})})},aE=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),x7=({isOpen:e,onClose:t,onReturnSuccess:r})=>{const[n,i]=N.useState(1),[a,s]=N.useState(""),[u,d]=N.useState(null),[h,p]=N.useState(!1),[v,y]=N.useState({}),[w,A]=N.useState(""),C=()=>{i(1),s(""),d(null),p(!1),y({}),A("")},O=()=>{C(),t()},_=async M=>{M.preventDefault(),p(!0);const{data:j,error:L}=await Ve.from("transactions").select("*").eq("id",a).single();if(L||!j)_e.error("Transaksi tidak ditemukan!"),d(null);else{d(j);const z={};j.items.forEach(U=>{z[U.product_id]={...U,return_quantity:0}}),y(z),i(2)}p(!1)},I=(M,j)=>{const L=v[M],z=L.return_quantity+j;z>=0&&z<=L.quantity&&y(U=>({...U,[M]:{...L,return_quantity:z}}))},T=Object.values(v).reduce((M,j)=>M+j.price*j.return_quantity,0),D=()=>{const M=Object.values(v).filter(j=>j.return_quantity>0);if(M.length===0){_e.error("Pilih minimal satu item untuk diretur.");return}r({original_transaction_id:u.id,refund_amount:T,returned_items:M.map(j=>({product_id:j.product_id,name:j.name,price:j.price,quantity:j.return_quantity})),reason:w}),O()};return e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Retur Transaksi"}),n===1&&b.jsxs("form",{onSubmit:_,className:"p-6",children:[b.jsx("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Masukkan ID Transaksi"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"number",name:"transactionId",value:a,onChange:M=>s(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0}),b.jsx("button",{type:"submit",disabled:h,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:h?"Mencari...":"Cari"})]})]}),n===2&&u&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-6 overflow-y-auto",children:[b.jsxs("div",{className:"mb-4",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"ID Transaksi:"})," ",u.id]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Total Awal:"})," ",aE(u.final_price)]})]}),b.jsx("div",{className:"space-y-3",children:Object.values(v).map(M=>b.jsxs("div",{className:"bg-gray-50 p-3 rounded-md flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:M.name}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Dibeli: ",M.quantity]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>I(M.product_id,-1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold",children:"-"}),b.jsx("span",{children:M.return_quantity}),b.jsx("button",{onClick:()=>I(M.product_id,1),className:"w-7 h-7 bg-gray-200 rounded-md font-bold",children:"+"})]})]},M.product_id))}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alasan Retur (Opsional)"}),b.jsx("input",{type:"text",name:"reason",value:w,onChange:M=>A(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),b.jsxs("div",{className:"flex justify-between items-center p-6 bg-gray-50 border-t flex-shrink-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm",children:"Total Pengembalian Dana"}),b.jsx("p",{className:"text-2xl font-bold",children:aE(T)})]}),b.jsx("button",{onClick:D,className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700",children:"Proses Retur"})]})]}),b.jsx("div",{className:"flex justify-end p-4 border-t bg-white rounded-b-lg",children:b.jsx("button",{type:"button",onClick:O,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Tutup"})})]})}):null},NO=({settings:e,transaction:t,formatCurrency:r,formatDateTime:n})=>b.jsxs("div",{className:"bg-white p-6 font-mono text-xs",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-lg font-bold",children:e.store_name||"POS-Ku"}),b.jsx("p",{children:e.store_address||"Jl. Aplikasi No. 123"}),b.jsx("p",{children:e.store_phone||"0812-3456-7890"}),b.jsx("p",{className:"mt-2",children:n(t.created_at)}),b.jsxs("p",{className:"font-semibold",children:["No. Transaksi: #",t.id]})]}),b.jsx("div",{className:"border-t border-b border-dashed border-gray-400 my-2 py-2",children:t.items.map(i=>b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsxs("div",{children:[b.jsx("p",{children:i.name}),b.jsxs("p",{children:[i.quantity," x ",r(i.price)]})]}),b.jsx("p",{children:r(i.price*i.quantity)})]},i.product_id||i.name))}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{children:"Subtotal"}),b.jsx("p",{children:r(t.subtotal)})]}),t.discount_amount>0&&b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{children:"Diskon"}),b.jsxs("p",{children:["- ",r(t.discount_amount)]})]}),b.jsxs("div",{className:"flex justify-between font-bold text-sm",children:[b.jsx("p",{children:"TOTAL"}),b.jsx("p",{children:r(t.final_price)})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{children:"Tunai"}),b.jsx("p",{children:r(t.amountPaid)})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{children:"Kembalian"}),b.jsx("p",{children:r(t.change)})]})]}),b.jsxs("div",{className:"text-center mt-4",children:[b.jsx("p",{className:"font-semibold",children:"Terima Kasih!"}),b.jsx("p",{className:"text-xs",children:e.receipt_footer_message})]})]}),PO=({settings:e,transaction:t,formatCurrency:r,formatDateTime:n})=>b.jsxs("div",{className:"bg-gray-800 text-white p-6 font-sans text-sm rounded-lg",children:[b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold tracking-widest",children:e.store_name||"POS-Ku"}),b.jsx("p",{className:"text-xs text-gray-400",children:e.store_address})]}),b.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mb-2",children:[b.jsx("span",{children:n(t.created_at)}),b.jsxs("span",{children:["#",t.id]})]}),b.jsx("div",{className:"border-t border-gray-600 pt-2",children:t.items.map(i=>b.jsxs("div",{className:"flex justify-between py-1",children:[b.jsxs("span",{children:[i.quantity,"x ",i.name]}),b.jsx("span",{children:r(i.price*i.quantity)})]},i.product_id||i.name))}),b.jsxs("div",{className:"border-t border-gray-600 mt-2 pt-2 space-y-1 text-right",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-400",children:"Subtotal:"}),b.jsx("span",{children:r(t.subtotal)})]}),t.discount_amount>0&&b.jsxs("div",{className:"flex justify-between text-green-400",children:[b.jsx("span",{className:"text-gray-400",children:"Diskon:"}),b.jsxs("span",{children:["- ",r(t.discount_amount)]})]}),b.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[b.jsx("span",{className:"text-gray-400",children:"Total:"}),b.jsx("span",{children:r(t.final_price)})]})]}),b.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:e.receipt_footer_message})]}),kO=({settings:e,transaction:t,formatCurrency:r,formatDateTime:n})=>b.jsxs("div",{className:"bg-white p-6 font-serif text-xs",children:[b.jsx("p",{className:"text-center font-bold mb-4",children:e.store_name}),b.jsxs("p",{children:["No: #",t.id]}),b.jsx("p",{className:"mb-2",children:n(t.created_at)}),t.items.map(i=>b.jsxs("p",{children:[i.quantity," ",i.name," @",r(i.price)]},i.product_id||i.name)),b.jsxs("p",{className:"mt-2",children:["TOTAL: ",r(t.final_price)]}),b.jsxs("p",{children:["BAYAR: ",r(t.amountPaid)]}),b.jsxs("p",{children:["KEMBALI: ",r(t.change)]}),b.jsx("p",{className:"text-center mt-4",children:e.receipt_footer_message})]}),DO=({settings:e,transaction:t,formatCurrency:r,formatDateTime:n})=>b.jsxs("div",{className:"bg-white p-4 border-2 border-black",children:[b.jsxs("div",{className:"text-center border-b-2 border-black pb-2",children:[b.jsx("h2",{className:"text-xl font-bold",children:e.store_name}),b.jsx("p",{className:"text-xs",children:e.store_address})]}),b.jsx("div",{className:"py-2 border-b-2 border-black",children:t.items.map(i=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{children:[i.quantity,"x ",i.name]}),b.jsx("span",{children:r(i.price*i.quantity)})]},i.product_id||i.name))}),b.jsx("div",{className:"py-2 text-right",children:b.jsxs("p",{className:"text-sm",children:["TOTAL: ",b.jsx("span",{className:"font-bold",children:r(t.final_price)})]})})]}),RO=({settings:e,transaction:t,formatCurrency:r,formatDateTime:n})=>b.jsxs("div",{className:"bg-white p-6 font-sans text-sm",children:[b.jsxs("div",{className:"flex items-center justify-center mb-4 border-b pb-4",children:[e.store_logo_url&&b.jsx("img",{src:e.store_logo_url,alt:"Logo",className:"h-16 w-16 mr-4 rounded-full"}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:e.store_name}),b.jsx("p",{className:"text-xs text-gray-600",children:e.store_address})]})]}),b.jsx("div",{className:"border-t border-b border-dashed border-gray-400 my-2 py-2 text-xs",children:t.items.map(i=>b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsxs("div",{children:[b.jsx("p",{children:i.name}),b.jsxs("p",{children:[i.quantity," x ",r(i.price)]})]}),b.jsx("p",{children:r(i.price*i.quantity)})]},i.product_id||i.name))}),b.jsx("div",{className:"space-y-1 text-xs",children:b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{children:"TOTAL"}),b.jsx("p",{className:"font-bold",children:r(t.final_price)})]})})]}),yy=({isOpen:e,onClose:t,transactionDetails:r})=>{const{settings:n}=N.useContext(v0),i=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),a=u=>new Date(u).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),s=()=>{if(!r||!n)return null;const u={settings:n,transaction:r,formatCurrency:i,formatDateTime:a};switch(n.receipt_template){case"modern":return b.jsx(PO,{...u});case"minimalis":return b.jsx(kO,{...u});case"kotak":return b.jsx(DO,{...u});case"logo":return b.jsx(RO,{...u});case"klasik":default:return b.jsx(NO,{...u})}};return e?b.jsxs(b.Fragment,{children:[" ",b.jsx("style",{children:"@media print { body * { visibility: hidden; } #receipt-section, #receipt-section * { visibility: visible; } #receipt-section { position: absolute; left: 0; top: 0; width: 100%; } }"})," ",b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:[" ",b.jsxs("div",{className:"w-full max-w-sm bg-gray-100 rounded-lg p-4",children:[" ",b.jsxs("div",{id:"receipt-section",children:[" ",s()," "]})," ",b.jsxs("div",{className:"mt-4 flex gap-3",children:[" ",b.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700",children:"Cetak Struk"})," ",b.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Transaksi Baru"})," "]})," "]})," "]})," "]}):null},Sg=12,w7=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,u]=N.useState(0),[d,h]=N.useState([]),[p,v]=N.useState(""),[y,w]=N.useState("Semua"),[A,C]=N.useState("Semua"),[O,_]=N.useState(1),[I,T]=N.useState(!1),[D,M]=N.useState(!1),[j,L]=N.useState(!1),[z,U]=N.useState(!1),[J,X]=N.useState(!1),[q,oe]=N.useState(!1),[de,H]=N.useState(!1),[we,ee]=N.useState(""),[te,fe]=N.useState(null),[ie,ve]=N.useState(null);N.useEffect(()=>{(async()=>{const{data:Te,error:Ie}=await Ve.from("categories").select("*").order("position",{ascending:!0});Ie||h(Te)})()},[]);const re=N.useCallback(async()=>{a(!0);const he=(O-1)*Sg,Te=he+Sg-1;let Ie=Ve.from("products").select("*, categories(name)",{count:"exact"});y!=="Semua"&&(Ie=Ie.eq("categories.name",y)),A==="Menipis"?Ie=Ie.lte("stock",5).gt("stock",0):A==="Habis"&&(Ie=Ie.eq("stock",0)),p&&(Ie=Ie.ilike("name",`%${p}%`)),Ie=Ie.order("created_at",{ascending:!1}).range(he,Te);const{data:Oe,error:Rt,count:me}=await Ie;Rt?_e.error("Gagal memuat produk."):(t(Oe),u(me)),a(!1)},[O,y,A,p]);N.useEffect(()=>{re()},[re]),N.useEffect(()=>{_(1)},[y,A,p]);const Ue=Math.ceil(s/Sg),$e=N.useMemo(()=>r.reduce((he,Te)=>he+Te.price*Te.quantity,0),[r]),qe=N.useMemo(()=>ie?ie.type==="persen"?$e*ie.value/100:Math.min(ie.value,$e):0,[ie,$e]),xe=N.useMemo(()=>$e-qe,[$e,qe]),cr=he=>{const Te=r.find(Oe=>Oe.id===he.id);if((Te?Te.quantity:0)>=he.stock){_e.error(`Stok ${he.name} tidak mencukupi!`);return}n(Oe=>Oe.find(me=>me.id===he.id)?Oe.map(me=>me.id===he.id?{...me,quantity:me.quantity+1}:me):[...Oe,{...he,quantity:1}]),_e.success(`"${he.name}" ditambahkan.`)},ht=(he,Te)=>{const Ie=e.find(Oe=>Oe.id===he)||r.find(Oe=>Oe.id===he);if(Ie&&Te>Ie.stock){_e.error(`Stok ${Ie.name} hanya tersisa ${Ie.stock}!`);return}Te<=0?n(Oe=>Oe.filter(Rt=>Rt.id!==he)):n(Oe=>Oe.map(Rt=>Rt.id===he?{...Rt,quantity:Te}:Rt))},ye=async he=>{const Te=_e.loading("Memproses transaksi..."),Ie={subtotal:$e,items:r,discount_type:ie==null?void 0:ie.type,discount_value:ie==null?void 0:ie.value,discount_amount:qe,final_price:xe},{data:Oe,error:Rt}=await Ve.from("transactions").insert(Ie).select().single();if(Rt){_e.error("Gagal menyimpan transaksi!",{id:Te});return}const me=r.map(Ea=>({product_id:Ea.id,quantity:Ea.quantity})),{error:Hi}=await Ve.rpc("decrement_stock",{items_in_cart:me});Hi?_e.error("Transaksi berhasil, tapi GAGAL update stok!",{duration:5e3}):_e.success("Transaksi berhasil & stok diperbarui!",{id:Te}),fe({...Oe,amountPaid:parseFloat(he),change:parseFloat(he)-xe}),X(!0),re()},je=async he=>{const Te=_e.loading("Memproses retur..."),{error:Ie}=await Ve.from("returns").insert([he]);if(Ie){_e.error(`Gagal menyimpan retur: ${Ie.message}`,{id:Te});return}const Oe=he.returned_items.map(me=>({product_id:me.product_id,quantity:me.quantity})),{error:Rt}=await Ve.rpc("increment_stock",{items_to_return:Oe});Rt?_e.error("Retur tercatat, tapi GAGAL update stok!",{duration:5e3,id:Te}):_e.success("Retur berhasil diproses & stok diperbarui!",{id:Te}),re()},De=he=>{ve(he),_e.success("Diskon berhasil diterapkan!")},ae=()=>{X(!1),fe(null),n([]),ve(null)},Me=async he=>{U(!1);const{data:Te,error:Ie}=await Ve.from("products").select("*, categories(name)").eq("barcode",he).single();if(Ie&&Ie.code!=="PGRST116"){_e.error("Gagal mencari barcode.");return}Te?cr(Te):(ee(he),M(!0),_e("Barcode tidak ditemukan."))},Ge=async(he,Te)=>{const Ie=_e.loading("Menyimpan produk...");try{let Oe=null;if(Te){const Hi=`${Date.now()}_${Te.name}`,{error:Ea}=await Ve.storage.from("product-images").upload(Hi,Te);if(Ea)throw Ea;const{data:di}=Ve.storage.from("product-images").getPublicUrl(Hi);Oe=di.publicUrl}const Rt={name:he.name,price:parseFloat(he.price),category_id:he.category_id,barcode:he.barcode,image_url:Oe,stock:he.stock,is_consignment:he.is_consignment,cost_price:he.cost_price,supplier_id:he.supplier_id},{error:me}=await Ve.from("products").insert([Rt]);if(me)throw me;_e.success("Produk baru berhasil disimpan!",{id:Ie}),re()}catch(Oe){_e.error(`Gagal: ${Oe.message}`,{id:Ie})}},at=r.reduce((he,Te)=>he+Te.quantity,0);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-4 h-full",children:[b.jsxs("div",{className:"md:col-span-2 flex flex-col h-full overflow-hidden",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm mb-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[b.jsxs("div",{className:"relative flex-grow",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(AO,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"text",placeholder:"Cari produk...",value:p,onChange:he=>v(he.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>H(!0),className:"flex-grow flex items-center justify-center gap-2 bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-yellow-600",children:[b.jsx(CO,{className:"h-5 w-5"}),b.jsx("span",{children:"Retur"})]}),b.jsxs("button",{onClick:()=>U(!0),className:"flex-grow flex items-center justify-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-green-700",children:[b.jsx(fy,{className:"h-5 w-5"}),b.jsx("span",{children:"Scan"})]})]})]}),b.jsx("div",{className:"border-t my-3"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Ij,{className:"h-5 w-5 text-gray-500"}),b.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Filter Stok:"}),["Semua","Menipis","Habis"].map(he=>b.jsx("button",{onClick:()=>C(he),className:`px-3 py-1 text-sm rounded-full ${A===he?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:he},he))]})]}),b.jsxs("div",{className:"mb-4 flex items-center gap-2 overflow-x-auto pb-2",children:[b.jsx("button",{onClick:()=>w("Semua"),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${y==="Semua"?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Semua"}),d.map(he=>b.jsx("button",{onClick:()=>w(he.name),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${y===he.name?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"}`,children:he.name},he.id))]})]}),b.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[i?b.jsx("div",{className:"text-center text-gray-500 py-10",children:"Memuat produk..."}):b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:e.length>0?e.map(he=>b.jsx(zj,{product:he,onAddToCart:cr},he.id)):b.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:b.jsx("p",{children:"Produk tidak ditemukan."})})}),Ue>1&&b.jsxs("div",{className:"flex justify-center items-center mt-6 gap-4",children:[b.jsx("button",{onClick:()=>_(he=>he-1),disabled:O===1,className:"px-4 py-2 bg-white rounded-lg shadow disabled:opacity-50",children:"Sebelumnya"}),b.jsxs("span",{className:"font-semibold",children:[O," / ",Ue]}),b.jsx("button",{onClick:()=>_(he=>he+1),disabled:O===Ue,className:"px-4 py-2 bg-white rounded-lg shadow disabled:opacity-50",children:"Berikutnya"})]})]})]}),b.jsx("div",{id:"desktop-cart-target",className:"hidden md:block md:col-span-1",children:b.jsx(K2,{items:r,onUpdateQuantity:ht,onPay:()=>L(!0),subtotal:$e,discountAmount:qe,finalPrice:xe,onAddDiscount:()=>oe(!0),onRemoveDiscount:()=>ve(null),discount:ie})})]}),b.jsx("div",{id:"mobile-cart-target",className:"md:hidden fixed bottom-20 right-4 z-20",children:b.jsxs("button",{onClick:()=>T(!0),className:"bg-blue-600 text-white rounded-full p-4 shadow-lg transform hover:scale-110 transition-transform",children:[b.jsx(_j,{className:"h-7 w-7"}),at>0&&b.jsxs("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:[" ",at," "]})]})}),I&&b.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30 flex items-end",onClick:()=>T(!1),children:b.jsx("div",{className:"bg-gray-50 w-full rounded-t-2xl p-1 h-[85%] animate-slide-up",onClick:he=>he.stopPropagation(),children:b.jsx("div",{className:"p-4 bg-white rounded-t-2xl h-full",children:b.jsx(K2,{items:r,onUpdateQuantity:ht,onClose:()=>T(!1),onPay:()=>{T(!1),L(!0)},subtotal:$e,discountAmount:qe,finalPrice:xe,onAddDiscount:()=>{T(!1),oe(!0)},onRemoveDiscount:()=>ve(null),discount:ie})})})}),b.jsx(_O,{isOpen:D,onClose:()=>M(!1),onSave:Ge,initialBarcode:we}),b.jsx(Gj,{isOpen:j,onClose:()=>L(!1),totalPrice:xe,onConfirmPayment:ye}),b.jsx(v7,{isOpen:z,onClose:()=>U(!1),onScanSuccess:Me}),b.jsx(yy,{isOpen:J,onClose:ae,transactionDetails:te}),b.jsx(y7,{isOpen:q,onClose:()=>oe(!1),onApplyDiscount:De}),b.jsx(x7,{isOpen:de,onClose:()=>H(!1),onReturnSuccess:je})]})},gu=({title:e,value:t,icon:r,onClick:n,color:i="blue"})=>{const a=n?"button":"div",s={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"},red:{bg:"bg-red-100",text:"text-red-600"}},u=s[i]||s.blue;return b.jsxs(a,{onClick:n,className:`bg-white p-4 rounded-xl shadow-sm flex items-center w-full text-left transition-all duration-300 ${n?"cursor-pointer hover:shadow-md hover:-translate-y-1":""}`,children:[b.jsx("div",{className:`p-3 rounded-lg mr-4 ${u.bg}`,children:b.jsx("div",{className:u.text,children:r})}),b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),b.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-800 truncate",children:t})]})]})},b7=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),E7=e=>new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),MO=({transaction:e,onClick:t})=>b.jsx("div",{onClick:()=>t(e),className:"bg-white p-3 rounded-lg shadow-sm mb-3 cursor-pointer hover:bg-gray-50 transition-colors",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"font-bold text-gray-800",children:["Transaksi #",e.id]}),b.jsx("p",{className:"text-sm text-gray-500",children:E7(e.created_at)})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"font-bold text-blue-600",children:b7(e.final_price)}),b.jsxs("p",{className:"text-xs text-gray-400",children:[e.items.length," item"]})]})]})});function jO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=jO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=jO(e))&&(n&&(n+=" "),n+=t);return n}var x0={},BO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(BO);var xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(xy);var wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(wy);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",u="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const h=r[a];u?h==="\\"&&a+1<i?(a++,s+=r[a]):h===u?u="":s+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,n.push(s),s=""):s+=h:h==="["?(d=!0,s&&(n.push(s),s="")):h==="."?s&&(n.push(s),s=""):s+=h,a++}return s&&n.push(s),n}e.toPath=t})(w0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BO,r=xy,n=wy,i=w0;function a(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?r.isDeepKey(d)?a(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return s(u,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function s(u,d,h){if(d.length===0)return h;let p=u;for(let v=0;v<d.length;v++){if(p==null||t.isUnsafeProperty(d[v]))return h;p=p[d[v]]}return p===void 0?h:p}e.get=a})(x0);var A7=x0.get;const so=Ln(A7);var LO={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,by=wr?Symbol.for("react.element"):60103,Ey=wr?Symbol.for("react.portal"):60106,b0=wr?Symbol.for("react.fragment"):60107,E0=wr?Symbol.for("react.strict_mode"):60108,A0=wr?Symbol.for("react.profiler"):60114,S0=wr?Symbol.for("react.provider"):60109,C0=wr?Symbol.for("react.context"):60110,Ay=wr?Symbol.for("react.async_mode"):60111,_0=wr?Symbol.for("react.concurrent_mode"):60111,O0=wr?Symbol.for("react.forward_ref"):60112,I0=wr?Symbol.for("react.suspense"):60113,S7=wr?Symbol.for("react.suspense_list"):60120,T0=wr?Symbol.for("react.memo"):60115,N0=wr?Symbol.for("react.lazy"):60116,C7=wr?Symbol.for("react.block"):60121,_7=wr?Symbol.for("react.fundamental"):60117,O7=wr?Symbol.for("react.responder"):60118,I7=wr?Symbol.for("react.scope"):60119;function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case by:switch(e=e.type,e){case Ay:case _0:case b0:case A0:case E0:case I0:return e;default:switch(e=e&&e.$$typeof,e){case C0:case O0:case N0:case T0:case S0:return e;default:return t}}case Ey:return t}}}function FO(e){return Un(e)===_0}dt.AsyncMode=Ay;dt.ConcurrentMode=_0;dt.ContextConsumer=C0;dt.ContextProvider=S0;dt.Element=by;dt.ForwardRef=O0;dt.Fragment=b0;dt.Lazy=N0;dt.Memo=T0;dt.Portal=Ey;dt.Profiler=A0;dt.StrictMode=E0;dt.Suspense=I0;dt.isAsyncMode=function(e){return FO(e)||Un(e)===Ay};dt.isConcurrentMode=FO;dt.isContextConsumer=function(e){return Un(e)===C0};dt.isContextProvider=function(e){return Un(e)===S0};dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===by};dt.isForwardRef=function(e){return Un(e)===O0};dt.isFragment=function(e){return Un(e)===b0};dt.isLazy=function(e){return Un(e)===N0};dt.isMemo=function(e){return Un(e)===T0};dt.isPortal=function(e){return Un(e)===Ey};dt.isProfiler=function(e){return Un(e)===A0};dt.isStrictMode=function(e){return Un(e)===E0};dt.isSuspense=function(e){return Un(e)===I0};dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===b0||e===_0||e===A0||e===E0||e===I0||e===S7||typeof e=="object"&&e!==null&&(e.$$typeof===N0||e.$$typeof===T0||e.$$typeof===S0||e.$$typeof===C0||e.$$typeof===O0||e.$$typeof===_7||e.$$typeof===O7||e.$$typeof===I7||e.$$typeof===C7)};dt.typeOf=Un;LO.exports=dt;var $O=LO.exports,mr=e=>e===0?0:e>0?1:-1,Rn=e=>typeof e=="number"&&e!=+e,Wo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!Rn(e),zi=e=>Se(e)||typeof e=="string",T7=0,wl=e=>{var t=++T7;return"".concat(e||"").concat(t)},Qr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return n;var a;if(Wo(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Rn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},UO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},La=(e,t)=>Se(e)&&Se(t)?r=>e+r*(t-e):()=>t;function N7(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):so(n,t))===r)}var er=e=>e===null||typeof e>"u",Wc=e=>er(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),P7=["viewBox","children"],k7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oE=["points","pathLength"],Cg={svg:P7,polygon:oE,polyline:oE},Sy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],D7=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Sy.includes(i)&&(n[i]=a=>r[i](r,a))}),n},R7=(e,t,r)=>n=>(e(t,r,n),null),zc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Sy.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=R7(a,t,r))}),n},sE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lE=null,_g=null,WO=e=>{if(e===lE&&Array.isArray(_g))return _g;var t=[];return N.Children.forEach(e,r=>{er(r)||($O.isFragment(r)?t=t.concat(WO(r.props.children)):t.push(r))}),_g=t,lE=e,t};function Gc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>sE(i)):n=[sE(t)],WO(e).forEach(i=>{var a=so(i,"type.displayName")||so(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var M7=(e,t,r,n)=>{var i,a=(i=n&&(Cg==null?void 0:Cg[n]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(n&&a.includes(t)||k7.includes(t))||r&&Sy.includes(t)},ut=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;M7((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},j7=["children","width","height","viewBox","className","style","title","desc"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}function B7(e,t){if(e==null)return{};var r,n,i=L7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function L7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cy=N.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:u,title:d,desc:h}=e,p=B7(e,j7),v=a||{width:n,height:i,x:0,y:0},y=lt("recharts-surface",s);return N.createElement("svg",fm({},ut(p,!0,"svg"),{className:y,width:n,height:i,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),N.createElement("title",null,d),N.createElement("desc",null,h),r)}),F7=["children","className"];function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}function $7(e,t){if(e==null)return{};var r,n,i=U7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function U7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jr=N.forwardRef((e,t)=>{var{children:r,className:n}=e,i=$7(e,F7),a=lt("recharts-layer",n);return N.createElement("g",hm({className:a},ut(i,!0),{ref:t}),r)}),zO=N.createContext(null),W7=()=>N.useContext(zO);function Et(e){return function(){return e}}const GO=Math.cos,ih=Math.sin,Oi=Math.sqrt,ah=Math.PI,P0=2*ah,pm=Math.PI,gm=2*pm,Do=1e-6,z7=gm-Do;function HO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function G7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HO;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class H7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HO:G7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,d=n-t,h=i-r,p=s-t,v=u-r,y=p*p+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Do)if(!(Math.abs(v*d-h*p)>Do)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-s,A=i-u,C=d*d+h*h,O=w*w+A*A,_=Math.sqrt(C),I=Math.sqrt(y),T=a*Math.tan((pm-Math.acos((C+y-O)/(2*_*I)))/2),D=T/I,M=T/_;Math.abs(D-1)>Do&&this._append`L${t+D*p},${r+D*v}`,this._append`A${a},${a},0,0,${+(v*w>p*A)},${this._x1=t+M*d},${this._y1=r+M*h}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),h=t+u,p=r+d,v=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Do||Math.abs(this._y1-p)>Do)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%gm+gm),y>z7?this._append`A${n},${n},0,1,${v},${t-u},${r-d}A${n},${n},0,1,${v},${this._x1=h},${this._y1=p}`:y>Do&&this._append`A${n},${n},0,${+(y>=pm)},${v},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _y(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new H7(t)}function Oy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VO(e){this._context=e}VO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function k0(e){return new VO(e)}function KO(e){return e[0]}function qO(e){return e[1]}function XO(e,t){var r=Et(!0),n=null,i=k0,a=null,s=_y(u);e=typeof e=="function"?e:e===void 0?KO:Et(e),t=typeof t=="function"?t:t===void 0?qO:Et(t);function u(d){var h,p=(d=Oy(d)).length,v,y=!1,w;for(n==null&&(a=i(w=s())),h=0;h<=p;++h)!(h<p&&r(v=d[h],h,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(v,h,d),+t(v,h,d));if(w)return a=null,w+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Et(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Et(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Et(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function Vd(e,t,r){var n=null,i=Et(!0),a=null,s=k0,u=null,d=_y(h);e=typeof e=="function"?e:e===void 0?KO:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qO:Et(+r);function h(v){var y,w,A,C=(v=Oy(v)).length,O,_=!1,I,T=new Array(C),D=new Array(C);for(a==null&&(u=s(I=d())),y=0;y<=C;++y){if(!(y<C&&i(O=v[y],y,v))===_)if(_=!_)w=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=y-1;A>=w;--A)u.point(T[A],D[A]);u.lineEnd(),u.areaEnd()}_&&(T[y]=+e(O,y,v),D[y]=+t(O,y,v),u.point(n?+n(O,y,v):T[y],r?+r(O,y,v):D[y]))}if(I)return u=null,I+""||null}function p(){return XO().defined(i).curve(s).context(a)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:Et(+v),n=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Et(+v),h):e},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Et(+v),h):n},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:Et(+v),r=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Et(+v),h):t},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Et(+v),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Et(!!v),h):i},h.curve=function(v){return arguments.length?(s=v,a!=null&&(u=s(a)),h):s},h.context=function(v){return arguments.length?(v==null?a=u=null:u=s(a=v),h):a},h}class YO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function V7(e){return new YO(e,!0)}function K7(e){return new YO(e,!1)}const Iy={draw(e,t){const r=Oi(t/ah);e.moveTo(r,0),e.arc(0,0,r,0,P0)}},q7={draw(e,t){const r=Oi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ZO=Oi(1/3),X7=ZO*2,Y7={draw(e,t){const r=Oi(t/X7),n=r*ZO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Z7={draw(e,t){const r=Oi(t),n=-r/2;e.rect(n,n,r,r)}},Q7=.8908130915292852,QO=ih(ah/10)/ih(7*ah/10),J7=ih(P0/10)*QO,eB=-GO(P0/10)*QO,tB={draw(e,t){const r=Oi(t*Q7),n=J7*r,i=eB*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=P0*a/5,u=GO(s),d=ih(s);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Og=Oi(3),rB={draw(e,t){const r=-Oi(t/(Og*3));e.moveTo(0,r*2),e.lineTo(-Og*r,-r),e.lineTo(Og*r,-r),e.closePath()}},Vn=-.5,Kn=Oi(3)/2,mm=1/Oi(12),nB=(mm/2+1)*3,iB={draw(e,t){const r=Oi(t/nB),n=r/2,i=r*mm,a=n,s=r*mm+r,u=-a,d=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(u,d),e.lineTo(Vn*n-Kn*i,Kn*n+Vn*i),e.lineTo(Vn*a-Kn*s,Kn*a+Vn*s),e.lineTo(Vn*u-Kn*d,Kn*u+Vn*d),e.lineTo(Vn*n+Kn*i,Vn*i-Kn*n),e.lineTo(Vn*a+Kn*s,Vn*s-Kn*a),e.lineTo(Vn*u+Kn*d,Vn*d-Kn*u),e.closePath()}};function aB(e,t){let r=null,n=_y(i);e=typeof e=="function"?e:Et(e||Iy),t=typeof t=="function"?t:Et(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Et(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Et(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function oh(){}function sh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oB(e){return new JO(e)}function eI(e){this._context=e}eI.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sB(e){return new eI(e)}function tI(e){this._context=e}tI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lB(e){return new tI(e)}function rI(e){this._context=e}rI.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function uB(e){return new rI(e)}function uE(e){return e<0?-1:1}function cE(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(uE(a)+uE(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function dE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ig(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,u=(a-n)/3;e._context.bezierCurveTo(n+u,i+u*t,a-u,s-u*r,a,s)}function lh(e){this._context=e}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ig(this,this._t0,dE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ig(this,dE(this,r=cE(this,e,t)),r);break;default:Ig(this,this._t0,r=cE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nI(e){this._context=new iI(e)}(nI.prototype=Object.create(lh.prototype)).point=function(e,t){lh.prototype.point.call(this,t,e)};function iI(e){this._context=e}iI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function cB(e){return new lh(e)}function dB(e){return new nI(e)}function aI(e){this._context=e}aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fE(e),i=fE(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fE(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function fB(e){return new aI(e)}function D0(e,t){this._context=e,this._t=t}D0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hB(e){return new D0(e,.5)}function pB(e){return new D0(e,0)}function gB(e){return new D0(e,1)}function bl(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,u=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mB(e,t){return e[t]}function vB(e){const t=[];return t.key=e,t}function yB(){var e=Et([]),t=vm,r=bl,n=mB;function i(a){var s=Array.from(e.apply(this,arguments),vB),u,d=s.length,h=-1,p;for(const v of a)for(u=0,++h;u<d;++u)(s[u][h]=[0,+n(v,s[u].key,h,a)]).data=v;for(u=0,p=Oy(t(s));u<d;++u)s[p[u]].index=u;return r(s,p),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Et(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Et(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?vm:typeof a=="function"?a:Et(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??bl,i):r},i}function xB(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}bl(e,t)}}function wB(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=e[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}bl(e,t)}}function bB(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,d=0,h=0;u<s;++u){for(var p=e[t[u]],v=p[n][1]||0,y=p[n-1][1]||0,w=(v-y)/2,A=0;A<u;++A){var C=e[t[A]],O=C[n][1]||0,_=C[n-1][1]||0;w+=O-_}d+=v,h+=w*v}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,bl(e,t)}}var EB=["type","size","sizeType"];function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(null,arguments)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){AB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t,r){return(t=SB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _B(e,t){if(e==null)return{};var r,n,i=OB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oI={symbolCircle:Iy,symbolCross:q7,symbolDiamond:Y7,symbolSquare:Z7,symbolStar:tB,symbolTriangle:rB,symbolWye:iB},IB=Math.PI/180,TB=e=>{var t="symbol".concat(Wc(e));return oI[t]||Iy},NB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*IB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PB=(e,t)=>{oI["symbol".concat(Wc(e))]=t},Ty=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=_B(e,EB),a=pE(pE({},i),{},{type:t,size:r,sizeType:n}),s=()=>{var v=TB(t),y=aB().type(v).size(NB(r,n,t));return y()},{className:u,cx:d,cy:h}=a,p=ut(a,!0);return d===+d&&h===+h&&r===+r?N.createElement("path",ym({},p,{className:lt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:s()})):null};Ty.registerSymbol=PB;function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(null,arguments)}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ny(e,t,r){return(t=DB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function RB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qn=32;class Py extends N.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=qn/2,a=qn/6,s=qn/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:qn,y2:i,className:"recharts-legend-icon"});if(d==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(qn,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return N.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var h=kB({},t);return delete h.legendIcon,N.cloneElement(t.legendIcon,h)}return N.createElement(Ty,{fill:u,cx:i,cy:i,size:qn,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,u={x:0,y:0,width:qn,height:qn},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,v)=>{var y=p.formatter||i,w=lt({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?a:p.color,C=y?y(p.value,p,v):p.value;return N.createElement("li",xm({className:w,style:d,key:"legend-item-".concat(v)},zc(this.props,p,v)),N.createElement(Cy,{width:r,height:r,viewBox:u,style:h,"aria-label":"".concat(C," legend icon")},this.renderIcon(p,s)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},C))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Ny(Py,"displayName","Legend");Ny(Py,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var sI={},lI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],u=n(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}e.uniqBy=t})(lI);var ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ky);var uI={},R0={},cI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(R0);var dI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(dI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0,r=dI;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(uI);var fI={},hI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0;function r(n){return function(i){return t.get(i,n)}}e.property=r})(hI);var pI={},Tg={},Ng={},Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dy);var Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ry);var M0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(M0);var mE;function MB(){return mE||(mE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My(),r=Dy,n=Ry,i=M0;function a(v,y,w){return typeof w!="function"?t.isMatch(v,y):s(v,y,function A(C,O,_,I,T,D){const M=w(C,O,_,I,T,D);return M!==void 0?!!M:s(C,O,A,D)},new Map)}function s(v,y,w,A){if(y===v)return!0;switch(typeof y){case"object":return u(v,y,w,A);case"function":return Object.keys(y).length>0?s(v,{...y},w,A):i.eq(v,y);default:return r.isObject(v)?typeof y=="string"?y==="":!0:i.eq(v,y)}}function u(v,y,w,A){if(y==null)return!0;if(Array.isArray(y))return h(v,y,w,A);if(y instanceof Map)return d(v,y,w,A);if(y instanceof Set)return p(v,y,w,A);const C=Object.keys(y);if(v==null)return C.length===0;if(C.length===0)return!0;if(A&&A.has(y))return A.get(y)===v;A&&A.set(y,v);try{for(let O=0;O<C.length;O++){const _=C[O];if(!n.isPrimitive(v)&&!(_ in v)||y[_]===void 0&&v[_]!==void 0||y[_]===null&&v[_]!==null||!w(v[_],y[_],_,v,y,A))return!1}return!0}finally{A&&A.delete(y)}}function d(v,y,w,A){if(y.size===0)return!0;if(!(v instanceof Map))return!1;for(const[C,O]of y.entries()){const _=v.get(C);if(w(_,O,C,v,y,A)===!1)return!1}return!0}function h(v,y,w,A){if(y.length===0)return!0;if(!Array.isArray(v))return!1;const C=new Set;for(let O=0;O<y.length;O++){const _=y[O];let I=!1;for(let T=0;T<v.length;T++){if(C.has(T))continue;const D=v[T];let M=!1;if(w(D,_,O,v,y,A)&&(M=!0),M){C.add(T),I=!0;break}}if(!I)return!1}return!0}function p(v,y,w,A){return y.size===0?!0:v instanceof Set?h([...v],[...y],w,A):!1}e.isMatchWith=a,e.isSetMatch=p}(Ng)),Ng}var vE;function My(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MB();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Tg)),Tg}var gI={},jy={},By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(By);var j0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(j0);var B0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",v="[object Function]",y="[object ArrayBuffer]",w="[object Object]",A="[object Error]",C="[object DataView]",O="[object Uint8Array]",_="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",D="[object BigUint64Array]",M="[object Int8Array]",j="[object Int16Array]",L="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=C,e.dateTag=u,e.errorTag=A,e.float32ArrayTag=U,e.float64ArrayTag=J,e.functionTag=v,e.int16ArrayTag=j,e.int32ArrayTag=L,e.int8ArrayTag=M,e.mapTag=d,e.numberTag=n,e.objectTag=w,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=I,e.uint32ArrayTag=T,e.uint8ArrayTag=O,e.uint8ClampedArrayTag=_})(B0);var mI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(mI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=j0,n=B0,i=Ry,a=mI;function s(p,v){return u(p,void 0,p,new Map,v)}function u(p,v,y,w=new Map,A=void 0){const C=A==null?void 0:A(p,v,y,w);if(C!=null)return C;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const O=new Array(p.length);w.set(p,O);for(let _=0;_<p.length;_++)O[_]=u(p[_],_,y,w,A);return Object.hasOwn(p,"index")&&(O.index=p.index),Object.hasOwn(p,"input")&&(O.input=p.input),O}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const O=new RegExp(p.source,p.flags);return O.lastIndex=p.lastIndex,O}if(p instanceof Map){const O=new Map;w.set(p,O);for(const[_,I]of p)O.set(_,u(I,_,y,w,A));return O}if(p instanceof Set){const O=new Set;w.set(p,O);for(const _ of p)O.add(u(_,void 0,y,w,A));return O}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const O=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,O);for(let _=0;_<p.length;_++)O[_]=u(p[_],_,y,w,A);return O}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const O=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,O),d(O,p,y,w,A),O}if(typeof File<"u"&&p instanceof File){const O=new File([p],p.name,{type:p.type});return w.set(p,O),d(O,p,y,w,A),O}if(p instanceof Blob){const O=new Blob([p],{type:p.type});return w.set(p,O),d(O,p,y,w,A),O}if(p instanceof Error){const O=new p.constructor;return w.set(p,O),O.message=p.message,O.name=p.name,O.stack=p.stack,O.cause=p.cause,d(O,p,y,w,A),O}if(typeof p=="object"&&h(p)){const O=Object.create(Object.getPrototypeOf(p));return w.set(p,O),d(O,p,y,w,A),O}return p}function d(p,v,y=p,w,A){const C=[...Object.keys(v),...t.getSymbols(v)];for(let O=0;O<C.length;O++){const _=C[O],I=Object.getOwnPropertyDescriptor(p,_);(I==null||I.writable)&&(p[_]=u(v[_],_,y,w,A))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=u,e.copyProperties=d})(jy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(gI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My(),r=gI;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(pI);var vI={},yI={},xI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy,r=B0;function n(i,a){return t.cloneDeepWith(i,(s,u,d,h)=>{const p=a==null?void 0:a(s,u,d,h);if(p!=null)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(v,i),v}case r.argumentsTag:{const v={};return t.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}e.cloneDeepWith=n})(xI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xI;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(yI);var wI={},Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ly);var bI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(bI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xy,r=Ly,n=bI,i=w0;function a(s,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(s==null?void 0:s[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=s;for(let p=0;p<d.length;p++){const v=d[p];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}e.has=a})(wI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My(),r=wy,n=yI,i=x0,a=wI;function s(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?a.has(h,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=s})(vI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ky,r=hI,n=pI,i=vI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(fI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI,r=ky,n=uI,i=fI;function a(s,u=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(u)):[]}e.uniqBy=a})(sI);var jB=sI.uniqBy;const yE=Ln(jB);function EI(e,t,r){return t===!0?yE(e,r):typeof t=="function"?yE(e,t):e}var AI={exports:{}},SI={},CI={exports:{}},_I={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=N;function BB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LB=typeof Object.is=="function"?Object.is:BB,FB=El.useState,$B=El.useEffect,UB=El.useLayoutEffect,WB=El.useDebugValue;function zB(e,t){var r=t(),n=FB({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return UB(function(){i.value=r,i.getSnapshot=t,Pg(i)&&a({inst:i})},[e,r,t]),$B(function(){return Pg(i)&&a({inst:i}),e(function(){Pg(i)&&a({inst:i})})},[e]),WB(r),r}function Pg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!LB(e,r)}catch{return!0}}function GB(e,t){return t()}var HB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GB:zB;_I.useSyncExternalStore=El.useSyncExternalStore!==void 0?El.useSyncExternalStore:HB;CI.exports=_I;var VB=CI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=N,KB=VB;function qB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XB=typeof Object.is=="function"?Object.is:qB,YB=KB.useSyncExternalStore,ZB=L0.useRef,QB=L0.useEffect,JB=L0.useMemo,e9=L0.useDebugValue;SI.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=ZB(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=JB(function(){function d(w){if(!h){if(h=!0,p=w,w=n(w),i!==void 0&&s.hasValue){var A=s.value;if(i(A,w))return v=A}return v=w}if(A=v,XB(p,w))return A;var C=n(w);return i!==void 0&&i(A,C)?(p=w,A):(p=w,v=C)}var h=!1,p,v,y=r===void 0?null:r;return[function(){return d(t())},y===null?void 0:function(){return d(y())}]},[t,r,n,i]);var u=YB(e,a[0],a[1]);return QB(function(){s.hasValue=!0,s.value=u},[u]),e9(u),u};AI.exports=SI;var t9=AI.exports,Fy=N.createContext(null),r9=e=>e,Dt=()=>{var e=N.useContext(Fy);return e?e.store.dispatch:r9},Cf=()=>{},n9=()=>Cf,i9=(e,t)=>e===t;function Ne(e){var t=N.useContext(Fy);return t9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:n9,t?t.store.getState:Cf,t?t.store.getState:Cf,t?e:Cf,i9)}function a9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function o9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function s9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var xE=e=>Array.isArray(e)?e:[e];function l9(e){const t=Array.isArray(e[0])?e[0]:e;return s9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function u9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var c9=class{constructor(e){this.value=e}deref(){return this.value}},d9=typeof WeakRef<"u"?WeakRef:c9,f9=0,wE=1;function Kd(){return{s:f9,v:void 0,o:null,p:null}}function OI(e,t={}){let r=Kd();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var v;let u=r;const{length:d}=arguments;for(let y=0,w=d;y<w;y++){const A=arguments[y];if(typeof A=="function"||typeof A=="object"&&A!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const O=C.get(A);O===void 0?(u=Kd(),C.set(A,u)):u=O}else{let C=u.p;C===null&&(u.p=C=new Map);const O=C.get(A);O===void 0?(u=Kd(),C.set(A,u)):u=O}}const h=u;let p;if(u.s===wE)p=u.v;else if(p=e.apply(null,arguments),a++,n){const y=((v=i==null?void 0:i.deref)==null?void 0:v.call(i))??i;y!=null&&n(y,p)&&(p=y,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new d9(p):p}return h.s=wE,h.v=p,p}return s.clearCache=()=>{r=Kd(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function h9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),a9(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...d},{memoize:v,memoizeOptions:y=[],argsMemoize:w=OI,argsMemoizeOptions:A=[]}=p,C=xE(y),O=xE(A),_=l9(i),I=v(function(){return a++,h.apply(null,arguments)},...C),T=w(function(){s++;const M=u9(_,arguments);return u=I.apply(null,M),u},...O);return Object.assign(T,{resultFunc:h,memoizedResultFunc:I,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:v,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var Q=h9(OI),p9=Object.assign((e,t=Q)=>{o9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,u,d)=>(s[r[d]]=u,s),{}))},{withTypes:()=>p9}),II={},TI={},NI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),u=t(i);if(s===u&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};e.compareValues=r})(NI);var PI={},$y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($y);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(PI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI,r=PI,n=w0;function i(a,s,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const h=(w,A)=>{let C=w;for(let O=0;O<A.length&&C!=null;++O)C=C[A[O]];return C},p=(w,A)=>A==null||w==null?A:typeof w=="object"&&"key"in w?Object.hasOwn(A,w.key)?A[w.key]:h(A,w.path):typeof w=="function"?w(A):Array.isArray(w)?h(A,w):typeof A=="object"?A[w]:A,v=s.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return a.map(w=>({original:w,criteria:v.map(A=>p(A,w))})).slice().sort((w,A)=>{for(let C=0;C<v.length;C++){const O=t.compareValues(w.criteria[C],A.criteria[C],u[C]);if(O!==0)return O}return 0}).map(w=>w.original)}e.orderBy=i})(TI);var kI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<a?s(p,d+1):i.push(p)}};return s(r,0),i}e.flatten=t})(kI);var Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=R0,n=Dy,i=M0;function a(s,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],s):!1}e.isIterateeCall=a})(Uy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI,r=kI,n=Uy;function i(a,...s){const u=s.length;return u>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(II);var g9=II.sortBy;const F0=Ln(g9);var DI=e=>e.legend.settings,m9=e=>e.legend.size,v9=e=>e.legend.payload,y9=Q([v9,DI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?F0(n,r):n});function x9(){return Ne(y9)}var qd=1;function RI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>qd||Math.abs(s.left-t.left)>qd||Math.abs(s.top-t.top)>qd||Math.abs(s.width-t.width)>qd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var w9=typeof Symbol=="function"&&Symbol.observable||"@@observable",bE=w9,kg=()=>Math.random().toString(36).substring(7).split("").join("."),b9={INIT:`@@redux/INIT${kg()}`,REPLACE:`@@redux/REPLACE${kg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kg()}`},uh=b9;function Wy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MI(e,t,r){if(typeof e!="function")throw new Error(Or(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Or(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Or(1));return r(MI)(e,t)}let n=e,i=t,a=new Map,s=a,u=0,d=!1;function h(){s===a&&(s=new Map,a.forEach((O,_)=>{s.set(_,O)}))}function p(){if(d)throw new Error(Or(3));return i}function v(O){if(typeof O!="function")throw new Error(Or(4));if(d)throw new Error(Or(5));let _=!0;h();const I=u++;return s.set(I,O),function(){if(_){if(d)throw new Error(Or(6));_=!1,h(),s.delete(I),a=null}}}function y(O){if(!Wy(O))throw new Error(Or(7));if(typeof O.type>"u")throw new Error(Or(8));if(typeof O.type!="string")throw new Error(Or(17));if(d)throw new Error(Or(9));try{d=!0,i=n(i,O)}finally{d=!1}return(a=s).forEach(I=>{I()}),O}function w(O){if(typeof O!="function")throw new Error(Or(10));n=O,y({type:uh.REPLACE})}function A(){const O=v;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Or(11));function I(){const D=_;D.next&&D.next(p())}return I(),{unsubscribe:O(I)}},[bE](){return this}}}return y({type:uh.INIT}),{dispatch:y,subscribe:v,getState:p,replaceReducer:w,[bE]:A}}function E9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:uh.INIT})>"u")throw new Error(Or(12));if(typeof r(void 0,{type:uh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Or(13))})}function jI(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{E9(r)}catch(a){i=a}return function(s={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<n.length;p++){const v=n[p],y=r[v],w=s[v],A=y(w,u);if(typeof A>"u")throw u&&u.type,new Error(Or(14));h[v]=A,d=d||A!==w}return d=d||n.length!==Object.keys(s).length,d?h:s}}function ch(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function A9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Or(15))};const s={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},u=e.map(d=>d(s));return a=ch(...u)(i.dispatch),{...i,dispatch:a}}}function BI(e){return Wy(e)&&"type"in e&&typeof e.type=="string"}var LI=Symbol.for("immer-nothing"),EE=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function bi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Al=Object.getPrototypeOf;function as(e){return!!e&&!!e[Mn]}function fa(e){var t;return e?FI(e)||Array.isArray(e)||!!e[EE]||!!((t=e.constructor)!=null&&t[EE])||U0(e)||W0(e):!1}var S9=Object.prototype.constructor.toString();function FI(e){if(!e||typeof e!="object")return!1;const t=Al(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===S9}function dh(e,t){$0(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function $0(e){const t=e[Mn];return t?t.type_:Array.isArray(e)?1:U0(e)?2:W0(e)?3:0}function wm(e,t){return $0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $I(e,t,r){const n=$0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function C9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function U0(e){return e instanceof Map}function W0(e){return e instanceof Set}function Ro(e){return e.copy_||e.base_}function bm(e,t){if(U0(e))return new Map(e);if(W0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=FI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Mn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],u=n[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[s]})}return Object.create(Al(e),n)}else{const n=Al(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function zy(e,t=!1){return z0(e)||as(e)||!fa(e)||($0(e)>1&&(e.set=e.add=e.clear=e.delete=_9),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>zy(n,!0))),e}function _9(){bi(2)}function z0(e){return Object.isFrozen(e)}var O9={};function os(e){const t=O9[e];return t||bi(0,e),t}var gc;function UI(){return gc}function I9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AE(e,t){t&&(os("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Em(e){Am(e),e.drafts_.forEach(T9),e.drafts_=null}function Am(e){e===gc&&(gc=e.parent_)}function SE(e){return gc=I9(gc,e)}function T9(e){const t=e[Mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Mn].modified_&&(Em(t),bi(4)),fa(e)&&(e=fh(t,e),t.parent_||hh(t,e)),t.patches_&&os("Patches").generateReplacementPatches_(r[Mn].base_,e,t.patches_,t.inversePatches_)):e=fh(t,r,[]),Em(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LI?e:void 0}function fh(e,t,r){if(z0(t))return t;const n=t[Mn];if(!n)return dh(t,(i,a)=>_E(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return hh(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),dh(a,(u,d)=>_E(e,n,i,u,d,r,s)),hh(e,i,!1),r&&e.patches_&&os("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function _E(e,t,r,n,i,a,s){if(as(i)){const u=a&&t&&t.type_!==3&&!wm(t.assigned_,n)?a.concat(n):void 0,d=fh(e,i,u);if($I(r,n,d),as(d))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(fa(i)&&!z0(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fh(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&hh(e,i)}}function hh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zy(t,r)}function N9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:UI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Gy;r&&(i=[n],a=mc);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return n.draft_=u,n.revoke_=s,u}var Gy={get(e,t){if(t===Mn)return e;const r=Ro(e);if(!wm(r,t))return P9(e,r,t);const n=r[t];return e.finalized_||!fa(n)?n:n===Dg(e.base_,t)?(Rg(e),e.copy_[t]=Cm(n,e)):n},has(e,t){return t in Ro(e)},ownKeys(e){return Reflect.ownKeys(Ro(e))},set(e,t,r){const n=WI(Ro(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Dg(Ro(e),t),a=i==null?void 0:i[Mn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(C9(r,i)&&(r!==void 0||wm(e.base_,t)))return!0;Rg(e),Sm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Dg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rg(e),Sm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ro(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bi(11)},getPrototypeOf(e){return Al(e.base_)},setPrototypeOf(){bi(12)}},mc={};dh(Gy,(e,t)=>{mc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mc.deleteProperty=function(e,t){return mc.set.call(this,e,t,void 0)};mc.set=function(e,t,r){return Gy.set.call(this,e[0],t,r,e[0])};function Dg(e,t){const r=e[Mn];return(r?Ro(r):e)[t]}function P9(e,t,r){var i;const n=WI(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function WI(e,t){if(!(t in e))return;let r=Al(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Al(r)}}function Sm(e){e.modified_||(e.modified_=!0,e.parent_&&Sm(e.parent_))}function Rg(e){e.copy_||(e.copy_=bm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(d=a,...h){return s.produce(d,p=>r.call(this,p,...h))}}typeof r!="function"&&bi(6),n!==void 0&&typeof n!="function"&&bi(7);let i;if(fa(t)){const a=SE(this),s=Cm(t,void 0);let u=!0;try{i=r(s),u=!1}finally{u?Em(a):Am(a)}return AE(a,n),CE(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===LI&&(i=void 0),this.autoFreeze_&&zy(i,!0),n){const a=[],s=[];os("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else bi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...u)=>this.produceWithPatches(s,d=>t(d,...u));let n,i;return[this.produce(t,r,(s,u)=>{n=s,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fa(e)||bi(8),as(e)&&(e=aa(e));const t=SE(this),r=Cm(e,void 0);return r[Mn].isManual_=!0,Am(t),r}finishDraft(e,t){const r=e&&e[Mn];(!r||!r.isManual_)&&bi(9);const{scope_:n}=r;return AE(n,t),CE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=os("Patches").applyPatches_;return as(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Cm(e,t){const r=U0(e)?os("MapSet").proxyMap_(e,t):W0(e)?os("MapSet").proxySet_(e,t):N9(e,t);return(t?t.scope_:UI()).drafts_.push(r),r}function aa(e){return as(e)||bi(10,e),zI(e)}function zI(e){if(!fa(e)||z0(e))return e;const t=e[Mn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bm(e,t.scope_.immer_.useStrictShallowCopy_)}else r=bm(e,!0);return dh(r,(n,i)=>{$I(r,n,zI(i))}),t&&(t.finalized_=!1),r}var jn=new k9,GI=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function HI(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var D9=HI(),R9=HI,M9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ch:ch.apply(null,arguments)};function si(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Nn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>BI(n)&&n.type===e,r}var VI=class Du extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Du.prototype)}static get[Symbol.species](){return Du}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Du(...t[0].concat(this)):new Du(...t.concat(this))}};function OE(e){return fa(e)?GI(e,()=>{}):e}function Xd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function j9(e){return typeof e=="boolean"}var B9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new VI;return r&&(j9(r)?s.push(D9):s.push(R9(r.extraArgument))),s},L9="RTK_autoBatch",IE=e=>t=>{setTimeout(t,e)},F9=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IE(10):e.type==="callback"?e.queueNotification:IE(e.timeout),h=()=>{s=!1,a&&(a=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const v=()=>i&&p(),y=n.subscribe(v);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){var v;try{return i=!((v=p==null?void 0:p.meta)!=null&&v[L9]),a=!i,a&&(s||(s=!0,d(h))),n.dispatch(p)}finally{i=!0}}})},$9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new VI(e);return n&&i.push(F9(typeof n=="object"?n:void 0)),i};function U9(e){const t=B9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Wy(r))u=jI(r);else throw new Error(Nn(1));let d;typeof n=="function"?d=n(t):d=t();let h=ch;i&&(h=M9({trace:!1,...typeof i=="object"&&i}));const p=A9(...d),v=$9(p);let y=typeof s=="function"?s(v):v();const w=h(...y);return MI(u,a,w)}function KI(e){const t={},r=[];let n;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Nn(28));if(u in t)throw new Error(Nn(29));return t[u]=s,i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function W9(e){return typeof e=="function"}function z9(e,t){let[r,n,i]=KI(t),a;if(W9(e))a=()=>OE(e());else{const u=OE(e);a=()=>u}function s(u=a(),d){let h=[r[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,v)=>{if(v)if(as(p)){const w=v(p,d);return w===void 0?p:w}else{if(fa(p))return GI(p,y=>v(y,d));{const y=v(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return s.getInitialState=a,s}var G9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",H9=(e=21)=>{let t="",r=e;for(;r--;)t+=G9[Math.random()*64|0];return t},V9=Symbol.for("rtk-slice-createasyncthunk");function K9(e,t){return`${e}/${t}`}function q9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[V9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Nn(11));const u=(typeof i.reducers=="function"?i.reducers(Y9()):i.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(D,M){const j=typeof D=="string"?D:D.type;if(!j)throw new Error(Nn(12));if(j in h.sliceCaseReducersByType)throw new Error(Nn(13));return h.sliceCaseReducersByType[j]=M,p},addMatcher(D,M){return h.sliceMatchers.push({matcher:D,reducer:M}),p},exposeAction(D,M){return h.actionCreators[D]=M,p},exposeCaseReducer(D,M){return h.sliceCaseReducersByName[D]=M,p}};d.forEach(D=>{const M=u[D],j={reducerName:D,type:K9(a,D),createNotation:typeof i.reducers=="function"};Q9(M)?eL(j,M,p,t):Z9(j,M,p)});function v(){const[D={},M=[],j=void 0]=typeof i.extraReducers=="function"?KI(i.extraReducers):[i.extraReducers],L={...D,...h.sliceCaseReducersByType};return z9(i.initialState,z=>{for(let U in L)z.addCase(U,L[U]);for(let U of h.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of M)z.addMatcher(U.matcher,U.reducer);j&&z.addDefaultCase(j)})}const y=D=>D,w=new Map,A=new WeakMap;let C;function O(D,M){return C||(C=v()),C(D,M)}function _(){return C||(C=v()),C.getInitialState()}function I(D,M=!1){function j(z){let U=z[D];return typeof U>"u"&&M&&(U=Xd(A,j,_)),U}function L(z=y){const U=Xd(w,M,()=>new WeakMap);return Xd(U,z,()=>{const J={};for(const[X,q]of Object.entries(i.selectors??{}))J[X]=X9(q,z,()=>Xd(A,z,_),M);return J})}return{reducerPath:D,getSelectors:L,get selectors(){return L(j)},selectSlice:j}}const T={name:a,reducer:O,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:_,...I(s),injectInto(D,{reducerPath:M,...j}={}){const L=M??s;return D.inject({reducerPath:L,reducer:O},j),{...T,...I(L,!0)}}};return T}}function X9(e,t,r,n){function i(a,...s){let u=t(a);return typeof u>"u"&&n&&(u=r()),e(u,...s)}return i.unwrapped=e,i}var ui=q9();function Y9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Z9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!J9(n))throw new Error(Nn(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?si(e,s):si(e))}function Q9(e){return e._reducerDefinitionType==="asyncThunk"}function J9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function eL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Nn(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:d,settled:h,options:p}=r,v=i(e,a,p);n.exposeAction(t,v),s&&n.addCase(v.fulfilled,s),u&&n.addCase(v.pending,u),d&&n.addCase(v.rejected,d),h&&n.addMatcher(v.settled,h),n.exposeCaseReducer(t,{fulfilled:s||Yd,pending:u||Yd,rejected:d||Yd,settled:h||Yd})}function Yd(){}var tL="task",qI="listener",XI="completed",Hy="cancelled",rL=`task-${Hy}`,nL=`task-${XI}`,_m=`${qI}-${Hy}`,iL=`${qI}-${XI}`,G0=class{constructor(e){Gp(this,"name","TaskAbortError");Gp(this,"message");this.code=e,this.message=`${tL} ${Hy} (reason: ${e})`}},Vy=(e,t)=>{if(typeof e!="function")throw new TypeError(Nn(32))},ph=()=>{},YI=(e,t=ph)=>(e.catch(t),e),ZI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Yo=e=>{if(e.aborted){const{reason:t}=e;throw new G0(t)}};function QI(e,t){let r=ph;return new Promise((n,i)=>{const a=()=>i(new G0(e.reason));if(e.aborted){a();return}r=ZI(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=ph})}var aL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof G0?"cancelled":"rejected",error:r}}finally{t==null||t()}},gh=e=>t=>YI(QI(e,t).then(r=>(Yo(e),r))),JI=e=>{const t=gh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ul}=Object,TE={},H0="listenerMiddleware",oL=(e,t)=>{const r=n=>ZI(e,()=>Xo(n,e.reason));return(n,i)=>{Vy(n);const a=new AbortController;r(a);const s=aL(async()=>{Yo(e),Yo(a.signal);const u=await n({pause:gh(a.signal),delay:JI(a.signal),signal:a.signal});return Yo(a.signal),u},()=>Xo(a,nL));return i!=null&&i.autoJoin&&t.push(s.catch(ph)),{result:gh(e)(s),cancel(){Xo(a,rL)}}}},sL=(e,t)=>{const r=async(n,i)=>{Yo(t);let a=()=>{};const u=[new Promise((d,h)=>{let p=e({predicate:n,effect:(v,y)=>{y.unsubscribe(),d([v,y.getState(),y.getOriginalState()])}});a=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await QI(t,Promise.race(u));return Yo(t),d}finally{a()}};return(n,i)=>YI(r(n,i))},e4=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=si(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Nn(21));return Vy(a),{predicate:i,type:t,effect:a}},t4=ul(e=>{const{type:t,predicate:r,effect:n}=e4(e);return{id:H9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Nn(22))}}},{withTypes:()=>t4}),NE=(e,t)=>{const{type:r,effect:n,predicate:i}=e4(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Om=e=>{e.pending.forEach(t=>{Xo(t,_m)})},lL=e=>()=>{e.forEach(Om),e.clear()},PE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},r4=ul(si(`${H0}/add`),{withTypes:()=>r4}),uL=si(`${H0}/removeAll`),n4=ul(si(`${H0}/remove`),{withTypes:()=>n4}),cL=(...e)=>{console.error(`${H0}/error`,...e)},Hc=(e={})=>{const t=new Map,{extra:r,onError:n=cL}=e;Vy(n);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&Om(p)}),a=p=>{const v=NE(t,p)??t4(p);return i(v)};ul(a,{withTypes:()=>a});const s=p=>{const v=NE(t,p);return v&&(v.unsubscribe(),p.cancelActive&&Om(v)),!!v};ul(s,{withTypes:()=>s});const u=async(p,v,y,w)=>{const A=new AbortController,C=sL(a,A.signal),O=[];try{p.pending.add(A),await Promise.resolve(p.effect(v,ul({},y,{getOriginalState:w,condition:(_,I)=>C(_,I).then(Boolean),take:C,delay:JI(A.signal),pause:gh(A.signal),extra:r,signal:A.signal,fork:oL(A.signal,O),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,I,T)=>{_!==A&&(Xo(_,_m),T.delete(_))})},cancel:()=>{Xo(A,_m),p.pending.delete(A)},throwIfCancelled:()=>{Yo(A.signal)}})))}catch(_){_ instanceof G0||PE(n,_,{raisedBy:"effect"})}finally{await Promise.all(O),Xo(A,iL),p.pending.delete(A)}},d=lL(t);return{middleware:p=>v=>y=>{if(!BI(y))return v(y);if(r4.match(y))return a(y.payload);if(uL.match(y)){d();return}if(n4.match(y))return s(y.payload);let w=p.getState();const A=()=>{if(w===TE)throw new Error(Nn(23));return w};let C;try{if(C=v(y),t.size>0){const O=p.getState(),_=Array.from(t.values());for(const I of _){let T=!1;try{T=I.predicate(y,O,w)}catch(D){T=!1,PE(n,D,{raisedBy:"predicate"})}T&&u(I,y,p,A)}}}finally{w=TE}return C},startListening:a,stopListening:s,clearListeners:d}};function Nn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i4=ui({name:"chartLayout",initialState:dL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:fL,setLayout:hL,setChartSize:pL,setScale:gL}=i4.actions,mL=i4.reducer;function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){vL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t,r){return(t=yL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=xL(e,"string");return typeof t=="symbol"?t:t+""}function xL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mh=Math.PI/180,wL=e=>e*180/Math.PI,Jt=(e,t,r,n)=>({x:e+Math.cos(-mh*n)*r,y:t+Math.sin(-mh*n)*r}),a4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bL=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},EL=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=bL({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(r-i)/s,d=Math.acos(u);return n>a&&(d=2*Math.PI-d),{radius:s,angle:wL(d),angleInRadian:d}},AL=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},SL=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},CL=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=EL({x:r,y:n},t),{innerRadius:s,outerRadius:u}=t;if(i<s||i>u||i===0)return null;var{startAngle:d,endAngle:h}=AL(t),p=a,v;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=d}return v?DE(DE({},t),{},{radius:i,angle:SL(p,t)}):null};function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){_L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _L(e,t,r){return(t=OL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return er(e)||er(t)?r:zi(t)?so(e,t,r):typeof t=="function"?t(e):r}var TL=(e,t,r,n,i)=>{var a,s=-1,u=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?r[d-1].coordinate:r[u-1].coordinate,p=r[d].coordinate,v=d>=u-1?r[0].coordinate:r[d+1].coordinate,y=void 0;if(mr(p-h)!==mr(v-p)){var w=[];if(mr(v-p)===mr(i[1]-i[0])){y=v;var A=p+i[1]-i[0];w[0]=Math.min(A,(A+h)/2),w[1]=Math.max(A,(A+h)/2)}else{y=h;var C=v+i[1]-i[0];w[0]=Math.min(p,(C+p)/2),w[1]=Math.max(p,(C+p)/2)}var O=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>O[0]&&e<=O[1]||e>=w[0]&&e<=w[1]){({index:s}=r[d]);break}}else{var _=Math.min(h,v),I=Math.max(h,v);if(e>(_+p)/2&&e<=(I+p)/2){({index:s}=r[d]);break}}}else if(t){for(var T=0;T<u;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<u-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===u-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:s}=t[T]);break}}return s},NL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:u}=t;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&Se(e[a]))return Jn(Jn({},e),{},{[a]:e[a]+(n||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&Se(e[s]))return Jn(Jn({},e),{},{[s]:e[s]+(i||0)})}return e},ms=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",o4=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var i,a,s=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===r&&(a=!0),u.coordinate));return i||s.push(t),a||s.push(r),s},s4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:v,niceTicks:y,axisType:w}=e;if(!s)return null;var A=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,C=i==="category"&&s.bandwidth?s.bandwidth()/A:0;if(C=w==="angleAxis"&&a&&a.length>=2?mr(a[0]-a[1])*2*C:C,v||y){var O=(v||y||[]).map((_,I)=>{var T=n?n.indexOf(_):_;return{coordinate:s(T)+C,value:_,offset:C,index:I}});return O.filter(_=>!Rn(_.coordinate))}return d&&h?h.map((_,I)=>({coordinate:s(_)+C,value:_,index:I,offset:C})):s.ticks&&p!=null?s.ticks(p).map((_,I)=>({coordinate:s(_)+C,value:_,offset:C,index:I})):s.domain().map((_,I)=>({coordinate:s(_)+C,value:n?n[_]:_,index:I,offset:C}))},ME=1e-4,PL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-ME,a=Math.max(n[0],n[1])+ME,s=e(t[0]),u=e(t[r-1]);(s<i||s>a||u<i||u>a)&&e.domain([t[0],t[r-1]])}},kL=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Se(e[0])||e[0]<r)&&(i[0]=r),(!Se(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},DL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var u=Rn(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=i,e[s][r][1]=i+u,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1])}},RL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Rn(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ML={sign:DL,expand:xB,none:bl,silhouette:wB,wiggle:bB,positive:RL},jL=(e,t,r)=>{var n=ML[r],i=yB().keys(t).value((a,s)=>+Ht(a,s,0)).order(vm).offset(n);return i(e)};function l4(e){return e==null?void 0:String(e)}var jE=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var u=Ht(a,t.dataKey,t.scale.domain()[s]);return er(u)?null:t.scale(u)-i/2+n},BL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},LL=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},FL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$L=(e,t,r)=>{if(e!=null)return FL(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,u=s.reduce((d,h)=>{var p=LL(h.slice(t,r+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},BE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ky=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=F0(t,p=>p.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var d=i[s],h=i[s-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function FE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Jn(Jn({},t),{},{dataKey:r,payload:n,value:i,name:a})}function V0(e,t){if(e)return String(e);if(typeof t=="string")return t}function UL(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?CL({x:e,y:t},n):null}var WL=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Jn(Jn(Jn({},n),Jt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:d}=n;return Jn(Jn(Jn({},n),Jt(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},zL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,va=e=>e.layout.width,ya=e=>e.layout.height,GL=e=>e.layout.scale,u4=e=>e.layout.margin,qy=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xy=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),c4="data-recharts-item-index",d4="data-recharts-item-data-key",K0=60;function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){HL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HL(e,t,r){return(t=VL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qL=e=>e.brush.height,lr=Q([va,ya,u4,qL,qy,Xy,DI,m9],(e,t,r,n,i,a,s,u)=>{var d=a.reduce((A,C)=>{var{orientation:O}=C;if(!C.mirror&&!C.hide){var _=typeof C.width=="number"?C.width:K0;return ka(ka({},A),{},{[O]:A[O]+_})}return A},{left:r.left||0,right:r.right||0}),h=i.reduce((A,C)=>{var{orientation:O}=C;return!C.mirror&&!C.hide?ka(ka({},A),{},{[O]:so(A,"".concat(O))+C.height}):A},{top:r.top||0,bottom:r.bottom||0}),p=ka(ka({},h),d),v=p.bottom;p.bottom+=n,p=NL(p,s,u);var y=e-p.left-p.right,w=t-p.top-p.bottom;return ka(ka({brushBottom:v},p),{},{width:Math.max(y,0),height:Math.max(w,0)})}),XL=Q(lr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),f4=Q(va,ya,(e,t)=>({x:0,y:0,width:e,height:t})),YL=N.createContext(null),yn=()=>N.useContext(YL)!=null,q0=e=>e.brush,X0=Q([q0,lr,u4],(e,t,r)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Se(e.width)?e.width:t.width})),Yy=()=>{var e,t=yn(),r=Ne(XL),n=Ne(X0),i=(e=Ne(q0))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},ZL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},h4=()=>{var e;return(e=Ne(lr))!==null&&e!==void 0?e:ZL},Zy=()=>Ne(va),Qy=()=>Ne(ya),QL={top:0,right:0,bottom:0,left:0},JL=()=>{var e;return(e=Ne(t=>t.layout.margin))!==null&&e!==void 0?e:QL},ft=e=>e.layout.layoutType,Jy=()=>Ne(ft),eF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},p4=ui({name:"legend",initialState:eF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=aa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:UE,setLegendSettings:tF,addLegendPayload:g4,removeLegendPayload:m4}=p4.actions,rF=p4.reducer,nF=["contextPayload"];function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(null,arguments)}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ex(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oF(e,t){if(e==null)return{};var r,n,i=sF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lF(e){return e.value}function uF(e){var{contextPayload:t}=e,r=oF(e,nF),n=EI(t,e.payloadUniqBy,lF),i=Sl(Sl({},r),{},{payload:n});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(Py,i)}function cF(e,t,r,n,i,a){var{layout:s,align:u,verticalAlign:d}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&s==="vertical"?h={left:((n||0)-a.width)/2}:h=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((i||0)-a.height)/2}:p=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Sl(Sl({},h),p)}function dF(e){var t=Dt();return N.useEffect(()=>{t(tF(e))},[t,e]),null}function fF(e){var t=Dt();return N.useEffect(()=>(t(UE(e)),()=>{t(UE({width:0,height:0}))}),[t,e]),null}function hF(e){var t=x9(),r=W7(),n=JL(),{width:i,height:a,wrapperStyle:s,portal:u}=e,[d,h]=RI([t]),p=Zy(),v=Qy(),y=p-(n.left||0)-(n.right||0),w=Y0.getWidthOrHeight(e.layout,a,i,y),A=u?s:Sl(Sl({position:"absolute",width:(w==null?void 0:w.width)||i||"auto",height:(w==null?void 0:w.height)||a||"auto"},cF(s,e,n,p,v,d)),s),C=u??r;if(C==null)return null;var O=N.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},N.createElement(dF,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(fF,{width:d.width,height:d.height}),N.createElement(uF,Im({},e,w,{margin:n,chartWidth:p,chartHeight:v,contextPayload:t})));return Bc.createPortal(O,C)}class Y0 extends N.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&Se(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return N.createElement(hF,this.props)}}ex(Y0,"displayName","Legend");ex(Y0,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(null,arguments)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return(t=gF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vF(e){return Array.isArray(e)&&zi(e[0])&&zi(e[1])?e.join(" ~ "):e}var yF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:v,accessibilityLayer:y=!1}=e,w=()=>{if(a&&a.length){var M={padding:0,margin:0},j=(u?F0(a,u):a).map((L,z)=>{if(L.type==="none")return null;var U=L.formatter||s||vF,{value:J,name:X}=L,q=J,oe=X;if(U){var de=U(J,X,L,z,a);if(Array.isArray(de))[q,oe]=de;else if(de!=null)q=de;else return null}var H=Mg({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:H},zi(oe)?N.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,zi(oe)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},q),N.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:M},j)}return null},A=Mg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),C=Mg({margin:0},i),O=!er(p),_=O?p:"",I=lt("recharts-default-tooltip",d),T=lt("recharts-tooltip-label",h);O&&v&&a!==void 0&&a!==null&&(_=v(p,a));var D=y?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Tm({className:I,style:A},D),N.createElement("p",{className:T,style:C},N.isValidElement(_)?_:"".concat(_)),w())},mu="recharts-tooltip-wrapper",xF={visibility:"hidden"};function wF(e){var{coordinate:t,translateX:r,translateY:n}=e;return lt(mu,{["".concat(mu,"-right")]:Se(r)&&t&&Se(t.x)&&r>=t.x,["".concat(mu,"-left")]:Se(r)&&t&&Se(t.x)&&r<t.x,["".concat(mu,"-bottom")]:Se(n)&&t&&Se(t.y)&&n>=t.y,["".concat(mu,"-top")]:Se(n)&&t&&Se(t.y)&&n<t.y})}function GE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=e;if(a&&Se(a[n]))return a[n];var p=r[n]-u-(i>0?i:0),v=r[n]+i;if(t[n])return s[n]?p:v;var y=d[n];if(y==null)return 0;if(s[n]){var w=p,A=y;return w<A?Math.max(v,y):Math.max(p,y)}if(h==null)return 0;var C=v+u,O=y+h;return C>O?Math.max(p,y):Math.max(v,y)}function bF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:d}=e,h,p,v;return s.height>0&&s.width>0&&r?(p=GE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),v=GE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),h=bF({translateX:p,translateY:v,useTranslate3d:u})):h=xF,{cssProperties:h,cssClasses:wF({translateX:p,translateY:v,coordinate:r})}}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){Nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nm(e,t,r){return(t=AF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=SF(e,"string");return typeof t=="symbol"?t:t+""}function SF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CF extends N.PureComponent{constructor(){super(...arguments),Nm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nm(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:v,useTranslate3d:y,viewBox:w,wrapperStyle:A,lastBoundingBox:C,innerRef:O,hasPortalFromProps:_}=this.props,{cssClasses:I,cssProperties:T}=EF({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:h,position:p,reverseDirection:v,tooltipBox:{height:C.height,width:C.width},useTranslate3d:y,viewBox:w}),D=_?{}:Zd(Zd({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=Zd(Zd({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},A);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:M,ref:O},a)}}var _F=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fl={isSsr:_F()},v4=()=>Ne(e=>e.rootProps.accessibilityLayer);function Bn(e){return Number.isFinite(e)}function Cl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(null,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){OF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OF(e,t,r){return(t=IF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=TF(e,"string");return typeof t=="symbol"?t:t+""}function TF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qE={curveBasisClosed:sB,curveBasisOpen:lB,curveBasis:oB,curveBumpX:V7,curveBumpY:K7,curveLinearClosed:uB,curveLinear:k0,curveMonotoneX:cB,curveMonotoneY:dB,curveNatural:fB,curveStep:hB,curveStepAfter:gB,curveStepBefore:pB},Qd=e=>Bn(e.x)&&Bn(e.y),vu=e=>e.x,yu=e=>e.y,NF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Wc(e));return(r==="curveMonotone"||r==="curveBump")&&t?qE["".concat(r).concat(t==="vertical"?"Y":"X")]:qE[r]||k0},PF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=NF(t,i),u=a?r.filter(Qd):r,d;if(Array.isArray(n)){var h=a?n.filter(v=>Qd(v)):n,p=u.map((v,y)=>KE(KE({},v),{},{base:h[y]}));return i==="vertical"?d=Vd().y(yu).x1(vu).x0(v=>v.base.x):d=Vd().x(vu).y1(yu).y0(v=>v.base.y),d.defined(Qd).curve(s),d(p)}return i==="vertical"&&Se(n)?d=Vd().y(yu).x1(vu).x0(n):Se(n)?d=Vd().x(vu).y1(yu).y0(n):d=XO().x(vu).y(yu),d.defined(Qd).curve(s),d(u)},y4=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?PF(e):n;return N.createElement("path",Pm({},ut(e,!1),D7(e),{className:lt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},kF=["x","y","top","left","width","height","className"];function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(null,arguments)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){RF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RF(e,t,r){return(t=MF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BF(e,t){if(e==null)return{};var r,n,i=LF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FF=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),$F=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:u}=e,d=BF(e,kF),h=DF({x:t,y:r,top:n,left:i,width:a,height:s},d);return!Se(t)||!Se(r)||!Se(a)||!Se(s)||!Se(n)||!Se(i)?null:N.createElement("path",km({},ut(h,!0),{className:lt("recharts-cross",u),d:FF(t,r,a,s,n,i)}))};function UF(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){zF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ii(e,t){var r=WF({},e),n=t,i=Object.keys(t),a=i.reduce((s,u)=>(s[u]===void 0&&n[u]!==void 0&&(s[u]=n[u]),s),r);return a}var x4={},w4={},b4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(b4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b4,r=By,n=j0,i=B0,a=M0;function s(h,p,v){return u(h,p,void 0,void 0,void 0,void 0,v)}function u(h,p,v,y,w,A,C){const O=C(h,p,v,y,w,A);if(O!==void 0)return O;if(typeof h==typeof p)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===p;case"number":return h===p||Object.is(h,p);case"function":return h===p;case"object":return d(h,p,A,C)}return d(h,p,A,C)}function d(h,p,v,y){if(Object.is(h,p))return!0;let w=n.getTag(h),A=n.getTag(p);if(w===i.argumentsTag&&(w=i.objectTag),A===i.argumentsTag&&(A=i.objectTag),w!==A)return!1;switch(w){case i.stringTag:return h.toString()===p.toString();case i.numberTag:{const _=h.valueOf(),I=p.valueOf();return a.eq(_,I)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),p.valueOf());case i.regexpTag:return h.source===p.source&&h.flags===p.flags;case i.functionTag:return h===p}v=v??new Map;const C=v.get(h),O=v.get(p);if(C!=null&&O!=null)return C===p;v.set(h,p),v.set(p,h);try{switch(w){case i.mapTag:{if(h.size!==p.size)return!1;for(const[_,I]of h.entries())if(!p.has(_)||!u(I,p.get(_),_,h,p,v,y))return!1;return!0}case i.setTag:{if(h.size!==p.size)return!1;const _=Array.from(h.values()),I=Array.from(p.values());for(let T=0;T<_.length;T++){const D=_[T],M=I.findIndex(j=>u(D,j,void 0,h,p,v,y));if(M===-1)return!1;I.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(p)||h.length!==p.length)return!1;for(let _=0;_<h.length;_++)if(!u(h[_],p[_],_,h,p,v,y))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==p.byteLength?!1:d(new Uint8Array(h),new Uint8Array(p),v,y);case i.dataViewTag:return h.byteLength!==p.byteLength||h.byteOffset!==p.byteOffset?!1:d(new Uint8Array(h),new Uint8Array(p),v,y);case i.errorTag:return h.name===p.name&&h.message===p.message;case i.objectTag:{if(!(d(h.constructor,p.constructor,v,y)||t.isPlainObject(h)&&t.isPlainObject(p)))return!1;const I=[...Object.keys(h),...r.getSymbols(h)],T=[...Object.keys(p),...r.getSymbols(p)];if(I.length!==T.length)return!1;for(let D=0;D<I.length;D++){const M=I[D],j=h[M];if(!Object.hasOwn(p,M))return!1;const L=p[M];if(!u(j,L,M,h,p,v,y))return!1}return!0}default:return!1}}finally{v.delete(h),v.delete(p)}}e.isEqualWith=s})(w4);var E4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(E4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w4,r=E4;function n(i,a){return t.isEqualWith(i,a,r.noop)}e.isEqual=n})(x4);var VF=x4.isEqual;const KF=Ln(VF);function qF(e){var t={},r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var u=s,[d,...h]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,h),d);return}a(d),i=e.setTimeout(a.bind(null,h));return}typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}var vh=1e-4,A4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],S4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),ZE=(e,t)=>r=>{var n=A4(e,t);return S4(n,r)},XF=(e,t)=>r=>{var n=A4(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return S4(i,r)},QE=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var d=s[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,i]=d[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else s.length===4&&([t,n,r,i]=s);var h=ZE(t,r),p=ZE(n,i),v=XF(t,r),y=A=>A>1?1:A<0?0:A,w=A=>{for(var C=A>1?1:A,O=C,_=0;_<8;++_){var I=h(O)-C,T=v(O);if(Math.abs(I-C)<vh||T<vh)return p(O);O=y(O-I/T)}return p(O)};return w.isStepper=!1,w},YF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,u,d)=>{var h=-(s-u)*r,p=d*n,v=d+(h-p)*i/1e3,y=d*i/1e3+s;return Math.abs(y-u)<vh&&Math.abs(v)<vh?[u,0]:[y,v]};return a.isStepper=!0,a.dt=i,a},ZF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QE(e);case"spring":return YF();default:if(e.split("(")[0]==="cubic-bezier")return QE(e)}return typeof e=="function"?e:null};function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){QF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=e$(e,"string");return typeof t=="symbol"?t:t+""}function e$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),r$=(e,t,r)=>e.map(n=>"".concat(t$(n)," ").concat(t,"ms ").concat(r)).join(","),n$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),vc=(e,t)=>Object.keys(t).reduce((r,n)=>eA(eA({},r),{},{[n]:e(n,t[n])}),{});function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){i$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i$(e,t,r){return(t=a$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=o$(e,"string");return typeof t=="symbol"?t:t+""}function o$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yh=(e,t,r)=>e+(t-e)*r,Dm=e=>{var{from:t,to:r}=e;return t!==r},C4=(e,t,r)=>{var n=vc((i,a)=>{if(Dm(a)){var[s,u]=e(a.from,a.to,a.velocity);return Tr(Tr({},a),{},{from:s,velocity:u})}return a},t);return r<1?vc((i,a)=>Dm(a)?Tr(Tr({},a),{},{velocity:yh(a.velocity,n[i].velocity,r),from:yh(a.from,n[i].from,r)}):a,t):C4(e,n,r-1)};function s$(e,t,r,n,i,a){var s,u=n.reduce((y,w)=>Tr(Tr({},y),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),d=()=>vc((y,w)=>w.from,u),h=()=>!Object.values(u).filter(Dm).length,p=null,v=y=>{s||(s=y);var w=y-s,A=w/r.dt;u=C4(r,u,A),i(Tr(Tr(Tr({},e),t),d())),s=y,h()||(p=a.setTimeout(v))};return()=>(p=a.setTimeout(v),()=>{p()})}function l$(e,t,r,n,i,a,s){var u=null,d=i.reduce((v,y)=>Tr(Tr({},v),{},{[y]:[e[y],t[y]]}),{}),h,p=v=>{h||(h=v);var y=(v-h)/n,w=vc((C,O)=>yh(...O,r(y)),d);if(a(Tr(Tr(Tr({},e),t),w)),y<1)u=s.setTimeout(p);else{var A=vc((C,O)=>yh(...O,r(1)),d);a(Tr(Tr(Tr({},e),t),A))}};return()=>(u=s.setTimeout(p),()=>{u()})}const u$=(e,t,r,n,i,a)=>{var s=n$(e,t);return r.isStepper===!0?s$(e,t,r,s,i,a):l$(e,t,r,n,s,i,a)};class c${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var d$=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}function f$(e,t){if(e==null)return{};var r,n,i=h$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zo(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=g$(e,"string");return typeof t=="symbol"?t:t+""}function g$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m$(){return qF(new c$)}class tx extends N.PureComponent{constructor(t,r){super(t,r),zo(this,"mounted",!1),zo(this,"manager",null),zo(this,"stopJSAnimation",null),zo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:s,children:u,duration:d,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||d<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:s});return}if(a){if(typeof u=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:s,from:u}=this.props,{style:d}=this.state;if(n){if(!r){var h={style:i?{[i]:s}:s};this.state&&d&&(i&&d[i]!==s||!i&&d!==s)&&this.setState(h);return}if(!(KF(t.to,s)&&t.canBegin&&t.isActive)){var p=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=p||a?u:t.to;if(this.state&&d){var y={style:i?{[i]:v}:v};(i&&d[i]!==v||!i&&d!==v)&&this.setState(y)}this.runAnimation(Da(Da({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:d}=t,h=u$(r,n,ZF(a),i,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=h()};this.manager.start([d,s,p,i,u])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:a,easing:s,onAnimationStart:u,onAnimationEnd:d,children:h}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof h=="function"||s==="spring"){this.runJSAnimation(t);return}var p=i?{[i]:a}:a,v=r$(Object.keys(p),n,s);this.manager.start([u,r,Da(Da({},p),{},{transition:v}),n,d])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:s,isActive:u,from:d,to:h,canBegin:p,onAnimationEnd:v,shouldReAnimate:y,onAnimationReStart:w,animationManager:A}=t,C=f$(t,d$),O=N.Children.count(r),_=this.state.style;if(typeof r=="function")return r(_);if(!u||O===0||i<=0)return r;var I=T=>{var{style:D={},className:M}=T.props,j=N.cloneElement(T,Da(Da({},C),{},{style:Da(Da({},D),_),className:M}));return j};return O===1?I(N.Children.only(r)):N.createElement("div",null,N.Children.map(r,T=>I(T)))}}zo(tx,"displayName","Animate");zo(tx,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var v$=N.createContext(null);function ss(e){var t,r,n=N.useContext(v$);return N.createElement(tx,Rm({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:m$()}))}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}var nA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],v=0,y=4;v<y;v++)p[v]=i[v]>a?a:i[v];h="M".concat(e,",").concat(t+s*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+r-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+s*p[1])),h+="L ".concat(e+r,",").concat(t+n-s*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-u*p[2],",").concat(t+n)),h+="L ".concat(e+u*p[3],",").concat(t+n),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-s*p[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var w=Math.min(a,i);h="M ".concat(e,",").concat(t+s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+u*w,",").concat(t,`
            L `).concat(e+r-u*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r,",").concat(t+s*w,`
            L `).concat(e+r,",").concat(t+n-s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r-u*w,",").concat(t+n,`
            L `).concat(e+u*w,",").concat(t+n,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(t+n-s*w," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},y$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_4=e=>{var t=Ii(e,y$),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&i(_)}catch{}},[]);var{x:a,y:s,width:u,height:d,radius:h,className:p}=t,{animationEasing:v,animationDuration:y,animationBegin:w,isAnimationActive:A,isUpdateAnimationActive:C}=t;if(a!==+a||s!==+s||u!==+u||d!==+d||u===0||d===0)return null;var O=lt("recharts-rectangle",p);return C?N.createElement(ss,{canBegin:n>0,from:{width:u,height:d,x:a,y:s},to:{width:u,height:d,x:a,y:s},duration:y,animationEasing:v,isActive:C},_=>{var{width:I,height:T,x:D,y:M}=_;return N.createElement(ss,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:A,easing:v},N.createElement("path",xh({},ut(t,!0),{className:O,d:nA(D,M,I,T,h),ref:r})))}):N.createElement("path",xh({},ut(t,!0),{className:O,d:nA(a,s,u,d,h)}))};function O4(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=Jt(t,r,n,i),u=Jt(t,r,n,a);return{points:[s,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(null,arguments)}var x$=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Jd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:d}=e,h=u*(s?1:-1)+n,p=Math.asin(u/h)/mh,v=d?i:i+a*p,y=Jt(t,r,h,v),w=Jt(t,r,n,v),A=d?i-a*p:i,C=Jt(t,r,h*Math.cos(p*mh),A);return{center:y,circleTangency:w,lineTangency:C,theta:p}},I4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,u=x$(a,s),d=a+u,h=Jt(t,r,i,a),p=Jt(t,r,i,d),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var y=Jt(t,r,n,a),w=Jt(t,r,n,d);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(t,",").concat(r," Z");return v},w$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:d,endAngle:h}=e,p=mr(h-d),{circleTangency:v,lineTangency:y,theta:w}=Jd({cx:t,cy:r,radius:i,angle:d,sign:p,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:C,theta:O}=Jd({cx:t,cy:r,radius:i,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:u}),_=u?Math.abs(d-h):Math.abs(d-h)-w-O;if(_<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):I4({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h});var I="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(n>0){var{circleTangency:T,lineTangency:D,theta:M}=Jd({cx:t,cy:r,radius:n,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:j,lineTangency:L,theta:z}=Jd({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),U=u?Math.abs(d-h):Math.abs(d-h)-M-z;if(U<0&&a===0)return"".concat(I,"L").concat(t,",").concat(r,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else I+="L".concat(t,",").concat(r,"Z");return I},b$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T4=e=>{var t=Ii(e,b$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:v}=t;if(a<i||h===p)return null;var y=lt("recharts-sector",v),w=a-i,A=Qr(s,w,0,!0),C;return A>0&&Math.abs(h-p)<360?C=w$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):C=I4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p}),N.createElement("path",Mm({},ut(t,!0),{className:y,d:C}))};function E$(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:h,outerRadius:p,angle:v}=t,y=Jt(u,d,h,v),w=Jt(u,d,p,v);n=y.x,i=y.y,a=w.x,s=w.y}else return O4(t);return[{x:n,y:i},{x:a,y:s}]}var N4={},P4={},k4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(k4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(P4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=P4;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=s;return d}e.range=n})(N4);var A$=N4.range;const D4=Ln(A$);function to(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rx(e){let t,r,n;e.length!==2?(t=to,r=(u,d)=>to(e(u),d),n=(u,d)=>e(u)-d):(t=e===to||e===S$?e:C$,r=e,n=e);function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const v=h+p>>>1;r(u[v],d)<0?h=v+1:p=v}while(h<p)}return h}function a(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const v=h+p>>>1;r(u[v],d)<=0?h=v+1:p=v}while(h<p)}return h}function s(u,d,h=0,p=u.length){const v=i(u,d,h,p-1);return v>h&&n(u[v-1],d)>-n(u[v],d)?v-1:v}return{left:i,center:s,right:a}}function C$(){return 0}function R4(e){return e===null?NaN:+e}function*_$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const O$=rx(to),Vc=O$.right;rx(R4).center;class iA extends Map{constructor(t,r=N$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(aA(this,t))}has(t){return super.has(aA(this,t))}set(t,r){return super.set(I$(this,t),r)}delete(t){return super.delete(T$(this,t))}}function aA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function I$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function T$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function N$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function P$(e=to){if(e===to)return M4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function M4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k$=Math.sqrt(50),D$=Math.sqrt(10),R$=Math.sqrt(2);function wh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=k$?10:a>=D$?5:a>=R$?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/s,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*s,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=r&&r<2?wh(e,t,r*2):[u,d,h]}function jm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?wh(t,e,r):wh(e,t,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(s<0)for(let h=0;h<u;++h)d[h]=(a-h)/-s;else for(let h=0;h<u;++h)d[h]=(a-h)*s;else if(s<0)for(let h=0;h<u;++h)d[h]=(i+h)/-s;else for(let h=0;h<u;++h)d[h]=(i+h)*s;return d}function Bm(e,t,r){return t=+t,e=+e,r=+r,wh(e,t,r)[2]}function Lm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Bm(t,e,r):Bm(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function oA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function j4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?M4:P$(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,p=Math.log(d),v=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*v*(d-v)/d)*(h-d/2<0?-1:1),w=Math.max(r,Math.floor(t-h*v/d+y)),A=Math.min(n,Math.floor(t+(d-h)*v/d+y));j4(e,t,w,A,i)}const a=e[t];let s=r,u=n;for(xu(e,r,t),i(e[n],a)>0&&xu(e,r,n);s<u;){for(xu(e,s,u),++s,--u;i(e[s],a)<0;)++s;for(;i(e[u],a)>0;)--u}i(e[r],a)===0?xu(e,r,u):(++u,xu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function xu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function M$(e,t,r){if(e=Float64Array.from(_$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sA(e);if(t>=1)return oA(e);var n,i=(n-1)*t,a=Math.floor(i),s=oA(j4(e,a).subarray(0,a+1)),u=sA(e.subarray(a+1));return s+(u-s)*(i-a)}}function j$(e,t,r=R4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),u=+r(e[a+1],a+1,e);return s+(u-s)*(i-a)}}function B$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fm=Symbol("implicit");function nx(){var e=new iA,t=[],r=[],n=Fm;function i(a){let s=e.get(a);if(s===void 0){if(n!==Fm)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new iA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nx(t,r).unknown(n)},ci.apply(i,arguments),i}function ix(){var e=nx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,u=!1,d=0,h=0,p=.5;delete e.unknown;function v(){var y=t().length,w=i<n,A=w?i:n,C=w?n:i;a=(C-A)/Math.max(1,y-d+h*2),u&&(a=Math.floor(a)),A+=(C-A-a*(y-d))*p,s=a*(1-d),u&&(A=Math.round(A),s=Math.round(s));var O=B$(y).map(function(_){return A+a*_});return r(w?O.reverse():O)}return e.domain=function(y){return arguments.length?(t(y),v()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,v()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,v()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(u=!!y,v()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),v()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),v()):d},e.paddingOuter=function(y){return arguments.length?(h=+y,v()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),v()):p},e.copy=function(){return ix(t(),[n,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},ci.apply(v(),arguments)}function B4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B4(t())},e}function L$(){return B4(ix.apply(null,arguments).paddingInner(1))}function ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function L4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Kc(){}var yc=.7,bh=1/yc,cl="\\s*([+-]?\\d+)\\s*",xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F$=/^#([0-9a-f]{3,8})$/,$$=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),U$=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),W$=new RegExp(`^rgba\\(${cl},${cl},${cl},${xc}\\)$`),z$=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${xc}\\)$`),G$=new RegExp(`^hsl\\(${xc},${Wi},${Wi}\\)$`),H$=new RegExp(`^hsla\\(${xc},${Wi},${Wi},${xc}\\)$`),lA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax(Kc,wc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uA,formatHex:uA,formatHex8:V$,formatHsl:K$,formatRgb:cA,toString:cA});function uA(){return this.rgb().formatHex()}function V$(){return this.rgb().formatHex8()}function K$(){return F4(this).formatHsl()}function cA(){return this.rgb().formatRgb()}function wc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=F$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dA(t):r===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$$.exec(e))?new pn(t[1],t[2],t[3],1):(t=U$.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W$.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=z$.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G$.exec(e))?pA(t[1],t[2]/100,t[3]/100,1):(t=H$.exec(e))?pA(t[1],t[2]/100,t[3]/100,t[4]):lA.hasOwnProperty(e)?dA(lA[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function dA(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,r,n){return n<=0&&(e=t=r=NaN),new pn(e,t,r,n)}function q$(e){return e instanceof Kc||(e=wc(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function $m(e,t,r,n){return arguments.length===1?q$(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ax(pn,$m,L4(Kc,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yc:Math.pow(yc,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Zo(this.r),Zo(this.g),Zo(this.b),Eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fA,formatHex:fA,formatHex8:X$,formatRgb:hA,toString:hA}));function fA(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function X$(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function hA(){const e=Eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Zo(this.r)}, ${Zo(this.g)}, ${Zo(this.b)}${e===1?")":`, ${e})`}`}function Eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Go(e){return e=Zo(e),(e<16?"0":"")+e.toString(16)}function pA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ei(e,t,r,n)}function F4(e){if(e instanceof Ei)return new Ei(e.h,e.s,e.l,e.opacity);if(e instanceof Kc||(e=wc(e)),!e)return new Ei;if(e instanceof Ei)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,u=a-i,d=(a+i)/2;return u?(t===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-t)/u+2:s=(t-r)/u+4,u/=d<.5?a+i:2-a-i,s*=60):u=d>0&&d<1?0:s,new Ei(s,u,d,e.opacity)}function Y$(e,t,r,n){return arguments.length===1?F4(e):new Ei(e,t,r,n??1)}function Ei(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ax(Ei,Y$,L4(Kc,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new Ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yc:Math.pow(yc,e),new Ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new pn(jg(e>=240?e-240:e+120,i,n),jg(e,i,n),jg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ei(gA(this.h),tf(this.s),tf(this.l),Eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eh(this.opacity);return`${e===1?"hsl(":"hsla("}${gA(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gA(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function jg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ox=e=>()=>e;function Z$(e,t){return function(r){return e+r*t}}function Q$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function J$(e){return(e=+e)==1?$4:function(t,r){return r-t?Q$(t,r,e):ox(isNaN(t)?r:t)}}function $4(e,t){var r=t-e;return r?Z$(e,r):ox(isNaN(e)?t:e)}const mA=function e(t){var r=J$(t);function n(i,a){var s=r((i=$m(i)).r,(a=$m(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),h=$4(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return n.gamma=e,n}(1);function eU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function tU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=$l(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function nU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ah(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iU(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$l(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Um=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bg=new RegExp(Um.source,"g");function aU(e){return function(){return e}}function oU(e){return function(t){return e(t)+""}}function sU(e,t){var r=Um.lastIndex=Bg.lastIndex=0,n,i,a,s=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Um.exec(e))&&(i=Bg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,d.push({i:s,x:Ah(n,i)})),r=Bg.lastIndex;return r<t.length&&(a=t.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?d[0]?oU(d[0].x):aU(t):(t=d.length,function(h){for(var p=0,v;p<t;++p)u[(v=d[p]).i]=v.x(h);return u.join("")})}function $l(e,t){var r=typeof t,n;return t==null||r==="boolean"?ox(t):(r==="number"?Ah:r==="string"?(n=wc(t))?(t=n,mA):sU:t instanceof wc?mA:t instanceof Date?nU:tU(t)?eU:Array.isArray(t)?rU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iU:Ah)(e,t)}function sx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function lU(e,t){t===void 0&&(t=e,e=$l);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function uU(e){return function(){return e}}function Sh(e){return+e}var vA=[0,1];function Yr(e){return e}function Wm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uU(isNaN(t)?NaN:.5)}function cU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dU(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Wm(i,n),a=r(s,a)):(n=Wm(n,i),a=r(a,s)),function(u){return a(n(u))}}function fU(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Wm(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(u){var d=Vc(e,u,1,n)-1;return a[d](i[d](u))}}function qc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Z0(){var e=vA,t=vA,r=$l,n,i,a,s=Yr,u,d,h;function p(){var y=Math.min(e.length,t.length);return s!==Yr&&(s=cU(e[0],e[y-1])),u=y>2?fU:dU,d=h=null,v}function v(y){return y==null||isNaN(y=+y)?a:(d||(d=u(e.map(n),t,r)))(n(s(y)))}return v.invert=function(y){return s(i((h||(h=u(t,e.map(n),Ah)))(y)))},v.domain=function(y){return arguments.length?(e=Array.from(y,Sh),p()):e.slice()},v.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},v.rangeRound=function(y){return t=Array.from(y),r=sx,p()},v.clamp=function(y){return arguments.length?(s=y?!0:Yr,p()):s!==Yr},v.interpolate=function(y){return arguments.length?(r=y,p()):r},v.unknown=function(y){return arguments.length?(a=y,v):a},function(y,w){return n=y,i=w,p()}}function lx(){return Z0()(Yr,Yr)}function hU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ch(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _l(e){return e=Ch(Math.abs(e)),e?e[1]:NaN}function pU(e,t){return function(r,n){for(var i=r.length,a=[],s=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[s=(s+1)%e.length];return a.reverse().join(t)}}function gU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(e){if(!(t=mU.exec(e)))throw new Error("invalid format: "+e);var t;return new ux({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bc.prototype=ux.prototype;function ux(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ux.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vU(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var U4;function yU(e,t){var r=Ch(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(U4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ch(e,Math.max(0,t+a-1))[0]}function yA(e,t){var r=Ch(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const xA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yA(e*100,t),r:yA,s:yU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wA(e){return e}var bA=Array.prototype.map,EA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xU(e){var t=e.grouping===void 0||e.thousands===void 0?wA:pU(bA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?wA:gU(bA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(v){v=bc(v);var y=v.fill,w=v.align,A=v.sign,C=v.symbol,O=v.zero,_=v.width,I=v.comma,T=v.precision,D=v.trim,M=v.type;M==="n"?(I=!0,M="g"):xA[M]||(T===void 0&&(T=12),D=!0,M="g"),(O||y==="0"&&w==="=")&&(O=!0,y="0",w="=");var j=C==="$"?r:C==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=C==="$"?n:/[%p]/.test(M)?s:"",z=xA[M],U=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function J(X){var q=j,oe=L,de,H,we;if(M==="c")oe=z(X)+oe,X="";else{X=+X;var ee=X<0||1/X<0;if(X=isNaN(X)?d:z(Math.abs(X),T),D&&(X=vU(X)),ee&&+X==0&&A!=="+"&&(ee=!1),q=(ee?A==="("?A:u:A==="-"||A==="("?"":A)+q,oe=(M==="s"?EA[8+U4/3]:"")+oe+(ee&&A==="("?")":""),U){for(de=-1,H=X.length;++de<H;)if(we=X.charCodeAt(de),48>we||we>57){oe=(we===46?i+X.slice(de+1):X.slice(de))+oe,X=X.slice(0,de);break}}}I&&!O&&(X=t(X,1/0));var te=q.length+X.length+oe.length,fe=te<_?new Array(_-te+1).join(y):"";switch(I&&O&&(X=t(fe+X,fe.length?_-oe.length:1/0),fe=""),w){case"<":X=q+X+oe+fe;break;case"=":X=q+fe+X+oe;break;case"^":X=fe.slice(0,te=fe.length>>1)+q+X+oe+fe.slice(te);break;default:X=fe+q+X+oe;break}return a(X)}return J.toString=function(){return v+""},J}function p(v,y){var w=h((v=bc(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(_l(y)/3)))*3,C=Math.pow(10,-A),O=EA[8+A/3];return function(_){return w(C*_)+O}}return{format:h,formatPrefix:p}}var rf,cx,W4;wU({thousands:",",grouping:[3],currency:["$",""]});function wU(e){return rf=xU(e),cx=rf.format,W4=rf.formatPrefix,rf}function bU(e){return Math.max(0,-_l(Math.abs(e)))}function EU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_l(t)/3)))*3-_l(Math.abs(e)))}function AU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_l(t)-_l(e))+1}function z4(e,t,r,n){var i=Lm(e,t,r),a;switch(n=bc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=EU(i,s))&&(n.precision=a),W4(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=AU(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=bU(i))&&(n.precision=a-(n.type==="%")*2);break}}return cx(n)}function mo(e){var t=e.domain;return e.ticks=function(r){var n=t();return jm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return z4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],u=n[a],d,h,p=10;for(u<s&&(h=s,s=u,u=h,h=i,i=a,a=h);p-- >0;){if(h=Bm(s,u,r),h===d)return n[i]=s,n[a]=u,t(n);if(h>0)s=Math.floor(s/h)*h,u=Math.ceil(u/h)*h;else if(h<0)s=Math.ceil(s*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function G4(){var e=lx();return e.copy=function(){return qc(e,G4())},ci.apply(e,arguments),mo(e)}function H4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return H4(e).unknown(t)},e=arguments.length?Array.from(e,Sh):[0,1],mo(r)}function V4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function AA(e){return Math.log(e)}function SA(e){return Math.exp(e)}function SU(e){return-Math.log(-e)}function CU(e){return-Math.exp(-e)}function _U(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OU(e){return e===10?_U:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CA(e){return(t,r)=>-e(-t,r)}function dx(e){const t=e(AA,SA),r=t.domain;let n=10,i,a;function s(){return i=IU(n),a=OU(n),r()[0]<0?(i=CA(i),a=CA(a),e(SU,CU)):e(AA,SA),t}return t.base=function(u){return arguments.length?(n=+u,s()):n},t.domain=function(u){return arguments.length?(r(u),s()):r()},t.ticks=u=>{const d=r();let h=d[0],p=d[d.length-1];const v=p<h;v&&([h,p]=[p,h]);let y=i(h),w=i(p),A,C;const O=u==null?10:+u;let _=[];if(!(n%1)&&w-y<O){if(y=Math.floor(y),w=Math.ceil(w),h>0){for(;y<=w;++y)for(A=1;A<n;++A)if(C=y<0?A/a(-y):A*a(y),!(C<h)){if(C>p)break;_.push(C)}}else for(;y<=w;++y)for(A=n-1;A>=1;--A)if(C=y>0?A/a(-y):A*a(y),!(C<h)){if(C>p)break;_.push(C)}_.length*2<O&&(_=jm(h,p,O))}else _=jm(y,w,Math.min(w-y,O)).map(a);return v?_.reverse():_},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=bc(d)).precision==null&&(d.trim=!0),d=cx(d)),u===1/0)return d;const h=Math.max(1,n*u/t.ticks().length);return p=>{let v=p/a(Math.round(i(p)));return v*n<n-.5&&(v*=n),v<=h?d(p):""}},t.nice=()=>r(V4(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function K4(){const e=dx(Z0()).domain([1,10]);return e.copy=()=>qc(e,K4()).base(e.base()),ci.apply(e,arguments),e}function _A(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function OA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fx(e){var t=1,r=e(_A(t),OA(t));return r.constant=function(n){return arguments.length?e(_A(t=+n),OA(t)):t},mo(r)}function q4(){var e=fx(Z0());return e.copy=function(){return qc(e,q4()).constant(e.constant())},ci.apply(e,arguments)}function IA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NU(e){return e<0?-e*e:e*e}function hx(e){var t=e(Yr,Yr),r=1;function n(){return r===1?e(Yr,Yr):r===.5?e(TU,NU):e(IA(r),IA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},mo(t)}function px(){var e=hx(Z0());return e.copy=function(){return qc(e,px()).exponent(e.exponent())},ci.apply(e,arguments),e}function PU(){return px.apply(null,arguments).exponent(.5)}function TA(e){return Math.sign(e)*e*e}function kU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X4(){var e=lx(),t=[0,1],r=!1,n;function i(a){var s=kU(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(TA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Sh)).map(TA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return X4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ci.apply(i,arguments),mo(i)}function Y4(){var e=[],t=[],r=[],n;function i(){var s=0,u=Math.max(1,t.length);for(r=new Array(u-1);++s<u;)r[s-1]=j$(e,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Vc(r,s)]}return a.invertExtent=function(s){var u=t.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let u of s)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(to),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Y4().domain(e).range(t).unknown(n)},ci.apply(a,arguments)}function Z4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[Vc(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},s.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Z4().domain([e,t]).range(i).unknown(a)},ci.apply(mo(s),arguments)}function Q4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Vc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Q4().domain(e).range(t).unknown(r)},ci.apply(i,arguments)}const Lg=new Date,Fg=new Date;function ur(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return d;let h;do d.push(h=new Date(+a)),t(a,u),e(a);while(h<a&&a<s);return d},i.filter=a=>ur(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!a(s););else for(;--u>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Lg.setTime(+a),Fg.setTime(+s),e(Lg),e(Fg),Math.floor(r(Lg,Fg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const _h=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_h.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_h);_h.range;const ra=1e3,ti=ra*60,na=ti*60,ha=na*24,gx=ha*7,NA=ha*30,$g=ha*365,Ho=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getUTCSeconds());Ho.range;const mx=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ra)},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getMinutes());mx.range;const vx=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCMinutes());vx.range;const yx=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ra-e.getMinutes()*ti)},(e,t)=>{e.setTime(+e+t*na)},(e,t)=>(t-e)/na,e=>e.getHours());yx.range;const xx=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*na)},(e,t)=>(t-e)/na,e=>e.getUTCHours());xx.range;const Xc=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ti)/ha,e=>e.getDate()-1);Xc.range;const Q0=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ha,e=>e.getUTCDate()-1);Q0.range;const J4=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ha,e=>Math.floor(e/ha));J4.range;function vs(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ti)/gx)}const J0=vs(0),Oh=vs(1),DU=vs(2),RU=vs(3),Ol=vs(4),MU=vs(5),jU=vs(6);J0.range;Oh.range;DU.range;RU.range;Ol.range;MU.range;jU.range;function ys(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gx)}const ep=ys(0),Ih=ys(1),BU=ys(2),LU=ys(3),Il=ys(4),FU=ys(5),$U=ys(6);ep.range;Ih.range;BU.range;LU.range;Il.range;FU.range;$U.range;const wx=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wx.range;const bx=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bx.range;const pa=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pa.range;const ga=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ga.range;function eT(e,t,r,n,i,a){const s=[[Ho,1,ra],[Ho,5,5*ra],[Ho,15,15*ra],[Ho,30,30*ra],[a,1,ti],[a,5,5*ti],[a,15,15*ti],[a,30,30*ti],[i,1,na],[i,3,3*na],[i,6,6*na],[i,12,12*na],[n,1,ha],[n,2,2*ha],[r,1,gx],[t,1,NA],[t,3,3*NA],[e,1,$g]];function u(h,p,v){const y=p<h;y&&([h,p]=[p,h]);const w=v&&typeof v.range=="function"?v:d(h,p,v),A=w?w.range(h,+p+1):[];return y?A.reverse():A}function d(h,p,v){const y=Math.abs(p-h)/v,w=rx(([,,O])=>O).right(s,y);if(w===s.length)return e.every(Lm(h/$g,p/$g,v));if(w===0)return _h.every(Math.max(Lm(h,p,v),1));const[A,C]=s[y/s[w-1][2]<s[w][2]/y?w-1:w];return A.every(C)}return[u,d]}const[UU,WU]=eT(ga,bx,ep,J4,xx,vx),[zU,GU]=eT(pa,wx,J0,Xc,yx,mx);function Ug(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function HU(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,u=e.months,d=e.shortMonths,h=bu(i),p=Eu(i),v=bu(a),y=Eu(a),w=bu(s),A=Eu(s),C=bu(u),O=Eu(u),_=bu(d),I=Eu(d),T={a:ee,A:te,b:fe,B:ie,c:null,d:jA,e:jA,f:pW,g:SW,G:_W,H:dW,I:fW,j:hW,L:tT,m:gW,M:mW,p:ve,q:re,Q:FA,s:$A,S:vW,u:yW,U:xW,V:wW,w:bW,W:EW,x:null,X:null,y:AW,Y:CW,Z:OW,"%":LA},D={a:Ue,A:$e,b:qe,B:xe,c:null,d:BA,e:BA,f:PW,g:UW,G:zW,H:IW,I:TW,j:NW,L:nT,m:kW,M:DW,p:cr,q:ht,Q:FA,s:$A,S:RW,u:MW,U:jW,V:BW,w:LW,W:FW,x:null,X:null,y:$W,Y:WW,Z:GW,"%":LA},M={a:J,A:X,b:q,B:oe,c:de,d:RA,e:RA,f:sW,g:DA,G:kA,H:MA,I:MA,j:nW,L:oW,m:rW,M:iW,p:U,q:tW,Q:uW,s:cW,S:aW,u:YU,U:ZU,V:QU,w:XU,W:JU,x:H,X:we,y:DA,Y:kA,Z:eW,"%":lW};T.x=j(r,T),T.X=j(n,T),T.c=j(t,T),D.x=j(r,D),D.X=j(n,D),D.c=j(t,D);function j(ye,je){return function(De){var ae=[],Me=-1,Ge=0,at=ye.length,he,Te,Ie;for(De instanceof Date||(De=new Date(+De));++Me<at;)ye.charCodeAt(Me)===37&&(ae.push(ye.slice(Ge,Me)),(Te=PA[he=ye.charAt(++Me)])!=null?he=ye.charAt(++Me):Te=he==="e"?" ":"0",(Ie=je[he])&&(he=Ie(De,Te)),ae.push(he),Ge=Me+1);return ae.push(ye.slice(Ge,Me)),ae.join("")}}function L(ye,je){return function(De){var ae=wu(1900,void 0,1),Me=z(ae,ye,De+="",0),Ge,at;if(Me!=De.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(je&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ge=Wg(wu(ae.y,0,1)),at=Ge.getUTCDay(),Ge=at>4||at===0?Ih.ceil(Ge):Ih(Ge),Ge=Q0.offset(Ge,(ae.V-1)*7),ae.y=Ge.getUTCFullYear(),ae.m=Ge.getUTCMonth(),ae.d=Ge.getUTCDate()+(ae.w+6)%7):(Ge=Ug(wu(ae.y,0,1)),at=Ge.getDay(),Ge=at>4||at===0?Oh.ceil(Ge):Oh(Ge),Ge=Xc.offset(Ge,(ae.V-1)*7),ae.y=Ge.getFullYear(),ae.m=Ge.getMonth(),ae.d=Ge.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),at="Z"in ae?Wg(wu(ae.y,0,1)).getUTCDay():Ug(wu(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(at+5)%7:ae.w+ae.U*7-(at+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Wg(ae)):Ug(ae)}}function z(ye,je,De,ae){for(var Me=0,Ge=je.length,at=De.length,he,Te;Me<Ge;){if(ae>=at)return-1;if(he=je.charCodeAt(Me++),he===37){if(he=je.charAt(Me++),Te=M[he in PA?je.charAt(Me++):he],!Te||(ae=Te(ye,De,ae))<0)return-1}else if(he!=De.charCodeAt(ae++))return-1}return ae}function U(ye,je,De){var ae=h.exec(je.slice(De));return ae?(ye.p=p.get(ae[0].toLowerCase()),De+ae[0].length):-1}function J(ye,je,De){var ae=w.exec(je.slice(De));return ae?(ye.w=A.get(ae[0].toLowerCase()),De+ae[0].length):-1}function X(ye,je,De){var ae=v.exec(je.slice(De));return ae?(ye.w=y.get(ae[0].toLowerCase()),De+ae[0].length):-1}function q(ye,je,De){var ae=_.exec(je.slice(De));return ae?(ye.m=I.get(ae[0].toLowerCase()),De+ae[0].length):-1}function oe(ye,je,De){var ae=C.exec(je.slice(De));return ae?(ye.m=O.get(ae[0].toLowerCase()),De+ae[0].length):-1}function de(ye,je,De){return z(ye,t,je,De)}function H(ye,je,De){return z(ye,r,je,De)}function we(ye,je,De){return z(ye,n,je,De)}function ee(ye){return s[ye.getDay()]}function te(ye){return a[ye.getDay()]}function fe(ye){return d[ye.getMonth()]}function ie(ye){return u[ye.getMonth()]}function ve(ye){return i[+(ye.getHours()>=12)]}function re(ye){return 1+~~(ye.getMonth()/3)}function Ue(ye){return s[ye.getUTCDay()]}function $e(ye){return a[ye.getUTCDay()]}function qe(ye){return d[ye.getUTCMonth()]}function xe(ye){return u[ye.getUTCMonth()]}function cr(ye){return i[+(ye.getUTCHours()>=12)]}function ht(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var je=j(ye+="",T);return je.toString=function(){return ye},je},parse:function(ye){var je=L(ye+="",!1);return je.toString=function(){return ye},je},utcFormat:function(ye){var je=j(ye+="",D);return je.toString=function(){return ye},je},utcParse:function(ye){var je=L(ye+="",!0);return je.toString=function(){return ye},je}}}var PA={"-":"",_:" ",0:"0"},br=/^\s*\d+/,VU=/^%/,KU=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function qU(e){return e.replace(KU,"\\$&")}function bu(e){return new RegExp("^(?:"+e.map(qU).join("|")+")","i")}function Eu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function XU(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function YU(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function JU(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kA(e,t,r){var n=br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DA(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tW(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function rW(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RA(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function nW(e,t,r){var n=br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MA(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iW(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aW(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oW(e,t,r){var n=br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sW(e,t,r){var n=br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lW(e,t,r){var n=VU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uW(e,t,r){var n=br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cW(e,t,r){var n=br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jA(e,t){return rt(e.getDate(),t,2)}function dW(e,t){return rt(e.getHours(),t,2)}function fW(e,t){return rt(e.getHours()%12||12,t,2)}function hW(e,t){return rt(1+Xc.count(pa(e),e),t,3)}function tT(e,t){return rt(e.getMilliseconds(),t,3)}function pW(e,t){return tT(e,t)+"000"}function gW(e,t){return rt(e.getMonth()+1,t,2)}function mW(e,t){return rt(e.getMinutes(),t,2)}function vW(e,t){return rt(e.getSeconds(),t,2)}function yW(e){var t=e.getDay();return t===0?7:t}function xW(e,t){return rt(J0.count(pa(e)-1,e),t,2)}function rT(e){var t=e.getDay();return t>=4||t===0?Ol(e):Ol.ceil(e)}function wW(e,t){return e=rT(e),rt(Ol.count(pa(e),e)+(pa(e).getDay()===4),t,2)}function bW(e){return e.getDay()}function EW(e,t){return rt(Oh.count(pa(e)-1,e),t,2)}function AW(e,t){return rt(e.getFullYear()%100,t,2)}function SW(e,t){return e=rT(e),rt(e.getFullYear()%100,t,2)}function CW(e,t){return rt(e.getFullYear()%1e4,t,4)}function _W(e,t){var r=e.getDay();return e=r>=4||r===0?Ol(e):Ol.ceil(e),rt(e.getFullYear()%1e4,t,4)}function OW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function BA(e,t){return rt(e.getUTCDate(),t,2)}function IW(e,t){return rt(e.getUTCHours(),t,2)}function TW(e,t){return rt(e.getUTCHours()%12||12,t,2)}function NW(e,t){return rt(1+Q0.count(ga(e),e),t,3)}function nT(e,t){return rt(e.getUTCMilliseconds(),t,3)}function PW(e,t){return nT(e,t)+"000"}function kW(e,t){return rt(e.getUTCMonth()+1,t,2)}function DW(e,t){return rt(e.getUTCMinutes(),t,2)}function RW(e,t){return rt(e.getUTCSeconds(),t,2)}function MW(e){var t=e.getUTCDay();return t===0?7:t}function jW(e,t){return rt(ep.count(ga(e)-1,e),t,2)}function iT(e){var t=e.getUTCDay();return t>=4||t===0?Il(e):Il.ceil(e)}function BW(e,t){return e=iT(e),rt(Il.count(ga(e),e)+(ga(e).getUTCDay()===4),t,2)}function LW(e){return e.getUTCDay()}function FW(e,t){return rt(Ih.count(ga(e)-1,e),t,2)}function $W(e,t){return rt(e.getUTCFullYear()%100,t,2)}function UW(e,t){return e=iT(e),rt(e.getUTCFullYear()%100,t,2)}function WW(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function zW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Il(e):Il.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function GW(){return"+0000"}function LA(){return"%"}function FA(e){return+e}function $A(e){return Math.floor(+e/1e3)}var Bs,aT,oT;HW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HW(e){return Bs=HU(e),aT=Bs.format,Bs.parse,oT=Bs.utcFormat,Bs.utcParse,Bs}function VW(e){return new Date(e)}function KW(e){return e instanceof Date?+e:+new Date(+e)}function Ex(e,t,r,n,i,a,s,u,d,h){var p=lx(),v=p.invert,y=p.domain,w=h(".%L"),A=h(":%S"),C=h("%I:%M"),O=h("%I %p"),_=h("%a %d"),I=h("%b %d"),T=h("%B"),D=h("%Y");function M(j){return(d(j)<j?w:u(j)<j?A:s(j)<j?C:a(j)<j?O:n(j)<j?i(j)<j?_:I:r(j)<j?T:D)(j)}return p.invert=function(j){return new Date(v(j))},p.domain=function(j){return arguments.length?y(Array.from(j,KW)):y().map(VW)},p.ticks=function(j){var L=y();return e(L[0],L[L.length-1],j??10)},p.tickFormat=function(j,L){return L==null?M:h(L)},p.nice=function(j){var L=y();return(!j||typeof j.range!="function")&&(j=t(L[0],L[L.length-1],j??10)),j?y(V4(L,j)):p},p.copy=function(){return qc(p,Ex(e,t,r,n,i,a,s,u,d,h))},p}function qW(){return ci.apply(Ex(zU,GU,pa,wx,J0,Xc,yx,mx,Ho,aT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XW(){return ci.apply(Ex(UU,WU,ga,bx,ep,Q0,xx,vx,Ho,oT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tp(){var e=0,t=1,r,n,i,a,s=Yr,u=!1,d;function h(v){return v==null||isNaN(v=+v)?d:s(i===0?.5:(v=(a(v)-r)*i,u?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(v){return arguments.length?(u=!!v,h):u},h.interpolator=function(v){return arguments.length?(s=v,h):s};function p(v){return function(y){var w,A;return arguments.length?([w,A]=y,s=v(w,A),h):[s(0),s(1)]}}return h.range=p($l),h.rangeRound=p(sx),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return a=v,r=v(e),n=v(t),i=r===n?0:1/(n-r),h}}function vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sT(){var e=mo(tp()(Yr));return e.copy=function(){return vo(e,sT())},xa.apply(e,arguments)}function lT(){var e=dx(tp()).domain([1,10]);return e.copy=function(){return vo(e,lT()).base(e.base())},xa.apply(e,arguments)}function uT(){var e=fx(tp());return e.copy=function(){return vo(e,uT()).constant(e.constant())},xa.apply(e,arguments)}function Ax(){var e=hx(tp());return e.copy=function(){return vo(e,Ax()).exponent(e.exponent())},xa.apply(e,arguments)}function YW(){return Ax.apply(null,arguments).exponent(.5)}function cT(){var e=[],t=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(to),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>M$(e,a/n))},r.copy=function(){return cT(t).domain(e)},xa.apply(r,arguments)}function rp(){var e=0,t=.5,r=1,n=1,i,a,s,u,d,h=Yr,p,v=!1,y;function w(C){return isNaN(C=+C)?y:(C=.5+((C=+p(C))-a)*(n*C<n*a?u:d),h(v?Math.max(0,Math.min(1,C)):C))}w.domain=function(C){return arguments.length?([e,t,r]=C,i=p(e=+e),a=p(t=+t),s=p(r=+r),u=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,w):[e,t,r]},w.clamp=function(C){return arguments.length?(v=!!C,w):v},w.interpolator=function(C){return arguments.length?(h=C,w):h};function A(C){return function(O){var _,I,T;return arguments.length?([_,I,T]=O,h=lU(C,[_,I,T]),w):[h(0),h(.5),h(1)]}}return w.range=A($l),w.rangeRound=A(sx),w.unknown=function(C){return arguments.length?(y=C,w):y},function(C){return p=C,i=C(e),a=C(t),s=C(r),u=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,w}}function dT(){var e=mo(rp()(Yr));return e.copy=function(){return vo(e,dT())},xa.apply(e,arguments)}function fT(){var e=dx(rp()).domain([.1,1,10]);return e.copy=function(){return vo(e,fT()).base(e.base())},xa.apply(e,arguments)}function hT(){var e=fx(rp());return e.copy=function(){return vo(e,hT()).constant(e.constant())},xa.apply(e,arguments)}function Sx(){var e=hx(rp());return e.copy=function(){return vo(e,Sx()).exponent(e.exponent())},xa.apply(e,arguments)}function ZW(){return Sx.apply(null,arguments).exponent(.5)}const Ru=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ix,scaleDiverging:dT,scaleDivergingLog:fT,scaleDivergingPow:Sx,scaleDivergingSqrt:ZW,scaleDivergingSymlog:hT,scaleIdentity:H4,scaleImplicit:Fm,scaleLinear:G4,scaleLog:K4,scaleOrdinal:nx,scalePoint:L$,scalePow:px,scaleQuantile:Y4,scaleQuantize:Z4,scaleRadial:X4,scaleSequential:sT,scaleSequentialLog:lT,scaleSequentialPow:Ax,scaleSequentialQuantile:cT,scaleSequentialSqrt:YW,scaleSequentialSymlog:uT,scaleSqrt:PU,scaleSymlog:q4,scaleThreshold:Q4,scaleTime:qW,scaleUtc:XW,tickFormat:z4},Symbol.toStringTag,{value:"Module"}));var xs=e=>e.chartData,Cx=Q([xs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),pT=(e,t,r,n)=>n?Cx(e):xs(e);function Tl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Bn(t)&&Bn(r))return!0}return!1}function UA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function QW(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Bn(r))i=r;else if(typeof r=="function")return;if(Bn(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Tl(s))return s}}function JW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Tl(n))return UA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,u;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Se(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&BE.test(i)){var d=BE.exec(i);if(d==null||t==null)s=void 0;else{var h=+d[1];s=t[0]-h}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Se(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&LE.test(a)){var p=LE.exec(a);if(p==null||t==null)u=void 0;else{var v=+p[1];u=t[1]+v}}else u=t==null?void 0:t[1];var y=[s,u];if(Tl(y))return t==null?y:UA(y,t,r)}}}var Ul=1e9,ez={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ox,kt=!0,li="[DecimalError] ",Qo=li+"Invalid argument: ",_x=li+"Exponent out of range: ",Wl=Math.floor,Mo=Math.pow,tz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_n,pr=1e7,It=7,gT=9007199254740991,Th=Wl(gT/It),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*It;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return oa(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return yt(oa(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return tr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_n))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(_n)?new n(0):(kt=!1,t=oa(Ec(r,a),Ec(e,a),a),kt=!0,yt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yT(t,e):mT(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(li+"NaN");return r.s?(kt=!1,t=oa(r,e,0,1).times(e),kt=!0,r.minus(t)):yt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return vT(this)};Ce.naturalLogarithm=Ce.ln=function(){return Ec(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mT(t,e):yT(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qo+e);if(t=tr(i)+1,n=i.d.length-1,r=n*It+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,i,a,s,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(li+"NaN")}for(e=tr(u),kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Fi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(a=n,n=a.plus(oa(u,a,s+2)).times(.5),Fi(a.d).slice(0,s)===(t=Fi(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(yt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(t!="9999")break;s+=4}return kt=!0,yt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,i,a,s,u,d,h,p=this,v=p.constructor,y=p.d,w=(e=new v(e)).d;if(!p.s||!e.s)return new v(0);for(e.s*=p.s,r=p.e+e.e,d=y.length,h=w.length,d<h&&(a=y,y=w,w=a,s=d,d=h,h=s),a=[],s=d+h,n=s;n--;)a.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)u=a[i]+w[n]*y[i-n-1]+t,a[i--]=u%pr|0,t=u/pr|0;a[i]=(a[i]+t)%pr|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,kt?yt(e,v.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gi(e,0,Ul),t===void 0?t=n.rounding:Gi(t,0,8),yt(r,e+tr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ls(n,!0):(Gi(e,0,Ul),t===void 0?t=i.rounding:Gi(t,0,8),n=yt(new i(n),e+1,t),r=ls(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ls(i):(Gi(e,0,Ul),t===void 0?t=a.rounding:Gi(t,0,8),n=yt(new a(i),e+tr(i)+1,t),r=ls(n.abs(),!1,e+tr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return yt(new t(e),tr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,i,a,s,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(_n);if(u=new d(u),!u.s){if(e.s<1)throw Error(li+"Infinity");return u}if(u.eq(_n))return u;if(n=d.precision,e.eq(_n))return yt(u,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=u.s,s){if((r=p<0?-p:p)<=gT){for(i=new d(_n),t=Math.ceil(n/It+4),kt=!1;r%2&&(i=i.times(u),zA(i.d,t)),r=Wl(r/2),r!==0;)u=u.times(u),zA(u.d,t);return kt=!0,e.s<0?new d(_n).div(i):yt(i,n)}}else if(a<0)throw Error(li+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,kt=!1,i=e.times(Ec(u,n+h)),kt=!0,i=vT(i),i.s=a,i};Ce.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=tr(i),n=ls(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gi(e,1,Ul),t===void 0?t=a.rounding:Gi(t,0,8),i=yt(new a(i),e,t),r=tr(i),n=ls(i,e<=r||r<=a.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gi(e,1,Ul),t===void 0?t=n.rounding:Gi(t,0,8)),yt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tr(e),r=e.constructor;return ls(e,t<=r.toExpNeg||t>=r.toExpPos)};function mT(e,t){var r,n,i,a,s,u,d,h,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),kt?yt(t,v):t;if(d=e.d,h=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(n=d,a=-a,u=h.length):(n=h,i=s,u=d.length),s=Math.ceil(v/It),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=h.length,u-a<0&&(a=u,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/pr|0,d[a]%=pr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,kt?yt(t,v):t}function Gi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qo+e)}function Fi(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=It-n.length,r&&(a+=Fa(r)),a+=n;s=e[t],n=s+"",r=It-n.length,r&&(a+=Fa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var oa=function(){function e(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%pr|0,s=a/pr|0;return s&&n.unshift(s),n}function t(n,i,a,s){var u,d;if(a!=s)d=a>s?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,d,h,p,v,y,w,A,C,O,_,I,T,D,M,j,L,z,U=n.constructor,J=n.s==i.s?1:-1,X=n.d,q=i.d;if(!n.s)return new U(n);if(!i.s)throw Error(li+"Division by zero");for(d=n.e-i.e,L=q.length,M=X.length,w=new U(J),A=w.d=[],h=0;q[h]==(X[h]||0);)++h;if(q[h]>(X[h]||0)&&--d,a==null?I=a=U.precision:s?I=a+(tr(n)-tr(i))+1:I=a,I<0)return new U(0);if(I=I/It+2|0,h=0,L==1)for(p=0,q=q[0],I++;(h<M||p)&&I--;h++)T=p*pr+(X[h]||0),A[h]=T/q|0,p=T%q|0;else{for(p=pr/(q[0]+1)|0,p>1&&(q=e(q,p),X=e(X,p),L=q.length,M=X.length),D=L,C=X.slice(0,L),O=C.length;O<L;)C[O++]=0;z=q.slice(),z.unshift(0),j=q[0],q[1]>=pr/2&&++j;do p=0,u=t(q,C,L,O),u<0?(_=C[0],L!=O&&(_=_*pr+(C[1]||0)),p=_/j|0,p>1?(p>=pr&&(p=pr-1),v=e(q,p),y=v.length,O=C.length,u=t(v,C,y,O),u==1&&(p--,r(v,L<y?z:q,y))):(p==0&&(u=p=1),v=q.slice()),y=v.length,y<O&&v.unshift(0),r(C,v,O),u==-1&&(O=C.length,u=t(q,C,L,O),u<1&&(p++,r(C,L<O?z:q,O))),O=C.length):u===0&&(p++,C=[0]),A[h++]=p,u&&C[0]?C[O++]=X[D]||0:(C=[X[D]],O=1);while((D++<M||C[0]!==void 0)&&I--)}return A[0]||A.shift(),w.e=d,yt(w,s?a+tr(w)+1:a)}}();function vT(e,t){var r,n,i,a,s,u,d=0,h=0,p=e.constructor,v=p.precision;if(tr(e)>16)throw Error(_x+tr(e));if(!e.s)return new p(_n);for(kt=!1,u=v,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(n=Math.log(Mo(2,h))/Math.LN10*2+5|0,u+=n,r=i=a=new p(_n),p.precision=u;;){if(i=yt(i.times(e),u),r=r.times(++d),s=a.plus(oa(i,r,u)),Fi(s.d).slice(0,u)===Fi(a.d).slice(0,u)){for(;h--;)a=yt(a.times(a),u);return p.precision=v,t==null?(kt=!0,yt(a,v)):a}a=s}}function tr(e){for(var t=e.e*It,r=e.d[0];r>=10;r/=10)t++;return t}function zg(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(li+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function Fa(e){for(var t="";e--;)t+="0";return t}function Ec(e,t){var r,n,i,a,s,u,d,h,p,v=1,y=10,w=e,A=w.d,C=w.constructor,O=C.precision;if(w.s<1)throw Error(li+(w.s?"NaN":"-Infinity"));if(w.eq(_n))return new C(0);if(t==null?(kt=!1,h=O):h=t,w.eq(10))return t==null&&(kt=!0),zg(C,h);if(h+=y,C.precision=h,r=Fi(A),n=r.charAt(0),a=tr(w),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=Fi(w.d),n=r.charAt(0),v++;a=tr(w),n>1?(w=new C("0."+r),a++):w=new C(n+"."+r.slice(1))}else return d=zg(C,h+2,O).times(a+""),w=Ec(new C(n+"."+r.slice(1)),h-y).plus(d),C.precision=O,t==null?(kt=!0,yt(w,O)):w;for(u=s=w=oa(w.minus(_n),w.plus(_n),h),p=yt(w.times(w),h),i=3;;){if(s=yt(s.times(p),h),d=u.plus(oa(s,new C(i),h)),Fi(d.d).slice(0,h)===Fi(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(zg(C,h+2,O).times(a+""))),u=oa(u,new C(v),h),C.precision=O,t==null?(kt=!0,yt(u,O)):u;u=d,i+=2}}function WA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Wl(r/It),e.d=[],n=(r+1)%It,r<0&&(n+=It),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=It;n<i;)e.d.push(+t.slice(n,n+=It));t=t.slice(n),n=It-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>Th||e.e<-Th))throw Error(_x+r)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,r){var n,i,a,s,u,d,h,p,v=e.d;for(s=1,a=v[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=It,i=t,h=v[p=0];else{if(p=Math.ceil((n+1)/It),a=v.length,p>=a)return e;for(h=a=v[p],s=1;a>=10;a/=10)s++;n%=It,i=n-It+s}if(r!==void 0&&(a=Mo(10,s-i-1),u=h/a%10|0,d=t<0||v[p+1]!==void 0||h%a,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?h/Mo(10,s-i):0:v[p-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return d?(a=tr(e),v.length=1,t=t-a-1,v[0]=Mo(10,(It-t%It)%It),e.e=Wl(-t/It)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=p,a=1,p--):(v.length=p+1,a=Mo(10,It-n),v[p]=i>0?(h/Mo(10,s-i)%Mo(10,i)|0)*a:0),d)for(;;)if(p==0){(v[0]+=a)==pr&&(v[0]=1,++e.e);break}else{if(v[p]+=a,v[p]!=pr)break;v[p--]=0,a=1}for(n=v.length;v[--n]===0;)v.pop();if(kt&&(e.e>Th||e.e<-Th))throw Error(_x+tr(e));return e}function yT(e,t){var r,n,i,a,s,u,d,h,p,v,y=e.constructor,w=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),kt?yt(t,w):t;if(d=e.d,v=t.d,n=t.e,h=e.e,d=d.slice(),s=h-n,s){for(p=s<0,p?(r=d,s=-s,u=v.length):(r=v,n=h,u=d.length),i=Math.max(Math.ceil(w/It),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=v.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=v[i]){p=d[i]<v[i];break}s=0}for(p&&(r=d,d=v,v=r,t.s=-t.s),u=d.length,i=v.length-u;i>0;--i)d[u++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(a=i;a&&d[--a]===0;)d[a]=pr-1;--d[a],d[i]+=pr}d[i]-=v[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,kt?yt(t,w):t):new y(0)}function ls(e,t,r){var n,i=tr(e),a=Fi(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Fa(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Fa(-i-1)+a,r&&(n=r-s)>0&&(a+=Fa(n))):i>=s?(a+=Fa(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Fa(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Fa(n))),e.s<0?"-"+a:a}function zA(e,t){if(e.length>t)return e.length=t,!0}function xT(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return WA(s,a.toString())}else if(typeof a!="string")throw Error(Qo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,tz.test(a))WA(s,a);else throw Error(Qo+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xT,i.config=i.set=rz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function rz(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,r,n,i=["precision",1,Ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Wl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Qo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qo+r+": "+n);return this}var Ox=xT(ez);_n=new Ox(1);const st=Ox;var nz=e=>e,wT={},bT=e=>e===wT,GA=e=>function t(){return arguments.length===0||arguments.length===1&&bT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ET=(e,t)=>e===1?t:GA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==wT).length;return a>=e?t(...n):ET(e-a,GA(function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];var h=n.map(p=>bT(p)?u.shift():p);return t(...h,...u)}))}),np=e=>ET(e.length,e),zm=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},iz=np((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),az=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return nz;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,d)=>d(u),a(...arguments))}},Gm=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),AT=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,u)=>{var d;return s===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,r=e(...i)),r}};function ST(e){var t;return e===0?t=1:t=Math.floor(new st(e).abs().log(10).toNumber())+1,t}function CT(e,t,r){for(var n=new st(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}np((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});np((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});np((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var _T=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},OT=(e,t,r)=>{if(e.lte(0))return new st(0);var n=ST(e.toNumber()),i=new st(10).pow(n),a=e.div(i),s=n!==1?.05:.1,u=new st(Math.ceil(a.div(s).toNumber())).add(r).mul(s),d=u.mul(i);return t?new st(d.toNumber()):new st(Math.ceil(d.toNumber()))},oz=(e,t,r)=>{var n=new st(1),i=new st(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new st(10).pow(ST(e)-1),i=new st(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new st(Math.floor(e)))}else e===0?i=new st(Math.floor((t-1)/2)):r||(i=new st(Math.floor(e)));var s=Math.floor((t-1)/2),u=az(iz(d=>i.add(new st(d-s).mul(n)).toNumber()),zm);return u(0,t)},IT=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var s=OT(new st(r).sub(t).div(n-1),i,a),u;t<=0&&r>=0?u=new st(0):(u=new st(t).add(r).div(2),u=u.sub(new st(u).mod(s)));var d=Math.ceil(u.sub(t).div(s).toNumber()),h=Math.ceil(new st(r).sub(u).div(s).toNumber()),p=d+h+1;return p>n?IT(t,r,n,i,a+1):(p<n&&(h=r>0?h+(n-p):h,d=r>0?d:d+(n-p)),{step:s,tickMin:u.sub(new st(d).mul(s)),tickMax:u.add(new st(h).mul(s))})};function sz(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,u]=_T([t,r]);if(s===-1/0||u===1/0){var d=u===1/0?[s,...zm(0,n-1).map(()=>1/0)]:[...zm(0,n-1).map(()=>-1/0),u];return t>r?Gm(d):d}if(s===u)return oz(s,n,i);var{step:h,tickMin:p,tickMax:v}=IT(s,u,a,i,0),y=CT(p,v.add(new st(.1).mul(h)),h);return t>r?Gm(y):y}function lz(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=_T([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var u=Math.max(t,2),d=OT(new st(s).sub(a).div(u-1),i,0),h=[...CT(new st(a),new st(s),d),s];return i===!1&&(h=h.map(p=>Math.round(p))),r>n?Gm(h):h}var uz=AT(sz),cz=AT(lz),TT=e=>e.rootProps.maxBarSize,dz=e=>e.rootProps.barGap,NT=e=>e.rootProps.barCategoryGap,fz=e=>e.rootProps.barSize,Yc=e=>e.rootProps.stackOffset,Ix=e=>e.options.chartName,Tx=e=>e.rootProps.syncId,PT=e=>e.rootProps.syncMethod,Nx=e=>e.options.eventEmitter,Qi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Sn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ip=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qi.angleAxisId,includeHidden:!1,name:void 0,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:void 0,ticks:void 0,type:Qi.type,unit:void 0},pz={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:Sn.type,unit:void 0},gz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mz={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:"category",unit:void 0},Px=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?gz:hz,kx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?mz:pz,ap=e=>e.polarOptions,Dx=Q([va,ya,lr],a4),kT=Q([ap,Dx],(e,t)=>{if(e!=null)return Qr(e.innerRadius,t,0)}),DT=Q([ap,Dx],(e,t)=>{if(e!=null)return Qr(e.outerRadius,t,t*.8)}),vz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},RT=Q([ap],vz);Q([Px,RT],ip);var MT=Q([Dx,kT,DT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Q([kx,MT],ip);var yz=Q([ft,ap,kT,DT,va,ya],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:u,startAngle:d,endAngle:h}=t;return{cx:Qr(s,i,i/2),cy:Qr(u,a,a/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),qt=(e,t)=>t,Zc=(e,t,r)=>r;function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){xz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm=[0,"auto"],bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wa=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??bn},En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:K0},yo=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??En},Ez={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Ez},Xt=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return yo(e,r);case"zAxis":return Rx(e,r);case"angleAxis":return Px(e,r);case"radiusAxis":return kx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Az=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return yo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qc=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return yo(e,r);case"angleAxis":return Px(e,r);case"radiusAxis":return kx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jT=e=>e.graphicalItems.countOfBars>0;function Mx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var jx=e=>e.graphicalItems.cartesianItems,Sz=Q([qt,Zc],Mx),Bx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Jc=Q([jx,Xt,Sz],Bx),BT=e=>e.filter(t=>t.stackId===void 0),Cz=Q([Jc],BT),Lx=e=>e.map(t=>t.data).filter(Boolean).flat(1),_z=Q([Jc],Lx),Fx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},op=Q([_z,pT],Fx),$x=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ht(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ht(i,n)}))):e.map(n=>({value:n})),sp=Q([op,Xt,Jc],$x);function LT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ws(e){return e.filter(t=>zi(t)||t instanceof Date).map(Number).filter(t=>Rn(t)===!1)}function Oz(e,t,r){return!r||typeof t!="number"||Rn(t)?[]:r.length?ws(r.flatMap(n=>{var i=Ht(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Bn(a)||!Bn(s)))return[t-a,t+s]})):[]}var FT=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,u]=a,d=u.map(h=>h.dataKey);return[s,{stackedData:jL(e,d,r),graphicalItems:u}]}))},Vm=Q([op,Jc,Yc],FT),$T=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=$L(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Iz=Q([Vm,xs,qt],$T),UT=(e,t,r,n)=>r.length>0?e.flatMap(i=>r.flatMap(a=>{var s,u,d=(s=a.errorBars)===null||s===void 0?void 0:s.filter(p=>LT(n,p)),h=Ht(i,(u=t.dataKey)!==null&&u!==void 0?u:a.dataKey);return{value:h,errorDomain:Oz(i,h,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ht(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Tz=Q(op,Xt,Cz,qt,UT);function Nz(e){var{value:t}=e;if(zi(t)||t instanceof Date)return t}var Pz=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ws(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kz=(e,t,r)=>{var n=e.map(Nz).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&UO(n))?D4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ux=e=>{var t;if(e==null||!("domain"in e))return Hm;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ws(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Hm},Wx=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},WT=e=>e.referenceElements.dots,zl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Dz=Q([WT,qt,Zc],zl),zT=e=>e.referenceElements.areas,Rz=Q([zT,qt,Zc],zl),GT=e=>e.referenceElements.lines,Mz=Q([GT,qt,Zc],zl),HT=(e,t)=>{var r=ws(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jz=Q(Dz,qt,HT),VT=(e,t)=>{var r=ws(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bz=Q([Rz,qt],VT),KT=(e,t)=>{var r=ws(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Lz=Q(Mz,qt,KT),Fz=Q(jz,Lz,Bz,(e,t,r)=>Wx(e,r,t)),qT=Q([Xt],Ux),zx=(e,t,r,n,i)=>{var a=QW(t,e.allowDataOverflow);return a??JW(t,Wx(r,i,Pz(n)),e.allowDataOverflow)},$z=Q([Xt,qT,Iz,Tz,Fz],zx),Uz=[0,1],Gx=(e,t,r,n,i,a,s)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:u,type:d}=e,h=ms(t,a);return h&&u==null?D4(0,r.length):d==="category"?kz(n,e,h):i==="expand"?Uz:s}},Hx=Q([Xt,ft,op,sp,Yc,qt,$z],Gx),XT=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Wc(a));return u in Ru?u:"point"}}},Gl=Q([Xt,ft,jT,Ix,qt],XT);function Wz(e){if(e!=null){if(e in Ru)return Ru[e]();var t="scale".concat(Wc(e));if(t in Ru)return Ru[t]()}}function Vx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Wz(t);if(i!=null){var a=i.domain(r).range(n);return PL(a),a}}}var Kx=(e,t,r)=>{var n=Ux(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Tl(e))return uz(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Tl(e))return cz(e,t.tickCount,t.allowDecimals)}},qx=Q([Hx,Qc,Gl],Kx),Xx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Tl(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],u=r[r.length-1];return[Math.min(i,a),Math.max(s,u)]}return t},zz=Q([Xt,Hx,qx,qt],Xx),Gz=Q(sp,Xt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ws(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),YT=Q(Gz,ft,NT,lr,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Bn(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Qr(r,e*a),u=e*a/2;return u-s-(u-s)/a*s}return 0}),Hz=(e,t)=>{var r=wa(e,t);return r==null||typeof r.padding!="string"?0:YT(e,"xAxis",t,r.padding)},Vz=(e,t)=>{var r=yo(e,t);return r==null||typeof r.padding!="string"?0:YT(e,"yAxis",t,r.padding)},Kz=Q(wa,Hz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),qz=Q(yo,Vz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Xz=Q([lr,Kz,X0,q0,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Yz=Q([lr,ft,qz,X0,q0,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ed=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Xz(e,r,n);case"yAxis":return Yz(e,r,n);case"zAxis":return(i=Rx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return RT(e);case"radiusAxis":return MT(e,r);default:return}},ZT=Q([Xt,ed],ip),Hl=Q([Xt,Gl,zz,ZT],Vx);Q(Jc,qt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>LT(t,r)));function QT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lp=(e,t)=>t,up=(e,t,r)=>r,Zz=Q(qy,lp,up,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(QT)),Qz=Q(Xy,lp,up,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(QT)),JT=(e,t)=>({width:e.width,height:t.height}),Jz=(e,t)=>{var r=typeof t.width=="number"?t.width:K0;return{width:r,height:e.height}},eN=Q(lr,wa,JT),eG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},tG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},rG=Q(ya,lr,Zz,lp,up,(e,t,r,n,i)=>{var a={},s;return r.forEach(u=>{var d=JT(t,u);s==null&&(s=eG(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;a[u.id]=s-Number(h)*d.height,s+=(h?-1:1)*d.height}),a}),nG=Q(va,lr,Qz,lp,up,(e,t,r,n,i)=>{var a={},s;return r.forEach(u=>{var d=Jz(t,u);s==null&&(s=tG(t,n,e));var h=n==="left"&&!i||n==="right"&&i;a[u.id]=s-Number(h)*d.width,s+=(h?-1:1)*d.width}),a}),iG=(e,t)=>{var r=lr(e),n=wa(e,t);if(n!=null){var i=rG(e,n.orientation,n.mirror),a=i[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},aG=(e,t)=>{var r=lr(e),n=yo(e,t);if(n!=null){var i=nG(e,n.orientation,n.mirror),a=i[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},tN=Q(lr,yo,(e,t)=>{var r=typeof t.width=="number"?t.width:K0;return{width:r,height:e.height}}),VA=(e,t,r)=>{switch(t){case"xAxis":return eN(e,r).width;case"yAxis":return tN(e,r).height;default:return}},rN=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,u=ms(e,n),d=t.map(h=>h.value);if(s&&u&&a==="category"&&i&&UO(d))return d}},Yx=Q([ft,sp,Xt,qt],rN),nN=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=ms(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Zx=Q([ft,sp,Qc,qt],nN),KA=Q([ft,Az,Gl,Hl,Yx,Zx,ed,qx,qt],(e,t,r,n,i,a,s,u,d)=>{if(t==null)return null;var h=ms(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:s,realScaleType:r,scale:n}}),oG=(e,t,r,n,i,a,s,u,d)=>{if(!(t==null||n==null)){var h=ms(e,d),{type:p,ticks:v,tickCount:y}=t,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,A=p==="category"&&n.bandwidth?n.bandwidth()/w:0;A=d==="angleAxis"&&a!=null&&a.length>=2?mr(a[0]-a[1])*2*A:A;var C=v||i;if(C){var O=C.map((_,I)=>{var T=s?s.indexOf(_):_;return{index:I,coordinate:n(T)+A,value:_,offset:A}});return O.filter(_=>!Rn(_.coordinate))}return h&&u?u.map((_,I)=>({coordinate:n(_)+A,value:_,index:I,offset:A})):n.ticks?n.ticks(y).map(_=>({coordinate:n(_)+A,value:_,offset:A})):n.domain().map((_,I)=>({coordinate:n(_)+A,value:s?s[_]:_,index:I,offset:A}))}},iN=Q([ft,Qc,Gl,Hl,qx,ed,Yx,Zx,qt],oG),sG=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=ms(e,s),{tickCount:d}=t,h=0;return h=s==="angleAxis"&&(n==null?void 0:n.length)>=2?mr(n[0]-n[1])*2*h:h,u&&a?a.map((p,v)=>({coordinate:r(p)+h,value:p,index:v,offset:h})):r.ticks?r.ticks(d).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,v)=>({coordinate:r(p)+h,value:i?i[p]:p,index:v,offset:h}))}},Nl=Q([ft,Qc,Hl,ed,Yx,Zx,qt],sG),lo=Q(Xt,Hl,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})}),lG=Q([Xt,Gl,Hx,ZT],Vx);Q((e,t,r)=>Rx(e,r),lG,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})});var uG=Q([ft,qy,Xy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aN=e=>e.options.defaultTooltipEventType,oN=e=>e.options.validateTooltipEventTypes;function sN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Qx(e,t){var r=aN(e),n=oN(e);return sN(t,r,n)}function cG(e){return Ne(t=>Qx(t,e))}var lN=(e,t)=>{var r,n=Number(t);if(!(Rn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},dG=e=>e.tooltip.settings,Ga={active:!1,index:null,dataKey:void 0,coordinate:void 0},fG={itemInteraction:{click:Ga,hover:Ga},axisInteraction:{click:Ga,hover:Ga},keyboardInteraction:Ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uN=ui({name:"tooltip",initialState:fG,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=aa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:hG,removeTooltipEntrySettings:pG,setTooltipSettingsState:gG,setActiveMouseOverItemIndex:cN,mouseLeaveItem:mG,mouseLeaveChart:dN,setActiveClickItemIndex:vG,setMouseOverAxisIndex:fN,setMouseClickAxisIndex:yG,setSyncInteraction:Km,setKeyboardInteraction:qm}=uN.actions,xG=uN.reducer;function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){wG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function SG(e){return e.index!=null}var hN=(e,t,r,n)=>{if(t==null)return Ga;var i=AG(e,t,r);if(i==null)return Ga;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(SG(i)){if(a)return nf(nf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return nf(nf({},Ga),{},{coordinate:i.coordinate})},Jx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Bn(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},pN=(e,t,r,n,i,a,s,u)=>{if(!(a==null||u==null)){var d=s[0],h=d==null?void 0:u(d.positions,a);if(h!=null)return h;var p=i==null?void 0:i[Number(a)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},gN=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},td=e=>e.options.tooltipPayloadSearcher,Vl=e=>e.tooltip;function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=_G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function TG(e,t){return e??t}var mN=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=r,v=[];return e.reduce((y,w)=>{var A,{dataDefinedOnItem:C,settings:O}=w,_=TG(C,u),I=IG(_,h,p),T=(A=O==null?void 0:O.dataKey)!==null&&A!==void 0?A:n==null?void 0:n.dataKey,D=O==null?void 0:O.nameKey,M;if(n!=null&&n.dataKey&&Array.isArray(I)&&!Array.isArray(I[0])&&s==="axis"?M=N7(I,n.dataKey,i):M=a(I,t,d,D),Array.isArray(M))M.forEach(L=>{var z=YA(YA({},O),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});y.push(FE({tooltipEntrySettings:z,dataKey:L.dataKey,payload:L.payload,value:Ht(L.payload,L.dataKey),name:L.name}))});else{var j;y.push(FE({tooltipEntrySettings:O,dataKey:T,payload:M,value:Ht(M,T),name:(j=Ht(M,D))!==null&&j!==void 0?j:O==null?void 0:O.name}))}return y},v)}},Er=e=>{var t=ft(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Kl=e=>e.tooltip.settings.axisId,Rr=e=>{var t=Er(e),r=Kl(e);return Qc(e,t,r)},ew=Q([Rr,ft,jT,Ix,Er],XT),NG=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),PG=Q([Er,Kl],Mx),cp=Q([NG,Rr,PG],Bx),kG=Q([cp],Lx),bs=Q([kG,xs],Fx),tw=Q([bs,Rr,cp],$x),DG=Q([Rr],Ux),RG=Q([bs,cp,Yc],FT),MG=Q([RG,xs,Er],$T),jG=Q([cp],BT),BG=Q([bs,Rr,jG,Er],UT),LG=Q([WT,Er,Kl],zl),FG=Q([LG,Er],HT),$G=Q([zT,Er,Kl],zl),UG=Q([$G,Er],VT),WG=Q([GT,Er,Kl],zl),zG=Q([WG,Er],KT),GG=Q([FG,zG,UG],Wx),HG=Q([Rr,DG,MG,BG,GG],zx),vN=Q([Rr,ft,bs,tw,Yc,Er,HG],Gx),VG=Q([vN,Rr,ew],Kx),KG=Q([Rr,vN,VG,Er],Xx),yN=e=>{var t=Er(e),r=Kl(e),n=!1;return ed(e,t,r,n)},xN=Q([Rr,yN],ip),wN=Q([Rr,ew,KG,xN],Vx),qG=Q([ft,tw,Rr,Er],rN),XG=Q([ft,tw,Rr,Er],nN),YG=(e,t,r,n,i,a,s,u)=>{if(t){var{type:d}=t,h=ms(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/p:0;return v=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mr(i[0]-i[1])*2*v:v,h&&s?s.map((y,w)=>({coordinate:n(y)+v,value:y,index:w,offset:v})):n.domain().map((y,w)=>({coordinate:n(y)+v,value:a?a[y]:y,index:w,offset:v}))}}},ba=Q([ft,Rr,ew,wN,yN,qG,XG,Er],YG),rw=Q([aN,oN,dG],(e,t,r)=>sN(r.shared,e,t)),bN=e=>e.tooltip.settings.trigger,nw=e=>e.tooltip.settings.defaultIndex,dp=Q([Vl,rw,bN,nw],hN),us=Q([dp,bs],Jx),EN=Q([ba,us],lN),AN=Q([dp],e=>{if(e)return e.dataKey}),SN=Q([Vl,rw,bN,nw],gN),ZG=Q([va,ya,ft,lr,ba,nw,SN,td],pN),QG=Q([dp,ZG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),JG=Q([dp],e=>e.active),eH=Q([SN,us,xs,Rr,EN,td,rw],mN);Q([eH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iH=()=>Ne(Rr),aH=()=>{var e=iH(),t=Ne(ba),r=Ne(wN);return Ky(QA(QA({},e),{},{scale:r}),t)},oH=()=>Ne(Ix),iw=(e,t)=>t,CN=(e,t,r)=>r,aw=(e,t,r,n)=>n,sH=Q(ba,e=>F0(e,t=>t.coordinate)),ow=Q([Vl,iw,CN,aw],hN),_N=Q([ow,bs],Jx),lH=(e,t,r)=>{if(t!=null){var n=Vl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ON=Q([Vl,iw,CN,aw],gN),Ph=Q([va,ya,ft,lr,ba,aw,ON,td],pN),uH=Q([ow,Ph],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),IN=Q(ba,_N,lN),cH=Q([ON,_N,xs,Rr,IN,td,iw],mN),dH=Q([ow],e=>({isActive:e.active,activeIndex:e.index})),fH=(e,t,r,n,i,a,s,u)=>{if(!(!e||!t||!n||!i||!a)){var d=UL(e.chartX,e.chartY,t,r,u);if(d){var h=zL(d,t),p=TL(h,s,a,n,i),v=WL(t,a,p,d);return{activeIndex:String(p),activeCoordinate:v}}}};function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(null,arguments)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mH(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:u,tooltipEventType:d,chartName:h}=e,p=t,v=r,y=n;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var w,A;if(h==="ScatterChart")w=p,A=$F;else if(h==="BarChart")w=UF(s,p,i,a),A=_4;else if(s==="radial"){var{cx:C,cy:O,radius:_,startAngle:I,endAngle:T}=O4(p);w={cx:C,cy:O,startAngle:I,endAngle:T,innerRadius:_,outerRadius:_},A=T4}else w={points:E$(s,p,i)},A=y4;var D=typeof u=="object"&&"className"in u?u.className:void 0,M=af(af(af(af({stroke:"#ccc",pointerEvents:"none"},i),w),ut(u,!1)),{},{payload:v,payloadIndex:y,className:lt("recharts-tooltip-cursor",D)});return N.isValidElement(u)?N.cloneElement(u,M):N.createElement(A,M)}function vH(e){var t=aH(),r=h4(),n=Jy(),i=oH();return N.createElement(mH,Xm({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var TN=N.createContext(null),yH=()=>N.useContext(TN),NN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function a(d,h,p,v,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,v||d,y),A=r?r+h:h;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],w]:d._events[A].push(w):(d._events[A]=w,d._eventsCount++),d}function s(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)t.call(p,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,w=v.length,A=new Array(w);y<w;y++)A[y]=v[y].fn;return A},u.prototype.listenerCount=function(h){var p=r?r+h:h,v=this._events[p];return v?v.fn?1:v.length:0},u.prototype.emit=function(h,p,v,y,w,A){var C=r?r+h:h;if(!this._events[C])return!1;var O=this._events[C],_=arguments.length,I,T;if(O.fn){switch(O.once&&this.removeListener(h,O.fn,void 0,!0),_){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,p),!0;case 3:return O.fn.call(O.context,p,v),!0;case 4:return O.fn.call(O.context,p,v,y),!0;case 5:return O.fn.call(O.context,p,v,y,w),!0;case 6:return O.fn.call(O.context,p,v,y,w,A),!0}for(T=1,I=new Array(_-1);T<_;T++)I[T-1]=arguments[T];O.fn.apply(O.context,I)}else{var D=O.length,M;for(T=0;T<D;T++)switch(O[T].once&&this.removeListener(h,O[T].fn,void 0,!0),_){case 1:O[T].fn.call(O[T].context);break;case 2:O[T].fn.call(O[T].context,p);break;case 3:O[T].fn.call(O[T].context,p,v);break;case 4:O[T].fn.call(O[T].context,p,v,y);break;default:if(!I)for(M=1,I=new Array(_-1);M<_;M++)I[M-1]=arguments[M];O[T].fn.apply(O[T].context,I)}}return!0},u.prototype.on=function(h,p,v){return a(this,h,p,v,!1)},u.prototype.once=function(h,p,v){return a(this,h,p,v,!0)},u.prototype.removeListener=function(h,p,v,y){var w=r?r+h:h;if(!this._events[w])return this;if(!p)return s(this,w),this;var A=this._events[w];if(A.fn)A.fn===p&&(!y||A.once)&&(!v||A.context===v)&&s(this,w);else{for(var C=0,O=[],_=A.length;C<_;C++)(A[C].fn!==p||y&&!A[C].once||v&&A[C].context!==v)&&O.push(A[C]);O.length?this._events[w]=O.length===1?O[0]:O:s(this,w)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(NN);var xH=NN.exports;const wH=Ln(xH);var Ac=new wH,Ym="recharts.syncEvent.tooltip",eS="recharts.syncEvent.brush";function PN(e,t){if(t){var r=Number.parseInt(t,10);if(!Rn(r))return e==null?void 0:e[r]}}var bH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kN=ui({name:"options",initialState:bH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),EH=kN.reducer,{createEventEmitter:AH}=kN.actions;function SH(e){return e.tooltip.syncInteraction}var CH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},DN=ui({name:"chartData",initialState:CH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:tS,setDataStartEndIndexes:_H,setComputedData:$ne}=DN.actions,OH=DN.reducer,RN=()=>{};function IH(){var e=Ne(Tx),t=Ne(Nx),r=Dt(),n=Ne(PT),i=Ne(ba),a=Jy(),s=Yy(),u=Ne(d=>d.rootProps.className);N.useEffect(()=>{if(e==null)return RN;var d=(h,p,v)=>{if(t!==v&&e===h){if(n==="index"){r(p);return}if(i!=null){var y;if(typeof n=="function"){var w={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},A=n(i,w);y=i[A]}else n==="value"&&(y=i.find(j=>String(j.value)===p.payload.label));var{coordinate:C}=p.payload;if(y==null||p.payload.active===!1||C==null||s==null){r(Km({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:O,y:_}=C,I=Math.min(O,s.x+s.width),T=Math.min(_,s.y+s.height),D={x:a==="horizontal"?y.coordinate:I,y:a==="horizontal"?T:y.coordinate},M=Km({active:p.payload.active,coordinate:D,dataKey:p.payload.dataKey,index:String(y.index),label:p.payload.label});r(M)}}};return Ac.on(Ym,d),()=>{Ac.off(Ym,d)}},[u,r,t,e,n,i,a,s])}function TH(){var e=Ne(Tx),t=Ne(Nx),r=Dt();N.useEffect(()=>{if(e==null)return RN;var n=(i,a,s)=>{t!==s&&e===i&&r(_H(a))};return Ac.on(eS,n),()=>{Ac.off(eS,n)}},[r,t,e])}function NH(){var e=Dt();N.useEffect(()=>{e(AH())},[e]),IH(),TH()}function PH(e,t,r,n,i,a){var s=Ne(y=>lH(y,e,t)),u=Ne(Nx),d=Ne(Tx),h=Ne(PT),p=Ne(SH),v=p==null?void 0:p.active;N.useEffect(()=>{if(!v&&d!=null&&u!=null){var y=Km({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});Ac.emit(Ym,d,y,u)}},[v,r,s,i,n,u,d,h,a])}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MH(e){return e.dataKey}function jH(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(yF,t)}var iS=[],BH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Fl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function MN(e){var t=Ii(e,BH),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:v,reverseDirection:y,useTranslate3d:w,wrapperStyle:A,cursor:C,shared:O,trigger:_,defaultIndex:I,portal:T,axisId:D}=t,M=Dt(),j=typeof I=="number"?String(I):I;N.useEffect(()=>{M(gG({shared:O,trigger:_,axisId:D,active:r,defaultIndex:j}))},[M,O,_,D,r,j]);var L=Yy(),z=v4(),U=cG(O),{activeIndex:J,isActive:X}=Ne(qe=>dH(qe,U,_,j)),q=Ne(qe=>cH(qe,U,_,j)),oe=Ne(qe=>IN(qe,U,_,j)),de=Ne(qe=>uH(qe,U,_,j)),H=q,we=yH(),ee=r??X,[te,fe]=RI([H,ee]),ie=U==="axis"?oe:void 0;PH(U,_,de,ie,J,ee);var ve=T??we;if(ve==null)return null;var re=H??iS;ee||(re=iS),u&&re.length&&(re=EI(H.filter(qe=>qe.value!=null&&(qe.hide!==!0||t.includeHidden)),p,MH));var Ue=re.length>0,$e=N.createElement(CF,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:d,active:ee,coordinate:de,hasPayload:Ue,offset:h,position:v,reverseDirection:y,useTranslate3d:w,viewBox:L,wrapperStyle:A,lastBoundingBox:te,innerRef:fe,hasPortalFromProps:!!T},jH(s,nS(nS({},t),{},{payload:re,label:ie,active:ee,coordinate:de,accessibilityLayer:z})));return N.createElement(N.Fragment,null,Bc.createPortal($e,ve),ee&&N.createElement(vH,{cursor:C,tooltipEventType:U,coordinate:de,payload:H,index:J}))}var jN={},BN={},LN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,u=null;const d=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),p=()=>{u!==null&&(r.apply(s,u),s=void 0,u=null)},v=()=>{h&&p(),C()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},n)},A=()=>{y!==null&&(clearTimeout(y),y=null)},C=()=>{A(),s=void 0,u=null},O=()=>{p()},_=function(...I){if(i!=null&&i.aborted)return;s=this,u=I;const T=y==null;w(),d&&T&&p()};return _.schedule=w,_.cancel=C,_.flush=O,i==null||i.addEventListener("abort",C,{once:!0}),_}e.debounce=t})(LN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LN;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:d}=a,h=Array(2);s&&(h[0]="leading"),u&&(h[1]="trailing");let p,v=null;const y=t.debounce(function(...C){p=n.apply(this,C),v=null},i,{edges:h}),w=function(...C){return d!=null&&(v===null&&(v=Date.now()),Date.now()-v>=d)?(p=n.apply(this,C),v=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,C),p)},A=()=>(y.flush(),p);return w.cancel=y.cancel,w.flush=A,w}e.debounce=r})(BN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BN;function r(n,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:u})}e.throttle=r})(jN);var LH=jN.throttle;const FH=Ln(LH);var Ku=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FN=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:v,className:y,onResize:w,style:A={}}=e,C=N.useRef(null),O=N.useRef();O.current=w,N.useImperativeHandle(t,()=>C.current);var[_,I]=N.useState({containerWidth:n.width,containerHeight:n.height}),T=N.useCallback((M,j)=>{I(L=>{var z=Math.round(M),U=Math.round(j);return L.containerWidth===z&&L.containerHeight===U?L:{containerWidth:z,containerHeight:U}})},[]);N.useEffect(()=>{var M=U=>{var J,{width:X,height:q}=U[0].contentRect;T(X,q),(J=O.current)===null||J===void 0||J.call(O,X,q)};p>0&&(M=FH(M,p,{trailing:!0,leading:!1}));var j=new ResizeObserver(M),{width:L,height:z}=C.current.getBoundingClientRect();return T(L,z),j.observe(C.current),()=>{j.disconnect()}},[T,p]);var D=N.useMemo(()=>{var{containerWidth:M,containerHeight:j}=_;if(M<0||j<0)return null;Ku(Wo(i)||Wo(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Ku(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Wo(i)?M:i,z=Wo(a)?j:a;return r&&r>0&&(L?z=L/r:z&&(L=z*r),d&&z>d&&(z=d)),Ku(L>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,z,i,a,s,u,r),N.Children.map(h,U=>N.cloneElement(U,{width:L,height:z,style:Gg({width:L,height:z},U.props.style)}))},[r,h,a,d,u,s,_,i]);return N.createElement("div",{id:v?"".concat(v):void 0,className:lt("recharts-responsive-container",y),style:Gg(Gg({},A),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:d}),ref:C},N.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),rd=e=>null;rd.displayName="Cell";function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ls={widthCache:{},cacheCount:0},VH=2e3,KH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sS="recharts_measurement_span";function qH(e){var t=Zm({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var qu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fl.isSsr)return{width:0,height:0};var n=qH(r),i=JSON.stringify({text:t,copyStyle:n});if(Ls.widthCache[i])return Ls.widthCache[i];try{var a=document.getElementById(sS);a||(a=document.createElement("span"),a.setAttribute("id",sS),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Zm(Zm({},KH),n);Object.assign(a.style,s),a.textContent="".concat(t);var u=a.getBoundingClientRect(),d={width:u.width,height:u.height};return Ls.widthCache[i]=d,++Ls.cacheCount>VH&&(Ls.cacheCount=0,Ls.widthCache={}),d}catch{return{width:0,height:0}}},lS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$N={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZH=Object.keys($N),tl="NaN";function QH(e,t){return e*$N[t]}class cn{static parse(t){var r,[,n,i]=(r=YH.exec(t))!==null&&r!==void 0?r:[];return new cn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Rn(t)&&(this.unit=""),r!==""&&!XH.test(r)&&(this.num=NaN,this.unit=""),ZH.includes(r)&&(this.num=QH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rn(this.num)}}function UN(e){if(e.includes(tl))return tl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=lS.exec(t))!==null&&r!==void 0?r:[],s=cn.parse(n??""),u=cn.parse(a??""),d=i==="*"?s.multiply(u):s.divide(u);if(d.isNaN())return tl;t=t.replace(lS,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,v,y]=(h=uS.exec(t))!==null&&h!==void 0?h:[],w=cn.parse(p??""),A=cn.parse(y??""),C=v==="+"?w.add(A):w.subtract(A);if(C.isNaN())return tl;t=t.replace(uS,C.toString())}return t}var cS=/\(([^()]*)\)/;function JH(e){for(var t=e,r;(r=cS.exec(t))!=null;){var[,n]=r;t=t.replace(cS,UN(n))}return t}function eV(e){var t=e.replace(/\s+/g,"");return t=JH(t),t=UN(t),t}function tV(e){try{return eV(e)}catch{return tl}}function Hg(e){var t=tV(e.slice(5,-1));return t===tl?"":t}var rV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nV=["dx","dy","angle","className","breakAll"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}function dS(e,t){if(e==null)return{};var r,n,i=iV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WN=/[ \f\n\r\t\v\u2028\u2029]+/,zN=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];er(t)||(r?i=t.toString().split(""):i=t.toString().split(WN));var a=i.map(u=>({word:u,width:qu(u,n).width})),s=r?0:qu("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},aV=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:u,breakAll:d}=e,h=Se(a),p=s,v=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce((q,oe)=>{var{word:de,width:H}=oe,we=q[q.length-1];if(we&&(n==null||i||we.width+H+r<Number(n)))we.words.push(de),we.width+=H+r;else{var ee={words:[de],width:H};q.push(ee)}return q},[])},y=v(t),w=J=>J.reduce((X,q)=>X.width>q.width?X:q);if(!h||i)return y;var A=y.length>a||w(y).width>Number(n);if(!A)return y;for(var C="",O=J=>{var X=p.slice(0,J),q=zN({breakAll:d,style:u,children:X+C}).wordsWithComputedWidth,oe=v(q),de=oe.length>a||w(oe).width>Number(n);return[de,oe]},_=0,I=p.length-1,T=0,D;_<=I&&T<=p.length-1;){var M=Math.floor((_+I)/2),j=M-1,[L,z]=O(j),[U]=O(M);if(!L&&!U&&(_=M+1),L&&U&&(I=M-1),!L&&U){D=z;break}T++}return D||y},fS=e=>{var t=er(e)?[]:e.toString().split(WN);return[{words:t}]},oV=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Fl.isSsr){var u,d,h=zN({breakAll:a,children:n,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:v}=h;u=p,d=v}else return fS(n);return aV({breakAll:a,children:n,maxLines:s,style:i},u,d,t,r)}return fS(n)},hS="#808080",fp=N.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:u="start",verticalAnchor:d="end",fill:h=hS}=e,p=dS(e,rV),v=N.useMemo(()=>oV({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:s,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,s,p.style,p.width]),{dx:y,dy:w,angle:A,className:C,breakAll:O}=p,_=dS(p,nV);if(!zi(r)||!zi(n))return null;var I=r+(Se(y)?y:0),T=n+(Se(w)?w:0),D;switch(d){case"start":D=Hg("calc(".concat(a,")"));break;case"middle":D=Hg("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:D=Hg("calc(".concat(v.length-1," * -").concat(i,")"));break}var M=[];if(s){var j=v[0].width,{width:L}=p;M.push("scale(".concat(Se(L)?L/j:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(I,", ").concat(T,")")),M.length&&(_.transform=M.join(" ")),N.createElement("text",Qm({},ut(_,!0),{ref:t,x:I,y:T,className:lt("recharts-text",C),textAnchor:u,fill:h.includes("url")?hS:h}),v.map((z,U)=>{var J=z.words.join(O?"":" ");return N.createElement("tspan",{x:I,dy:U===0?D:i,key:"".concat(J,"-").concat(U)},J)}))});fp.displayName="Text";var sV=["offset"],lV=["labelRef"];function pS(e,t){if(e==null)return{};var r,n,i=uV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){cV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cV(e,t,r){return(t=dV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}var hV=e=>{var{value:t,formatter:r}=e,n=er(e.children)?t:e.children;return typeof r=="function"?r(n):n},sw=e=>e!=null&&typeof e=="function",pV=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},gV=(e,t,r)=>{var{position:n,viewBox:i,offset:a,className:s}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:v,endAngle:y,clockWise:w}=i,A=(h+p)/2,C=pV(v,y),O=C>=0?1:-1,_,I;n==="insideStart"?(_=v+O*a,I=w):n==="insideEnd"?(_=y-O*a,I=!w):n==="end"&&(_=y+O*a,I=w),I=C<=0?I:!I;var T=Jt(u,d,A,_),D=Jt(u,d,A,_+(I?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(I?0:1,`,
    `).concat(D.x,",").concat(D.y),j=er(e.id)?wl("recharts-radial-line-"):e.id;return N.createElement("text",Ji({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:j,d:M})),N.createElement("textPath",{xlinkHref:"#".concat(j)},t))},mV=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:i,cy:a,innerRadius:s,outerRadius:u,startAngle:d,endAngle:h}=t,p=(d+h)/2;if(n==="outside"){var{x:v,y}=Jt(i,a,u+r,p);return{x:v,y,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(s+u)/2,{x:A,y:C}=Jt(i,a,w,p);return{x:A,y:C,textAnchor:"middle",verticalAnchor:"middle"}},vV=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:a,y:s,width:u,height:d}=t,h=d>=0?1:-1,p=h*n,v=h>0?"end":"start",y=h>0?"start":"end",w=u>=0?1:-1,A=w*n,C=w>0?"end":"start",O=w>0?"start":"end";if(i==="top"){var _={x:a+u/2,y:s-h*n,textAnchor:"middle",verticalAnchor:v};return Zt(Zt({},_),r?{height:Math.max(s-r.y,0),width:u}:{})}if(i==="bottom"){var I={x:a+u/2,y:s+d+p,textAnchor:"middle",verticalAnchor:y};return Zt(Zt({},I),r?{height:Math.max(r.y+r.height-(s+d),0),width:u}:{})}if(i==="left"){var T={x:a-A,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return Zt(Zt({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(i==="right"){var D={x:a+u+A,y:s+d/2,textAnchor:O,verticalAnchor:"middle"};return Zt(Zt({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:d}:{})}var M=r?{width:u,height:d}:{};return i==="insideLeft"?Zt({x:a+A,y:s+d/2,textAnchor:O,verticalAnchor:"middle"},M):i==="insideRight"?Zt({x:a+u-A,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},M):i==="insideTop"?Zt({x:a+u/2,y:s+p,textAnchor:"middle",verticalAnchor:y},M):i==="insideBottom"?Zt({x:a+u/2,y:s+d-p,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Zt({x:a+A,y:s+p,textAnchor:O,verticalAnchor:y},M):i==="insideTopRight"?Zt({x:a+u-A,y:s+p,textAnchor:C,verticalAnchor:y},M):i==="insideBottomLeft"?Zt({x:a+A,y:s+d-p,textAnchor:O,verticalAnchor:v},M):i==="insideBottomRight"?Zt({x:a+u-A,y:s+d-p,textAnchor:C,verticalAnchor:v},M):i&&typeof i=="object"&&(Se(i.x)||Wo(i.x))&&(Se(i.y)||Wo(i.y))?Zt({x:a+Qr(i.x,u),y:s+Qr(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Zt({x:a+u/2,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},yV=e=>"cx"in e&&Se(e.cx);function Cn(e){var{offset:t=5}=e,r=pS(e,sV),n=Zt({offset:t},r),{viewBox:i,position:a,value:s,children:u,content:d,className:h="",textBreakAll:p,labelRef:v}=n,y=Yy(),w=i||y;if(!w||er(s)&&er(u)&&!N.isValidElement(d)&&typeof d!="function")return null;if(N.isValidElement(d)){var{labelRef:A}=n,C=pS(n,lV);return N.cloneElement(d,C)}var O;if(typeof d=="function"){if(O=N.createElement(d,n),N.isValidElement(O))return O}else O=hV(n);var _=yV(w),I=ut(n,!0);if(_&&(a==="insideStart"||a==="insideEnd"||a==="end"))return gV(n,O,I);var T=_?mV(n):vV(n,w);return N.createElement(fp,Ji({ref:v,className:lt("recharts-label",h)},I,T,{breakAll:p}),O)}Cn.displayName="Label";var GN=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:a,r:s,radius:u,innerRadius:d,outerRadius:h,x:p,y:v,top:y,left:w,width:A,height:C,clockWise:O,labelViewBox:_}=e;if(_)return _;if(Se(A)&&Se(C)){if(Se(p)&&Se(v))return{x:p,y:v,width:A,height:C};if(Se(y)&&Se(w))return{x:y,y:w,width:A,height:C}}if(Se(p)&&Se(v))return{x:p,y:v,width:0,height:0};if(Se(t)&&Se(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:d||0,outerRadius:h||u||s||0,clockWise:O};if(e.viewBox)return e.viewBox},xV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?N.createElement(Cn,Ji({key:"label-implicit"},n)):zi(e)?N.createElement(Cn,Ji({key:"label-implicit",value:e},n)):N.isValidElement(e)?e.type===Cn?N.cloneElement(e,Zt({key:"label-implicit"},n)):N.createElement(Cn,Ji({key:"label-implicit",content:e},n)):sw(e)?N.createElement(Cn,Ji({key:"label-implicit",content:e},n)):e&&typeof e=="object"?N.createElement(Cn,Ji({},e,{key:"label-implicit"},n)):null},wV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:a}=t,s=GN(t),u=Gc(i,Cn).map((h,p)=>N.cloneElement(h,{viewBox:r||s,key:"label-".concat(p)}));if(!n)return u;var d=xV(t.label,r||s,a);return[d,...u]};Cn.parseViewBox=GN;Cn.renderCallByParent=wV;var HN={},VN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(VN);var KN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(KN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VN,r=KN,n=R0;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(HN);var bV=HN.last;const EV=Ln(bV);var AV=["valueAccessor"],SV=["data","dataKey","clockWise","id","textBreakAll"];function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){CV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CV(e,t,r){return(t=_V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yS(e,t){if(e==null)return{};var r,n,i=IV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TV=e=>Array.isArray(e.value)?EV(e.value):e.value;function Jo(e){var{valueAccessor:t=TV}=e,r=yS(e,AV),{data:n,dataKey:i,clockWise:a,id:s,textBreakAll:u}=r,d=yS(r,SV);return!n||!n.length?null:N.createElement(Jr,{className:"recharts-label-list"},n.map((h,p)=>{var v=er(i)?t(h,p):Ht(h&&h.payload,i),y=er(s)?{}:{id:"".concat(s,"-").concat(p)};return N.createElement(Cn,kh({},ut(h,!0),d,y,{parentViewBox:h.parentViewBox,value:v,textBreakAll:u,viewBox:Cn.parseViewBox(er(a)?h:vS(vS({},h),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Jo.displayName="LabelList";function NV(e,t){return e?e===!0?N.createElement(Jo,{key:"labelList-implicit",data:t}):N.isValidElement(e)||sw(e)?N.createElement(Jo,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?N.createElement(Jo,kh({data:t},e,{key:"labelList-implicit"})):null:null}function PV(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Gc(n,Jo).map((s,u)=>N.cloneElement(s,{data:t,key:"labelList-".concat(u)}));if(!r)return i;var a=NV(e.label,t);return[a,...i]}Jo.renderCallByParent=PV;var qN=e=>e.graphicalItems.polarItems,kV=Q([qt,Zc],Mx),lw=Q([qN,Xt,kV],Bx),DV=Q([lw],Lx),uw=Q([DV,Cx],Fx),RV=Q([uw,Xt,lw],$x),MV=Q([uw,Xt,lw],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ht(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ht(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),xS=()=>{},jV=Q([Xt,qT,xS,MV,xS],zx),XN=Q([Xt,ft,uw,RV,Yc,qt,jV],Gx),BV=Q([XN,Xt,Gl],Kx);Q([Xt,XN,BV,qt],Xx);var LV={radiusAxis:{},angleAxis:{}},YN=ui({name:"polarAxis",initialState:LV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Une,removeRadiusAxis:Wne,addAngleAxis:zne,removeAngleAxis:Gne}=YN.actions,FV=YN.reducer;function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){$V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $V(e,t,r){return(t=UV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cw=(e,t)=>t,zV=[],dw=(e,t,r)=>(r==null?void 0:r.length)===0?zV:r,ZN=Q([Cx,cw,dw],(e,t,r)=>{var{chartData:n}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>bS(bS({},t.presentationProps),a.props))),i!=null)return i}),GV=Q([ZN,cw,dw],(e,t,r)=>{if(e!=null)return e.map((n,i)=>{var a,s=Ht(n,t.nameKey,t.name),u;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:V0(s,t.dataKey),color:u,payload:n,type:t.legendType}})}),HV=Q([qN,cw],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),VV=Q([ZN,HV,dw,lr],(e,t,r,n)=>{if(!(t==null||e==null))return jK({offset:n,pieSettings:t,displayedData:e,cells:r})}),KV={countOfBars:0,cartesianItems:[],polarItems:[]},QN=ui({name:"graphicalItems",initialState:KV,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=aa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=aa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=aa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:qV,removeBar:XV,addCartesianGraphicalItem:YV,replaceCartesianGraphicalItem:ZV,removeCartesianGraphicalItem:QV,addPolarGraphicalItem:JV,removePolarGraphicalItem:eK}=QN.actions,tK=QN.reducer;function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e){var t=Dt(),r=N.useRef(null);return N.useEffect(()=>{var n=AS(AS({},e),{},{stackId:l4(e.stackId)});r.current===null?t(YV(n)):r.current!==n&&t(ZV({prev:r.current,next:n})),r.current=n},[t,e]),N.useEffect(()=>()=>{r.current&&(t(QV(r.current)),r.current=null)},[t]),null}function oK(e){var t=Dt();return N.useEffect(()=>(t(JV(e)),()=>{t(eK(e))}),[t,e]),null}var JN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(JN);var sK=JN.isPlainObject;const lK=Ln(sK);function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(null,arguments)}var SS=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},uK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cK=e=>{var t=Ii(e,uK),r=N.useRef(),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&i(O)}catch{}},[]);var{x:a,y:s,upperWidth:u,lowerWidth:d,height:h,className:p}=t,{animationEasing:v,animationDuration:y,animationBegin:w,isUpdateAnimationActive:A}=t;if(a!==+a||s!==+s||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var C=lt("recharts-trapezoid",p);return A?N.createElement(ss,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:s},to:{upperWidth:u,lowerWidth:d,height:h,x:a,y:s},duration:y,animationEasing:v,isActive:A},O=>{var{upperWidth:_,lowerWidth:I,height:T,x:D,y:M}=O;return N.createElement(ss,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},N.createElement("path",Dh({},ut(t,!0),{className:C,d:SS(D,M,_,I,T),ref:r})))}):N.createElement("g",null,N.createElement("path",Dh({},ut(t,!0),{className:C,d:SS(a,s,u,d,h)})))},dK=["option","shapeType","propTransformer","activeClassName","isActive"];function fK(e,t){if(e==null)return{};var r,n,i=hK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vK(e,t){return Rh(Rh({},t),e)}function yK(e,t){return e==="symbols"}function _S(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(_4,r);case"trapezoid":return N.createElement(cK,r);case"sector":return N.createElement(T4,r);case"symbols":if(yK(t))return N.createElement(Ty,r);break;default:return null}}function xK(e){return N.isValidElement(e)?e.props:e}function eP(e){var{option:t,shapeType:r,propTransformer:n=vK,activeClassName:i="recharts-active-shape",isActive:a}=e,s=fK(e,dK),u;if(N.isValidElement(t))u=N.cloneElement(t,Rh(Rh({},s),xK(t)));else if(typeof t=="function")u=t(s);else if(lK(t)&&typeof t!="boolean"){var d=n(t,s);u=N.createElement(_S,{shapeType:r,elementProps:d})}else{var h=s;u=N.createElement(_S,{shapeType:r,elementProps:h})}return a?N.createElement(Jr,{className:i},u):u}var fw=(e,t)=>{var r=Dt();return(n,i)=>a=>{e==null||e(n,i,a),r(cN({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},hw=e=>{var t=Dt();return(r,n)=>i=>{e==null||e(r,n,i),t(mG())}},pw=(e,t)=>{var r=Dt();return(n,i)=>a=>{e==null||e(n,i,a),r(vG({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function tP(e){var{fn:t,args:r}=e,n=Dt(),i=yn();return N.useEffect(()=>{if(!i){var a=t(r);return n(hG(a)),()=>{n(pG(a))}}},[t,r,n,i]),null}var rP=()=>{};function wK(e){var{legendPayload:t}=e,r=Dt(),n=yn();return N.useEffect(()=>n?rP:(r(g4(t)),()=>{r(m4(t))}),[r,n,t]),null}function bK(e){var{legendPayload:t}=e,r=Dt(),n=Ne(ft);return N.useEffect(()=>n!=="centric"&&n!=="radial"?rP:(r(g4(t)),()=>{r(m4(t))}),[r,n,t]),null}function nP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(wl(t)),n=N.useRef(e);return n.current!==e&&(r.current=wl(t),n.current=e),r.current}var EK=["onMouseEnter","onClick","onMouseLeave"];function AK(e,t){if(e==null)return{};var r,n,i=SK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){hp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hp(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(null,arguments)}function OK(e){var t=N.useMemo(()=>ut(e,!1),[e]),r=N.useMemo(()=>Gc(e.children,rd),[e.children]),n=N.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=Ne(a=>GV(a,n,r));return N.createElement(bK,{legendPayload:i})}function IK(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:u,hide:d,tooltipType:h}=e;return{dataDefinedOnItem:n==null?void 0:n.map(p=>p.tooltipPayload),positions:n==null?void 0:n.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:V0(u,t),hide:d,type:h,color:s,unit:""}}}var TK=(e,t)=>e>t?"start":e<t?"end":"middle",NK=(e,t,r)=>typeof t=="function"?t(e):Qr(t,r,r*.8),PK=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,u=a4(a,s),d=i+Qr(e.cx,a,a/2),h=n+Qr(e.cy,s,s/2),p=Qr(e.innerRadius,u,0),v=NK(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:v,maxRadius:y}},kK=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},DK=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=lt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(y4,cs({},t,{type:"linear",className:r}))},RK=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var i=lt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return N.createElement(fp,cs({},t,{alignmentBaseline:"middle",className:i}),n)};function MK(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var u=ut(r,!1),d=ut(i,!1),h=ut(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,v=t.map((y,w)=>{var A=(y.startAngle+y.endAngle)/2,C=Jt(y.cx,y.cy,y.outerRadius+p,A),O=Gt(Gt(Gt(Gt({},u),y),{},{stroke:"none"},d),{},{index:w,textAnchor:TK(C.x,y.cx)},C),_=Gt(Gt(Gt(Gt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[Jt(y.cx,y.cy,y.outerRadius,A),C],key:"line"});return N.createElement(Jr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},a&&DK(a,_),RK(i,O,Ht(y,s)))});return N.createElement(Jr,{className:"recharts-pie-labels"},v)}function iP(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=e,s=Ne(us),{onMouseEnter:u,onClick:d,onMouseLeave:h}=i,p=AK(i,EK),v=fw(u,i.dataKey),y=hw(h),w=pw(d,i.dataKey);return t==null?null:N.createElement(N.Fragment,null,t.map((A,C)=>{if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&t.length!==1)return null;var O=r&&String(C)===s,_=s?n:null,I=O?r:_,T=Gt(Gt({},A),{},{stroke:A.stroke,tabIndex:-1,[c4]:C,[d4]:i.dataKey});return N.createElement(Jr,cs({tabIndex:-1,className:"recharts-pie-sector"},zc(p,A,C),{onMouseEnter:v(A,C),onMouseLeave:y(A,C),onClick:w(A,C),key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(C)}),N.createElement(eP,cs({option:I,isActive:O,shapeType:"sector"},T)))}),N.createElement(MK,{sectors:t,props:i,showLabels:a}))}function jK(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:v}=r,y=Math.abs(r.minAngle),w=kK(u,d),A=Math.abs(w),C=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,O=n.filter(j=>Ht(j,h,0)!==0).length,_=(A>=360?O:O-1)*C,I=A-O*y-_,T=n.reduce((j,L)=>{var z=Ht(L,h,0);return j+(Se(z)?z:0)},0),D;if(T>0){var M;D=n.map((j,L)=>{var z=Ht(j,h,0),U=Ht(j,p,L),J=PK(r,a,j),X=(Se(z)?z:0)/T,q,oe=Gt(Gt({},j),i&&i[L]&&i[L].props);L?q=M.endAngle+mr(w)*C*(z!==0?1:0):q=u;var de=q+mr(w)*((z!==0?y:0)+X*I),H=(q+de)/2,we=(J.innerRadius+J.outerRadius)/2,ee=[{name:U,value:z,payload:oe,dataKey:h,type:v}],te=Jt(J.cx,J.cy,we,H);return M=Gt(Gt(Gt(Gt({},r.presentationProps),{},{percent:X,cornerRadius:s,name:U,tooltipPayload:ee,midAngle:H,middleRadius:we,tooltipPosition:te},oe),J),{},{value:Ht(j,h),startAngle:q,endAngle:de,payload:oe,paddingAngle:mr(w)*C}),M})}return D}function BK(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:u,activeShape:d,inactiveShape:h,onAnimationStart:p,onAnimationEnd:v}=t,y=nP(t,"recharts-pie-"),w=r.current,[A,C]=N.useState(!0),O=N.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),_=N.useCallback(()=>{typeof p=="function"&&p(),C(!0)},[p]);return N.createElement(ss,{begin:a,duration:s,isActive:i,easing:u,from:{t:0},to:{t:1},onAnimationStart:_,onAnimationEnd:O,key:y},I=>{var{t:T}=I,D=[],M=n&&n[0],j=M.startAngle;return n.forEach((L,z)=>{var U=w&&w[z],J=z>0?so(L,"paddingAngle",0):0;if(U){var X=La(U.endAngle-U.startAngle,L.endAngle-L.startAngle),q=Gt(Gt({},L),{},{startAngle:j+J,endAngle:j+X(T)+J});D.push(q),j=q.endAngle}else{var{endAngle:oe,startAngle:de}=L,H=La(0,oe-de),we=H(T),ee=Gt(Gt({},L),{},{startAngle:j+J,endAngle:j+we+J});D.push(ee),j=ee.endAngle}}),r.current=D,N.createElement(Jr,null,N.createElement(iP,{sectors:D,activeShape:d,inactiveShape:h,allOtherPieProps:t,showLabels:!A}))})}function LK(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,a=N.useRef(null),s=a.current;return r&&t&&t.length&&(!s||s!==t)?N.createElement(BK,{props:e,previousSectorsRef:a}):N.createElement(iP,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function FK(e){var{hide:t,className:r,rootTabIndex:n}=e,i=lt("recharts-pie",r);return t?null:N.createElement(Jr,{tabIndex:n,className:i},N.createElement(LK,e))}var aP={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Fl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function $K(e){var t=Ii(e,aP),r=N.useMemo(()=>Gc(e.children,rd),[e.children]),n=ut(t,!1),i=N.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),a=Ne(s=>VV(s,i,r));return N.createElement(N.Fragment,null,N.createElement(tP,{fn:IK,args:Gt(Gt({},t),{},{sectors:a})}),N.createElement(FK,cs({},t,{sectors:a})))}class gw extends N.PureComponent{constructor(){super(...arguments),hp(this,"id",wl("recharts-pie-"))}render(){return N.createElement(N.Fragment,null,N.createElement(oK,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),N.createElement(OK,this.props),N.createElement($K,this.props),this.props.children)}}hp(gw,"displayName","Pie");hp(gw,"defaultProps",aP);var UK=Q([lr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),WK=Q([UK,va,ya],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),zK=e=>{var t=yn();return Ne(r=>lo(r,"xAxis",e,t))},GK=e=>{var t=yn();return Ne(r=>lo(r,"yAxis",e,t))},oP=()=>Ne(WK),HK=()=>{var e=Dt();return N.useEffect(()=>(e(qV()),()=>{e(XV())})),null},VK=["children"];function KK(e,t){if(e==null)return{};var r,n,i=qK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IS=()=>{},sP=N.createContext({addErrorBar:IS,removeErrorBar:IS}),XK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lP=N.createContext(XK);function YK(e){var{children:t}=e,r=KK(e,VK);return N.createElement(lP.Provider,{value:r},t)}var ZK=()=>N.useContext(lP),QK=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:s,stackId:u,hide:d,type:h,barSize:p}=e,[v,y]=N.useState([]),w=N.useCallback(O=>{y(_=>[..._,O])},[y]),A=N.useCallback(O=>{y(_=>_.filter(I=>I!==O))},[y]),C=yn();return N.createElement(sP.Provider,{value:{addErrorBar:w,removeErrorBar:A}},N.createElement(aK,{type:h,data:s,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:v,stackId:u,hide:d,barSize:p,isPanorama:C}),t)};function JK(e){var{addErrorBar:t,removeErrorBar:r}=N.useContext(sP);return N.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var eq=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function uP(e,t,r){return(t=tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(null,arguments)}function nq(e,t){if(e==null)return{};var r,n,i=iq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aq(e){var{direction:t,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:u}=e,d=nq(e,eq),h=ut(d,!1),{data:p,dataPointFormatter:v,xAxisId:y,yAxisId:w,errorBarOffset:A}=ZK(),C=zK(y),O=GK(w);if((C==null?void 0:C.scale)==null||(O==null?void 0:O.scale)==null||p==null||t==="x"&&C.type!=="number")return null;var _=p.map(I=>{var{x:T,y:D,value:M,errorVal:j}=v(I,n,t);if(!j)return null;var L=[],z,U;if(Array.isArray(j)?[z,U]=j:z=U=j,t==="x"){var{scale:J}=C,X=D+A,q=X+r,oe=X-r,de=J(M-z),H=J(M+U);L.push({x1:H,y1:q,x2:H,y2:oe}),L.push({x1:de,y1:X,x2:H,y2:X}),L.push({x1:de,y1:q,x2:de,y2:oe})}else if(t==="y"){var{scale:we}=O,ee=T+A,te=ee-r,fe=ee+r,ie=we(M-z),ve=we(M+U);L.push({x1:te,y1:ve,x2:fe,y2:ve}),L.push({x1:ee,y1:ie,x2:ee,y2:ve}),L.push({x1:te,y1:ie,x2:fe,y2:ie})}var re="".concat(T+A,"px ").concat(D+A,"px");return N.createElement(Jr,Sc({className:"recharts-errorBar",key:"bar-".concat(L.map(Ue=>"".concat(Ue.x1,"-").concat(Ue.x2,"-").concat(Ue.y1,"-").concat(Ue.y2)))},h),L.map(Ue=>{var $e=i?{transformOrigin:"".concat(Ue.x1-5,"px")}:void 0;return N.createElement(ss,{from:{transform:"scaleY(0)",transformOrigin:re},to:{transform:"scaleY(1)",transformOrigin:re},begin:a,easing:u,isActive:i,duration:s,key:"line-".concat(Ue.x1,"-").concat(Ue.x2,"-").concat(Ue.y1,"-").concat(Ue.y2),style:{transformOrigin:re}},N.createElement("line",Sc({},Ue,{style:$e})))}))});return N.createElement(Jr,{className:"recharts-errorBars"},_)}var cP=N.createContext(void 0);function oq(e){var t=N.useContext(cP);return e??t??"x"}function sq(e){var{direction:t,children:r}=e;return N.createElement(cP.Provider,{value:t},r)}var dP={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function lq(e){var t=oq(e.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s}=Ii(e,dP);return N.createElement(N.Fragment,null,N.createElement(JK,{dataKey:e.dataKey,direction:t}),N.createElement(aq,Sc({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s})))}class fP extends N.Component{render(){return N.createElement(lq,this.props)}}uP(fP,"defaultProps",dP);uP(fP,"displayName","ErrorBar");var uq="Invariant failed";function hP(e,t){throw new Error(uq)}var cq=["x","y"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t){if(e==null)return{};var r,n,i=gq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mq(e,t){var{x:r,y:n}=e,i=pq(e,cq),a="".concat(r),s=parseInt(a,10),u="".concat(n),d=parseInt(u,10),h="".concat(t.height||i.height),p=parseInt(h,10),v="".concat(t.width||i.width),y=parseInt(v,10);return Au(Au(Au(Au(Au({},t),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function pP(e){return N.createElement(eP,Jm({shapeType:"rectangle",propTransformer:mq,activeClassName:"recharts-active-bar"},e))}var vq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Se(t))return t;var a=Se(n)||er(n);return a?t(n,i):(a||hP(),r)}};function gP(e,t){var r,n,i=Ne(h=>wa(h,e)),a=Ne(h=>yo(h,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:bn.allowDataOverflow,u=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:En.allowDataOverflow,d=s||u;return{needClip:d,needClipX:s,needClipY:u}}function yq(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=oP(),{needClipX:a,needClipY:s,needClip:u}=gP(t,r);if(!u)return null;var{x:d,y:h,width:p,height:v}=i;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:a?d:d-p/2,y:s?h:h-v/2,width:a?p:p*2,height:s?v:v*2}))}var xq=["onMouseEnter","onMouseLeave","onClick"],wq=["value","background","tooltipPosition"],bq=["onMouseEnter","onClick","onMouseLeave"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(null,arguments)}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pp(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ev(e,t){if(e==null)return{};var r,n,i=Sq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cq=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:V0(r,t),payload:e}]};function _q(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:V0(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:u}}}function Oq(e){var t=Ne(us),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:u,onClick:d}=a,h=ev(a,xq),p=fw(s,n),v=hw(u),y=pw(d,n);if(!i||r==null)return null;var w=ut(i,!1);return N.createElement(N.Fragment,null,r.map((A,C)=>{var{value:O,background:_,tooltipPosition:I}=A,T=ev(A,wq);if(!_)return null;var D=p(A,C),M=v(A,C),j=y(A,C),L=Wr(Wr(Wr(Wr(Wr({option:i,isActive:String(C)===t},T),{},{fill:"#eee"},_),w),zc(h,A,C)),{},{onMouseEnter:D,onMouseLeave:M,onClick:j,dataKey:n,index:C,className:"recharts-bar-background-rectangle"});return N.createElement(pP,Cc({key:"background-bar-".concat(C)},L))}))}function mP(e){var{data:t,props:r,showLabels:n}=e,i=ut(r,!1),{shape:a,dataKey:s,activeBar:u}=r,d=Ne(us),h=Ne(AN),{onMouseEnter:p,onClick:v,onMouseLeave:y}=r,w=ev(r,bq),A=fw(p,s),C=hw(y),O=pw(v,s);return t?N.createElement(N.Fragment,null,t.map((_,I)=>{var T=u&&String(I)===d&&(h==null||s===h),D=T?u:a,M=Wr(Wr(Wr({},i),_),{},{isActive:T,option:D,index:I,dataKey:s});return N.createElement(Jr,Cc({className:"recharts-bar-rectangle"},zc(w,_,I),{onMouseEnter:A(_,I),onMouseLeave:C(_,I),onClick:O(_,I),key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(I)}),N.createElement(pP,M))}),n&&Jo.renderCallByParent(r,t)):null}function Iq(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=t,v=r.current,y=nP(t,"recharts-bar-"),[w,A]=N.useState(!1),C=N.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),O=N.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return N.createElement(ss,{begin:s,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},onAnimationEnd:C,onAnimationStart:O,key:y},_=>{var{t:I}=_,T=I===1?n:n.map((D,M)=>{var j=v&&v[M];if(j){var L=La(j.x,D.x),z=La(j.y,D.y),U=La(j.width,D.width),J=La(j.height,D.height);return Wr(Wr({},D),{},{x:L(I),y:z(I),width:U(I),height:J(I)})}if(i==="horizontal"){var X=La(0,D.height),q=X(I);return Wr(Wr({},D),{},{y:D.y+D.height-q,height:q})}var oe=La(0,D.width),de=oe(I);return Wr(Wr({},D),{},{width:de})});return I>0&&(r.current=T),N.createElement(Jr,null,N.createElement(mP,{props:t,data:T,showLabels:!w}))})}function Tq(e){var{data:t,isAnimationActive:r}=e,n=N.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?N.createElement(Iq,{previousRectanglesRef:n,props:e}):N.createElement(mP,{props:e,data:t,showLabels:!0})}var vP=0,Nq=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ht(e,t)}};class Pq extends N.PureComponent{constructor(){super(...arguments),pp(this,"id",wl("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:u,background:d,id:h,layout:p}=this.props;if(t)return null;var v=lt("recharts-bar",i),y=er(h)?this.id:h;return N.createElement(Jr,{className:v},u&&N.createElement("defs",null,N.createElement(yq,{clipPathId:y,xAxisId:a,yAxisId:s})),N.createElement(Jr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):null},N.createElement(Oq,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),N.createElement(Tq,this.props)),N.createElement(sq,{direction:p==="horizontal"?"y":"x"},this.props.children))}}var yP={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Fl.isSsr,legendType:"rect",minPointSize:vP,xAxisId:0,yAxisId:0};function kq(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=Ii(e,yP),{needClip:v}=gP(t,r),y=Jy(),w=yn(),A=N.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:a,stackId:l4(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,a,e.stackId]),C=Gc(e.children,rd),O=Ne(T=>oX(T,t,r,w,A,C));if(y!=="vertical"&&y!=="horizontal")return null;var _,I=O==null?void 0:O[0];return I==null||I.height==null||I.width==null?_=0:_=y==="vertical"?I.height/2:I.width/2,N.createElement(YK,{xAxisId:t,yAxisId:r,data:O,dataPointFormatter:Nq,errorBarOffset:_},N.createElement(Pq,Cc({},e,{layout:y,needClip:v,data:O,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function Dq(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:v,offset:y,cells:w}=e,A=t==="horizontal"?u:s,C=p?A.scale.domain():null,O=BL({numericAxis:A});return v.map((_,I)=>{var T,D,M,j,L,z;p?T=kL(p[I],C):(T=Ht(_,r),Array.isArray(T)||(T=[O,T]));var U=vq(n,vP)(T[1],I);if(t==="horizontal"){var J,[X,q]=[u.scale(T[0]),u.scale(T[1])];D=jE({axis:s,ticks:d,bandSize:a,offset:i.offset,entry:_,index:I}),M=(J=q??X)!==null&&J!==void 0?J:void 0,j=i.size;var oe=X-q;if(L=Rn(oe)?0:oe,z={x:D,y:y.top,width:j,height:y.height},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var de=mr(L||U)*(Math.abs(U)-Math.abs(L));M-=de,L+=de}}else{var[H,we]=[s.scale(T[0]),s.scale(T[1])];if(D=H,M=jE({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:_,index:I}),j=we-H,L=i.size,z={x:y.left,y:M,width:y.width,height:L},Math.abs(U)>0&&Math.abs(j)<Math.abs(U)){var ee=mr(j||U)*(Math.abs(U)-Math.abs(j));j+=ee}}var te=Wr(Wr({},_),{},{x:D,y:M,width:j,height:L,value:p?T:T[1],payload:_,background:z,tooltipPosition:{x:D+j/2,y:M+L/2}},w&&w[I]&&w[I].props);return te})}class mw extends N.PureComponent{render(){return N.createElement(QK,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(HK,null),N.createElement(wK,{legendPayload:Cq(this.props)}),N.createElement(tP,{fn:_q,args:this.props}),N.createElement(kq,this.props))}}pp(mw,"displayName","Bar");pp(mw,"defaultProps",yP);function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bq=(e,t)=>t,Lq=(e,t,r)=>r,Fq=(e,t,r,n)=>n,vw=(e,t,r,n,i)=>i,$q=(e,t,r,n,i)=>i.maxBarSize,Uq=(e,t,r,n,i,a)=>a,kS=(e,t,r)=>{var n=r??e;if(!er(n))return Qr(n,t,0)},Wq=Q([ft,jx,Bq,Lq,Fq],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),zq=(e,t,r,n)=>{var i=ft(e);return i==="horizontal"?Vm(e,"yAxis",r,n):Vm(e,"xAxis",t,n)},Gq=(e,t,r)=>{var n=ft(e);return n==="horizontal"?VA(e,"xAxis",t):VA(e,"yAxis",r)};function Hq(e){return e.stackId!=null&&e.dataKey!=null}var Vq=(e,t,r)=>{var n={},i=e.filter(Hq),a=e.filter(h=>h.stackId==null),s=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),n),u=Object.entries(s).map(h=>{var[p,v]=h,y=v.map(A=>A.dataKey),w=kS(t,r,v[0].barSize);return{stackId:p,dataKeys:y,barSize:w}}),d=a.map(h=>{var p=[h.dataKey].filter(y=>y!=null),v=kS(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...u,...d]},Kq=Q([Wq,fz,Gq],Vq),qq=(e,t,r,n,i)=>{var a,s,u=ft(e),d=TT(e),{maxBarSize:h}=i,p=er(h)?d:h,v,y;return u==="horizontal"?(v=lo(e,"xAxis",t,n),y=Nl(e,"xAxis",t,n)):(v=lo(e,"yAxis",r,n),y=Nl(e,"yAxis",r,n)),(a=(s=Ky(v,y,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0},xP=(e,t,r,n)=>{var i=ft(e),a,s;return i==="horizontal"?(a=lo(e,"xAxis",t,n),s=Nl(e,"xAxis",t,n)):(a=lo(e,"yAxis",r,n),s=Nl(e,"yAxis",r,n)),Ky(a,s)};function Xq(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=Qr(e,r,0,!0),u,d=[];if(Bn(n[0].barSize)){var h=!1,p=r/a,v=n.reduce((_,I)=>_+(I.barSize||0),0);v+=(a-1)*s,v>=r&&(v-=(a-1)*s,s=0),v>=r&&p>0&&(h=!0,p*=.9,v=a*p);var y=(r-v)/2>>0,w={offset:y-s,size:0};u=n.reduce((_,I)=>{var T,D={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:w.offset+w.size+s,size:h?p:(T=I.barSize)!==null&&T!==void 0?T:0}},M=[..._,D];return w=M[M.length-1].position,M},d)}else{var A=Qr(t,r,0,!0);r-2*A-(a-1)*s<=0&&(s=0);var C=(r-2*A-(a-1)*s)/a;C>1&&(C>>=0);var O=Bn(i)?Math.min(C,i):C;u=n.reduce((_,I,T)=>[..._,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:A+(C+s)*T+(C-O)/2,size:O}}],d)}return u}}var Yq=(e,t,r,n,i,a,s)=>{var u=er(s)?t:s,d=Xq(r,n,i!==a?i:a,e,u);return i!==a&&d!=null&&(d=d.map(h=>of(of({},h),{},{position:of(of({},h.position),{},{offset:h.position.offset-i/2})}))),d},Zq=Q([Kq,TT,dz,NT,qq,xP,$q],Yq),Qq=(e,t,r,n)=>lo(e,"xAxis",t,n),Jq=(e,t,r,n)=>lo(e,"yAxis",r,n),eX=(e,t,r,n)=>Nl(e,"xAxis",t,n),tX=(e,t,r,n)=>Nl(e,"yAxis",r,n),rX=Q([Zq,vw],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),nX=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i){var a=i.find(s=>s.key===t.dataKey);return a}}}}},iX=Q([jx,vw],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),aX=Q([zq,vw],nX),oX=Q([lr,Qq,Jq,eX,tX,rX,ft,pT,xP,aX,iX,Uq],(e,t,r,n,i,a,s,u,d,h,p,v)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:A}=u;if(!(p==null||a==null||s!=="horizontal"&&s!=="vertical"||t==null||r==null||n==null||i==null||d==null)){var{data:C}=p,O;if(C!=null&&C.length>0?O=C:O=y==null?void 0:y.slice(w,A+1),O!=null)return Dq({layout:s,barSettings:p,pos:a,bandSize:d,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:O,offset:e,cells:v})}}),wP=e=>{var{chartData:t}=e,r=Dt(),n=yn();return N.useEffect(()=>n?()=>{}:(r(tS(t)),()=>{r(tS(void 0))}),[t,r,n]),null},DS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bP=ui({name:"brush",initialState:DS,reducers:{setBrushSettings(e,t){return t.payload==null?DS:t.payload}}}),{setBrushSettings:Hne}=bP.actions,sX=bP.reducer;function lX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yw{static create(t){return new yw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}lX(yw,"EPS",1e-4);function dX(e){return(e%180+180)%180}var fX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=dX(i),s=a*Math.PI/180,u=Math.atan(n/r),d=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},hX={dots:[],areas:[],lines:[]},EP=ui({name:"referenceElements",initialState:hX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=aa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=aa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=aa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Vne,removeDot:Kne,addArea:qne,removeArea:Xne,addLine:Yne,removeLine:Zne}=EP.actions,pX=EP.reducer,gX=N.createContext(void 0),mX=e=>{var{children:t}=e,[r]=N.useState("".concat(wl("recharts"),"-clip")),n=oP();if(n==null)return null;var{x:i,y:a,width:s,height:u}=n;return N.createElement(gX.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:a,height:u,width:s}))),t)};function Vg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function AP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function vX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fX(n,r)}function yX(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:u}=e;return t===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function Mh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function xX(e,t){return AP(e,t+1)}function wX(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:u}=t,d=0,h=1,p=s,v=function(){var A=n==null?void 0:n[d];if(A===void 0)return{v:AP(n,h)};var C=d,O,_=()=>(O===void 0&&(O=r(A,C)),O),I=A.coordinate,T=d===0||Mh(e,I,_,p,u);T||(d=0,p=s,h+=1),T&&(p=I+e*(_()/2+i),d+=h)},y;h<=a.length;)if(y=v(),y)return y.v;return[]}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return(t=EX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:u}=t,{end:d}=t,h=function(y){var w=a[y],A,C=()=>(A===void 0&&(A=r(w,y)),A);if(y===s-1){var O=e*(w.coordinate+e*C()/2-d);a[y]=w=$r($r({},w),{},{tickCoord:O>0?w.coordinate-O*e:w.coordinate})}else a[y]=w=$r($r({},w),{},{tickCoord:w.coordinate});var _=Mh(e,w.tickCoord,C,u,d);_&&(d=w.tickCoord-e*(C()/2+i),a[y]=$r($r({},w),{},{isShow:!0}))},p=s-1;p>=0;p--)h(p);return a}function CX(e,t,r,n,i,a){var s=(n||[]).slice(),u=s.length,{start:d,end:h}=t;if(a){var p=n[u-1],v=r(p,u-1),y=e*(p.coordinate+e*v/2-h);s[u-1]=p=$r($r({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var w=Mh(e,p.tickCoord,()=>v,d,h);w&&(h=p.tickCoord-e*(v/2+i),s[u-1]=$r($r({},p),{},{isShow:!0}))}for(var A=a?u-1:u,C=function(I){var T=s[I],D,M=()=>(D===void 0&&(D=r(T,I)),D);if(I===0){var j=e*(T.coordinate-e*M()/2-d);s[I]=T=$r($r({},T),{},{tickCoord:j<0?T.coordinate-j*e:T.coordinate})}else s[I]=T=$r($r({},T),{},{tickCoord:T.coordinate});var L=Mh(e,T.tickCoord,M,d,h);L&&(d=T.tickCoord+e*(M()/2+i),s[I]=$r($r({},T),{},{isShow:!0}))},O=0;O<A;O++)C(O);return s}function xw(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:d,tickFormatter:h,unit:p,angle:v}=e;if(!i||!i.length||!n)return[];if(Se(d)||Fl.isSsr){var y;return(y=xX(i,Se(d)?d:0))!==null&&y!==void 0?y:[]}var w=[],A=u==="top"||u==="bottom"?"width":"height",C=p&&A==="width"?qu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},O=(T,D)=>{var M=typeof h=="function"?h(T.value,D):T.value;return A==="width"?vX(qu(M,{fontSize:t,letterSpacing:r}),C,v):qu(M,{fontSize:t,letterSpacing:r})[A]},_=i.length>=2?mr(i[1].coordinate-i[0].coordinate):1,I=yX(a,_,A);return d==="equidistantPreserveStart"?wX(_,I,O,i,s):(d==="preserveStart"||d==="preserveStartEnd"?w=CX(_,I,O,i,s,d==="preserveStartEnd"):w=SX(_,I,O,i,s),w.filter(T=>T.isShow))}var _X=["viewBox"],OX=["viewBox"];function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(null,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jS(e,t){if(e==null)return{};var r,n,i=IX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ww(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xo extends N.Component{constructor(t){super(t),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=jS(t,_X),a=this.props,{viewBox:s}=a,u=jS(a,OX);return!Vg(n,s)||!Vg(i,u)||!Vg(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:a,orientation:s,tickSize:u,mirror:d,tickMargin:h}=this.props,p,v,y,w,A,C,O=d?-1:1,_=t.tickSize||u,I=Se(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":p=v=t.coordinate,w=n+ +!d*a,y=w-O*_,C=y-O*h,A=I;break;case"left":y=w=t.coordinate,v=r+ +!d*i,p=v-O*_,A=p-O*h,C=I;break;case"right":y=w=t.coordinate,v=r+ +d*i,p=v+O*_,A=p+O*h,C=I;break;default:p=v=t.coordinate,w=n+ +d*a,y=w+O*_,C=y+O*h,A=I;break}return{line:{x1:p,y1:y,x2:v,y2:w},tick:{x:A,y:C}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:u}=this.props,d=ar(ar(ar({},ut(this.props,!1)),ut(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=ar(ar({},d),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=ar(ar({},d),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return N.createElement("line",rl({},d,{className:lt("recharts-cartesian-axis-line",so(u,"className"))}))}static renderTickItem(t,r,n){var i,a=lt(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,ar(ar({},r),{},{className:a}));else if(typeof t=="function")i=t(ar(ar({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=lt(s,t.className)),i=N.createElement(fp,rl({},r,{className:s}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:s,tickFormatter:u,unit:d}=this.props,h=xw(ar(ar({},this.props),{},{ticks:n}),t,r),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ut(this.props,!1),w=ut(s,!1),A=ar(ar({},y),{},{fill:"none"},ut(i,!1)),C=h.map((O,_)=>{var{line:I,tick:T}=this.getTickLineCoord(O),D=ar(ar(ar(ar({textAnchor:p,verticalAnchor:v},y),{},{stroke:"none",fill:a},w),T),{},{index:_,payload:O,visibleTicksCount:h.length,tickFormatter:u});return N.createElement(Jr,rl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},zc(this.props,O,_)),i&&N.createElement("line",rl({},A,I,{className:lt("recharts-cartesian-axis-tick-line",so(i,"className"))})),s&&xo.renderTickItem(s,D,"".concat(typeof u=="function"?u(O.value,_):O.value).concat(d||"")))});return C.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:N.createElement(Jr,{className:lt("recharts-cartesian-axis",i),ref:u=>{if(u){var d=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var h=d[0];if(h){var p=window.getComputedStyle(h).fontSize,v=window.getComputedStyle(h).letterSpacing;(p!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Cn.renderCallByParent(this.props))}}ww(xo,"displayName","CartesianAxis");ww(xo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PX=["x1","y1","x2","y2","key"],kX=["offset"],DX=["xAxisId","yAxisId"],RX=["xAxisId","yAxisId"];function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return(t=jX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}function jh(e,t){if(e==null)return{};var r,n,i=LX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:u}=e;return N.createElement("rect",{x:n,y:i,ry:u,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function SP(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:u}=t,d=jh(t,PX),h=ut(d,!1),{offset:p}=h,v=jh(h,kX);r=N.createElement("line",Vo({},v,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function $X(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,u=jh(e,DX),d=i.map((h,p)=>{var v=zr(zr({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return SP(n,v)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function UX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,u=jh(e,RX),d=i.map((h,p)=>{var v=zr(zr({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return SP(n,v)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function WX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var h=u.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var p=h.map((v,y)=>{var w=!h[y+1],A=w?i+s-v:h[y+1]-v;if(A<=0)return null;var C=y%t.length;return N.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:A,width:a,stroke:"none",fill:t[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function zX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var h=d.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var p=h.map((v,y)=>{var w=!h[y+1],A=w?i+s-v:h[y+1]-v;if(A<=0)return null;var C=y%r.length;return N.createElement("rect",{key:"react-".concat(y),x:v,y:a,width:A,height:u,stroke:"none",fill:r[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var GX=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return o4(xw(zr(zr(zr({},xo.defaultProps),r),{},{ticks:s4(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},HX=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return o4(xw(zr(zr(zr({},xo.defaultProps),r),{},{ticks:s4(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},VX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CP(e){var t=Zy(),r=Qy(),n=h4(),i=zr(zr({},Ii(e,VX)),{},{x:Se(e.x)?e.x:n.left,y:Se(e.y)?e.y:n.top,width:Se(e.width)?e.width:n.width,height:Se(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:u,y:d,width:h,height:p,syncWithTicks:v,horizontalValues:y,verticalValues:w}=i,A=yn(),C=Ne(U=>KA(U,"xAxis",a,A)),O=Ne(U=>KA(U,"yAxis",s,A));if(!Se(h)||h<=0||!Se(p)||p<=0||!Se(u)||u!==+u||!Se(d)||d!==+d)return null;var _=i.verticalCoordinatesGenerator||GX,I=i.horizontalCoordinatesGenerator||HX,{horizontalPoints:T,verticalPoints:D}=i;if((!T||!T.length)&&typeof I=="function"){var M=y&&y.length,j=I({yAxis:O?zr(zr({},O),{},{ticks:M?y:O.ticks}):void 0,width:t,height:r,offset:n},M?!0:v);Ku(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(T=j)}if((!D||!D.length)&&typeof _=="function"){var L=w&&w.length,z=_({xAxis:C?zr(zr({},C),{},{ticks:L?w:C.ticks}):void 0,width:t,height:r,offset:n},L?!0:v);Ku(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(FX,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(WX,Vo({},i,{horizontalPoints:T})),N.createElement(zX,Vo({},i,{verticalPoints:D})),N.createElement($X,Vo({},i,{offset:n,horizontalPoints:T,xAxis:C,yAxis:O})),N.createElement(UX,Vo({},i,{offset:n,verticalPoints:D,xAxis:C,yAxis:O})))}CP.displayName="CartesianGrid";function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return(t=qX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YX={xAxis:{},yAxis:{},zAxis:{}},_P=ui({name:"cartesianAxis",initialState:YX,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=FS(FS({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:ZX,removeXAxis:QX,addYAxis:JX,removeYAxis:eY,addZAxis:Qne,removeZAxis:Jne,updateYAxisWidth:tY}=_P.actions,rY=_P.reducer,nY=["children"],iY=["dangerouslySetInnerHTML","ticks"];function OP(e,t,r){return(t=aY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function IP(e,t){if(e==null)return{};var r,n,i=sY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lY(e){var t=Dt(),r=N.useMemo(()=>{var{children:a}=e,s=IP(e,nY);return s},[e]),n=Ne(a=>wa(a,r.id)),i=r===n;return N.useEffect(()=>(t(ZX(r)),()=>{t(QX(r))}),[r,t]),i?e.children:null}var uY=e=>{var{xAxisId:t,className:r}=e,n=Ne(f4),i=yn(),a="xAxis",s=Ne(w=>Hl(w,a,t,i)),u=Ne(w=>iN(w,a,t,i)),d=Ne(w=>eN(w,t)),h=Ne(w=>iG(w,t));if(d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,y=IP(e,iY);return N.createElement(xo,tv({},y,{scale:s,x:h.x,y:h.y,width:d.width,height:d.height,className:lt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:u}))},cY=e=>{var t,r,n,i,a;return N.createElement(lY,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},N.createElement(uY,e))};class bw extends N.Component{render(){return N.createElement(cY,this.props)}}OP(bw,"displayName","XAxis");OP(bw,"defaultProps",{allowDataOverflow:bn.allowDataOverflow,allowDecimals:bn.allowDecimals,allowDuplicatedCategory:bn.allowDuplicatedCategory,height:bn.height,hide:!1,mirror:bn.mirror,orientation:bn.orientation,padding:bn.padding,reversed:bn.reversed,scale:bn.scale,tickCount:bn.tickCount,type:bn.type,xAxisId:0});var dY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>s&&(s=v.width)}});var u=r?r.getBoundingClientRect().width:0,d=i+a,h=s+d+u+(r?n:0);return Math.round(h)}return 0},fY=["dangerouslySetInnerHTML","ticks"];function TP(e,t,r){return(t=hY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function gY(e,t){if(e==null)return{};var r,n,i=mY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vY(e){var t=Dt();return N.useEffect(()=>(t(JX(e)),()=>{t(eY(e))}),[e,t]),null}var yY=e=>{var t,{yAxisId:r,className:n,width:i,label:a}=e,s=N.useRef(null),u=N.useRef(null),d=Ne(f4),h=yn(),p=Dt(),v="yAxis",y=Ne(T=>Hl(T,v,r,h)),w=Ne(T=>tN(T,r)),A=Ne(T=>aG(T,r)),C=Ne(T=>iN(T,v,r,h));if(N.useLayoutEffect(()=>{var T;if(!(i!=="auto"||!w||sw(a)||N.isValidElement(a))){var D=s.current,M=D==null||(T=D.tickRefs)===null||T===void 0?void 0:T.current,{tickSize:j,tickMargin:L}=D.props,z=dY({ticks:M,label:u.current,labelGapWithTick:5,tickSize:j,tickMargin:L});Math.round(w.width)!==Math.round(z)&&p(tY({id:r,width:z}))}},[s,s==null||(t=s.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,w==null?void 0:w.width,w,p,a,r,i]),w==null||A==null)return null;var{dangerouslySetInnerHTML:O,ticks:_}=e,I=gY(e,fY);return N.createElement(xo,rv({},I,{ref:s,labelRef:u,scale:y,x:A.x,y:A.y,width:w.width,height:w.height,className:lt("recharts-".concat(v," ").concat(v),n),viewBox:d,ticks:C}))},xY=e=>{var t,r,n,i,a;return N.createElement(N.Fragment,null,N.createElement(vY,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),N.createElement(yY,e))},wY={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,hide:!1,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tickCount:En.tickCount,type:En.type,width:En.width,yAxisId:0};class Ew extends N.Component{render(){return N.createElement(xY,this.props)}}TP(Ew,"displayName","YAxis");TP(Ew,"defaultProps",wY);var bY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=N;function EY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AY=typeof Object.is=="function"?Object.is:EY,SY=nd.useSyncExternalStore,CY=nd.useRef,_Y=nd.useEffect,OY=nd.useMemo,IY=nd.useDebugValue;bY.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=CY(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=OY(function(){function d(w){if(!h){if(h=!0,p=w,w=n(w),i!==void 0&&s.hasValue){var A=s.value;if(i(A,w))return v=A}return v=w}if(A=v,AY(p,w))return A;var C=n(w);return i!==void 0&&i(A,C)?(p=w,A):(p=w,v=C)}var h=!1,p,v,y=r===void 0?null:r;return[function(){return d(t())},y===null?void 0:function(){return d(y())}]},[t,r,n,i]);var u=SY(e,a[0],a[1]);return _Y(function(){s.hasValue=!0,s.value=u},[u]),IY(u),u};function TY(e){e()}function NY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $S={notify(){},get:()=>[]};function PY(e,t){let r,n=$S,i=0,a=!1;function s(C){p();const O=n.subscribe(C);let _=!1;return()=>{_||(_=!0,O(),v())}}function u(){n.notify()}function d(){A.onStateChange&&A.onStateChange()}function h(){return a}function p(){i++,r||(r=e.subscribe(d),n=NY())}function v(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=$S)}function y(){a||(a=!0,p())}function w(){a&&(a=!1,v())}const A={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>n};return A}var kY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DY=kY(),RY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MY=RY(),jY=()=>DY||MY?N.useLayoutEffect:N.useEffect,BY=jY(),Kg=Symbol.for("react-redux-context"),qg=typeof globalThis<"u"?globalThis:{};function LY(){if(!N.createContext)return{};const e=qg[Kg]??(qg[Kg]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var FY=LY();function $Y(e){const{children:t,context:r,serverState:n,store:i}=e,a=N.useMemo(()=>{const d=PY(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),s=N.useMemo(()=>i.getState(),[i]);BY(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const u=r||FY;return N.createElement(u.Provider,{value:a},t)}var UY=$Y,WY=(e,t)=>t,Aw=Q([WY,ft,yz,Er,xN,ba,sH,lr],fH),Sw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},NP=si("mouseClick"),PP=Hc();PP.startListening({actionCreator:NP,effect:(e,t)=>{var r=e.payload,n=Aw(t.getState(),Sw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(yG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nv=si("mouseMove"),kP=Hc();kP.startListening({actionCreator:nv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Qx(n,n.tooltip.settings.shared),a=Aw(n,Sw(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(fN({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(dN()))}});function zY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var US={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},DP=ui({name:"rootProps",initialState:US,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:US.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),GY=DP.reducer,{updateOptions:HY}=DP.actions,RP=ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:VY}=RP.actions,KY=RP.reducer,MP=si("keyDown"),jP=si("focus"),Cw=Hc();Cw.startListening({actionCreator:MP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Jx(i,bs(r))),u=ba(r);if(a==="Enter"){var d=Ph(r,"axis","hover",String(i.index));t.dispatch(qm({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=uG(r),p=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=s+v*p;if(!(u==null||y>=u.length||y<0)){var w=Ph(r,"axis","hover",String(y));t.dispatch(qm({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});Cw.startListening({actionCreator:jP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Ph(r,"axis","hover",String(a));t.dispatch(qm({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Yn=si("externalEvent"),BP=Hc();BP.startListening({actionCreator:Yn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:QG(r),activeDataKey:AN(r),activeIndex:us(r),activeLabel:EN(r),activeTooltipIndex:us(r),isTooltipActive:JG(r)};e.payload.handler(n,e.payload.reactEvent)}}});var qY=Q([Vl],e=>e.tooltipItemPayloads),XY=Q([qY,td,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),LP=si("touchMove"),FP=Hc();FP.startListening({actionCreator:LP,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Qx(n,n.tooltip.settings.shared);if(i==="axis"){var a=Aw(n,Sw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(fN({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(c4),p=(s=d.getAttribute(d4))!==null&&s!==void 0?s:void 0,v=XY(t.getState(),h,p);t.dispatch(cN({activeDataKey:p,activeIndex:h,activeCoordinate:v}))}}});var YY=jI({brush:sX,cartesianAxis:rY,chartData:OH,graphicalItems:tK,layout:mL,legend:rF,options:EH,polarAxis:FV,polarOptions:KY,referenceElements:pX,rootProps:GY,tooltip:xG}),ZY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return U9({reducer:YY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([PP.middleware,kP.middleware,Cw.middleware,BP.middleware,FP.middleware]),devTools:{serialize:{replacer:zY},name:"recharts-".concat(r)}})};function $P(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=yn(),a=N.useRef(null);if(i)return r;a.current==null&&(a.current=ZY(t,n));var s=Fy;return N.createElement(UY,{context:s,store:a.current},r)}function UP(e){var{layout:t,width:r,height:n,margin:i}=e,a=Dt(),s=yn();return N.useEffect(()=>{s||(a(hL(t)),a(pL({width:r,height:n})),a(fL(i)))},[a,s,t,r,n,i]),null}function WP(e){var t=Dt();return N.useEffect(()=>{t(HY(e))},[t,e]),null}var QY=["children"];function JY(e,t){if(e==null)return{};var r,n,i=eZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}var tZ={width:"100%",height:"100%"},rZ=N.forwardRef((e,t)=>{var r=Zy(),n=Qy(),i=v4();if(!Cl(r)||!Cl(n))return null;var{children:a,otherAttributes:s,title:u,desc:d}=e,h,p;return typeof s.tabIndex=="number"?h=s.tabIndex:h=i?0:void 0,typeof s.role=="string"?p=s.role:p=i?"application":void 0,N.createElement(Cy,Bh({},s,{title:u,desc:d,role:p,tabIndex:h,width:r,height:n,style:tZ,ref:t}),a)}),nZ=e=>{var{children:t}=e,r=Ne(X0);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return N.createElement(Cy,{width:n,height:i,x:s,y:a},t)},WS=N.forwardRef((e,t)=>{var{children:r}=e,n=JY(e,QY),i=yn();return i?N.createElement(nZ,null,r):N.createElement(rZ,Bh({ref:t},n),r)});function iZ(){var e=Dt(),[t,r]=N.useState(null),n=Ne(GL);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Bn(a)&&a!==n&&e(gL(a))}},[t,e,n]),r}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uZ=N.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:v,onMouseUp:y,onTouchEnd:w,onTouchMove:A,onTouchStart:C,style:O,width:_}=e,I=Dt(),[T,D]=N.useState(null),[M,j]=N.useState(null);NH();var L=iZ(),z=N.useCallback(re=>{L(re),typeof t=="function"&&t(re),D(re),j(re)},[L,t,D,j]),U=N.useCallback(re=>{I(NP(re)),I(Yn({handler:a,reactEvent:re}))},[I,a]),J=N.useCallback(re=>{I(nv(re)),I(Yn({handler:h,reactEvent:re}))},[I,h]),X=N.useCallback(re=>{I(dN()),I(Yn({handler:p,reactEvent:re}))},[I,p]),q=N.useCallback(re=>{I(nv(re)),I(Yn({handler:v,reactEvent:re}))},[I,v]),oe=N.useCallback(()=>{I(jP())},[I]),de=N.useCallback(re=>{I(MP(re.key))},[I]),H=N.useCallback(re=>{I(Yn({handler:s,reactEvent:re}))},[I,s]),we=N.useCallback(re=>{I(Yn({handler:u,reactEvent:re}))},[I,u]),ee=N.useCallback(re=>{I(Yn({handler:d,reactEvent:re}))},[I,d]),te=N.useCallback(re=>{I(Yn({handler:y,reactEvent:re}))},[I,y]),fe=N.useCallback(re=>{I(Yn({handler:C,reactEvent:re}))},[I,C]),ie=N.useCallback(re=>{I(LP(re)),I(Yn({handler:A,reactEvent:re}))},[I,A]),ve=N.useCallback(re=>{I(Yn({handler:w,reactEvent:re}))},[I,w]);return N.createElement(TN.Provider,{value:T},N.createElement(zO.Provider,{value:M},N.createElement("div",{className:lt("recharts-wrapper",n),style:aZ({position:"relative",cursor:"default",width:_,height:i},O),onClick:U,onContextMenu:H,onDoubleClick:we,onFocus:oe,onKeyDown:de,onMouseDown:ee,onMouseEnter:J,onMouseLeave:X,onMouseMove:q,onMouseUp:te,onTouchEnd:ve,onTouchMove:ie,onTouchStart:fe,ref:z},r)))}),cZ=["children","className","width","height","style","compact","title","desc"];function dZ(e,t){if(e==null)return{};var r,n,i=fZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zP=N.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:u,title:d,desc:h}=e,p=dZ(e,cZ),v=ut(p,!1);return u?N.createElement(WS,{otherAttributes:v,title:d,desc:h},r):N.createElement(uZ,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(WS,{otherAttributes:v,title:d,desc:h,ref:t},N.createElement(mX,null,r)))}),hZ=["width","height"];function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}function pZ(e,t){if(e==null)return{};var r,n,i=gZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mZ={top:5,right:5,bottom:5,left:5},vZ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mZ,reverseStackOrder:!1,syncMethod:"index"},yZ=N.forwardRef(function(t,r){var n,i=Ii(t.categoricalChartProps,vZ),{width:a,height:s}=i,u=pZ(i,hZ);if(!Cl(a)||!Cl(s))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,categoricalChartProps:y}=t,w={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return N.createElement($P,{preloadedState:{options:w},reduxStoreName:(n=y.id)!==null&&n!==void 0?n:d},N.createElement(wP,{chartData:y.data}),N.createElement(UP,{width:a,height:s,layout:i.layout,margin:i.margin}),N.createElement(WP,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(zP,iv({},u,{width:a,height:s,ref:r})))}),xZ=["axis","item"],wZ=N.forwardRef((e,t)=>N.createElement(yZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xZ,tooltipPayloadSearcher:PN,categoricalChartProps:e,ref:t}));function bZ(e){var t=Dt();return N.useEffect(()=>{t(VY(e))},[t,e]),null}var EZ=["width","height","layout"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}function AZ(e,t){if(e==null)return{};var r,n,i=SZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CZ={top:5,right:5,bottom:5,left:5},_Z={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:CZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},OZ=N.forwardRef(function(t,r){var n,i=Ii(t.categoricalChartProps,_Z),{width:a,height:s,layout:u}=i,d=AZ(i,EZ);if(!Cl(a)||!Cl(s))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:v,tooltipPayloadSearcher:y}=t,w={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:v,tooltipPayloadSearcher:y,eventEmitter:void 0};return N.createElement($P,{preloadedState:{options:w},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:h},N.createElement(wP,{chartData:i.data}),N.createElement(UP,{width:a,height:s,layout:u,margin:i.margin}),N.createElement(WP,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(bZ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(zP,av({width:a,height:s},d,{ref:r})))}),IZ=["item"],TZ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},NZ=N.forwardRef((e,t)=>{var r=Ii(e,TZ);return N.createElement(OZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:IZ,tooltipPayloadSearcher:PN,categoricalChartProps:r,ref:t})});const GS=e=>`Rp${new Intl.NumberFormat("id-ID").format(e)}`,PZ=({data:e})=>b.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm h-64",children:b.jsx(FN,{width:"100%",height:"100%",children:b.jsxs(wZ,{data:e,margin:{top:5,right:20,left:-10,bottom:5},children:[b.jsx(CP,{strokeDasharray:"3 3",vertical:!1}),b.jsx(bw,{dataKey:"name",tick:{fontSize:12}}),b.jsx(Ew,{tickFormatter:GS,tick:{fontSize:12}}),b.jsx(MN,{cursor:{fill:"rgba(239, 246, 255, 0.5)"},formatter:t=>GS(t)}),b.jsx(mw,{dataKey:"total",fill:"#3B82F6",radius:[4,4,0,0]})]})})}),HS=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943"],kZ=e=>`Rp${new Intl.NumberFormat("id-ID").format(e)}`,DZ=({data:e})=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm h-80",children:[b.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Pendapatan per Kategori"}),b.jsx(FN,{width:"100%",height:"100%",children:b.jsxs(NZ,{children:[b.jsx(MN,{formatter:kZ}),b.jsx(Y0,{iconType:"circle"}),b.jsx(gw,{data:e,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",children:e.map((t,r)=>b.jsx(rd,{fill:HS[r%HS.length]},`cell-${r}`))})]})})]}),RZ=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),MZ=({data:e})=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm h-80 flex flex-col",children:[b.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"5 Produk Terlaris"}),b.jsx("div",{className:"flex-grow overflow-y-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-4 py-2",children:"Produk"}),b.jsx("th",{scope:"col",className:"px-4 py-2 text-center",children:"Terjual"}),b.jsx("th",{scope:"col",className:"px-4 py-2 text-right",children:"Omzet"})]})}),b.jsx("tbody",{children:e.map((t,r)=>b.jsxs("tr",{className:"bg-white border-b",children:[b.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 whitespace-nowrap",children:t.name}),b.jsx("td",{className:"px-4 py-2 text-center",children:t.quantity}),b.jsx("td",{className:"px-4 py-2 text-right",children:RZ(t.revenue)})]},r))})]})})]}),jZ=()=>b.jsxs("div",{className:"p-4 animate-pulse",children:[b.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/3 mb-4"}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[b.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[b.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"})]}),b.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-1/4 mb-3"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})]})]}),Xg=15,BZ=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,u]=N.useState(1),[d,h]=N.useState(0),[p,v]=N.useState(null),[y,w]=N.useState(!1);N.useEffect(()=>{if(!e)return;(async()=>{a(!0);const _=(s-1)*Xg,I=_+Xg-1,{data:T,error:D,count:M}=await Ve.from("transactions").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(_,I);D?_e.error("Gagal memuat riwayat transaksi."):(n(T),h(M)),a(!1)})()},[e,s]);const A=O=>{v({...O,amountPaid:O.final_price,change:0}),w(!0)},C=Math.ceil(d/Xg);return e?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-gray-100 rounded-lg shadow-xl w-full max-w-2xl h-[90vh] flex flex-col animate-scale-in",children:[b.jsx("div",{className:"p-4 border-b bg-white rounded-t-lg",children:b.jsx("h2",{className:"text-xl font-bold",children:"Riwayat Semua Transaksi"})}),b.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:i?b.jsx("p",{children:"Memuat..."}):r.map(O=>b.jsx(MO,{transaction:O,onClick:A},O.id))}),b.jsxs("div",{className:"p-4 border-t bg-white rounded-b-lg flex justify-between items-center",children:[C>1&&b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>u(O=>O-1),disabled:s===1,className:"px-4 py-2 bg-gray-200 rounded-lg disabled:opacity-50",children:"Sebelumnya"}),b.jsxs("span",{children:["Halaman ",s," / ",C]}),b.jsx("button",{onClick:()=>u(O=>O+1),disabled:s===C,className:"px-4 py-2 bg-gray-200 rounded-lg disabled:opacity-50",children:"Berikutnya"})]}),b.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg",children:"Tutup"})]})]})}),b.jsx(yy,{isOpen:y,onClose:()=>w(!1),transactionDetails:p})]}):null},LZ=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[i,a]=N.useState(!0);return N.useEffect(()=>{if(!e)return;(async()=>{a(!0);const{data:u,error:d}=await Ve.from("products").select("*").lte("stock",5).gt("stock",0).order("stock",{ascending:!0});d?_e.error("Gagal memuat daftar produk stok menipis."):n(u),a(!1)})()},[e]),e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Produk Stok Menipis"}),b.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:i?b.jsx("p",{children:"Memuat..."}):r.length>0?b.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(s=>b.jsxs("li",{className:"py-3 flex justify-between items-center",children:[b.jsx("span",{className:"font-medium",children:s.name}),b.jsxs("span",{className:"text-red-600 font-bold bg-red-100 px-2 py-1 rounded-full text-sm",children:["Sisa ",s.stock]})]},s.id))}):b.jsx("p",{className:"text-center text-gray-500 py-8",children:"Tidak ada produk dengan stok menipis."})}),b.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:b.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg",children:"Tutup"})})]})}):null},FZ=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),$Z=({isOpen:e,onClose:t,data:r,filter:n})=>{if(!e)return null;const i=n==="today"?"Hari Ini":n==="week"?"7 Hari Terakhir":"Bulan Ini";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsxs("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:["Top 10 Produk Terlaris (",i,")"]}),b.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-4 py-2",children:"#"}),b.jsx("th",{scope:"col",className:"px-4 py-2",children:"Produk"}),b.jsx("th",{scope:"col",className:"px-4 py-2 text-center",children:"Terjual"}),b.jsx("th",{scope:"col",className:"px-4 py-2 text-right",children:"Omzet"})]})}),b.jsx("tbody",{children:r.map((a,s)=>b.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[b.jsx("td",{className:"px-4 py-2 font-bold",children:s+1}),b.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 whitespace-nowrap",children:a.name}),b.jsx("td",{className:"px-4 py-2 text-center",children:a.quantity}),b.jsx("td",{className:"px-4 py-2 text-right",children:FZ(a.revenue)})]},s))})]})}),b.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:b.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg",children:"Tutup"})})]})})},UZ=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),WZ=()=>{const[e,t]=N.useState({revenue:0,transactions:0,bestSeller:"N/A",lowStockCount:0}),[r,n]=N.useState([]),[i,a]=N.useState([]),[s,u]=N.useState([]),[d,h]=N.useState([]),[p,v]=N.useState(!0),[y,w]=N.useState(!1),[A,C]=N.useState(null),[O,_]=N.useState("today"),[I,T]=N.useState(!1),[D,M]=N.useState(!1),[j,L]=N.useState(!1);N.useEffect(()=>{(async()=>{v(!0);const J=new Date;let X=new Date;X.setHours(0,0,0,0),O==="week"?X.setDate(J.getDate()-7):O==="month"&&X.setMonth(J.getMonth()-1);const{data:q,error:oe}=await Ve.from("transactions").select("*").gte("created_at",X.toISOString()).order("created_at",{ascending:!1});if(oe)_e.error("Gagal memuat data laporan.");else{const H=q.reduce((ie,ve)=>ie+ve.final_price,0),we={},ee={};q.forEach(ie=>{ie.items.forEach(ve=>{const re=ve.price*ve.quantity;we[ve.name]||(we[ve.name]={name:ve.name,quantity:0,revenue:0}),we[ve.name].quantity+=ve.quantity,we[ve.name].revenue+=re;const Ue=ve.category||"Lain-lain";ee[Ue]=(ee[Ue]||0)+re})});const te=Object.values(we).sort((ie,ve)=>ve.quantity-ie.quantity).slice(0,10);h(te),t(ie=>({...ie,revenue:H,transactions:q.length,bestSeller:te.length>0?te[0].name:"N/A"})),n(q);const fe=Object.entries(ee).map(([ie,ve])=>({name:ie,value:ve}));if(u(fe),O==="today"){const ie=Array(24).fill(0).map((ve,re)=>({name:`${String(re).padStart(2,"0")}:00`,total:0}));q.forEach(ve=>{const re=new Date(ve.created_at).getHours();ie[re].total+=ve.final_price}),a(ie.filter(ve=>ve.total>0))}else{const ie={};q.forEach(ve=>{const re=new Date(ve.created_at).toLocaleDateString("id-ID",{weekday:"short",day:"2-digit"});ie[re]=(ie[re]||0)+ve.final_price}),a(Object.entries(ie).map(([ve,re])=>({name:ve,total:re})).reverse())}}const{count:de}=await Ve.from("products").select("*",{count:"exact",head:!0}).lte("stock",5).gt("stock",0);t(H=>({...H,lowStockCount:de||0})),v(!1)})()},[O]);const z=U=>{C({...U,amountPaid:U.final_price,change:0}),w(!0)};return p?b.jsx(jZ,{}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-4 h-full flex flex-col overflow-hidden",children:[b.jsx("div",{children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Laporan & Ringkasan"}),b.jsx("div",{className:"flex items-center gap-2 mt-2 sm:mt-0 bg-white p-1 rounded-lg shadow-sm",children:["today","week","month"].map(U=>b.jsx("button",{onClick:()=>_(U),className:`px-3 py-1 text-sm font-semibold rounded-md ${O===U?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:U==="today"?"Hari Ini":U==="week"?"7 Hari":"Bulan Ini"},U))})]})}),b.jsxs("div",{className:"flex-grow overflow-y-auto",children:[b.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[b.jsx(gu,{title:"Pendapatan",value:UZ(e.revenue),icon:b.jsx(Pj,{className:"h-6 w-6"}),color:"green"}),b.jsx(gu,{title:"Transaksi",value:e.transactions,icon:b.jsx(kj,{className:"h-6 w-6"}),color:"blue"}),b.jsx(gu,{title:"Terlaris",value:e.bestSeller,icon:b.jsx(Dj,{className:"h-6 w-6"}),color:"yellow",onClick:()=>L(!0)}),b.jsx(gu,{title:"Stok Menipis",value:`${e.lowStockCount} Produk`,icon:b.jsx(Mj,{className:"h-6 w-6"}),onClick:()=>M(!0),color:"red"}),b.jsx(gu,{title:"Lihat Riwayat",value:"Semua",icon:b.jsx(Rj,{className:"h-6 w-6"}),onClick:()=>T(!0),color:"purple"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[b.jsx(PZ,{data:i}),b.jsx(DZ,{data:s})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsx("div",{className:"lg:col-span-1",children:b.jsx(MZ,{data:d.slice(0,5)})}),b.jsxs("div",{className:"lg:col-span-1 flex flex-col",children:[b.jsx("h2",{className:"text-xl font-bold mb-3",children:"Transaksi Terbaru"}),b.jsx("div",{className:"flex-grow bg-gray-100 p-3 rounded-lg overflow-y-auto h-80",children:r.length>0?r.map(U=>b.jsx(MO,{transaction:U,onClick:z},U.id)):b.jsx("p",{className:"text-center text-gray-500 mt-10",children:"Belum ada transaksi pada periode ini."})})]})]})]})]}),b.jsx(yy,{isOpen:y,onClose:()=>w(!1),transactionDetails:A}),b.jsx(BZ,{isOpen:I,onClose:()=>T(!1)}),b.jsx(LZ,{isOpen:D,onClose:()=>M(!1)}),b.jsx($Z,{isOpen:j,onClose:()=>L(!1),data:d,filter:O})]})},zZ=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i})=>e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-scale-in",children:[b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:b.jsx(Nj,{className:"h-6 w-6 text-red-600"})}),b.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[b.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),b.jsx("div",{className:"mt-2",children:b.jsx("p",{className:"text-sm text-gray-500",children:i})})]})]})}),b.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg",children:[b.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Hapus"}),b.jsx("button",{type:"button",onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",children:"Batal"})]})]})}):null,GZ=({isOpen:e,onClose:t,onSave:r,product:n})=>{const[i,a]=N.useState({name:"",price:"",category_id:"",barcode:"",stock:"",is_consignment:!1,cost_price:"",supplier_id:""}),[s,u]=N.useState([]),[d,h]=N.useState([]);if(N.useEffect(()=>{if(!n)return;(async()=>{var C;const{data:w}=await Ve.from("categories").select("*"),{data:A}=await Ve.from("suppliers").select("*");u(w||[]),h(A||[]),a({name:n.name||"",price:n.price||"",category_id:n.category_id||((C=w[0])==null?void 0:C.id)||"",barcode:n.barcode||"",stock:n.stock||"0",is_consignment:n.is_consignment||!1,cost_price:n.cost_price||"0",supplier_id:n.supplier_id||""})})()},[n,e]),!e)return null;const p=y=>{const{name:w,value:A,type:C,checked:O}=y.target;a(_=>({..._,[w]:C==="checkbox"?O:A}))},v=y=>{y.preventDefault(),r({...n,...i}),t()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Edit Produk"}),b.jsxs("form",{onSubmit:v,className:"flex-grow flex flex-col overflow-hidden",children:[b.jsxs("div",{className:"p-6 overflow-y-auto",children:[b.jsxs("div",{className:"relative mb-4",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(py,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"text",name:"name",placeholder:"Nama Produk",value:i.name,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(eh,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"number",name:"price",placeholder:"Harga Jual",value:i.price,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(SO,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"number",name:"stock",placeholder:"Stok",value:i.stock,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",required:!0})]})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(gy,{className:"h-5 w-5 text-gray-400"})}),b.jsx("select",{name:"category_id",value:i.category_id,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:s.map(y=>b.jsx("option",{value:y.id,children:y.name},y.id))})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(fy,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"text",name:"barcode",placeholder:"Barcode (opsional)",value:i.barcode,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md"})]}),b.jsxs("div",{className:"border-t pt-4 mt-4",children:[b.jsxs("div",{className:"relative flex items-start",children:[b.jsx("div",{className:"flex items-center h-5",children:b.jsx("input",{id:"is_consignment_edit",name:"is_consignment",type:"checkbox",checked:i.is_consignment,onChange:p,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),b.jsx("div",{className:"ml-3 text-sm",children:b.jsx("label",{htmlFor:"is_consignment_edit",className:"font-medium text-gray-700",children:"Barang Titipan (Konsinyasi)"})})]}),i.is_consignment&&b.jsxs("div",{className:"mt-4 space-y-4 animate-fade-in",children:[b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(my,{className:"h-5 w-5 text-gray-400"})}),b.jsxs("select",{name:"supplier_id",value:i.supplier_id,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"",children:"-- Pilih Suplier --"}),d.map(y=>b.jsx("option",{value:y.id,children:y.name},y.id))]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(eh,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"number",name:"cost_price",placeholder:"Harga Modal / Pokok",value:i.cost_price,onChange:p,className:"w-full pl-10 p-2 border border-gray-300 rounded-md"})]})]})]})]}),b.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[b.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),b.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Simpan Perubahan"})]})]})]})})},Su=10,HZ=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,u]=N.useState(!1),[d,h]=N.useState(!1),[p,v]=N.useState(null),[y,w]=N.useState(null),[A,C]=N.useState(""),[O,_]=N.useState("created_at-desc"),[I,T]=N.useState(1),[D,M]=N.useState(0),[j,L]=N.useState([]),z=N.useCallback(async()=>{n(!0);const ee=(I-1)*Su,te=ee+Su-1,[fe,ie]=O.split("-"),ve=ie==="asc";let re=Ve.from("products").select("*, categories(name)",{count:"exact"});A&&(re=re.ilike("name",`%${A}%`)),re=re.order(fe,{ascending:ve}).range(ee,te);const{data:Ue,error:$e,count:qe}=await re;$e?_e.error("Gagal memuat produk."):(t(Ue),M(qe)),n(!1)},[A,O,I]);N.useEffect(()=>{z()},[z]),N.useEffect(()=>{T(1),L([])},[A,O]);const U=Math.ceil(D/Su),J=ee=>{ee.target.checked?L(e.map(te=>te.id)):L([])},X=(ee,te)=>{ee.target.checked?L(fe=>[...fe,te]):L(fe=>fe.filter(ie=>ie!==te))},q=async()=>{const ee=_e.loading(`Menghapus ${j.length} produk...`),{error:te}=await Ve.from("products").delete().in("id",j);te?_e.error(`Gagal: ${te.message}`,{id:ee}):(_e.success("Produk terpilih berhasil dihapus!",{id:ee}),L([]),z()),h(!1)},oe=async(ee,te)=>{},de=async ee=>{},H=ee=>{v(ee),u(!0)},we=ee=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ee);return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex flex-col",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3",children:[b.jsxs("div",{className:"relative flex-grow w-full",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx(AO,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{type:"text",placeholder:"Cari produk...",value:A,onChange:ee=>C(ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm"})]}),b.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[b.jsxs("select",{value:O,onChange:ee=>_(ee.target.value),className:"w-full sm:w-auto p-2 border border-gray-300 rounded-lg shadow-sm",children:[b.jsx("option",{value:"created_at-desc",children:"Terbaru"}),b.jsx("option",{value:"name-asc",children:"Nama (A-Z)"}),b.jsx("option",{value:"name-desc",children:"Nama (Z-A)"}),b.jsx("option",{value:"price-desc",children:"Harga (Termahal)"}),b.jsx("option",{value:"price-asc",children:"Harga (Termurah)"}),b.jsx("option",{value:"stock-desc",children:"Stok (Terbanyak)"}),b.jsx("option",{value:"stock-asc",children:"Stok (Tersedikit)"})]}),b.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700",children:[b.jsx(y0,{className:"h-5 w-5"}),b.jsx("span",{className:"hidden sm:inline",children:"Tambah"})]})]})]}),j.length>0&&b.jsxs("div",{className:"bg-blue-100 border border-blue-300 text-blue-800 px-4 py-2 rounded-lg mb-4 flex justify-between items-center",children:[b.jsxs("span",{children:[j.length," produk terpilih"]}),b.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-red-500 text-white text-sm font-semibold py-1 px-3 rounded-md hover:bg-red-600",children:[b.jsx(xl,{className:"h-4 w-4"})," Hapus Terpilih"]})]}),b.jsx("div",{className:"flex-grow overflow-auto",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left text-gray-500 min-w-[600px]",children:[b.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"p-4",children:b.jsx("input",{type:"checkbox",className:"rounded",checked:j.length===e.length&&e.length>0,onChange:J})}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama Produk"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Kategori"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Harga"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Stok"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Aksi"})]})}),b.jsx("tbody",{children:r?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"text-center py-10",children:"Memuat data produk..."})}):e.map(ee=>{var te;return b.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[b.jsx("td",{className:"w-4 p-4",children:b.jsx("input",{type:"checkbox",className:"rounded",checked:j.includes(ee.id),onChange:fe=>X(fe,ee.id)})}),b.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:ee.name}),b.jsx("td",{className:"px-6 py-4",children:((te=ee.categories)==null?void 0:te.name)||"N/A"}),b.jsx("td",{className:"px-6 py-4",children:we(ee.price)}),b.jsx("td",{className:"px-6 py-4 text-center",children:ee.stock}),b.jsx("td",{className:"px-6 py-4",children:b.jsx("div",{className:"flex items-center justify-center gap-4",children:b.jsx("button",{onClick:()=>H(ee),className:"text-blue-600 hover:text-blue-800","aria-label":"Edit",children:b.jsx(hy,{className:"h-5 w-5"})})})})]},ee.id)})})]})})}),b.jsxs("div",{className:"flex justify-between items-center pt-4 border-t mt-4",children:[b.jsxs("span",{className:"text-sm text-gray-700",children:["Menampilkan ",b.jsx("span",{className:"font-semibold",children:Math.min((I-1)*Su+1,D)})," - ",b.jsx("span",{className:"font-semibold",children:Math.min(I*Su,D)})," dari ",b.jsx("span",{className:"font-semibold",children:D})," produk"]}),U>1&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>T(ee=>ee-1),disabled:I===1,className:"px-3 py-1 bg-gray-200 rounded-md disabled:opacity-50",children:"Sebelumnya"}),b.jsx("button",{onClick:()=>T(ee=>ee+1),disabled:I===U,className:"px-3 py-1 bg-gray-200 rounded-md disabled:opacity-50",children:"Berikutnya"})]})]}),b.jsx(_O,{isOpen:i,onClose:()=>a(!1),onSave:oe}),b.jsx(GZ,{isOpen:s,onClose:()=>u(!1),onSave:de,product:p}),b.jsx(zZ,{isOpen:d,onClose:()=>h(!1),onConfirm:q,title:"Hapus Produk Terpilih",message:`Apakah Anda yakin ingin menghapus ${j.length} produk yang dipilih?`})]})};function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ov(e,t)}function GP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ov(e,t)}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le.apply(null,arguments)}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function VZ(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KZ(e){var t=VZ(e,"string");return _c(t)=="symbol"?t:t+""}function qZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function un(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var qS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),XS=function(){return Math.random().toString(36).substring(7).split("").join(".")},YS={INIT:"@@redux/INIT"+XS(),REPLACE:"@@redux/REPLACE"+XS()};function XZ(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function HP(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(un(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(un(1));return r(HP)(e,t)}if(typeof e!="function")throw new Error(un(2));var i=e,a=t,s=[],u=s,d=!1;function h(){u===s&&(u=s.slice())}function p(){if(d)throw new Error(un(3));return a}function v(C){if(typeof C!="function")throw new Error(un(4));if(d)throw new Error(un(5));var O=!0;return h(),u.push(C),function(){if(O){if(d)throw new Error(un(6));O=!1,h();var I=u.indexOf(C);u.splice(I,1),s=null}}}function y(C){if(!XZ(C))throw new Error(un(7));if(typeof C.type>"u")throw new Error(un(8));if(d)throw new Error(un(9));try{d=!0,a=i(a,C)}finally{d=!1}for(var O=s=u,_=0;_<O.length;_++){var I=O[_];I()}return C}function w(C){if(typeof C!="function")throw new Error(un(10));i=C,y({type:YS.REPLACE})}function A(){var C,O=v;return C={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(un(11));function T(){I.next&&I.next(p())}T();var D=O(T);return{unsubscribe:D}}},C[qS]=function(){return this},C}return y({type:YS.INIT}),n={dispatch:y,subscribe:v,getState:p,replaceReducer:w},n[qS]=A,n}function ZS(e,t){return function(){return t(e.apply(this,arguments))}}function QS(e,t){if(typeof e=="function")return ZS(e,t);if(typeof e!="object"||e===null)throw new Error(un(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=ZS(i,t))}return r}function VP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function YZ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(un(15))},s={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map(function(d){return d(s)});return a=VP.apply(void 0,u)(i.dispatch),KS(KS({},i),{},{dispatch:a})}}}var KP=At.createContext(null);function ZZ(e){e()}var qP=ZZ,QZ=function(t){return qP=t},JZ=function(){return qP};function eQ(){var e=JZ(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=t;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,s=r={callback:i,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!a||t===null||(a=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var JS={notify:function(){},get:function(){return[]}};function XP(e,t){var r,n=JS;function i(v){return d(),n.subscribe(v)}function a(){n.notify()}function s(){p.onStateChange&&p.onStateChange()}function u(){return!!r}function d(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=eQ())}function h(){r&&(r(),r=void 0,n.clear(),n=JS)}var p={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:s,isSubscribed:u,trySubscribe:d,tryUnsubscribe:h,getListeners:function(){return n}};return p}var YP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function tQ(e){var t=e.store,r=e.context,n=e.children,i=N.useMemo(function(){var u=XP(t);return{store:t,subscription:u}},[t]),a=N.useMemo(function(){return t.getState()},[t]);YP(function(){var u=i.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[i,a]);var s=r||KP;return At.createElement(s.Provider,{value:i},n)}function Lh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _w=$O,rQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ow={};Ow[_w.ForwardRef]=iQ;Ow[_w.Memo]=ZP;function eC(e){return _w.isMemo(e)?ZP:Ow[e.$$typeof]||rQ}var aQ=Object.defineProperty,oQ=Object.getOwnPropertyNames,tC=Object.getOwnPropertySymbols,sQ=Object.getOwnPropertyDescriptor,lQ=Object.getPrototypeOf,rC=Object.prototype;function QP(e,t,r){if(typeof t!="string"){if(rC){var n=lQ(t);n&&n!==rC&&QP(e,n,r)}var i=oQ(t);tC&&(i=i.concat(tC(t)));for(var a=eC(e),s=eC(t),u=0;u<i.length;++u){var d=i[u];if(!nQ[d]&&!(r&&r[d])&&!(s&&s[d])&&!(a&&a[d])){var h=sQ(t,d);try{aQ(e,d,h)}catch{}}}}return e}var uQ=QP;const nC=Ln(uQ);var JP={exports:{}},xt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=60103,mp=60106,id=60107,ad=60108,od=60114,sd=60109,ld=60110,ud=60112,cd=60113,Iw=60120,dd=60115,fd=60116,e8=60121,t8=60122,r8=60117,n8=60129,i8=60131;if(typeof Symbol=="function"&&Symbol.for){var _r=Symbol.for;gp=_r("react.element"),mp=_r("react.portal"),id=_r("react.fragment"),ad=_r("react.strict_mode"),od=_r("react.profiler"),sd=_r("react.provider"),ld=_r("react.context"),ud=_r("react.forward_ref"),cd=_r("react.suspense"),Iw=_r("react.suspense_list"),dd=_r("react.memo"),fd=_r("react.lazy"),e8=_r("react.block"),t8=_r("react.server.block"),r8=_r("react.fundamental"),n8=_r("react.debug_trace_mode"),i8=_r("react.legacy_hidden")}function Ti(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gp:switch(e=e.type,e){case id:case od:case ad:case cd:case Iw:return e;default:switch(e=e&&e.$$typeof,e){case ld:case ud:case fd:case dd:case sd:return e;default:return t}}case mp:return t}}}var cQ=sd,dQ=gp,fQ=ud,hQ=id,pQ=fd,gQ=dd,mQ=mp,vQ=od,yQ=ad,xQ=cd;xt.ContextConsumer=ld;xt.ContextProvider=cQ;xt.Element=dQ;xt.ForwardRef=fQ;xt.Fragment=hQ;xt.Lazy=pQ;xt.Memo=gQ;xt.Portal=mQ;xt.Profiler=vQ;xt.StrictMode=yQ;xt.Suspense=xQ;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(e){return Ti(e)===ld};xt.isContextProvider=function(e){return Ti(e)===sd};xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gp};xt.isForwardRef=function(e){return Ti(e)===ud};xt.isFragment=function(e){return Ti(e)===id};xt.isLazy=function(e){return Ti(e)===fd};xt.isMemo=function(e){return Ti(e)===dd};xt.isPortal=function(e){return Ti(e)===mp};xt.isProfiler=function(e){return Ti(e)===od};xt.isStrictMode=function(e){return Ti(e)===ad};xt.isSuspense=function(e){return Ti(e)===cd};xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===id||e===od||e===n8||e===ad||e===cd||e===Iw||e===i8||typeof e=="object"&&e!==null&&(e.$$typeof===fd||e.$$typeof===dd||e.$$typeof===sd||e.$$typeof===ld||e.$$typeof===ud||e.$$typeof===r8||e.$$typeof===e8||e[0]===t8)};xt.typeOf=Ti;JP.exports=xt;var wQ=JP.exports,bQ=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],EQ=["reactReduxForwardedRef"],AQ=[],SQ=[null,null];function CQ(e,t){var r=e[1];return[t.payload,r+1]}function iC(e,t,r){YP(function(){return e.apply(void 0,t)},r)}function _Q(e,t,r,n,i,a,s){e.current=n,t.current=i,r.current=!1,a.current&&(a.current=null,s())}function OQ(e,t,r,n,i,a,s,u,d,h){if(e){var p=!1,v=null,y=function(){if(!p){var C=t.getState(),O,_;try{O=n(C,i.current)}catch(I){_=I,v=I}_||(v=null),O===a.current?s.current||d():(a.current=O,u.current=O,s.current=!0,h({type:"STORE_UPDATED",payload:{error:_}}))}};r.onStateChange=y,r.trySubscribe(),y();var w=function(){if(p=!0,r.tryUnsubscribe(),r.onStateChange=null,v)throw v};return w}}var IQ=function(){return[null,0]};function TQ(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,i=n===void 0?function(T){return"ConnectAdvanced("+T+")"}:n,a=r.methodName,s=a===void 0?"connectAdvanced":a,u=r.renderCountProp,d=u===void 0?void 0:u,h=r.shouldHandleStateChanges,p=h===void 0?!0:h,v=r.storeKey,y=v===void 0?"store":v;r.withRef;var w=r.forwardRef,A=w===void 0?!1:w,C=r.context,O=C===void 0?KP:C,_=Lh(r,bQ),I=O;return function(D){var M=D.displayName||D.name||"Component",j=i(M),L=Le({},_,{getDisplayName:i,methodName:s,renderCountProp:d,shouldHandleStateChanges:p,storeKey:y,displayName:j,wrappedComponentName:M,WrappedComponent:D}),z=_.pure;function U(de){return e(de.dispatch,L)}var J=z?N.useMemo:function(de){return de()};function X(de){var H=N.useMemo(function(){var Oe=de.reactReduxForwardedRef,Rt=Lh(de,EQ);return[de.context,Oe,Rt]},[de]),we=H[0],ee=H[1],te=H[2],fe=N.useMemo(function(){return we&&we.Consumer&&wQ.isContextConsumer(At.createElement(we.Consumer,null))?we:I},[we,I]),ie=N.useContext(fe),ve=!!de.store&&!!de.store.getState&&!!de.store.dispatch;ie&&ie.store;var re=ve?de.store:ie.store,Ue=N.useMemo(function(){return U(re)},[re]),$e=N.useMemo(function(){if(!p)return SQ;var Oe=XP(re,ve?null:ie.subscription),Rt=Oe.notifyNestedSubs.bind(Oe);return[Oe,Rt]},[re,ve,ie]),qe=$e[0],xe=$e[1],cr=N.useMemo(function(){return ve?ie:Le({},ie,{subscription:qe})},[ve,ie,qe]),ht=N.useReducer(CQ,AQ,IQ),ye=ht[0],je=ye[0],De=ht[1];if(je&&je.error)throw je.error;var ae=N.useRef(),Me=N.useRef(te),Ge=N.useRef(),at=N.useRef(!1),he=J(function(){return Ge.current&&te===Me.current?Ge.current:Ue(re.getState(),te)},[re,je,te]);iC(_Q,[Me,ae,at,te,he,Ge,xe]),iC(OQ,[p,re,qe,Ue,Me,ae,at,Ge,xe,De],[re,qe,Ue]);var Te=N.useMemo(function(){return At.createElement(D,Le({},he,{ref:ee}))},[ee,D,he]),Ie=N.useMemo(function(){return p?At.createElement(fe.Provider,{value:cr},Te):Te},[fe,Te,cr]);return Ie}var q=z?At.memo(X):X;if(q.WrappedComponent=D,q.displayName=X.displayName=j,A){var oe=At.forwardRef(function(H,we){return At.createElement(q,Le({},H,{reactReduxForwardedRef:we}))});return oe.displayName=j,oe.WrappedComponent=D,nC(oe,D)}return nC(q,D)}}function aC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Yg(e,t){if(aC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!aC(e[r[i]],t[r[i]]))return!1;return!0}function NQ(e,t){var r={},n=function(s){var u=e[s];typeof u=="function"&&(r[s]=function(){return t(u.apply(void 0,arguments))})};for(var i in e)n(i);return r}function Tw(e){return function(r,n){var i=e(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function oC(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function a8(e,t){return function(n,i){i.displayName;var a=function(u,d){return a.dependsOnOwnProps?a.mapToProps(u,d):a.mapToProps(u)};return a.dependsOnOwnProps=!0,a.mapToProps=function(u,d){a.mapToProps=e,a.dependsOnOwnProps=oC(e);var h=a(u,d);return typeof h=="function"&&(a.mapToProps=h,a.dependsOnOwnProps=oC(h),h=a(u,d)),h},a}}function PQ(e){return typeof e=="function"?a8(e):void 0}function kQ(e){return e?void 0:Tw(function(t){return{dispatch:t}})}function DQ(e){return e&&typeof e=="object"?Tw(function(t){return NQ(e,t)}):void 0}const RQ=[PQ,kQ,DQ];function MQ(e){return typeof e=="function"?a8(e):void 0}function jQ(e){return e?void 0:Tw(function(){return{}})}const BQ=[MQ,jQ];function LQ(e,t,r){return Le({},r,e,t)}function FQ(e){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,s=!1,u;return function(h,p,v){var y=e(h,p,v);return s?(!i||!a(y,u))&&(u=y):(s=!0,u=y),u}}}function $Q(e){return typeof e=="function"?FQ(e):void 0}function UQ(e){return e?void 0:function(){return LQ}}const WQ=[$Q,UQ];var zQ=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function GQ(e,t,r,n){return function(a,s){return r(e(a,s),t(n,s),s)}}function HQ(e,t,r,n,i){var a=i.areStatesEqual,s=i.areOwnPropsEqual,u=i.areStatePropsEqual,d=!1,h,p,v,y,w;function A(T,D){return h=T,p=D,v=e(h,p),y=t(n,p),w=r(v,y,p),d=!0,w}function C(){return v=e(h,p),t.dependsOnOwnProps&&(y=t(n,p)),w=r(v,y,p),w}function O(){return e.dependsOnOwnProps&&(v=e(h,p)),t.dependsOnOwnProps&&(y=t(n,p)),w=r(v,y,p),w}function _(){var T=e(h,p),D=!u(T,v);return v=T,D&&(w=r(v,y,p)),w}function I(T,D){var M=!s(D,p),j=!a(T,h,D,p);return h=T,p=D,M&&j?C():M?O():j?_():w}return function(D,M){return d?I(D,M):A(D,M)}}function VQ(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,a=Lh(t,zQ),s=r(e,a),u=n(e,a),d=i(e,a),h=a.pure?HQ:GQ;return h(s,u,d,e,a)}var KQ=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Zg(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(a,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function qQ(e,t){return e===t}function XQ(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?TQ:r,i=t.mapStateToPropsFactories,a=i===void 0?BQ:i,s=t.mapDispatchToPropsFactories,u=s===void 0?RQ:s,d=t.mergePropsFactories,h=d===void 0?WQ:d,p=t.selectorFactory,v=p===void 0?VQ:p;return function(w,A,C,O){O===void 0&&(O={});var _=O,I=_.pure,T=I===void 0?!0:I,D=_.areStatesEqual,M=D===void 0?qQ:D,j=_.areOwnPropsEqual,L=j===void 0?Yg:j,z=_.areStatePropsEqual,U=z===void 0?Yg:z,J=_.areMergedPropsEqual,X=J===void 0?Yg:J,q=Lh(_,KQ),oe=Zg(w,a,"mapStateToProps"),de=Zg(A,u,"mapDispatchToProps"),H=Zg(C,h,"mergeProps");return n(v,Le({methodName:"connect",getDisplayName:function(ee){return"Connect("+ee+")"},shouldHandleStateChanges:!!w,initMapStateToProps:oe,initMapDispatchToProps:de,initMergeProps:H,pure:T,areStatesEqual:M,areOwnPropsEqual:L,areStatePropsEqual:U,areMergedPropsEqual:X},q))}}const o8=XQ();QZ(Bc.unstable_batchedUpdates);function YQ(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function s8(e,t){var r=N.useState(function(){return{inputs:t,result:e()}})[0],n=N.useRef(!0),i=N.useRef(r),a=n.current||!!(t&&i.current.inputs&&YQ(t,i.current.inputs)),s=a?i.current:{inputs:t,result:e()};return N.useEffect(function(){n.current=!1,i.current=s},[s]),s.result}function ZQ(e,t){return s8(function(){return e},t)}var et=s8,ke=ZQ,Ai=function(t){var r=t.top,n=t.right,i=t.bottom,a=t.left,s=n-a,u=i-r,d={top:r,right:n,bottom:i,left:a,width:s,height:u,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return d},Nw=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},sC=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},QQ=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Qg={top:0,right:0,bottom:0,left:0},Pw=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?Qg:n,a=t.border,s=a===void 0?Qg:a,u=t.padding,d=u===void 0?Qg:u,h=Ai(Nw(r,i)),p=Ai(sC(r,s)),v=Ai(sC(p,d));return{marginBox:h,borderBox:Ai(r),paddingBox:p,contentBox:v,margin:i,border:s,padding:d}},Xn=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&hP(),i},JQ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Fh=function(t,r){var n=t.borderBox,i=t.border,a=t.margin,s=t.padding,u=QQ(n,r);return Pw({borderBox:u,border:i,margin:a,padding:s})},$h=function(t,r){return r===void 0&&(r=JQ()),Fh(t,r)},l8=function(t,r){var n={top:Xn(r.marginTop),right:Xn(r.marginRight),bottom:Xn(r.marginBottom),left:Xn(r.marginLeft)},i={top:Xn(r.paddingTop),right:Xn(r.paddingRight),bottom:Xn(r.paddingBottom),left:Xn(r.paddingLeft)},a={top:Xn(r.borderTopWidth),right:Xn(r.borderRightWidth),bottom:Xn(r.borderBottomWidth),left:Xn(r.borderLeftWidth)};return Pw({borderBox:t,margin:n,padding:i,border:a})},u8=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return l8(r,n)},lC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function eJ(e,t){return!!(e===t||lC(e)&&lC(t))}function tJ(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!eJ(e[r],t[r]))return!1;return!0}function yr(e,t){t===void 0&&(t=tJ);var r,n=[],i,a=!1;function s(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a&&r===this&&t(u,n)||(i=e.apply(this,u),a=!0,r=this,n=u),i}return s}var Oc=function(t){var r=[],n=null,i=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];r=u,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function c8(e,t){}c8.bind(null,"warn");c8.bind(null,"error");function ro(){}function rJ(e,t){return Le({},e,{},t)}function ri(e,t,r){var n=t.map(function(i){var a=rJ(r,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var nJ="Invariant failed";function Uh(e){this.message=e}Uh.prototype.toString=function(){return this.message};function pe(e,t){throw new Uh(nJ)}var iJ=function(e){GP(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=ro,n.onWindowError=function(u){var d=n.getCallbacks();d.isDragging()&&d.tryAbort();var h=u.error;h instanceof Uh&&u.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(u){n.callbacks=u},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ri(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof Uh){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(At.Component),aJ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Wh=function(t){return t+1},oJ=function(t){return`
  You have lifted an item in position `+Wh(t.source.index)+`
`},d8=function(t,r){var n=t.droppableId===r.droppableId,i=Wh(t.index),a=Wh(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},f8=function(t,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},sJ=function(t){var r=t.destination;if(r)return d8(t.source,r);var n=t.combine;return n?f8(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},uC=function(t){return`
  The item has returned to its starting position
  of `+Wh(t.index)+`
`},lJ=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+uC(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+d8(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+f8(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+uC(t.source)+`
  `},_f={dragHandleUsageInstructions:aJ,onDragStart:oJ,onDragUpdate:sJ,onDragEnd:lJ},xr={x:0,y:0},Pr=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},In=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},no=function(t,r){return t.x===r.x&&t.y===r.y},ql=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},ds=function(t,r,n){var i;return n===void 0&&(n=0),i={},i[t]=r,i[t==="x"?"y":"x"]=n,i},Ic=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},cC=function(t,r){return Math.min.apply(Math,r.map(function(n){return Ic(t,n)}))},h8=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},uJ=function(e,t){var r=Ai({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},hd=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},dC=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},cJ={top:0,right:0,bottom:0,left:0},dJ=function(t,r){return r?hd(t,r.scroll.diff.displacement):t},fJ=function(t,r,n){if(n&&n.increasedBy){var i;return Le({},t,(i={},i[r.end]=t[r.end]+n.increasedBy[r.line],i))}return t},hJ=function(t,r){return r&&r.shouldClipSubject?uJ(r.pageMarginBox,t):Ai(t)},Pl=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,a=dJ(t.marginBox,i),s=fJ(a,n,r),u=hJ(s,i);return{page:t,withPlaceholder:r,active:u}},kw=function(e,t){e.frame||pe();var r=e.frame,n=In(t,r.scroll.initial),i=ql(n),a=Le({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}}),s=Pl({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),u=Le({},e,{frame:a,subject:s});return u};function zh(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Dw(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function wo(e,t){if(e.find)return e.find(t);var r=Dw(e,t);if(r!==-1)return e[r]}function p8(e){return Array.prototype.slice.call(e)}var g8=yr(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),m8=yr(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),vp=yr(function(e){return zh(e)}),pJ=yr(function(e){return zh(e)}),Xl=yr(function(e,t){var r=pJ(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function Rw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function yp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var xp=yr(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),gJ=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var s=Rw(a);if(!s)return null;function u(C){var O={type:"COMBINE",combine:{draggableId:C,droppableId:n.descriptor.id}};return Le({},a,{at:O})}var d=a.displaced.all,h=d.length?d[0]:null;if(t)return h?u(h):null;var p=xp(r,i);if(!h){if(!p.length)return null;var v=p[p.length-1];return u(v.descriptor.id)}var y=Dw(p,function(C){return C.descriptor.id===h});y===-1&&pe();var w=y-1;if(w<0)return null;var A=p[w];return u(A.descriptor.id)},Yl=function(e,t){return e.descriptor.droppableId===t.descriptor.id},v8={point:xr,value:0},Tc={invisible:{},visible:{},all:[]},mJ={displaced:Tc,displacedBy:v8,at:null},ii=function(e,t){return function(r){return e<=r&&r<=t}},y8=function(e){var t=ii(e.top,e.bottom),r=ii(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var a=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right),u=a&&s;if(u)return!0;var d=n.top<e.top&&n.bottom>e.bottom,h=n.left<e.left&&n.right>e.right,p=d&&h;if(p)return!0;var v=d&&s||h&&a;return v}},vJ=function(e){var t=ii(e.top,e.bottom),r=ii(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return i}},Mw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},x8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},yJ=function(e){return function(t){var r=ii(t.top,t.bottom),n=ii(t.left,t.right);return function(i){return e===Mw?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},xJ=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:xr;return hd(t,n)},wJ=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},bJ=function(t,r,n){return n(r)(t)},jw=function(t){var r=t.target,n=t.destination,i=t.viewport,a=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,u=a?xJ(r,n):r;return wJ(u,n,s)&&bJ(u,i,s)},EJ=function(t){return jw(Le({},t,{isVisibleThroughFrameFn:y8}))},w8=function(t){return jw(Le({},t,{isVisibleThroughFrameFn:vJ}))},AJ=function(t){return jw(Le({},t,{isVisibleThroughFrameFn:yJ(t.destination.axis)}))},SJ=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,a=r.visible;if(i[t])return!1;var s=a[t];return s?s.shouldAnimate:!0};function CJ(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ai(Nw(r,n))}function Nc(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,s=e.last;return t.reduce(function(d,h){var p=CJ(h,n),v=h.descriptor.id;d.all.push(v);var y=EJ({target:p,destination:r,viewport:i,withDroppableDisplacement:!0});if(!y)return d.invisible[h.descriptor.id]=!0,d;var w=SJ(v,s,a),A={draggableId:v,shouldAnimate:w};return d.visible[v]=A,d},{all:[],visible:{},invisible:{}})}function _J(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function fC(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,a=_J(t,{inHomeList:r});return{displaced:Tc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Gh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,a=e.displacedBy,s=e.last,u=e.index,d=e.forceShouldAnimate,h=Yl(t,n);if(u==null)return fC({insideDestination:r,inHomeList:h,displacedBy:a,destination:n});var p=wo(r,function(C){return C.descriptor.index===u});if(!p)return fC({insideDestination:r,inHomeList:h,displacedBy:a,destination:n});var v=xp(t,r),y=r.indexOf(p),w=v.slice(y),A=Nc({afterDragging:w,destination:n,displacedBy:a,last:s,viewport:i.frame,forceShouldAnimate:d});return{displaced:A,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:u}}}}function uo(e,t){return!!t.effected[e]}var OJ=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,i=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var s=i.draggableId,u=n[s],d=u.descriptor.index,h=uo(s,a);return h?t?d:d-1:t?d+1:d},IJ=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var a=i.index,s=t?a+1:a-1,u=n[0].descriptor.index,d=n[n.length-1].descriptor.index,h=r?d:d+1;return s<u||s>h?null:s},TJ=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,a=e.destination,s=e.insideDestination,u=e.previousImpact,d=e.viewport,h=e.afterCritical,p=u.at;if(p||pe(),p.type==="REORDER"){var v=IJ({isMovingForward:t,isInHomeList:r,location:p.destination,insideDestination:s});return v==null?null:Gh({draggable:n,insideDestination:s,destination:a,viewport:d,last:u.displaced,displacedBy:u.displacedBy,index:v})}var y=OJ({isMovingForward:t,destination:a,displaced:u.displaced,draggables:i,combine:p.combine,afterCritical:h});return y==null?null:Gh({draggable:n,insideDestination:s,destination:a,viewport:d,last:u.displaced,displacedBy:u.displacedBy,index:y})},NJ=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return uo(n,r)?a?xr:ql(i.point):a?i.point:xr},PJ=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=yp(r);i||pe();var a=i.draggableId,s=n[a].page.borderBox.center,u=NJ({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Pr(s,u)},b8=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},kJ=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Bw=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},hC=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return ds(r.line,n.marginBox[r.end]+b8(r,i),Bw(r,n.marginBox,i))},pC=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return ds(r.line,n.marginBox[r.start]-kJ(r,i),Bw(r,n.marginBox,i))},DJ=function(t){var r=t.axis,n=t.moveInto,i=t.isMoving;return ds(r.line,n.contentBox[r.start]+b8(r,i),Bw(r,n.contentBox,i))},RJ=function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,a=e.afterCritical,s=Xl(i.descriptor.id,n),u=r.page,d=i.axis;if(!s.length)return DJ({axis:d,moveInto:i.page,isMoving:u});var h=t.displaced,p=t.displacedBy,v=h.all[0];if(v){var y=n[v];if(uo(v,a))return pC({axis:d,moveRelativeTo:y.page,isMoving:u});var w=Fh(y.page,p.point);return pC({axis:d,moveRelativeTo:w,isMoving:u})}var A=s[s.length-1];if(A.descriptor.id===r.descriptor.id)return u.borderBox.center;if(uo(A.descriptor.id,a)){var C=Fh(A.page,ql(a.displacedBy.point));return hC({axis:d,moveRelativeTo:C,isMoving:u})}return hC({axis:d,moveRelativeTo:A.page,isMoving:u})},sv=function(e,t){var r=e.frame;return r?Pr(t,r.scroll.diff.displacement):t},MJ=function(t){var r=t.impact,n=t.draggable,i=t.droppable,a=t.draggables,s=t.afterCritical,u=n.page.borderBox.center,d=r.at;return!i||!d?u:d.type==="REORDER"?RJ({impact:r,draggable:n,draggables:a,droppable:i,afterCritical:s}):PJ({impact:r,draggables:a,afterCritical:s})},wp=function(e){var t=MJ(e),r=e.droppable,n=r?sv(r,t):t;return n},E8=function(e,t){var r=In(t,e.scroll.initial),n=ql(r),i=Ai({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function gC(e,t){return e.map(function(r){return t[r]})}function jJ(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var BJ=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,a=e.maxScrollChange,s=E8(r,Pr(r.scroll.current,a)),u=n.frame?kw(n,Pr(n.frame.scroll.current,a)):n,d=t.displaced,h=Nc({afterDragging:gC(d.all,i),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:d,forceShouldAnimate:!1}),p=Nc({afterDragging:gC(d.all,i),destination:u,displacedBy:t.displacedBy,viewport:r.frame,last:d,forceShouldAnimate:!1}),v={},y={},w=[d,h,p];d.all.forEach(function(C){var O=jJ(C,w);if(O){y[C]=O;return}v[C]=!0});var A=Le({},t,{displaced:{all:d.all,invisible:v,visible:y}});return A},LJ=function(e,t){return Pr(e.scroll.diff.displacement,t)},Lw=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,i=LJ(n,t),a=In(i,r.page.borderBox.center);return Pr(r.client.borderBox.center,a)},A8=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,s=e.onlyOnMainAxis,u=s===void 0?!1:s,d=In(n,t.page.borderBox.center),h=hd(t.page.borderBox,d),p={target:h,destination:r,withDroppableDisplacement:a,viewport:i};return u?AJ(p):w8(p)},FJ=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,a=e.previousImpact,s=e.viewport,u=e.previousPageBorderBoxCenter,d=e.previousClientSelection,h=e.afterCritical;if(!n.isEnabled)return null;var p=Xl(n.descriptor.id,i),v=Yl(r,n),y=gJ({isMovingForward:t,draggable:r,destination:n,insideDestination:p,previousImpact:a})||TJ({isMovingForward:t,isInHomeList:v,draggable:r,draggables:i,destination:n,insideDestination:p,previousImpact:a,viewport:s,afterCritical:h});if(!y)return null;var w=wp({impact:y,draggable:r,droppable:n,draggables:i,afterCritical:h}),A=A8({draggable:r,destination:n,newPageBorderBoxCenter:w,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(A){var C=Lw({pageBorderBoxCenter:w,draggable:r,viewport:s});return{clientSelection:C,impact:y,scrollJumpRequest:null}}var O=In(w,u),_=BJ({impact:y,viewport:s,destination:n,draggables:i,maxScrollChange:O});return{clientSelection:d,impact:_,scrollJumpRequest:O}},Kr=function(t){var r=t.subject.active;return r||pe(),r},$J=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,a=e.viewport,s=n.subject.active;if(!s)return null;var u=n.axis,d=ii(s[u.start],s[u.end]),h=vp(i).filter(function(v){return v!==n}).filter(function(v){return v.isEnabled}).filter(function(v){return!!v.subject.active}).filter(function(v){return y8(a.frame)(Kr(v))}).filter(function(v){var y=Kr(v);return t?s[u.crossAxisEnd]<y[u.crossAxisEnd]:y[u.crossAxisStart]<s[u.crossAxisStart]}).filter(function(v){var y=Kr(v),w=ii(y[u.start],y[u.end]);return d(y[u.start])||d(y[u.end])||w(s[u.start])||w(s[u.end])}).sort(function(v,y){var w=Kr(v)[u.crossAxisStart],A=Kr(y)[u.crossAxisStart];return t?w-A:A-w}).filter(function(v,y,w){return Kr(v)[u.crossAxisStart]===Kr(w[0])[u.crossAxisStart]});if(!h.length)return null;if(h.length===1)return h[0];var p=h.filter(function(v){var y=ii(Kr(v)[u.start],Kr(v)[u.end]);return y(r[u.line])});return p.length===1?p[0]:p.length>1?p.sort(function(v,y){return Kr(v)[u.start]-Kr(y)[u.start]})[0]:h.sort(function(v,y){var w=cC(r,dC(Kr(v))),A=cC(r,dC(Kr(y)));return w!==A?w-A:Kr(v)[u.start]-Kr(y)[u.start]})[0]},mC=function(t,r){var n=t.page.borderBox.center;return uo(t.descriptor.id,r)?In(n,r.displacedBy.point):n},UJ=function(t,r){var n=t.page.borderBox;return uo(t.descriptor.id,r)?hd(n,ql(r.displacedBy.point)):n},WJ=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.insideDestination,a=e.afterCritical,s=i.filter(function(u){return w8({target:UJ(u,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(u,d){var h=Ic(t,sv(n,mC(u,a))),p=Ic(t,sv(n,mC(d,a)));return h<p?-1:p<h?1:u.descriptor.index-d.descriptor.index});return s[0]||null},pd=yr(function(t,r){var n=r[t.line];return{value:n,point:ds(t.line,n)}}),zJ=function(t,r,n){var i=t.axis;if(t.descriptor.mode==="virtual")return ds(i.line,r[i.line]);var a=t.subject.page.contentBox[i.size],s=Xl(t.descriptor.id,n),u=s.reduce(function(p,v){return p+v.client.marginBox[i.size]},0),d=u+r[i.line],h=d-a;return h<=0?null:ds(i.line,h)},S8=function(t,r){return Le({},t,{scroll:Le({},t.scroll,{max:r})})},C8=function(t,r,n){var i=t.frame;Yl(r,t)&&pe(),t.subject.withPlaceholder&&pe();var a=pd(t.axis,r.displaceBy).point,s=zJ(t,a,n),u={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var d=Pl({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:t.frame});return Le({},t,{subject:d})}var h=s?Pr(i.scroll.max,s):i.scroll.max,p=S8(i,h),v=Pl({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:p});return Le({},t,{subject:v,frame:p})},GJ=function(t){var r=t.subject.withPlaceholder;r||pe();var n=t.frame;if(!n){var i=Pl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Le({},t,{subject:i})}var a=r.oldFrameMaxScroll;a||pe();var s=S8(n,a),u=Pl({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return Le({},t,{subject:u,frame:s})},HJ=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,a=e.draggables,s=e.destination,u=e.viewport,d=e.afterCritical;if(!r){if(n.length)return null;var h={displaced:Tc,displacedBy:v8,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=wp({impact:h,draggable:i,droppable:s,draggables:a,afterCritical:d}),v=Yl(i,s)?s:C8(s,i,a),y=A8({draggable:i,destination:v,newPageBorderBoxCenter:p,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return y?h:null}var w=t[s.axis.line]<=r.page.borderBox.center[s.axis.line],A=function(){var O=r.descriptor.index;return r.descriptor.id===i.descriptor.id||w?O:O+1}(),C=pd(s.axis,i.displaceBy);return Gh({draggable:i,insideDestination:n,destination:s,viewport:u,displacedBy:C,last:Tc,index:A})},VJ=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,a=e.draggables,s=e.droppables,u=e.viewport,d=e.afterCritical,h=$J({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:s,viewport:u});if(!h)return null;var p=Xl(h.descriptor.id,a),v=WJ({pageBorderBoxCenter:r,viewport:u,destination:h,insideDestination:p,afterCritical:d}),y=HJ({previousPageBorderBoxCenter:r,destination:h,draggable:n,draggables:a,moveRelativeTo:v,insideDestination:p,viewport:u,afterCritical:d});if(!y)return null;var w=wp({impact:y,draggable:n,droppable:h,draggables:a,afterCritical:d}),A=Lw({pageBorderBoxCenter:w,draggable:n,viewport:u});return{clientSelection:A,impact:y,scrollJumpRequest:null}},Pn=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},KJ=function(t,r){var n=Pn(t);return n?r[n]:null},qJ=function(e){var t=e.state,r=e.type,n=KJ(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],s=n||a,u=s.axis.direction,d=u==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||u==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(d&&!i)return null;var h=r==="MOVE_DOWN"||r==="MOVE_RIGHT",p=t.dimensions.draggables[t.critical.draggable.id],v=t.current.page.borderBoxCenter,y=t.dimensions,w=y.draggables,A=y.droppables;return d?FJ({isMovingForward:h,previousPageBorderBoxCenter:v,draggable:p,destination:s,draggables:w,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):VJ({isMovingForward:h,previousPageBorderBoxCenter:v,draggable:p,isOver:s,draggables:w,droppables:A,viewport:t.viewport,afterCritical:t.afterCritical})};function jo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function _8(e){var t=ii(e.top,e.bottom),r=ii(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function XJ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function YJ(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,i=r.page.borderBox.center,a=n.map(function(s){var u=s.axis,d=ds(s.axis.line,t.center[u.line],s.page.borderBox.center[u.crossAxisLine]);return{id:s.descriptor.id,distance:Ic(i,d)}}).sort(function(s,u){return u.distance-s.distance});return a[0]?a[0].id:null}function ZJ(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=vp(n).filter(function(a){if(!a.isEnabled)return!1;var s=a.subject.active;if(!s||!XJ(t,s))return!1;if(_8(s)(t.center))return!0;var u=a.axis,d=s.center[u.crossAxisLine],h=t[u.crossAxisStart],p=t[u.crossAxisEnd],v=ii(s[u.crossAxisStart],s[u.crossAxisEnd]),y=v(h),w=v(p);return!y&&!w?!0:y?h<d:p>d});return i.length?i.length===1?i[0].descriptor.id:YJ({pageBorderBox:t,draggable:r,candidates:i}):null}var O8=function(t,r){return Ai(hd(t,r))},QJ=function(e,t){var r=e.frame;return r?O8(t,r.scroll.diff.value):t};function I8(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function JJ(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var eee=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.last,s=e.viewport,u=e.afterCritical,d=n.axis,h=pd(n.axis,r.displaceBy),p=h.value,v=t[d.start],y=t[d.end],w=xp(r,i),A=wo(w,function(O){var _=O.descriptor.id,I=O.page.borderBox.center[d.line],T=uo(_,u),D=I8({displaced:a,id:_});return T?D?y<=I:v<I-p:D?y<=I+p:v<I}),C=JJ({draggable:r,closest:A,inHomeList:Yl(r,n)});return Gh({draggable:r,insideDestination:i,destination:n,viewport:s,last:a,displacedBy:h,index:C})},tee=4,ree=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,a=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,d=pd(i.axis,t.displaceBy),h=d.value,p=r[u.start],v=r[u.end],y=xp(t,a),w=wo(y,function(C){var O=C.descriptor.id,_=C.page.borderBox,I=_[u.size],T=I/tee,D=uo(O,s),M=I8({displaced:n.displaced,id:O});return D?M?v>_[u.start]+T&&v<_[u.end]-T:p>_[u.start]-h+T&&p<_[u.end]-h-T:M?v>_[u.start]+h+T&&v<_[u.end]+h-T:p>_[u.start]+T&&p<_[u.end]-T});if(!w)return null;var A={displacedBy:d,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:w.descriptor.id,droppableId:i.descriptor.id}}};return A},T8=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,a=e.previousImpact,s=e.viewport,u=e.afterCritical,d=O8(r.page.borderBox,t),h=ZJ({pageBorderBox:d,draggable:r,droppables:i});if(!h)return mJ;var p=i[h],v=Xl(p.descriptor.id,n),y=QJ(p,d);return ree({pageBorderBoxWithDroppableScroll:y,draggable:r,previousImpact:a,destination:p,insideDestination:v,afterCritical:u})||eee({pageBorderBoxWithDroppableScroll:y,draggable:r,destination:p,insideDestination:v,last:a.displaced,viewport:s,afterCritical:u})},Fw=function(e,t){var r;return Le({},e,(r={},r[t.descriptor.id]=t,r))},nee=function(t){var r=t.previousImpact,n=t.impact,i=t.droppables,a=Pn(r),s=Pn(n);if(!a||a===s)return i;var u=i[a];if(!u.subject.withPlaceholder)return i;var d=GJ(u);return Fw(i,d)},iee=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,a=e.impact,s=nee({previousImpact:i,impact:a,droppables:n}),u=Pn(a);if(!u)return s;var d=n[u];if(Yl(t,d)||d.subject.withPlaceholder)return s;var h=C8(d,t,r);return Fw(s,h)},Xu=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,a=e.impact,s=e.scrollJumpRequest,u=i||t.viewport,d=n||t.dimensions,h=r||t.current.client.selection,p=In(h,t.initial.client.selection),v={offset:p,selection:h,borderBoxCenter:Pr(t.initial.client.borderBoxCenter,p)},y={selection:Pr(v.selection,u.scroll.current),borderBoxCenter:Pr(v.borderBoxCenter,u.scroll.current),offset:Pr(v.offset,u.scroll.diff.value)},w={client:v,page:y};if(t.phase==="COLLECTING")return Le({phase:"COLLECTING"},t,{dimensions:d,viewport:u,current:w});var A=d.draggables[t.critical.draggable.id],C=a||T8({pageOffset:y.offset,draggable:A,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),O=iee({draggable:A,impact:C,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables}),_=Le({},t,{current:w,dimensions:{draggables:d.draggables,droppables:O},impact:C,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return _};function aee(e,t){return e.map(function(r){return t[r]})}var N8=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,a=e.forceShouldAnimate,s=t.displaced,u=aee(s.all,n),d=Nc({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:s});return Le({},t,{displaced:d})},P8=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,a=e.viewport,s=e.afterCritical,u=wp({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:s});return Lw({pageBorderBoxCenter:u,draggable:r,viewport:a})},k8=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&pe();var i=t.impact,a=n||t.viewport,s=r||t.dimensions,u=s.draggables,d=s.droppables,h=u[t.critical.draggable.id],p=Pn(i);p||pe();var v=d[p],y=N8({impact:i,viewport:a,destination:v,draggables:u}),w=P8({impact:y,draggable:h,droppable:v,draggables:u,viewport:a,afterCritical:t.afterCritical});return Xu({impact:y,clientSelection:w,state:t,dimensions:s,viewport:a})},oee=function(e){return{index:e.index,droppableId:e.droppableId}},D8=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,a=pd(r.axis,t.displaceBy),s=Xl(r.descriptor.id,n),u=s.indexOf(t);u===-1&&pe();var d=s.slice(u+1),h=d.reduce(function(w,A){return w[A.descriptor.id]=!0,w},{}),p={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:h},v=Nc({afterDragging:d,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),y={displaced:v,displacedBy:a,at:{type:"REORDER",destination:oee(t.descriptor)}};return{impact:y,afterCritical:p}},see=function(e,t){return{draggables:e.draggables,droppables:Fw(e.droppables,t)}},lee=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=Fh(t.client,r),a=$h(i,n),s=Le({},t,{placeholder:Le({},t.placeholder,{client:i}),client:i,page:a});return s},uee=function(e){var t=e.frame;return t||pe(),t},cee=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map(function(a){var s=a.descriptor.droppableId,u=r[s],d=uee(u),h=d.scroll.diff.value,p=Pr(i,h),v=lee({draggable:a,offset:p,initialWindowScroll:n.scroll.initial});return v})},dee=function(e){var t=e.state,r=e.published,n=r.modified.map(function(T){var D=t.dimensions.droppables[T.droppableId],M=kw(D,T.scroll);return M}),i=Le({},t.dimensions.droppables,{},g8(n)),a=m8(cee({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),s=Le({},t.dimensions.draggables,{},a);r.removals.forEach(function(T){delete s[T]});var u={droppables:i,draggables:s},d=Pn(t.impact),h=d?u.droppables[d]:null,p=u.draggables[t.critical.draggable.id],v=u.droppables[t.critical.droppable.id],y=D8({draggable:p,home:v,draggables:s,viewport:t.viewport}),w=y.impact,A=y.afterCritical,C=h&&h.isCombineEnabled?t.impact:w,O=T8({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:C,viewport:t.viewport,afterCritical:A}),_=Le({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:O,onLiftImpact:w,dimensions:u,afterCritical:A,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return _;var I=Le({phase:"DROP_PENDING"},_,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return I},lv=function(t){return t.movementMode==="SNAP"},Jg=function(t,r,n){var i=see(t.dimensions,r);return!lv(t)||n?Xu({state:t,dimensions:i}):k8({state:t,dimensions:i})};function e1(e){return e.isDragging&&e.movementMode==="SNAP"?Le({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vC={phase:"IDLE",completed:null,shouldFlush:!1},fee=function(e,t){if(e===void 0&&(e=vC),t.type==="FLUSH")return Le({},vC,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&pe();var r=t.payload,n=r.critical,i=r.clientSelection,a=r.viewport,s=r.dimensions,u=r.movementMode,d=s.draggables[n.draggable.id],h=s.droppables[n.droppable.id],p={selection:i,borderBoxCenter:d.client.borderBox.center,offset:xr},v={client:p,page:{selection:Pr(p.selection,a.scroll.initial),borderBoxCenter:Pr(p.selection,a.scroll.initial),offset:Pr(p.selection,a.scroll.diff.value)}},y=vp(s.droppables).every(function(De){return!De.isFixedOnPage}),w=D8({draggable:d,home:h,draggables:s.draggables,viewport:a}),A=w.impact,C=w.afterCritical,O={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:u,dimensions:s,initial:v,current:v,isWindowScrollAllowed:y,impact:A,afterCritical:C,onLiftImpact:A,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return O}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();var _=Le({phase:"COLLECTING"},e,{phase:"COLLECTING"});return _}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||pe(),dee({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;jo(e)||pe();var I=t.payload.client;return no(I,e.current.client.selection)?e:Xu({state:e,clientSelection:I,impact:lv(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return e1(e);jo(e)||pe();var T=t.payload,D=T.id,M=T.newScroll,j=e.dimensions.droppables[D];if(!j)return e;var L=kw(j,M);return Jg(e,L,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;jo(e)||pe();var z=t.payload,U=z.id,J=z.isEnabled,X=e.dimensions.droppables[U];X||pe(),X.isEnabled===J&&pe();var q=Le({},X,{isEnabled:J});return Jg(e,q,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;jo(e)||pe();var oe=t.payload,de=oe.id,H=oe.isCombineEnabled,we=e.dimensions.droppables[de];we||pe(),we.isCombineEnabled===H&&pe();var ee=Le({},we,{isCombineEnabled:H});return Jg(e,ee,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;jo(e)||pe(),e.isWindowScrollAllowed||pe();var te=t.payload.newScroll;if(no(e.viewport.scroll.current,te))return e1(e);var fe=E8(e.viewport,te);return lv(e)?k8({state:e,viewport:fe}):Xu({state:e,viewport:fe})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!jo(e))return e;var ie=t.payload.maxScroll;if(no(ie,e.viewport.scroll.max))return e;var ve=Le({},e.viewport,{scroll:Le({},e.viewport.scroll,{max:ie})});return Le({phase:"DRAGGING"},e,{viewport:ve})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();var re=qJ({state:e,type:t.type});return re?Xu({state:e,impact:re.impact,clientSelection:re.clientSelection,scrollJumpRequest:re.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Ue=t.payload.reason;e.phase!=="COLLECTING"&&pe();var $e=Le({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Ue});return $e}if(t.type==="DROP_ANIMATE"){var qe=t.payload,xe=qe.completed,cr=qe.dropDuration,ht=qe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||pe();var ye={phase:"DROP_ANIMATING",completed:xe,dropDuration:cr,newHomeClientOffset:ht,dimensions:e.dimensions};return ye}if(t.type==="DROP_COMPLETE"){var je=t.payload.completed;return{phase:"IDLE",completed:je,shouldFlush:!1}}return e},hee=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},pee=function(t){return{type:"LIFT",payload:t}},gee=function(t){return{type:"INITIAL_PUBLISH",payload:t}},mee=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},vee=function(){return{type:"COLLECTION_STARTING",payload:null}},yee=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},xee=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},wee=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},R8=function(t){return{type:"MOVE",payload:t}},bee=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Eee=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Aee=function(){return{type:"MOVE_UP",payload:null}},See=function(){return{type:"MOVE_DOWN",payload:null}},Cee=function(){return{type:"MOVE_RIGHT",payload:null}},_ee=function(){return{type:"MOVE_LEFT",payload:null}},$w=function(){return{type:"FLUSH",payload:null}},Oee=function(t){return{type:"DROP_ANIMATE",payload:t}},Uw=function(t){return{type:"DROP_COMPLETE",payload:t}},M8=function(t){return{type:"DROP",payload:t}},Iee=function(t){return{type:"DROP_PENDING",payload:t}},j8=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Tee=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var s=a.payload,u=s.id,d=s.clientSelection,h=s.movementMode,p=r();p.phase==="DROP_ANIMATING"&&n(Uw({completed:p.completed})),r().phase!=="IDLE"&&pe(),n($w()),n(hee({draggableId:u,movementMode:h}));var v={shouldPublishImmediately:h==="SNAP"},y={draggableId:u,scrollOptions:v},w=e.startPublishing(y),A=w.critical,C=w.dimensions,O=w.viewport;n(gee({critical:A,dimensions:C,clientSelection:d,movementMode:h,viewport:O}))}}}},Nee=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Ww={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Pc={opacity:{drop:0,combining:.7},scale:{drop:.75}},zw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},To=zw.outOfTheWay+"s "+Ww.outOfTheWay,Yu={fluid:"opacity "+To,snap:"transform "+To+", opacity "+To,drop:function(t){var r=t+"s "+Ww.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+To,placeholder:"height "+To+", width "+To+", margin "+To},yC=function(t){return no(t,xr)?null:"translate("+t.x+"px, "+t.y+"px)"},uv={moveTo:yC,drop:function(t,r){var n=yC(t);return n?r?n+" scale("+Pc.scale.drop+")":n:null}},cv=zw.minDropTime,B8=zw.maxDropTime,Pee=B8-cv,xC=1500,kee=.6,Dee=function(e){var t=e.current,r=e.destination,n=e.reason,i=Ic(t,r);if(i<=0)return cv;if(i>=xC)return B8;var a=i/xC,s=cv+Pee*a,u=n==="CANCEL"?s*kee:s;return Number(u.toFixed(2))},Ree=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,a=e.afterCritical,s=n.draggables,u=n.droppables,d=Pn(t),h=d?u[d]:null,p=u[r.descriptor.droppableId],v=P8({impact:t,draggable:r,draggables:s,afterCritical:a,droppable:h||p,viewport:i}),y=In(v,r.client.borderBox.center);return y},Mee=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,a=e.viewport,s=e.onLiftImpact;if(!n.at||r!=="DROP"){var u=N8({draggables:t,impact:s,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:u,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var d=Le({},n,{displaced:Tc});return{impact:d,didDropInsideDroppable:!0}},jee=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=t(),s=i.payload.reason;if(a.phase==="COLLECTING"){r(Iee({reason:s}));return}if(a.phase!=="IDLE"){var u=a.phase==="DROP_PENDING"&&a.isWaiting;u&&pe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||pe();var d=a.critical,h=a.dimensions,p=h.draggables[a.critical.draggable.id],v=Mee({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=v.impact,w=v.didDropInsideDroppable,A=w?Rw(y):null,C=w?yp(y):null,O={index:d.draggable.index,droppableId:d.droppable.id},_={draggableId:p.descriptor.id,type:p.descriptor.type,source:O,reason:s,mode:a.movementMode,destination:A,combine:C},I=Ree({impact:y,draggable:p,dimensions:h,viewport:a.viewport,afterCritical:a.afterCritical}),T={critical:a.critical,afterCritical:a.afterCritical,result:_,impact:y},D=!no(a.current.client.offset,I)||!!_.combine;if(!D){r(Uw({completed:T}));return}var M=Dee({current:a.current.client.offset,destination:I,reason:s}),j={newHomeClientOffset:I,dropDuration:M,completed:T};r(Oee(j))}}}},L8=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Bee(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Lee(e){var t=e.onWindowScroll;function r(){t(L8())}var n=Oc(r),i=Bee(n),a=ro;function s(){return a!==ro}function u(){s()&&pe(),a=ri(window,[i])}function d(){s()||pe(),n.cancel(),a(),a=ro}return{start:u,stop:d,isActive:s}}var Fee=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},$ee=function(e){var t=Lee({onWindowScroll:function(n){e.dispatch(bee({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Fee(n)&&t.stop(),r(n)}}},Uee=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(s){t||r||(t=!0,e(s),clearTimeout(n))};return i.wasCalled=function(){return t},i},Wee=function(){var e=[],t=function(a){var s=Dw(e,function(h){return h.timerId===a});s===-1&&pe();var u=e.splice(s,1),d=u[0];d.callback()},r=function(a){var s=setTimeout(function(){return t(s)}),u={timerId:s,callback:a};e.push(u)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:n}},zee=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Gee=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},Hee=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,i=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&i},Cu=function(t,r){r()},sf=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},t1=function(t,r,n,i){if(!t){n(i(r));return}var a=Uee(n),s={announce:a};t(r,s),a.wasCalled()||n(i(r))},Vee=function(e,t){var r=Wee(),n=null,i=function(y,w){n&&pe(),Cu("onBeforeCapture",function(){var A=e().onBeforeCapture;if(A){var C={draggableId:y,mode:w};A(C)}})},a=function(y,w){n&&pe(),Cu("onBeforeDragStart",function(){var A=e().onBeforeDragStart;A&&A(sf(y,w))})},s=function(y,w){n&&pe();var A=sf(y,w);n={mode:w,lastCritical:y,lastLocation:A.source,lastCombine:null},r.add(function(){Cu("onDragStart",function(){return t1(e().onDragStart,A,t,_f.onDragStart)})})},u=function(y,w){var A=Rw(w),C=yp(w);n||pe();var O=!Hee(y,n.lastCritical);O&&(n.lastCritical=y);var _=!zee(n.lastLocation,A);_&&(n.lastLocation=A);var I=!Gee(n.lastCombine,C);if(I&&(n.lastCombine=C),!(!O&&!_&&!I)){var T=Le({},sf(y,n.mode),{combine:C,destination:A});r.add(function(){Cu("onDragUpdate",function(){return t1(e().onDragUpdate,T,t,_f.onDragUpdate)})})}},d=function(){n||pe(),r.flush()},h=function(y){n||pe(),n=null,Cu("onDragEnd",function(){return t1(e().onDragEnd,y,t,_f.onDragEnd)})},p=function(){if(n){var y=Le({},sf(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});h(y)}};return{beforeCapture:i,beforeStart:a,start:s,update:u,flush:d,drop:h,abort:p}},Kee=function(e,t){var r=Vee(e,t);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var s=a.payload.critical;r.beforeStart(s,a.payload.movementMode),i(a),r.start(s,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var u=a.payload.completed.result;r.flush(),i(a),r.drop(u);return}if(i(a),a.type==="FLUSH"){r.abort();return}var d=n.getState();d.phase==="DRAGGING"&&r.update(d.critical,d.impact)}}}},qee=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&pe(),e.dispatch(Uw({completed:n.completed}))}}},Xee=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=e.getState();d.phase==="DROP_ANIMATING"&&e.dispatch(j8())}};r=requestAnimationFrame(function(){r=null,t=ri(window,[s])})}}}},Yee=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},Zee=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Qee=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Jee=function(e){return function(t){return function(r){return function(n){if(Qee(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=t.getState();i.phase!=="DRAGGING"&&pe(),e.start(i);return}r(n),e.scroll(t.getState())}}}},ete=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(M8({reason:n.reason})))}}}},tte=VP,rte=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return HP(fee,tte(YZ(Nee(n),Yee(t),Tee(t),jee,qee,Xee,ete,Jee(s),$ee,Zee(r),Kee(i,a))))},r1=function(){return{additions:{},removals:{},modified:{}}};function nte(e){var t=e.registry,r=e.callbacks,n=r1(),i=null,a=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var p=n,v=p.additions,y=p.removals,w=p.modified,A=Object.keys(v).map(function(_){return t.draggable.getById(_).getDimension(xr)}).sort(function(_,I){return _.descriptor.index-I.descriptor.index}),C=Object.keys(w).map(function(_){var I=t.droppable.getById(_),T=I.callbacks.getScrollWhileDragging();return{droppableId:_,scroll:T}}),O={additions:A,removals:Object.keys(y),modified:C};n=r1(),r.publish(O)}))},s=function(p){var v=p.descriptor.id;n.additions[v]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[v]&&delete n.removals[v],a()},u=function(p){var v=p.descriptor;n.removals[v.id]=!0,n.modified[v.droppableId]=!0,n.additions[v.id]&&delete n.additions[v.id],a()},d=function(){i&&(cancelAnimationFrame(i),i=null,n=r1())};return{add:s,remove:u,stop:d}}var F8=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,a=In({x:r,y:t},{x:i,y:n}),s={x:Math.max(0,a.x),y:Math.max(0,a.y)};return s},$8=function(){var e=document.documentElement;return e||pe(),e},U8=function(){var e=$8(),t=F8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},ite=function(){var e=L8(),t=U8(),r=e.y,n=e.x,i=$8(),a=i.clientWidth,s=i.clientHeight,u=n+a,d=r+s,h=Ai({top:r,left:n,right:u,bottom:d}),p={frame:h,scroll:{initial:e,current:e,max:t,diff:{value:xr,displacement:xr}}};return p},ate=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=ite(),a=i.scroll.current,s=t.droppable,u=n.droppable.getAllByType(s.type).map(function(v){return v.callbacks.getDimensionAndWatchScroll(a,r)}),d=n.draggable.getAllByType(t.draggable.type).map(function(v){return v.getDimension(a)}),h={draggables:m8(d),droppables:g8(u)},p={dimensions:h,critical:t,viewport:i};return p};function wC(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var ote=function(e,t){var r=null,n=nte({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(w,A){e.droppable.exists(w)||pe(),r&&t.updateDroppableIsEnabled({id:w,isEnabled:A})},a=function(w,A){r&&(e.droppable.exists(w)||pe(),t.updateDroppableIsCombineEnabled({id:w,isCombineEnabled:A}))},s=function(w,A){r&&(e.droppable.exists(w)||pe(),t.updateDroppableScroll({id:w,newScroll:A}))},u=function(w,A){r&&e.droppable.getById(w).callbacks.scroll(A)},d=function(){if(r){n.stop();var w=r.critical.droppable;e.droppable.getAllByType(w.type).forEach(function(A){return A.callbacks.dragStopped()}),r.unsubscribe(),r=null}},h=function(w){r||pe();var A=r.critical.draggable;w.type==="ADDITION"&&wC(e,A,w.value)&&n.add(w.value),w.type==="REMOVAL"&&wC(e,A,w.value)&&n.remove(w.value)},p=function(w){r&&pe();var A=e.draggable.getById(w.draggableId),C=e.droppable.getById(A.descriptor.droppableId),O={draggable:A.descriptor,droppable:C.descriptor},_=e.subscribe(h);return r={critical:O,unsubscribe:_},ate({critical:O,registry:e,scrollOptions:w.scrollOptions})},v={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:u,updateDroppableScroll:s,startPublishing:p,stopPublishing:d};return v},W8=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},ste=function(e){window.scrollBy(e.x,e.y)},lte=yr(function(e){return vp(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),ute=function(t,r){var n=wo(lte(r),function(i){return i.frame||pe(),_8(i.frame.pageMarginBox)(t)});return n},cte=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var a=ute(t,n);return a},io={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},dte=function(e,t){var r=e[t.size]*io.startFromPercentage,n=e[t.size]*io.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},z8=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;if(i===0)return 0;var a=n-t,s=a/i;return s},Gw=1,fte=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return io.maxPixelScroll;if(e===t.startScrollingFrom)return Gw;var r=z8({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,i=io.maxPixelScroll*io.ease(n);return Math.ceil(i)},bC=io.durationDampening.accelerateAt,EC=io.durationDampening.stopDampeningAt,hte=function(e,t){var r=t,n=EC,i=Date.now(),a=i-r;if(a>=EC)return e;if(a<bC)return Gw;var s=z8({startOfRange:bC,endOfRange:n,current:a}),u=e*io.ease(s);return Math.ceil(u)},AC=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,a=fte(t,r);return a===0?0:i?Math.max(hte(a,n),Gw):a},SC=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,s=dte(t,i),u=r[i.end]<r[i.start];return u?AC({distanceToEdge:r[i.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a}):-1*AC({distanceToEdge:r[i.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a})},pte=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,a=r.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},gte=h8(function(e){return e===0?0:e}),G8=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,a=e.shouldUseTimeDampening,s={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},u=SC({container:r,distanceToEdges:s,dragStartTime:t,axis:Mw,shouldUseTimeDampening:a}),d=SC({container:r,distanceToEdges:s,dragStartTime:t,axis:x8,shouldUseTimeDampening:a}),h=gte({x:d,y:u});if(no(h,xr))return null;var p=pte({container:r,subject:n,proposedScroll:h});return p?no(p,xr)?null:p:null},mte=h8(function(e){return e===0?0:e>0?1:-1}),Hw=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,i=t.change,a=Pr(r,i),s={x:e(a.x,n.x),y:e(a.y,n.y)};return no(s,xr)?null:s}}(),H8=function(t){var r=t.max,n=t.current,i=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},s=mte(i),u=Hw({max:a,current:n,change:s});return!u||s.x!==0&&u.x===0||s.y!==0&&u.y===0},Vw=function(t,r){return H8({current:t.scroll.current,max:t.scroll.max,change:r})},vte=function(t,r){if(!Vw(t,r))return null;var n=t.scroll.max,i=t.scroll.current;return Hw({current:i,max:n,change:r})},Kw=function(t,r){var n=t.frame;return n?H8({current:n.scroll.current,max:n.scroll.max,change:r}):!1},yte=function(t,r){var n=t.frame;return!n||!Kw(t,r)?null:Hw({current:n.scroll.current,max:n.scroll.max,change:r})},xte=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,s=G8({dragStartTime:i,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return s&&Vw(t,s)?s:null},wte=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var u=G8({dragStartTime:i,container:s.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return u&&Kw(t,u)?u:null},CC=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,s=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id],d=u.page.marginBox;if(t.isWindowScrollAllowed){var h=t.viewport,p=xte({dragStartTime:r,viewport:h,subject:d,center:s,shouldUseTimeDampening:n});if(p){i(p);return}}var v=cte({center:s,destination:Pn(t.impact),droppables:t.dimensions.droppables});if(v){var y=wte({dragStartTime:r,droppable:v,subject:d,center:s,shouldUseTimeDampening:n});y&&a(v.descriptor.id,y)}},bte=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Oc(t),i=Oc(r),a=null,s=function(p){a||pe();var v=a,y=v.shouldUseTimeDampening,w=v.dragStartTime;CC({state:p,scrollWindow:n,scrollDroppable:i,dragStartTime:w,shouldUseTimeDampening:y})},u=function(p){a&&pe();var v=Date.now(),y=!1,w=function(){y=!0};CC({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:w,scrollDroppable:w}),a={dragStartTime:v,shouldUseTimeDampening:y},y&&s(p)},d=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:u,stop:d,scroll:s}},Ete=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,i=function(h,p){var v=Pr(h.current.client.selection,p);t({client:v})},a=function(h,p){if(!Kw(h,p))return p;var v=yte(h,p);if(!v)return r(h.descriptor.id,p),null;var y=In(p,v);r(h.descriptor.id,y);var w=In(p,y);return w},s=function(h,p,v){if(!h||!Vw(p,v))return v;var y=vte(p,v);if(!y)return n(v),null;var w=In(v,y);n(w);var A=In(v,w);return A},u=function(h){var p=h.scrollJumpRequest;if(p){var v=Pn(h.impact);v||pe();var y=a(h.dimensions.droppables[v],p);if(y){var w=h.viewport,A=s(h.isWindowScrollAllowed,w,y);A&&i(h,A)}}};return u},Ate=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=bte({scrollWindow:r,scrollDroppable:t}),a=Ete({move:n,scrollWindow:r,scrollDroppable:t}),s=function(h){if(h.phase==="DRAGGING"){if(h.movementMode==="FLUID"){i.scroll(h);return}h.scrollJumpRequest&&a(h)}},u={scroll:s,start:i.start,stop:i.stop};return u},kl="data-rbd",Dl=function(){var e=kl+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),dv=function(){var e=kl+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ste=function(){var e=kl+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),_C={contextId:kl+"-scroll-container-context-id"},Cte=function(t){return function(r){return"["+r+'="'+t+'"]'}},_u=function(t,r){return t.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},_te="pointer-events: none;",Ote=function(e){var t=Cte(e),r=function(){var u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:_te,dropAnimating:u}}}(),n=function(){var u=`
      transition: `+Yu.outOfTheWay+`;
    `;return{selector:t(dv.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}}(),i={selector:t(Ste.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[n,r,i,a];return{always:_u(s,"always"),resting:_u(s,"resting"),dragging:_u(s,"dragging"),dropAnimating:_u(s,"dropAnimating"),userCancel:_u(s,"userCancel")}},kn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,n1=function(){var t=document.querySelector("head");return t||pe(),t},OC=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Ite(e,t){var r=et(function(){return Ote(e)},[e]),n=N.useRef(null),i=N.useRef(null),a=ke(yr(function(v){var y=i.current;y||pe(),y.textContent=v}),[]),s=ke(function(v){var y=n.current;y||pe(),y.textContent=v},[]);kn(function(){!n.current&&!i.current||pe();var v=OC(t),y=OC(t);return n.current=v,i.current=y,v.setAttribute(kl+"-always",e),y.setAttribute(kl+"-dynamic",e),n1().appendChild(v),n1().appendChild(y),s(r.always),a(r.resting),function(){var w=function(C){var O=C.current;O||pe(),n1().removeChild(O),C.current=null};w(n),w(i)}},[t,s,a,r.always,r.resting,e]);var u=ke(function(){return a(r.dragging)},[a,r.dragging]),d=ke(function(v){if(v==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),h=ke(function(){i.current&&a(r.resting)},[a,r.resting]),p=et(function(){return{dragging:u,dropping:d,resting:h}},[u,d,h]);return p}var V8=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function bp(e){return e instanceof V8(e).HTMLElement}function Tte(e,t){var r="["+Dl.contextId+'="'+e+'"]',n=p8(document.querySelectorAll(r));if(!n.length)return null;var i=wo(n,function(a){return a.getAttribute(Dl.draggableId)===t});return!i||!bp(i)?null:i}function Nte(e){var t=N.useRef({}),r=N.useRef(null),n=N.useRef(null),i=N.useRef(!1),a=ke(function(y,w){var A={id:y,focus:w};return t.current[y]=A,function(){var O=t.current,_=O[y];_!==A&&delete O[y]}},[]),s=ke(function(y){var w=Tte(e,y);w&&w!==document.activeElement&&w.focus()},[e]),u=ke(function(y,w){r.current===y&&(r.current=w)},[]),d=ke(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var y=r.current;y&&s(y)}))},[s]),h=ke(function(y){r.current=null;var w=document.activeElement;w&&w.getAttribute(Dl.draggableId)===y&&(r.current=y)},[]);kn(function(){return i.current=!0,function(){i.current=!1;var y=n.current;y&&cancelAnimationFrame(y)}},[]);var p=et(function(){return{register:a,tryRecordFocus:h,tryRestoreFocusRecorded:d,tryShiftRecord:u}},[a,h,d,u]);return p}function Pte(){var e={draggables:{},droppables:{}},t=[];function r(v){return t.push(v),function(){var w=t.indexOf(v);w!==-1&&t.splice(w,1)}}function n(v){t.length&&t.forEach(function(y){return y(v)})}function i(v){return e.draggables[v]||null}function a(v){var y=i(v);return y||pe(),y}var s={register:function(y){e.draggables[y.descriptor.id]=y,n({type:"ADDITION",value:y})},update:function(y,w){var A=e.draggables[w.descriptor.id];A&&A.uniqueId===y.uniqueId&&(delete e.draggables[w.descriptor.id],e.draggables[y.descriptor.id]=y)},unregister:function(y){var w=y.descriptor.id,A=i(w);A&&y.uniqueId===A.uniqueId&&(delete e.draggables[w],n({type:"REMOVAL",value:y}))},getById:a,findById:i,exists:function(y){return!!i(y)},getAllByType:function(y){return zh(e.draggables).filter(function(w){return w.descriptor.type===y})}};function u(v){return e.droppables[v]||null}function d(v){var y=u(v);return y||pe(),y}var h={register:function(y){e.droppables[y.descriptor.id]=y},unregister:function(y){var w=u(y.descriptor.id);w&&y.uniqueId===w.uniqueId&&delete e.droppables[y.descriptor.id]},getById:d,findById:u,exists:function(y){return!!u(y)},getAllByType:function(y){return zh(e.droppables).filter(function(w){return w.descriptor.type===y})}};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:h,subscribe:r,clean:p}}function kte(){var e=et(Pte,[]);return N.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var qw=At.createContext(null),Hh=function(){var e=document.body;return e||pe(),e},Dte={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Rte=function(t){return"rbd-announcement-"+t};function Mte(e){var t=et(function(){return Rte(e)},[e]),r=N.useRef(null);N.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Le(a.style,Dte),Hh().appendChild(a),function(){setTimeout(function(){var d=Hh();d.contains(a)&&d.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=ke(function(i){var a=r.current;if(a){a.textContent=i;return}},[]);return n}var jte=0,Bte={separator:"::"};function Xw(e,t){return t===void 0&&(t=Bte),et(function(){return""+e+t.separator+jte++},[t.separator,e])}function Lte(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function Fte(e){var t=e.contextId,r=e.text,n=Xw("hidden-text",{separator:"-"}),i=et(function(){return Lte({contextId:t,uniqueId:n})},[n,t]);return N.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=r,s.style.display="none",Hh().appendChild(s),function(){var d=Hh();d.contains(s)&&d.removeChild(s)}},[i,r]),i}var Ep=At.createContext(null);function K8(e){var t=N.useRef(e);return N.useEffect(function(){t.current=e}),t}function $te(){var e=null;function t(){return!!e}function r(s){return s===e}function n(s){e&&pe();var u={abandon:s};return e=u,u}function i(){e||pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:a}}var Ute=9,Wte=13,Yw=27,q8=32,zte=33,Gte=34,Hte=35,Vte=36,Kte=37,qte=38,Xte=39,Yte=40,lf,Zte=(lf={},lf[Wte]=!0,lf[Ute]=!0,lf),X8=function(e){Zte[e.keyCode]&&e.preventDefault()},Ap=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=wo(t,function(n){return"on"+n in document});return r||e}(),Y8=0,IC=5;function Qte(e,t){return Math.abs(t.x-e.x)>=IC||Math.abs(t.y-e.y)>=IC}var TC={type:"IDLE"};function Jte(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var u=s.button,d=s.clientX,h=s.clientY;if(u===Y8){var p={x:d,y:h},v=n();if(v.type==="DRAGGING"){s.preventDefault(),v.actions.move(p);return}v.type!=="PENDING"&&pe();var y=v.point;if(Qte(y,p)){s.preventDefault();var w=v.actions.fluidLift(p);i({type:"DRAGGING",actions:w})}}}},{eventName:"mouseup",fn:function(s){var u=n();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var u=n();if(u.type==="PENDING"){t();return}if(s.keyCode===Yw){s.preventDefault(),t();return}X8(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var u=n();if(u.type==="IDLE"&&pe(),u.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Ap,fn:t}]}function ere(e){var t=N.useRef(TC),r=N.useRef(ro),n=et(function(){return{eventName:"mousedown",fn:function(v){if(!v.defaultPrevented&&v.button===Y8&&!(v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)){var y=e.findClosestDraggableId(v);if(y){var w=e.tryGetLock(y,s,{sourceEvent:v});if(w){v.preventDefault();var A={x:v.clientX,y:v.clientY};r.current(),h(w,A)}}}}}},[e]),i=et(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(v){if(!v.defaultPrevented){var y=e.findClosestDraggableId(v);if(y){var w=e.findOptionsForDraggable(y);w&&(w.shouldRespectForcePress||e.canGetLock(y)&&v.preventDefault())}}}}},[e]),a=ke(function(){var v={passive:!1,capture:!0};r.current=ri(window,[i,n],v)},[i,n]),s=ke(function(){var p=t.current;p.type!=="IDLE"&&(t.current=TC,r.current(),a())},[a]),u=ke(function(){var p=t.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),d=ke(function(){var v={capture:!0,passive:!1},y=Jte({cancel:u,completed:s,getPhase:function(){return t.current},setPhase:function(A){t.current=A}});r.current=ri(window,y,v)},[u,s]),h=ke(function(v,y){t.current.type!=="IDLE"&&pe(),t.current={type:"PENDING",point:y,actions:v},d()},[d]);kn(function(){return a(),function(){r.current()}},[a])}var Fs;function tre(){}var rre=(Fs={},Fs[Gte]=!0,Fs[zte]=!0,Fs[Vte]=!0,Fs[Hte]=!0,Fs);function nre(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Yw){a.preventDefault(),r();return}if(a.keyCode===q8){a.preventDefault(),n();return}if(a.keyCode===Yte){a.preventDefault(),e.moveDown();return}if(a.keyCode===qte){a.preventDefault(),e.moveUp();return}if(a.keyCode===Xte){a.preventDefault(),e.moveRight();return}if(a.keyCode===Kte){a.preventDefault(),e.moveLeft();return}if(rre[a.keyCode]){a.preventDefault();return}X8(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Ap,fn:r}]}function ire(e){var t=N.useRef(tre),r=et(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==q8)return;var s=e.findClosestDraggableId(a);if(!s)return;var u=e.tryGetLock(s,p,{sourceEvent:a});if(!u)return;a.preventDefault();var d=!0,h=u.snapLift();t.current();function p(){d||pe(),d=!1,t.current(),n()}t.current=ri(window,nre(h,p),{capture:!0,passive:!1})}}},[e]),n=ke(function(){var a={passive:!1,capture:!0};t.current=ri(window,[r],a)},[r]);kn(function(){return n(),function(){t.current()}},[n])}var i1={type:"IDLE"},are=120,ore=.15;function sre(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.keyCode===Yw&&i.preventDefault(),t()}},{eventName:Ap,fn:t}]}function lre(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var u=a.touches[0],d=u.clientX,h=u.clientY,p={x:d,y:h};a.preventDefault(),s.actions.move(p)}},{eventName:"touchend",fn:function(a){var s=n();if(s.type!=="DRAGGING"){t();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var s=n();s.type==="IDLE"&&pe();var u=a.touches[0];if(u){var d=u.force>=ore;if(d){var h=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){h&&t();return}if(h){if(s.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Ap,fn:t}]}function ure(e){var t=N.useRef(i1),r=N.useRef(ro),n=ke(function(){return t.current},[]),i=ke(function(w){t.current=w},[]),a=et(function(){return{eventName:"touchstart",fn:function(w){if(!w.defaultPrevented){var A=e.findClosestDraggableId(w);if(A){var C=e.tryGetLock(A,u,{sourceEvent:w});if(C){var O=w.touches[0],_=O.clientX,I=O.clientY,T={x:_,y:I};r.current(),v(C,T)}}}}}},[e]),s=ke(function(){var w={capture:!0,passive:!1};r.current=ri(window,[a],w)},[a]),u=ke(function(){var y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(i1),r.current(),s())},[s,i]),d=ke(function(){var y=t.current;u(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[u]),h=ke(function(){var w={capture:!0,passive:!1},A={cancel:d,completed:u,getPhase:n},C=ri(window,lre(A),w),O=ri(window,sre(A),w);r.current=function(){C(),O()}},[d,n,u]),p=ke(function(){var w=n();w.type!=="PENDING"&&pe();var A=w.actions.fluidLift(w.point);i({type:"DRAGGING",actions:A,hasMoved:!1})},[n,i]),v=ke(function(w,A){n().type!=="IDLE"&&pe();var C=setTimeout(p,are);i({type:"PENDING",point:A,actions:w,longPressTimerId:C}),h()},[h,n,i,p]);kn(function(){return s(),function(){r.current();var A=n();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),i(i1))}},[n,s,i]),kn(function(){var w=ri(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return w},[])}var cre={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Z8(e,t){if(t==null)return!1;var r=!!cre[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Z8(e,t.parentElement)}function dre(e,t){var r=t.target;return bp(r)?Z8(e,r):!1}var fre=function(e){return Ai(e.getBoundingClientRect()).center};function hre(e){return e instanceof V8(e).Element}var pre=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=wo(t,function(n){return n in Element.prototype});return r||e}();function Q8(e,t){return e==null?null:e[pre](t)?e:Q8(e.parentElement,t)}function gre(e,t){return e.closest?e.closest(t):Q8(e,t)}function mre(e){return"["+Dl.contextId+'="'+e+'"]'}function vre(e,t){var r=t.target;if(!hre(r))return null;var n=mre(e),i=gre(r,n);return!i||!bp(i)?null:i}function yre(e,t){var r=vre(e,t);return r?r.getAttribute(Dl.draggableId):null}function xre(e,t){var r="["+dv.contextId+'="'+e+'"]',n=p8(document.querySelectorAll(r)),i=wo(n,function(a){return a.getAttribute(dv.id)===t});return!i||!bp(i)?null:i}function wre(e){e.preventDefault()}function uf(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function J8(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!W8(r.getState(),i))}function bre(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,a=e.draggableId,s=e.forceSensorStop,u=e.sourceEvent,d=J8({lockAPI:t,store:n,registry:i,draggableId:a});if(!d)return null;var h=i.draggable.getById(a),p=xre(r,h.descriptor.id);if(!p||u&&!h.options.canDragInteractiveElements&&dre(p,u))return null;var v=t.claim(s||ro),y="PRE_DRAG";function w(){return h.options.shouldRespectForcePress}function A(){return t.isActive(v)}function C(j,L){uf({expected:j,phase:y,isLockActive:A,shouldWarn:!0})&&n.dispatch(L())}var O=C.bind(null,"DRAGGING");function _(j){function L(){t.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(L(),y!=="PRE_DRAG"&&pe()),n.dispatch(pee(j.liftActionArgs)),y="DRAGGING";function z(U,J){if(J===void 0&&(J={shouldBlockNextClick:!1}),j.cleanup(),J.shouldBlockNextClick){var X=ri(window,[{eventName:"click",fn:wre,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(X)}L(),n.dispatch(M8({reason:U}))}return Le({isActive:function(){return uf({expected:"DRAGGING",phase:y,isLockActive:A,shouldWarn:!1})},shouldRespectForcePress:w,drop:function(J){return z("DROP",J)},cancel:function(J){return z("CANCEL",J)}},j.actions)}function I(j){var L=Oc(function(U){O(function(){return R8({client:U})})}),z=_({liftActionArgs:{id:a,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return L.cancel()},actions:{move:L}});return Le({},z,{move:L})}function T(){var j={moveUp:function(){return O(Aee)},moveRight:function(){return O(Cee)},moveDown:function(){return O(See)},moveLeft:function(){return O(_ee)}};return _({liftActionArgs:{id:a,clientSelection:fre(p),movementMode:"SNAP"},cleanup:ro,actions:j})}function D(){var j=uf({expected:"PRE_DRAG",phase:y,isLockActive:A,shouldWarn:!0});j&&t.release()}var M={isActive:function(){return uf({expected:"PRE_DRAG",phase:y,isLockActive:A,shouldWarn:!1})},shouldRespectForcePress:w,fluidLift:I,snapLift:T,abort:D};return M}var Ere=[ere,ire,ure];function Are(e){var t=e.contextId,r=e.store,n=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Ere:[],i||[]),u=N.useState(function(){return $te()})[0],d=ke(function(I,T){I.isDragging&&!T.isDragging&&u.tryAbandon()},[u]);kn(function(){var I=r.getState(),T=r.subscribe(function(){var D=r.getState();d(I,D),I=D});return T},[u,r,d]),kn(function(){return u.tryAbandon},[u.tryAbandon]);for(var h=ke(function(_){return J8({lockAPI:u,registry:n,store:r,draggableId:_})},[u,n,r]),p=ke(function(_,I,T){return bre({lockAPI:u,registry:n,contextId:t,store:r,draggableId:_,forceSensorStop:I,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null})},[t,u,n,r]),v=ke(function(_){return yre(t,_)},[t]),y=ke(function(_){var I=n.draggable.findById(_);return I?I.options:null},[n.draggable]),w=ke(function(){u.isClaimed()&&(u.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch($w()))},[u,r]),A=ke(u.isClaimed,[u]),C=et(function(){return{canGetLock:h,tryGetLock:p,findClosestDraggableId:v,findOptionsForDraggable:y,tryReleaseLock:w,isLockClaimed:A}},[h,p,v,y,w,A]),O=0;O<s.length;O++)s[O](C)}var Sre=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Ou(e){return e.current||pe(),e.current}function Cre(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,s=N.useRef(null),u=K8(e),d=ke(function(){return Sre(u.current)},[u]),h=Mte(t),p=Fte({contextId:t,text:a}),v=Ite(t,i),y=ke(function(U){Ou(s).dispatch(U)},[]),w=et(function(){return QS({publishWhileDragging:mee,updateDroppableScroll:yee,updateDroppableIsEnabled:xee,updateDroppableIsCombineEnabled:wee,collectionStarting:vee},y)},[y]),A=kte(),C=et(function(){return ote(A,w)},[A,w]),O=et(function(){return Ate(Le({scrollWindow:ste,scrollDroppable:C.scrollDroppable},QS({move:R8},y)))},[C.scrollDroppable,y]),_=Nte(t),I=et(function(){return rte({announce:h,autoScroller:O,dimensionMarshal:C,focusMarshal:_,getResponders:d,styleMarshal:v})},[h,O,C,_,d,v]);s.current=I;var T=ke(function(){var U=Ou(s),J=U.getState();J.phase!=="IDLE"&&U.dispatch($w())},[]),D=ke(function(){var U=Ou(s).getState();return U.isDragging||U.phase==="DROP_ANIMATING"},[]),M=et(function(){return{isDragging:D,tryAbort:T}},[D,T]);r(M);var j=ke(function(U){return W8(Ou(s).getState(),U)},[]),L=ke(function(){return jo(Ou(s).getState())},[]),z=et(function(){return{marshal:C,focus:_,contextId:t,canLift:j,isMovementAllowed:L,dragHandleUsageInstructionsId:p,registry:A}},[t,C,p,_,j,L,A]);return Are({contextId:t,store:I,registry:A,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),N.useEffect(function(){return T},[T]),At.createElement(Ep.Provider,{value:z},At.createElement(tQ,{context:qw,store:I},e.children))}var _re=0;function Ore(){return et(function(){return""+_re++},[])}function Ire(e){var t=Ore(),r=e.dragHandleUsageInstructions||_f.dragHandleUsageInstructions;return At.createElement(iJ,null,function(n){return At.createElement(Cre,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ek=function(t){return function(r){return t===r}},Tre=ek("scroll"),Nre=ek("auto"),NC=function(t,r){return r(t.overflowX)||r(t.overflowY)},Pre=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return NC(n,Tre)||NC(n,Nre)},kre=function(){return!1},Dre=function e(t){return t==null?null:t===document.body?kre()?t:null:t===document.documentElement?null:Pre(t)?t:e(t.parentElement)},fv=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Rre=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Mre=function(e){var t=Dre(e),r=Rre(e);return{closestScrollable:t,isFixedOnPage:r}},jre=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,s=e.client,u=e.page,d=e.closest,h=function(){if(!d)return null;var w=d.scrollSize,A=d.client,C=F8({scrollHeight:w.scrollHeight,scrollWidth:w.scrollWidth,height:A.paddingBox.height,width:A.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:A,scrollSize:w,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:C,diff:{value:xr,displacement:xr}}}}(),p=a==="vertical"?Mw:x8,v=Pl({page:u,withPlaceholder:null,axis:p,frame:h}),y={descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:p,isEnabled:r,client:s,page:u,frame:h,subject:v};return y},Bre=function(t,r){var n=u8(t);if(!r||t!==r)return n;var i=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,s=i+r.scrollHeight,u=a+r.scrollWidth,d={top:i,right:u,bottom:s,left:a},h=Nw(d,n.border),p=Pw({borderBox:h,margin:n.margin,border:n.border,padding:n.padding});return p},Lre=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,a=e.direction,s=e.isDropDisabled,u=e.isCombineEnabled,d=e.shouldClipSubject,h=n.closestScrollable,p=Bre(t,h),v=$h(p,i),y=function(){if(!h)return null;var A=u8(h),C={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:A,page:$h(A,i),scroll:fv(h),scrollSize:C,shouldClipSubject:d}}(),w=jre({descriptor:r,isEnabled:!s,isCombineEnabled:u,isFixedOnPage:n.isFixedOnPage,direction:a,client:p,page:v,closest:y});return w},Fre={passive:!1},$re={passive:!0},PC=function(e){return e.shouldPublishImmediately?Fre:$re};function Vh(e){var t=N.useContext(e);return t||pe(),t}var cf=function(t){return t&&t.env.closestScrollable||null};function Ure(e){var t=N.useRef(null),r=Vh(Ep),n=Xw("droppable"),i=r.registry,a=r.marshal,s=K8(e),u=et(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),d=N.useRef(u),h=et(function(){return yr(function(D,M){t.current||pe();var j={x:D,y:M};a.updateDroppableScroll(u.id,j)})},[u.id,a]),p=ke(function(){var D=t.current;return!D||!D.env.closestScrollable?xr:fv(D.env.closestScrollable)},[]),v=ke(function(){var D=p();h(D.x,D.y)},[p,h]),y=et(function(){return Oc(v)},[v]),w=ke(function(){var D=t.current,M=cf(D);D&&M||pe();var j=D.scrollOptions;if(j.shouldPublishImmediately){v();return}y()},[y,v]),A=ke(function(D,M){t.current&&pe();var j=s.current,L=j.getDroppableRef();L||pe();var z=Mre(L),U={ref:L,descriptor:u,env:z,scrollOptions:M};t.current=U;var J=Lre({ref:L,descriptor:u,env:z,windowScroll:D,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),X=z.closestScrollable;return X&&(X.setAttribute(_C.contextId,r.contextId),X.addEventListener("scroll",w,PC(U.scrollOptions))),J},[r.contextId,u,w,s]),C=ke(function(){var D=t.current,M=cf(D);return D&&M||pe(),fv(M)},[]),O=ke(function(){var D=t.current;D||pe();var M=cf(D);t.current=null,M&&(y.cancel(),M.removeAttribute(_C.contextId),M.removeEventListener("scroll",w,PC(D.scrollOptions)))},[w,y]),_=ke(function(D){var M=t.current;M||pe();var j=cf(M);j||pe(),j.scrollTop+=D.y,j.scrollLeft+=D.x},[]),I=et(function(){return{getDimensionAndWatchScroll:A,getScrollWhileDragging:C,dragStopped:O,scroll:_}},[O,A,C,_]),T=et(function(){return{uniqueId:n,descriptor:u,callbacks:I}},[I,u,n]);kn(function(){return d.current=T.descriptor,i.droppable.register(T),function(){t.current&&O(),i.droppable.unregister(T)}},[I,u,O,T,a,i.droppable]),kn(function(){t.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),kn(function(){t.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function a1(){}var kC={width:0,height:0,margin:cJ},Wre=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return r||i==="close"?kC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},zre=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,a=Wre({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Yu.placeholder:null}};function Gre(e){var t=N.useRef(null),r=ke(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,i=e.onTransitionEnd,a=e.onClose,s=e.contextId,u=N.useState(e.animate==="open"),d=u[0],h=u[1];N.useEffect(function(){return d?n!=="open"?(r(),h(!1),a1):t.current?a1:(t.current=setTimeout(function(){t.current=null,h(!1)}),r):a1},[n,d,r]);var p=ke(function(y){y.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),v=zre({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return At.createElement(e.placeholder.tagName,{style:v,"data-rbd-placeholder-context-id":s,onTransitionEnd:p,ref:e.innerRef})}var Hre=At.memo(Gre),Zw=At.createContext(null),Vre=function(e){GP(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(At.PureComponent),DC={dragging:5e3,dropAnimating:4500},Kre=function(t,r){return r?Yu.drop(r.duration):t?Yu.snap:Yu.fluid},qre=function(t,r){return t?r?Pc.opacity.drop:Pc.opacity.combining:null},Xre=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Yre(e){var t=e.dimension,r=t.client,n=e.offset,i=e.combineWith,a=e.dropping,s=!!i,u=Xre(e),d=!!a,h=d?uv.drop(n,s):uv.moveTo(n),p={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Kre(u,a),transform:h,opacity:qre(s,d),zIndex:d?DC.dropAnimating:DC.dragging,pointerEvents:"none"};return p}function Zre(e){return{transform:uv.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Qre(e){return e.type==="DRAGGING"?Yre(e):Zre(e)}function Jre(e,t,r){r===void 0&&(r=xr);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=l8(i,n),s=$h(a,r),u={client:a,tagName:t.tagName.toLowerCase(),display:n.display},d={x:a.marginBox.width,y:a.marginBox.height},h={descriptor:e,placeholder:u,displaceBy:d,client:a,page:s};return h}function ene(e){var t=Xw("draggable"),r=e.descriptor,n=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,u=e.isEnabled,d=et(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:u}},[a,u,s]),h=ke(function(w){var A=i();return A||pe(),Jre(r,A,w)},[r,i]),p=et(function(){return{uniqueId:t,descriptor:r,options:d,getDimension:h}},[r,h,d,t]),v=N.useRef(p),y=N.useRef(!0);kn(function(){return n.draggable.register(v.current),function(){return n.draggable.unregister(v.current)}},[n.draggable]),kn(function(){if(y.current){y.current=!1;return}var w=v.current;v.current=p,n.draggable.update(p,w)},[p,n.draggable])}function tne(e){e.preventDefault()}function rne(e){var t=N.useRef(null),r=ke(function(U){t.current=U},[]),n=ke(function(){return t.current},[]),i=Vh(Ep),a=i.contextId,s=i.dragHandleUsageInstructionsId,u=i.registry,d=Vh(Zw),h=d.type,p=d.droppableId,v=et(function(){return{id:e.draggableId,index:e.index,type:h,droppableId:p}},[e.draggableId,e.index,h,p]),y=e.children,w=e.draggableId,A=e.isEnabled,C=e.shouldRespectForcePress,O=e.canDragInteractiveElements,_=e.isClone,I=e.mapped,T=e.dropAnimationFinished;if(!_){var D=et(function(){return{descriptor:v,registry:u,getDraggableRef:n,canDragInteractiveElements:O,shouldRespectForcePress:C,isEnabled:A}},[v,u,n,O,C,A]);ene(D)}var M=et(function(){return A?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":w,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:tne}:null},[a,s,w,A]),j=ke(function(U){I.type==="DRAGGING"&&I.dropping&&U.propertyName==="transform"&&T()},[T,I]),L=et(function(){var U=Qre(I),J=I.type==="DRAGGING"&&I.dropping?j:null,X={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":w,style:U,onTransitionEnd:J},dragHandleProps:M};return X},[a,M,w,I,j,r]),z=et(function(){return{draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}},[v.droppableId,v.id,v.index,v.type]);return y(L,I.snapshot,z)}var tk=function(e,t){return e===t},rk=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},nne=function(t){return t.combine?t.combine.draggableId:null},ine=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function ane(){var e=yr(function(i,a){return{x:i,y:a}}),t=yr(function(i,a,s,u,d){return{isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:s,combineWith:u,combineTargetFor:null}}),r=yr(function(i,a,s,u,d,h,p){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:h,mode:a,offset:i,dimension:s,forceShouldAnimate:p,snapshot:t(a,u,d,h,null)}}}),n=function(a,s){if(a.isDragging){if(a.critical.draggable.id!==s.draggableId)return null;var u=a.current.client.offset,d=a.dimensions.draggables[s.draggableId],h=Pn(a.impact),p=ine(a.impact),v=a.forceShouldAnimate;return r(e(u.x,u.y),a.movementMode,d,s.isClone,h,p,v)}if(a.phase==="DROP_ANIMATING"){var y=a.completed;if(y.result.draggableId!==s.draggableId)return null;var w=s.isClone,A=a.dimensions.draggables[s.draggableId],C=y.result,O=C.mode,_=rk(C),I=nne(C),T=a.dropDuration,D={duration:T,curve:Ww.drop,moveTo:a.newHomeClientOffset,opacity:I?Pc.opacity.drop:null,scale:I?Pc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:A,dropping:D,draggingOver:_,combineWith:I,mode:O,forceShouldAnimate:null,snapshot:t(O,w,_,I,D)}}}return null};return n}function nk(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var one={mapped:{type:"SECONDARY",offset:xr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:nk(null)}};function sne(){var e=yr(function(s,u){return{x:s,y:u}}),t=yr(nk),r=yr(function(s,u,d){return u===void 0&&(u=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:t(u)}}}),n=function(u){return u?r(xr,u,!0):null},i=function(u,d,h,p){var v=h.displaced.visible[u],y=!!(p.inVirtualList&&p.effected[u]),w=yp(h),A=w&&w.draggableId===u?d:null;if(!v){if(!y)return n(A);if(h.displaced.invisible[u])return null;var C=ql(p.displacedBy.point),O=e(C.x,C.y);return r(O,A,!0)}if(y)return n(A);var _=h.displacedBy.point,I=e(_.x,_.y);return r(I,A,v.shouldAnimate)},a=function(u,d){if(u.isDragging)return u.critical.draggable.id===d.draggableId?null:i(d.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){var h=u.completed;return h.result.draggableId===d.draggableId?null:i(d.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null};return a}var lne=function(){var t=ane(),r=sne(),n=function(a,s){return t(a,s)||r(a,s)||one};return n},une={dropAnimationFinished:j8},cne=o8(lne,une,null,{context:qw,pure:!0,areStatePropsEqual:tk})(rne);function ik(e){var t=Vh(Zw),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:At.createElement(cne,e)}function dne(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return At.createElement(ik,Le({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function fne(e){var t=N.useContext(Ep);t||pe();var r=t.contextId,n=t.isMovementAllowed,i=N.useRef(null),a=N.useRef(null),s=e.children,u=e.droppableId,d=e.type,h=e.mode,p=e.direction,v=e.ignoreContainerClipping,y=e.isDropDisabled,w=e.isCombineEnabled,A=e.snapshot,C=e.useClone,O=e.updateViewportMaxScroll,_=e.getContainerForClone,I=ke(function(){return i.current},[]),T=ke(function(X){i.current=X},[]);ke(function(){return a.current},[]);var D=ke(function(X){a.current=X},[]),M=ke(function(){n()&&O({maxScroll:U8()})},[n,O]);Ure({droppableId:u,type:d,mode:h,direction:p,isDropDisabled:y,isCombineEnabled:w,ignoreContainerClipping:v,getDroppableRef:I});var j=At.createElement(Vre,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(X){var q=X.onClose,oe=X.data,de=X.animate;return At.createElement(Hre,{placeholder:oe,onClose:q,innerRef:D,animate:de,contextId:r,onTransitionEnd:M})}),L=et(function(){return{innerRef:T,placeholder:j,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":r}}},[r,u,j,T]),z=C?C.dragging.draggableId:null,U=et(function(){return{droppableId:u,type:d,isUsingCloneFor:z}},[u,z,d]);function J(){if(!C)return null;var X=C.dragging,q=C.render,oe=At.createElement(ik,{draggableId:X.draggableId,index:X.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(de,H){return q(de,H,X)});return fD.createPortal(oe,_())}return At.createElement(Zw.Provider,{value:U},s(L,A),J())}var o1=function(t,r){return t===r.droppable.type},RC=function(t,r){return r.draggables[t.draggable.id]},hne=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Le({},t,{shouldAnimatePlaceholder:!1}),n=yr(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=yr(function(s,u,d,h,p,v){var y=p.descriptor.id,w=p.descriptor.droppableId===s;if(w){var A=v?{render:v,dragging:n(p.descriptor)}:null,C={isDraggingOver:d,draggingOverWith:d?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:A}}if(!u)return r;if(!h)return t;var O={isDraggingOver:d,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:O,useClone:null}}),a=function(u,d){var h=d.droppableId,p=d.type,v=!d.isDropDisabled,y=d.renderClone;if(u.isDragging){var w=u.critical;if(!o1(p,w))return r;var A=RC(w,u.dimensions),C=Pn(u.impact)===h;return i(h,v,C,C,A,y)}if(u.phase==="DROP_ANIMATING"){var O=u.completed;if(!o1(p,O.critical))return r;var _=RC(O.critical,u.dimensions);return i(h,v,rk(O.result)===h,Pn(O.impact)===h,_,y)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){var I=u.completed;if(!o1(p,I.critical))return r;var T=Pn(I.impact)===h,D=!!(I.impact.at&&I.impact.at.type==="COMBINE"),M=I.critical.droppable.id===h;return T?D?t:r:M?t:r}return r};return a},pne={updateViewportMaxScroll:Eee};function gne(){return document.body||pe(),document.body}var mne={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:gne},ak=o8(hne,pne,null,{context:qw,pure:!0,areStatePropsEqual:tk})(fne);ak.defaultProps=mne;const vne=({isOpen:e,onClose:t,onConfirm:r,categories:n})=>{const[i,a]=N.useState(""),[s,u]=N.useState(""),d=N.useMemo(()=>n.filter(p=>p.id!==parseInt(i)),[i,n]);if(!e)return null;const h=()=>{if(!i||!s){_e.error("Pilih kedua kategori.");return}r(parseInt(i),parseInt(s))};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-scale-in",children:[b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gabungkan Kategori"}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pindahkan semua produk dari satu kategori ke kategori lain, lalu hapus kategori sumber."}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gabungkan Dari"}),b.jsxs("select",{id:"source",value:i,onChange:p=>a(p.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"",children:"-- Pilih Kategori Sumber --"}),n.map(p=>b.jsx("option",{value:p.id,children:p.name},p.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ke Kategori"}),b.jsxs("select",{id:"destination",value:s,onChange:p=>u(p.target.value),className:"w-full p-2 border border-gray-300 rounded-md",disabled:!i,children:[b.jsx("option",{value:"",children:"-- Pilih Kategori Tujuan --"}),d.map(p=>b.jsx("option",{value:p.id,children:p.name},p.id))]})]})]})]}),b.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"}),b.jsx("button",{onClick:h,className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Gabungkan"})]})]})})},yne=({isOpen:e,onClose:t,onSave:r,category:n})=>{const[i,a]=N.useState("");if(N.useEffect(()=>{a(n?n.name:"")},[n,e]),!e)return null;const s=u=>{if(u.preventDefault(),i.trim()===""){_e.error("Nama kategori tidak boleh kosong.");return}r({...n,name:i})};return b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:[" ",b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-scale-in",children:[" ",b.jsxs("form",{onSubmit:s,children:[" ",b.jsxs("div",{className:"p-6",children:[" ",b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n?"Edit Kategori":"Tambah Kategori Baru"})," ",b.jsxs("div",{className:"mt-4",children:[" ",b.jsx("input",{type:"text",value:i,onChange:u=>a(u.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Nama Kategori",autoFocus:!0})," "]})," "]})," ",b.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex justify-end gap-3",children:[" ",b.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"})," ",b.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Simpan"})," "]})," "]})," "]})," "]})},xne=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,u]=N.useState(!1),[d,h]=N.useState(null),p=N.useCallback(async()=>{n(!0);const{data:C,error:O}=await Ve.from("categories").select("*").order("position",{ascending:!0});O?_e.error("Gagal memuat kategori."):t(C),n(!1)},[]);N.useEffect(()=>{p()},[p]);const v=async C=>{if(!C.destination)return;const O=Array.from(e),[_]=O.splice(C.source.index,1);O.splice(C.destination.index,0,_),t(O);const I=O.map(D=>D.id),{error:T}=await Ve.rpc("update_category_positions",{category_ids:I});T?(_e.error("Gagal menyimpan urutan baru."),p()):_e.success("Urutan kategori berhasil disimpan!")},y=async(C,O)=>{const _=_e.loading("Menggabungkan kategori..."),{error:I}=await Ve.rpc("merge_categories",{source_id:C,destination_id:O});I?_e.error(`Gagal: ${I.message}`,{id:_}):_e.success("Kategori berhasil digabungkan!",{id:_}),u(!1),p()},w=async C=>{const O=_e.loading(C.id?"Memperbarui...":"Menyimpan...");if(C.id){const{error:_}=await Ve.from("categories").update({name:C.name}).eq("id",C.id);_?_e.error(`Gagal: ${_.message}`,{id:O}):_e.success("Kategori diperbarui!",{id:O})}else{const{error:_}=await Ve.from("categories").insert([{name:C.name}]);_?_e.error(`Gagal: ${_.message}`,{id:O}):_e.success("Kategori baru ditambahkan!",{id:O})}a(!1),h(null),p()},A=async C=>{if(window.confirm("Menghapus kategori akan membuat produk terkait menjadi tidak berkategori. Yakin?")){const O=_e.loading("Menghapus...");await Ve.from("products").update({category_id:null}).eq("category_id",C);const{error:_}=await Ve.from("categories").delete().eq("id",C);_?_e.error(`Gagal: ${_.message}`,{id:O}):_e.success("Kategori dihapus!",{id:O}),p()}};return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-bold",children:"Daftar Kategori"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-gray-700",children:[b.jsx(Bj,{className:"h-5 w-5"}),b.jsx("span",{children:"Gabungkan"})]}),b.jsxs("button",{onClick:()=>{h(null),a(!0)},className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700",children:[b.jsx(y0,{className:"h-5 w-5"}),b.jsx("span",{children:"Tambah"})]})]})]}),b.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Seret dan lepas untuk mengubah urutan kategori di halaman kasir."}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[b.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-2 py-3 w-12"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama Kategori"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:b.jsx("span",{className:"sr-only",children:"Aksi"})})]})}),b.jsx(Ire,{onDragEnd:v,children:b.jsx(ak,{droppableId:"categories",children:C=>b.jsxs("tbody",{...C.droppableProps,ref:C.innerRef,children:[r?b.jsx("tr",{children:b.jsx("td",{colSpan:"3",className:"text-center py-4",children:"Memuat..."})}):e.map((O,_)=>b.jsx(dne,{draggableId:String(O.id),index:_,children:I=>b.jsxs("tr",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"bg-white border-b hover:bg-gray-50",children:[b.jsx("td",{className:"px-2 py-4 text-center text-gray-400 cursor-grab",children:b.jsx(jj,{className:"h-5 w-5"})}),b.jsx("td",{className:"px-6 py-4 font-medium",children:O.name}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b.jsx("button",{onClick:()=>{h(O),a(!0)},className:"text-blue-600 hover:text-blue-800",children:b.jsx(hy,{className:"h-5 w-5"})}),b.jsx("button",{onClick:()=>A(O.id),className:"text-red-600 hover:text-red-800",children:b.jsx(xl,{className:"h-5 w-5"})})]})})]})},O.id)),C.placeholder]})})})]})}),b.jsx(yne,{isOpen:i,onClose:()=>a(!1),onSave:w,category:d}),b.jsx(vne,{isOpen:s,onClose:()=>u(!1),onConfirm:y,categories:e})]})},wne=({isOpen:e,onClose:t,onReturnSuccess:r})=>{const[n,i]=N.useState([]),[a,s]=N.useState([]),[u,d]=N.useState(""),[h,p]=N.useState([]),[v,y]=N.useState(""),[w,A]=N.useState(!1);N.useEffect(()=>{if(!e)return;(async()=>{const{data:j}=await Ve.from("suppliers").select("*"),{data:L}=await Ve.from("products").select("*").order("name");i(j||[]),s(L||[])})()},[e]);const C=()=>{d(""),p([]),y(""),A(!1)},O=()=>{C(),t()},_=M=>{if(h.find(j=>j.id===M.id)){_e.error("Produk sudah ada di daftar retur.");return}p(j=>[...j,{...M,return_quantity:1}]),A(!1)},I=(M,j)=>{const L=parseInt(j,10);L>0&&p(z=>z.map(U=>U.id===M?{...U,return_quantity:Math.min(L,U.stock)}:U))},T=M=>{p(j=>j.filter(L=>L.id!==M))},D=()=>{if(!u){_e.error("Silakan pilih suplier.");return}if(h.length===0){_e.error("Tambahkan minimal satu produk untuk diretur.");return}const M={p_supplier_id:parseInt(u,10),p_returned_items:h.map(j=>({product_id:j.id,quantity:j.return_quantity})),p_total_items:h.reduce((j,L)=>j+L.return_quantity,0),p_notes:v};r(M),O()};return e?b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:"Buat Retur ke Suplier"}),b.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pilih Suplier"}),b.jsxs("select",{name:"supplier",value:u,onChange:M=>d(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"",children:"-- Pilih Suplier --"}),n.map(M=>b.jsx("option",{value:M.id,children:M.name},M.id))]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Produk yang Diretur"}),b.jsx("div",{className:"mt-1 border rounded-md p-2 min-h-[150px]",children:h.length===0?b.jsx("p",{className:"text-center text-gray-400 p-4",children:"Belum ada produk"}):h.map(M=>b.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[b.jsx("span",{children:M.name}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",value:M.return_quantity,onChange:j=>I(M.id,j.target.value),className:"w-16 p-1 border rounded-md text-center",max:M.stock}),b.jsx("button",{onClick:()=>T(M.id),className:"text-red-500",children:b.jsx(xl,{className:"h-5 w-5"})})]})]},M.id))}),b.jsxs("button",{type:"button",onClick:()=>A(!0),className:"mt-2 text-sm text-blue-600 hover:underline flex items-center gap-1",children:[b.jsx(y0,{className:"h-4 w-4"})," Tambah Produk"]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Catatan (Alasan Retur)"}),b.jsx("textarea",{name:"notes",value:v,onChange:M=>y(M.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),b.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[b.jsx("button",{type:"button",onClick:O,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),b.jsx("button",{onClick:D,className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Proses Retur"})]})]}),w&&b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex justify-center items-center p-4",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md flex flex-col max-h-[70vh]",children:[b.jsx("h3",{className:"p-4 font-bold border-b",children:"Pilih Produk"}),b.jsx("div",{className:"p-4 overflow-y-auto",children:a.map(M=>b.jsxs("div",{onClick:()=>_(M),className:"p-2 hover:bg-gray-100 cursor-pointer rounded-md",children:[M.name," ",b.jsxs("span",{className:"text-xs text-gray-500",children:["(Stok: ",M.stock,")"]})]},M.id))}),b.jsx("div",{className:"p-2 border-t flex justify-end",children:b.jsx("button",{onClick:()=>A(!1),className:"bg-gray-200 text-gray-800 rounded-lg py-1 px-3",children:"Tutup"})})]})})]}):null},bne=({isOpen:e,onClose:t,onSave:r,supplier:n})=>{const[i,a]=N.useState({name:"",contact_person:"",phone:"",address:""});if(N.useEffect(()=>{a(n?{name:n.name||"",contact_person:n.contact_person||"",phone:n.phone||"",address:n.address||""}:{name:"",contact_person:"",phone:"",address:""})},[n,e]),!e)return null;const s=d=>{const{name:h,value:p}=d.target;a(v=>({...v,[h]:p}))},u=d=>{if(d.preventDefault(),i.name.trim()===""){_e.error("Nama suplier tidak boleh kosong.");return}r({...n,...i})};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg animate-scale-in flex flex-col max-h-[90vh]",children:[b.jsx("h2",{className:"text-xl font-bold p-6 bg-gray-50 border-b flex-shrink-0",children:n?"Edit Suplier":"Tambah Suplier Baru"}),b.jsxs("form",{onSubmit:u,className:"flex-grow flex flex-col overflow-hidden",children:[b.jsxs("div",{className:"p-6 overflow-y-auto",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Suplier"}),b.jsx("input",{type:"text",name:"name",value:i.name,onChange:s,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,autoFocus:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:"Narahubung"}),b.jsx("input",{type:"text",name:"contact_person",value:i.contact_person,onChange:s,className:"w-full p-2 border border-gray-300 rounded-md"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Telepon"}),b.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:s,className:"w-full p-2 border border-gray-300 rounded-md"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alamat"}),b.jsx("textarea",{name:"address",value:i.address,onChange:s,rows:"3",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),b.jsxs("div",{className:"flex justify-end gap-4 p-6 bg-gray-50 border-t flex-shrink-0",children:[b.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-5 hover:bg-gray-300",children:"Batal"}),b.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-5 hover:bg-blue-700",children:"Simpan"})]})]})]})})},Ene=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(!1),[s,u]=N.useState(null),[d,h]=N.useState(!1),p=N.useCallback(async()=>{n(!0);const{data:A,error:C}=await Ve.from("suppliers").select("*").order("name",{ascending:!0});C?_e.error("Gagal memuat suplier."):t(A),n(!1)},[]);N.useEffect(()=>{p()},[p]);const v=async A=>{const C=_e.loading(A.id?"Memperbarui...":"Menyimpan..."),{id:O,created_at:_,...I}=A;if(O){const{error:T}=await Ve.from("suppliers").update(I).eq("id",O);T?_e.error(`Gagal: ${T.message}`,{id:C}):_e.success("Suplier diperbarui!",{id:C})}else{const{error:T}=await Ve.from("suppliers").insert([I]);T?_e.error(`Gagal: ${T.message}`,{id:C}):_e.success("Suplier baru ditambahkan!",{id:C})}a(!1),u(null),p()},y=async A=>{if(window.confirm("Menghapus suplier akan membuat produk terkait menjadi tidak memiliki suplier. Yakin?")){const C=_e.loading("Menghapus...");await Ve.from("products").update({supplier_id:null}).eq("supplier_id",A);const{error:O}=await Ve.from("suppliers").delete().eq("id",A);O?_e.error(`Gagal: ${O.message}`,{id:C}):_e.success("Suplier dihapus!",{id:C}),p()}},w=async A=>{const C=_e.loading("Memproses retur ke suplier..."),{error:O}=await Ve.rpc("process_supplier_return",A);O?_e.error(`Gagal: ${O.message}`,{id:C}):_e.success("Retur ke suplier berhasil dicatat & stok diperbarui!",{id:C})};return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-bold",children:"Daftar Suplier"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-yellow-600",children:[b.jsx(CO,{className:"h-5 w-5"}),b.jsx("span",{children:"Buat Retur"})]}),b.jsxs("button",{onClick:()=>{u(null),a(!0)},className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700",children:[b.jsx(y0,{className:"h-5 w-5"}),b.jsx("span",{children:"Tambah Suplier"})]})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[b.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama Suplier"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Narahubung"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:"Telepon"}),b.jsx("th",{scope:"col",className:"px-6 py-3",children:b.jsx("span",{className:"sr-only",children:"Aksi"})})]})}),b.jsx("tbody",{children:r?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"text-center py-4",children:"Memuat..."})}):e.map(A=>b.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 font-medium",children:A.name}),b.jsx("td",{className:"px-6 py-4",children:A.contact_person}),b.jsx("td",{className:"px-6 py-4",children:A.phone}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b.jsx("button",{onClick:()=>{u(A),a(!0)},className:"text-blue-600 hover:text-blue-800",children:b.jsx(hy,{className:"h-5 w-5"})}),b.jsx("button",{onClick:()=>y(A.id),className:"text-red-600 hover:text-red-800",children:b.jsx(xl,{className:"h-5 w-5"})})]})})]},A.id))})]})}),b.jsx(bne,{isOpen:i,onClose:()=>a(!1),onSave:v,supplier:s}),b.jsx(wne,{isOpen:d,onClose:()=>h(!1),onReturnSuccess:w})]})},Ane=()=>{const[e,t]=N.useState("produk"),r=[{id:"produk",name:"Produk",icon:b.jsx(py,{className:"h-5 w-5 mr-2"})},{id:"suplier",name:"Suplier",icon:b.jsx(my,{className:"h-5 w-5 mr-2"})},{id:"kategori",name:"Kategori",icon:b.jsx(gy,{className:"h-5 w-5 mr-2"})}],n=()=>{switch(e){case"produk":return b.jsx(HZ,{});case"suplier":return b.jsx(Ene,{});case"kategori":return b.jsx(xne,{});default:return null}};return b.jsxs("div",{className:"p-4 h-full flex flex-col",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4 flex-shrink-0",children:"Manajemen"}),b.jsx("div",{className:"mb-4 border-b border-gray-200 flex-shrink-0",children:b.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:r.map(i=>b.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${e===i.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.icon,i.name]},i.id))})}),b.jsx("div",{className:"flex-grow overflow-y-auto",children:n()})]})},df=({label:e,description:t,children:r})=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[" ",b.jsx("label",{className:"block text-sm font-medium text-gray-800",children:e})," ",b.jsx("p",{className:"text-xs text-gray-500 mb-2",children:t})," ",r," "]}),Sne=({settings:e,setSettings:t,newLogoFile:r,setNewLogoFile:n})=>{var d;const[i,a]=At.useState(null),s=h=>{const{name:p,value:v}=h.target;t(y=>({...y,[p]:v}))},u=h=>{const p=h.target.files[0];p&&(n(p),a(URL.createObjectURL(p)))};return b.jsxs("div",{className:"space-y-6",children:[b.jsx(df,{label:"Logo Toko",description:"Logo akan muncul di header aplikasi.",children:b.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[b.jsx("img",{src:i||e.store_logo_url||`https://placehold.co/80x80/E2E8F0/4A5568?text=${(d=e.store_name)==null?void 0:d.charAt(0)}`,alt:"Logo",className:"w-20 h-20 rounded-full object-cover bg-gray-100"}),b.jsxs("label",{htmlFor:"logo-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50",children:[b.jsx("span",{children:"Ubah Logo"}),b.jsx("input",{id:"logo-upload",name:"logo-upload",type:"file",className:"sr-only",accept:"image/*",onChange:u})]})]})}),b.jsx(df,{label:"Nama Toko",description:"Nama ini akan muncul di header dan di struk belanja.",children:b.jsx("input",{type:"text",name:"store_name",value:e.store_name||"",onChange:s,className:"w-full p-2 border border-gray-300 rounded-md"})}),b.jsx(df,{label:"Alamat Toko",description:"Alamat lengkap toko untuk ditampilkan di struk.",children:b.jsx("textarea",{name:"store_address",value:e.store_address||"",onChange:s,rows:"3",className:"w-full p-2 border border-gray-300 rounded-md"})}),b.jsx(df,{label:"Nomor Telepon",description:"Kontak toko yang akan ditampilkan di struk.",children:b.jsx("input",{type:"text",name:"store_phone",value:e.store_phone||"",onChange:s,className:"w-full p-2 border border-gray-300 rounded-md"})})]})},MC=({title:e,description:t,children:r})=>b.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-800",children:e}),b.jsx("p",{className:"text-sm text-gray-500 mb-4",children:t}),r]}),Cne=({settings:e,setSettings:t})=>{const r={id:123,created_at:new Date().toISOString(),items:[{product_id:1,name:"Kopi Susu",quantity:2,price:18e3}],subtotal:36e3,discount_amount:0,final_price:36e3,amountPaid:4e4,change:4e3},n=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),i=s=>new Date(s).toLocaleDateString("id-ID",{hour:"2-digit",minute:"2-digit"}),a=[{id:"klasik",name:"Klasik",component:b.jsx(NO,{settings:e,transaction:r,formatCurrency:n,formatDateTime:i})},{id:"modern",name:"Modern",component:b.jsx(PO,{settings:e,transaction:r,formatCurrency:n,formatDateTime:i})},{id:"minimalis",name:"Minimalis",component:b.jsx(kO,{settings:e,transaction:r,formatCurrency:n,formatDateTime:i})},{id:"kotak",name:"Kotak",component:b.jsx(DO,{settings:e,transaction:r,formatCurrency:n,formatDateTime:i})},{id:"logo",name:"Logo di Atas",component:b.jsx(RO,{settings:e,transaction:r,formatCurrency:n,formatDateTime:i})}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx(MC,{title:"Pilih Template Struk",description:"Pilih desain yang akan digunakan saat mencetak struk.",children:b.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:a.map(s=>{const u=e.receipt_template===s.id;return b.jsxs("div",{onClick:()=>t(d=>({...d,receipt_template:s.id})),className:"cursor-pointer group flex-shrink-0 w-56",children:[b.jsxs("div",{className:`relative p-px border-2 rounded-lg transition-all h-72 flex items-center justify-center overflow-hidden ${u?"border-blue-500 shadow-lg":"border-gray-200 group-hover:border-blue-300"}`,children:[b.jsx("div",{className:"transform scale-[0.73] origin-center pointer-events-none select-none",children:s.component}),u&&b.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full",children:b.jsx(Uj,{className:"h-6 w-6"})})]}),b.jsx("p",{className:`text-center text-sm font-semibold mt-2 transition-colors ${u?"text-blue-600":"text-gray-700"}`,children:s.name})]},s.id)})})}),b.jsx(MC,{title:"Pesan di Bawah Struk",description:"Teks ini akan muncul di bagian paling bawah struk, cocok untuk info promo atau kebijakan retur.",children:b.jsx("textarea",{name:"receipt_footer_message",value:e.receipt_footer_message||"",onChange:s=>t(u=>({...u,receipt_footer_message:s.target.value})),rows:"4",className:"w-full p-2 border border-gray-300 rounded-md"})})]})},_ne=()=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manajemen Data"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-4 border border-yellow-300 bg-yellow-50 rounded-md",children:[b.jsx("h3",{className:"font-bold text-yellow-800",children:"Ekspor Data"}),b.jsx("p",{className:"text-sm text-yellow-700",children:"Fitur untuk mengunduh semua data produk dan transaksi dalam format CSV/Excel. (Segera Hadir)"})]}),b.jsxs("div",{className:"p-4 border border-red-300 bg-red-50 rounded-md",children:[b.jsx("h3",{className:"font-bold text-red-800",children:"Hapus Semua Data"}),b.jsx("p",{className:"text-sm text-red-700",children:"Fitur berbahaya untuk menghapus semua data transaksi atau produk. (Segera Hadir)"})]})]})]}),One=()=>{const[e,t]=N.useState("toko"),{settings:r,loading:n,updateSettings:i}=N.useContext(v0),[a,s]=N.useState(null),[u,d]=N.useState(null),[h,p]=N.useState(null);N.useEffect(()=>{r&&(s(r),d(r))},[r]);const v=async()=>{const C=await i(a,h);C&&(d(C),s(C),p(null))},y=JSON.stringify(a)!==JSON.stringify(u)||h!==null,w=[{id:"toko",name:"Toko",icon:b.jsx(Lj,{className:"h-5 w-5 mr-2"})},{id:"struk",name:"Struk",icon:b.jsx(Fj,{className:"h-5 w-5 mr-2"})},{id:"data",name:"Data",icon:b.jsx($j,{className:"h-5 w-5 mr-2"})}],A=()=>{if(n||!a)return b.jsxs("div",{className:"space-y-6 animate-pulse",children:[b.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),b.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"})]});switch(e){case"toko":return b.jsx(Sne,{settings:a,setSettings:s,newLogoFile:h,setNewLogoFile:p});case"struk":return b.jsx(Cne,{settings:a,setSettings:s});case"data":return b.jsx(_ne,{});default:return null}};return b.jsxs("div",{className:"p-4 h-full flex flex-col",children:[" ",b.jsx("h1",{className:"text-2xl font-bold mb-4 flex-shrink-0",children:"Pengaturan"})," ",b.jsxs("div",{className:"mb-4 border-b border-gray-200 flex-shrink-0",children:[" ",b.jsxs("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:[" ",w.map(C=>b.jsxs("button",{onClick:()=>t(C.id),className:`flex items-center whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${e===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[C.icon,C.name]},C.id))," "]})," "]})," ",b.jsxs("div",{className:"flex-grow overflow-y-auto pb-20",children:[" ",A()," "]})," ",y&&b.jsxs("div",{className:"fixed bottom-16 left-0 right-0 p-4 bg-white/80 backdrop-blur-sm border-t border-gray-200 animate-fade-in",children:[" ",b.jsxs("div",{className:"max-w-3xl mx-auto",children:[" ",b.jsxs("div",{className:"flex justify-between items-center",children:[" ",b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anda memiliki perubahan yang belum disimpan."})," ",b.jsx("button",{onClick:v,className:"bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg shadow hover:bg-blue-700",children:" Simpan "})," "]})," "]})," "]})," "]})};function Ine(){const[e,t]=N.useState("Kasir"),r=()=>{switch(e){case"Beranda":return b.jsx(V2,{});case"Kasir":return b.jsx(w7,{});case"Laporan":return b.jsx(WZ,{});case"Manajemen":return b.jsx(Ane,{});case"Pengaturan":return b.jsx(One,{});default:return b.jsx(V2,{})}};return b.jsxs(xj,{children:[b.jsx(rR,{position:"top-center",reverseOrder:!1,toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),b.jsxs("div",{className:"bg-gray-50 font-sans h-screen flex flex-col",children:[b.jsx(wj,{}),b.jsx("main",{className:"flex-grow overflow-y-auto pb-20",children:r()}),b.jsx(Wj,{activeMenu:e,setActiveMenu:t})]})]})}q_(document.getElementById("root")).render(b.jsx(N.StrictMode,{children:b.jsx(Ine,{})}));
