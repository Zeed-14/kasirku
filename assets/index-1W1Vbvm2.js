function Jg(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var l=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:function(){return t[o]}})}),r}var Rd={exports:{}},Ya={},Dd={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),np=Symbol.for("react.portal"),rp=Symbol.for("react.fragment"),ip=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),op=Symbol.for("react.provider"),ap=Symbol.for("react.context"),lp=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),cp=Symbol.for("react.memo"),hp=Symbol.for("react.lazy"),jh=Symbol.iterator;function fp(t){return t===null||typeof t!="object"?null:(t=jh&&t[jh]||t["@@iterator"],typeof t=="function"?t:null)}var kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,Pd={};function hs(t,e,r){this.props=t,this.context=e,this.refs=Pd,this.updater=r||kd}hs.prototype.isReactComponent={};hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bd(){}Bd.prototype=hs.prototype;function wc(t,e,r){this.props=t,this.context=e,this.refs=Pd,this.updater=r||kd}var yc=wc.prototype=new Bd;yc.constructor=wc;Ld(yc,hs.prototype);yc.isPureReactComponent=!0;var Uh=Array.isArray,Fd=Object.prototype.hasOwnProperty,vc={current:null},jd={key:!0,ref:!0,__self:!0,__source:!0};function Ud(t,e,r){var o,l={},c=null,d=null;if(e!=null)for(o in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(c=""+e.key),e)Fd.call(e,o)&&!jd.hasOwnProperty(o)&&(l[o]=e[o]);var m=arguments.length-2;if(m===1)l.children=r;else if(1<m){for(var w=Array(m),x=0;x<m;x++)w[x]=arguments[x+2];l.children=w}if(t&&t.defaultProps)for(o in m=t.defaultProps,m)l[o]===void 0&&(l[o]=m[o]);return{$$typeof:wo,type:t,key:c,ref:d,props:l,_owner:vc.current}}function dp(t,e){return{$$typeof:wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ec(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo}function gp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zh=/\/+/g;function Ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gp(""+t.key):e.toString(36)}function oa(t,e,r,o,l){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var d=!1;if(t===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case wo:case np:d=!0}}if(d)return d=t,l=l(d),t=o===""?"."+Ll(d,0):o,Uh(l)?(r="",t!=null&&(r=t.replace(zh,"$&/")+"/"),oa(l,e,r,"",function(x){return x})):l!=null&&(Ec(l)&&(l=dp(l,r+(!l.key||d&&d.key===l.key?"":(""+l.key).replace(zh,"$&/")+"/")+t)),e.push(l)),1;if(d=0,o=o===""?".":o+":",Uh(t))for(var m=0;m<t.length;m++){c=t[m];var w=o+Ll(c,m);d+=oa(c,e,r,w,l)}else if(w=fp(t),typeof w=="function")for(t=w.call(t),m=0;!(c=t.next()).done;)c=c.value,w=o+Ll(c,m++),d+=oa(c,e,r,w,l);else if(c==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function jo(t,e,r){if(t==null)return t;var o=[],l=0;return oa(t,o,"","",function(c){return e.call(r,c,l++)}),o}function pp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},aa={transition:null},mp={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:aa,ReactCurrentOwner:vc};function zd(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:jo,forEach:function(t,e,r){jo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return jo(t,function(){e++}),e},toArray:function(t){return jo(t,function(e){return e})||[]},only:function(t){if(!Ec(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=hs;Se.Fragment=rp;Se.Profiler=sp;Se.PureComponent=wc;Se.StrictMode=ip;Se.Suspense=up;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mp;Se.act=zd;Se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Ld({},t.props),l=t.key,c=t.ref,d=t._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,d=vc.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var m=t.type.defaultProps;for(w in e)Fd.call(e,w)&&!jd.hasOwnProperty(w)&&(o[w]=e[w]===void 0&&m!==void 0?m[w]:e[w])}var w=arguments.length-2;if(w===1)o.children=r;else if(1<w){m=Array(w);for(var x=0;x<w;x++)m[x]=arguments[x+2];o.children=m}return{$$typeof:wo,type:t.type,key:l,ref:c,props:o,_owner:d}};Se.createContext=function(t){return t={$$typeof:ap,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:op,_context:t},t.Consumer=t};Se.createElement=Ud;Se.createFactory=function(t){var e=Ud.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:lp,render:t}};Se.isValidElement=Ec;Se.lazy=function(t){return{$$typeof:hp,_payload:{_status:-1,_result:t},_init:pp}};Se.memo=function(t,e){return{$$typeof:cp,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=aa.transition;aa.transition={};try{t()}finally{aa.transition=e}};Se.unstable_act=zd;Se.useCallback=function(t,e){return Wt.current.useCallback(t,e)};Se.useContext=function(t){return Wt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Wt.current.useEffect(t,e)};Se.useId=function(){return Wt.current.useId()};Se.useImperativeHandle=function(t,e,r){return Wt.current.useImperativeHandle(t,e,r)};Se.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Wt.current.useMemo(t,e)};Se.useReducer=function(t,e,r){return Wt.current.useReducer(t,e,r)};Se.useRef=function(t){return Wt.current.useRef(t)};Se.useState=function(t){return Wt.current.useState(t)};Se.useSyncExternalStore=function(t,e,r){return Wt.current.useSyncExternalStore(t,e,r)};Se.useTransition=function(){return Wt.current.useTransition()};Se.version="18.3.1";Dd.exports=Se;var at=Dd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=at,wp=Symbol.for("react.element"),yp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,Ep=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cp={key:!0,ref:!0,__self:!0,__source:!0};function Hd(t,e,r){var o,l={},c=null,d=null;r!==void 0&&(c=""+r),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(d=e.ref);for(o in e)vp.call(e,o)&&!Cp.hasOwnProperty(o)&&(l[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)l[o]===void 0&&(l[o]=e[o]);return{$$typeof:wp,type:t,key:c,ref:d,props:l,_owner:Ep.current}}Ya.Fragment=yp;Ya.jsx=Hd;Ya.jsxs=Hd;Rd.exports=Ya;var j=Rd.exports,Vd={exports:{}},gn={},Wd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,fe){var ge=ne.length;ne.push(fe);e:for(;0<ge;){var Qe=ge-1>>>1,Te=ne[Qe];if(0<l(Te,fe))ne[Qe]=fe,ne[ge]=Te,ge=Qe;else break e}}function r(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var fe=ne[0],ge=ne.pop();if(ge!==fe){ne[0]=ge;e:for(var Qe=0,Te=ne.length,mn=Te>>>1;Qe<mn;){var Je=2*(Qe+1)-1,$r=ne[Je],ae=Je+1,dr=ne[ae];if(0>l($r,ge))ae<Te&&0>l(dr,$r)?(ne[Qe]=dr,ne[ae]=ge,Qe=ae):(ne[Qe]=$r,ne[Je]=ge,Qe=Je);else if(ae<Te&&0>l(dr,ge))ne[Qe]=dr,ne[ae]=ge,Qe=ae;else break e}}return fe}function l(ne,fe){var ge=ne.sortIndex-fe.sortIndex;return ge!==0?ge:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var w=[],x=[],C=1,A=null,N=3,D=!1,V=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ne){for(var fe=r(x);fe!==null;){if(fe.callback===null)o(x);else if(fe.startTime<=ne)o(x),fe.sortIndex=fe.expirationTime,e(w,fe);else break;fe=r(x)}}function P(ne){if(F=!1,T(ne),!V)if(r(w)!==null)V=!0,Ce(Q);else{var fe=r(x);fe!==null&&xe(P,fe.startTime-ne)}}function Q(ne,fe){V=!1,F&&(F=!1,M(J),J=-1),D=!0;var ge=N;try{for(T(fe),A=r(w);A!==null&&(!(A.expirationTime>fe)||ne&&!Be());){var Qe=A.callback;if(typeof Qe=="function"){A.callback=null,N=A.priorityLevel;var Te=Qe(A.expirationTime<=fe);fe=t.unstable_now(),typeof Te=="function"?A.callback=Te:A===r(w)&&o(w),T(fe)}else o(w);A=r(w)}if(A!==null)var mn=!0;else{var Je=r(x);Je!==null&&xe(P,Je.startTime-fe),mn=!1}return mn}finally{A=null,N=ge,D=!1}}var W=!1,B=null,J=-1,G=5,me=-1;function Be(){return!(t.unstable_now()-me<G)}function ue(){if(B!==null){var ne=t.unstable_now();me=ne;var fe=!0;try{fe=B(!0,ne)}finally{fe?te():(W=!1,B=null)}}else W=!1}var te;if(typeof b=="function")te=function(){b(ue)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,U=pe.port2;pe.port1.onmessage=ue,te=function(){U.postMessage(null)}}else te=function(){$(ue,0)};function Ce(ne){B=ne,W||(W=!0,te())}function xe(ne,fe){J=$(function(){ne(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){V||D||(V=!0,Ce(Q))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(w)},t.unstable_next=function(ne){switch(N){case 1:case 2:case 3:var fe=3;break;default:fe=N}var ge=N;N=fe;try{return ne()}finally{N=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=N;N=ne;try{return fe()}finally{N=ge}},t.unstable_scheduleCallback=function(ne,fe,ge){var Qe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Qe+ge:Qe):ge=Qe,ne){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ge+Te,ne={id:C++,callback:fe,priorityLevel:ne,startTime:ge,expirationTime:Te,sortIndex:-1},ge>Qe?(ne.sortIndex=ge,e(x,ne),r(w)===null&&ne===r(x)&&(F?(M(J),J=-1):F=!0,xe(P,ge-Qe))):(ne.sortIndex=Te,e(w,ne),V||D||(V=!0,Ce(Q))),ne},t.unstable_shouldYield=Be,t.unstable_wrapCallback=function(ne){var fe=N;return function(){var ge=N;N=fe;try{return ne.apply(this,arguments)}finally{N=ge}}}})(Gd);Wd.exports=Gd;var Ap=Wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=at,dn=Ap;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yd=new Set,Js={};function xi(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(Js[t]=e,t=0;t<e.length;t++)Yd.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,_p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hh={},Vh={};function Ip(t){return pu.call(Vh,t)?!0:pu.call(Hh,t)?!1:_p.test(t)?Vh[t]=!0:(Hh[t]=!0,!1)}function Tp(t,e,r,o){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bp(t,e,r,o){if(e===null||typeof e>"u"||Tp(t,e,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,r,o,l,c,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=c,this.removeEmptyString=d}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function Ac(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cc,Ac);Rt[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cc,Ac);Rt[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cc,Ac);Rt[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sc(t,e,r,o){var l=Rt.hasOwnProperty(e)?Rt[e]:null;(l!==null?l.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bp(e,r,l,o)&&(r=null),o||l===null?Ip(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):l.mustUseProperty?t[l.propertyName]=r===null?l.type===3?!1:"":r:(e=l.attributeName,o=l.attributeNamespace,r===null?t.removeAttribute(e):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,o?t.setAttributeNS(o,e,r):t.setAttribute(e,r))))}var fr=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),Tc=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Kd=Symbol.for("react.offscreen"),Wh=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=Wh&&t[Wh]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Pl;function Bs(t){if(Pl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Pl=e&&e[1]||""}return`
`+Pl+t}var Bl=!1;function Fl(t,e){if(!t||Bl)return"";Bl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var o=x}Reflect.construct(t,[],e)}else{try{e.call()}catch(x){o=x}t.call(e.prototype)}else{try{throw Error()}catch(x){o=x}t()}}catch(x){if(x&&o&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),c=o.stack.split(`
`),d=l.length-1,m=c.length-1;1<=d&&0<=m&&l[d]!==c[m];)m--;for(;1<=d&&0<=m;d--,m--)if(l[d]!==c[m]){if(d!==1||m!==1)do if(d--,m--,0>m||l[d]!==c[m]){var w=`
`+l[d].replace(" at new "," at ");return t.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",t.displayName)),w}while(1<=d&&0<=m);break}}}finally{Bl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bs(t):""}function Np(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=Fl(t.type,!1),t;case 11:return t=Fl(t.type.render,!1),t;case 1:return t=Fl(t.type,!0),t;default:return""}}function yu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Fi:return"Portal";case mu:return"Profiler";case _c:return"StrictMode";case xu:return"Suspense";case wu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $d:return(t.displayName||"Context")+".Consumer";case Xd:return(t._context.displayName||"Context")+".Provider";case Ic:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tc:return e=t.displayName||null,e!==null?e:yu(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return yu(t(e))}catch{}}return null}function Op(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yu(e);case 8:return e===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mp(t){var e=Qd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,c=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zo(t){t._valueTracker||(t._valueTracker=Mp(t))}function Zd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return t&&(o=Qd(t)?t.checked?"true":"false":t.value),t=o,t!==r?(e.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vu(t,e){var r=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Gh(t,e){var r=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;r=zr(e.value!=null?e.value:r),t._wrapperState={initialChecked:o,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qd(t,e){e=e.checked,e!=null&&Sc(t,"checked",e,!1)}function Eu(t,e){qd(t,e);var r=zr(e.value),o=e.type;if(r!=null)o==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cu(t,e.type,r):e.hasOwnProperty("defaultValue")&&Cu(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Cu(t,e,r){(e!=="number"||wa(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fs=Array.isArray;function Zi(t,e,r,o){if(t=t.options,e){e={};for(var l=0;l<r.length;l++)e["$"+r[l]]=!0;for(r=0;r<t.length;r++)l=e.hasOwnProperty("$"+t[r].value),t[r].selected!==l&&(t[r].selected=l),l&&o&&(t[r].defaultSelected=!0)}else{for(r=""+zr(r),e=null,l=0;l<t.length;l++){if(t[l].value===r){t[l].selected=!0,o&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Au(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(Fs(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zr(r)}}function Jd(t,e){var r=zr(e.value),o=zr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),o!=null&&(t.defaultValue=""+o)}function $h(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ho,t0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,o,l){MSApp.execUnsafeLocalFunction(function(){return t(e,r,o,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rp=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){Rp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function n0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function r0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=r.indexOf("--")===0,l=n0(r,e[r],o);r==="float"&&(r="cssFloat"),o?t.setProperty(r,l):t[r]=l}}var Dp=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _u(t,e){if(e){if(Dp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Iu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=null;function bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bu=null,qi=null,Ji=null;function Kh(t){if(t=Eo(t)){if(typeof bu!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Za(e),bu(t.stateNode,t.type,e))}}function i0(t){qi?Ji?Ji.push(t):Ji=[t]:qi=t}function s0(){if(qi){var t=qi,e=Ji;if(Ji=qi=null,Kh(t),e)for(t=0;t<e.length;t++)Kh(e[t])}}function o0(t,e){return t(e)}function a0(){}var jl=!1;function l0(t,e,r){if(jl)return t(e,r);jl=!0;try{return o0(t,e,r)}finally{jl=!1,(qi!==null||Ji!==null)&&(a0(),s0())}}function to(t,e){var r=t.stateNode;if(r===null)return null;var o=Za(r);if(o===null)return null;r=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var Nu=!1;if(lr)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Nu=!1}function kp(t,e,r,o,l,c,d,m,w){var x=Array.prototype.slice.call(arguments,3);try{e.apply(r,x)}catch(C){this.onError(C)}}var Vs=!1,ya=null,va=!1,Ou=null,Lp={onError:function(t){Vs=!0,ya=t}};function Pp(t,e,r,o,l,c,d,m,w){Vs=!1,ya=null,kp.apply(Lp,arguments)}function Bp(t,e,r,o,l,c,d,m,w){if(Pp.apply(this,arguments),Vs){if(Vs){var x=ya;Vs=!1,ya=null}else throw Error(K(198));va||(va=!0,Ou=x)}}function wi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function u0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qh(t){if(wi(t)!==t)throw Error(K(188))}function Fp(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,o=e;;){var l=r.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){r=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===r)return Qh(l),t;if(c===o)return Qh(l),e;c=c.sibling}throw Error(K(188))}if(r.return!==o.return)r=l,o=c;else{for(var d=!1,m=l.child;m;){if(m===r){d=!0,r=l,o=c;break}if(m===o){d=!0,o=l,r=c;break}m=m.sibling}if(!d){for(m=c.child;m;){if(m===r){d=!0,r=c,o=l;break}if(m===o){d=!0,o=c,r=l;break}m=m.sibling}if(!d)throw Error(K(189))}}if(r.alternate!==o)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function c0(t){return t=Fp(t),t!==null?h0(t):null}function h0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=h0(t);if(e!==null)return e;t=t.sibling}return null}var f0=dn.unstable_scheduleCallback,Zh=dn.unstable_cancelCallback,jp=dn.unstable_shouldYield,Up=dn.unstable_requestPaint,ht=dn.unstable_now,zp=dn.unstable_getCurrentPriorityLevel,Nc=dn.unstable_ImmediatePriority,d0=dn.unstable_UserBlockingPriority,Ea=dn.unstable_NormalPriority,Hp=dn.unstable_LowPriority,g0=dn.unstable_IdlePriority,Xa=null,Zn=null;function Vp(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Xa,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Yp,Wp=Math.log,Gp=Math.LN2;function Yp(t){return t>>>=0,t===0?32:31-(Wp(t)/Gp|0)|0}var Vo=64,Wo=4194304;function js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ca(t,e){var r=t.pendingLanes;if(r===0)return 0;var o=0,l=t.suspendedLanes,c=t.pingedLanes,d=r&268435455;if(d!==0){var m=d&~l;m!==0?o=js(m):(c&=d,c!==0&&(o=js(c)))}else d=r&~l,d!==0?o=js(d):c!==0&&(o=js(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&l)&&(l=o&-o,c=e&-e,l>=c||l===16&&(c&4194240)!==0))return e;if(o&4&&(o|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)r=31-Bn(e),l=1<<r,o|=t[r],e&=~l;return o}function Xp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $p(t,e){for(var r=t.suspendedLanes,o=t.pingedLanes,l=t.expirationTimes,c=t.pendingLanes;0<c;){var d=31-Bn(c),m=1<<d,w=l[d];w===-1?(!(m&r)||m&o)&&(l[d]=Xp(m,e)):w<=e&&(t.expiredLanes|=m),c&=~m}}function Mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p0(){var t=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),t}function Ul(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function yo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=r}function Kp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<r;){var l=31-Bn(r),c=1<<l;e[l]=0,o[l]=-1,t[l]=-1,r&=~c}}function Oc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var o=31-Bn(r),l=1<<o;l&e|t[o]&e&&(t[o]|=e),r&=~l}}var Pe=0;function m0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x0,Mc,w0,y0,v0,Ru=!1,Go=[],Dr=null,kr=null,Lr=null,no=new Map,ro=new Map,br=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qh(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":no.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(e.pointerId)}}function Os(t,e,r,o,l,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},e!==null&&(e=Eo(e),e!==null&&Mc(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function Zp(t,e,r,o,l){switch(e){case"focusin":return Dr=Os(Dr,t,e,r,o,l),!0;case"dragenter":return kr=Os(kr,t,e,r,o,l),!0;case"mouseover":return Lr=Os(Lr,t,e,r,o,l),!0;case"pointerover":var c=l.pointerId;return no.set(c,Os(no.get(c)||null,t,e,r,o,l)),!0;case"gotpointercapture":return c=l.pointerId,ro.set(c,Os(ro.get(c)||null,t,e,r,o,l)),!0}return!1}function E0(t){var e=ai(t.target);if(e!==null){var r=wi(e);if(r!==null){if(e=r.tag,e===13){if(e=u0(r),e!==null){t.blockedOn=e,v0(t.priority,function(){w0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function la(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Tu=o,r.target.dispatchEvent(o),Tu=null}else return e=Eo(r),e!==null&&Mc(e),t.blockedOn=r,!1;e.shift()}return!0}function Jh(t,e,r){la(t)&&r.delete(e)}function qp(){Ru=!1,Dr!==null&&la(Dr)&&(Dr=null),kr!==null&&la(kr)&&(kr=null),Lr!==null&&la(Lr)&&(Lr=null),no.forEach(Jh),ro.forEach(Jh)}function Ms(t,e){t.blockedOn===e&&(t.blockedOn=null,Ru||(Ru=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,qp)))}function io(t){function e(l){return Ms(l,t)}if(0<Go.length){Ms(Go[0],t);for(var r=1;r<Go.length;r++){var o=Go[r];o.blockedOn===t&&(o.blockedOn=null)}}for(Dr!==null&&Ms(Dr,t),kr!==null&&Ms(kr,t),Lr!==null&&Ms(Lr,t),no.forEach(e),ro.forEach(e),r=0;r<br.length;r++)o=br[r],o.blockedOn===t&&(o.blockedOn=null);for(;0<br.length&&(r=br[0],r.blockedOn===null);)E0(r),r.blockedOn===null&&br.shift()}var es=fr.ReactCurrentBatchConfig,Aa=!0;function Jp(t,e,r,o){var l=Pe,c=es.transition;es.transition=null;try{Pe=1,Rc(t,e,r,o)}finally{Pe=l,es.transition=c}}function e2(t,e,r,o){var l=Pe,c=es.transition;es.transition=null;try{Pe=4,Rc(t,e,r,o)}finally{Pe=l,es.transition=c}}function Rc(t,e,r,o){if(Aa){var l=Du(t,e,r,o);if(l===null)Ql(t,e,o,Sa,r),qh(t,o);else if(Zp(l,t,e,r,o))o.stopPropagation();else if(qh(t,o),e&4&&-1<Qp.indexOf(t)){for(;l!==null;){var c=Eo(l);if(c!==null&&x0(c),c=Du(t,e,r,o),c===null&&Ql(t,e,o,Sa,r),c===l)break;l=c}l!==null&&o.stopPropagation()}else Ql(t,e,o,null,r)}}var Sa=null;function Du(t,e,r,o){if(Sa=null,t=bc(o),t=ai(t),t!==null)if(e=wi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=u0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sa=t,null}function C0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case Nc:return 1;case d0:return 4;case Ea:case Hp:return 16;case g0:return 536870912;default:return 16}default:return 16}}var Mr=null,Dc=null,ua=null;function A0(){if(ua)return ua;var t,e=Dc,r=e.length,o,l="value"in Mr?Mr.value:Mr.textContent,c=l.length;for(t=0;t<r&&e[t]===l[t];t++);var d=r-t;for(o=1;o<=d&&e[r-o]===l[c-o];o++);return ua=l.slice(t,1<o?1-o:void 0)}function ca(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yo(){return!0}function ef(){return!1}function pn(t){function e(r,o,l,c,d){this._reactName=r,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(r=t[m],this[m]=r?r(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Yo:ef,this.isPropagationStopped=ef,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=pn(fs),vo=rt({},fs,{view:0,detail:0}),t2=pn(vo),zl,Hl,Rs,$a=rt({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(zl=t.screenX-Rs.screenX,Hl=t.screenY-Rs.screenY):Hl=zl=0,Rs=t),zl)},movementY:function(t){return"movementY"in t?t.movementY:Hl}}),tf=pn($a),n2=rt({},$a,{dataTransfer:0}),r2=pn(n2),i2=rt({},vo,{relatedTarget:0}),Vl=pn(i2),s2=rt({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),o2=pn(s2),a2=rt({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l2=pn(a2),u2=rt({},fs,{data:0}),nf=pn(u2),c2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f2[t])?!!e[t]:!1}function Lc(){return d2}var g2=rt({},vo,{key:function(t){if(t.key){var e=c2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p2=pn(g2),m2=rt({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=pn(m2),x2=rt({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),w2=pn(x2),y2=rt({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),v2=pn(y2),E2=rt({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C2=pn(E2),A2=[9,13,27,32],Pc=lr&&"CompositionEvent"in window,Ws=null;lr&&"documentMode"in document&&(Ws=document.documentMode);var S2=lr&&"TextEvent"in window&&!Ws,S0=lr&&(!Pc||Ws&&8<Ws&&11>=Ws),sf=" ",of=!1;function _0(t,e){switch(t){case"keyup":return A2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function _2(t,e){switch(t){case"compositionend":return I0(e);case"keypress":return e.which!==32?null:(of=!0,sf);case"textInput":return t=e.data,t===sf&&of?null:t;default:return null}}function I2(t,e){if(Ui)return t==="compositionend"||!Pc&&_0(t,e)?(t=A0(),ua=Dc=Mr=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S0&&e.locale!=="ko"?null:e.data;default:return null}}var T2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T2[t.type]:e==="textarea"}function T0(t,e,r,o){i0(o),e=_a(e,"onChange"),0<e.length&&(r=new kc("onChange","change",null,r,o),t.push({event:r,listeners:e}))}var Gs=null,so=null;function b2(t){F0(t,0)}function Ka(t){var e=Vi(t);if(Zd(e))return t}function N2(t,e){if(t==="change")return e}var b0=!1;if(lr){var Wl;if(lr){var Gl="oninput"in document;if(!Gl){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Gl=typeof lf.oninput=="function"}Wl=Gl}else Wl=!1;b0=Wl&&(!document.documentMode||9<document.documentMode)}function uf(){Gs&&(Gs.detachEvent("onpropertychange",N0),so=Gs=null)}function N0(t){if(t.propertyName==="value"&&Ka(so)){var e=[];T0(e,so,t,bc(t)),l0(b2,e)}}function O2(t,e,r){t==="focusin"?(uf(),Gs=e,so=r,Gs.attachEvent("onpropertychange",N0)):t==="focusout"&&uf()}function M2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(so)}function R2(t,e){if(t==="click")return Ka(e)}function D2(t,e){if(t==="input"||t==="change")return Ka(e)}function k2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:k2;function oo(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var l=r[o];if(!pu.call(e,l)||!jn(t[l],e[l]))return!1}return!0}function cf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hf(t,e){var r=cf(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=e&&o>=e)return{node:r,offset:e-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cf(r)}}function O0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M0(){for(var t=window,e=wa();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wa(t.document)}return e}function Bc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L2(t){var e=M0(),r=t.focusedElem,o=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&O0(r.ownerDocument.documentElement,r)){if(o!==null&&Bc(r)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=r.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!t.extend&&c>o&&(l=o,o=c,c=l),l=hf(r,c);var d=hf(r,o);l&&d&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==d.node||t.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),c>o?(t.addRange(e),t.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P2=lr&&"documentMode"in document&&11>=document.documentMode,zi=null,ku=null,Ys=null,Lu=!1;function ff(t,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lu||zi==null||zi!==wa(o)||(o=zi,"selectionStart"in o&&Bc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ys&&oo(Ys,o)||(Ys=o,o=_a(ku,"onSelect"),0<o.length&&(e=new kc("onSelect","select",null,e,r),t.push({event:e,listeners:o}),e.target=zi)))}function Xo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hi={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Yl={},R0={};lr&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Qa(t){if(Yl[t])return Yl[t];if(!Hi[t])return t;var e=Hi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in R0)return Yl[t]=e[r];return t}var D0=Qa("animationend"),k0=Qa("animationiteration"),L0=Qa("animationstart"),P0=Qa("transitionend"),B0=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){B0.set(t,e),xi(e,[t])}for(var Xl=0;Xl<df.length;Xl++){var $l=df[Xl],B2=$l.toLowerCase(),F2=$l[0].toUpperCase()+$l.slice(1);Wr(B2,"on"+F2)}Wr(D0,"onAnimationEnd");Wr(k0,"onAnimationIteration");Wr(L0,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(P0,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function gf(t,e,r){var o=t.type||"unknown-event";t.currentTarget=r,Bp(o,e,void 0,t),t.currentTarget=null}function F0(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],l=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var d=o.length-1;0<=d;d--){var m=o[d],w=m.instance,x=m.currentTarget;if(m=m.listener,w!==c&&l.isPropagationStopped())break e;gf(l,m,x),c=w}else for(d=0;d<o.length;d++){if(m=o[d],w=m.instance,x=m.currentTarget,m=m.listener,w!==c&&l.isPropagationStopped())break e;gf(l,m,x),c=w}}}if(va)throw t=Ou,va=!1,Ou=null,t}function Xe(t,e){var r=e[Uu];r===void 0&&(r=e[Uu]=new Set);var o=t+"__bubble";r.has(o)||(j0(e,t,2,!1),r.add(o))}function Kl(t,e,r){var o=0;e&&(o|=4),j0(r,t,o,e)}var $o="_reactListening"+Math.random().toString(36).slice(2);function ao(t){if(!t[$o]){t[$o]=!0,Yd.forEach(function(r){r!=="selectionchange"&&(j2.has(r)||Kl(r,!1,t),Kl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$o]||(e[$o]=!0,Kl("selectionchange",!1,e))}}function j0(t,e,r,o){switch(C0(e)){case 1:var l=Jp;break;case 4:l=e2;break;default:l=Rc}r=l.bind(null,e,r,t),l=void 0,!Nu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),o?l!==void 0?t.addEventListener(e,r,{capture:!0,passive:l}):t.addEventListener(e,r,!0):l!==void 0?t.addEventListener(e,r,{passive:l}):t.addEventListener(e,r,!1)}function Ql(t,e,r,o,l){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var m=o.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(d===4)for(d=o.return;d!==null;){var w=d.tag;if((w===3||w===4)&&(w=d.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;d=d.return}for(;m!==null;){if(d=ai(m),d===null)return;if(w=d.tag,w===5||w===6){o=c=d;continue e}m=m.parentNode}}o=o.return}l0(function(){var x=c,C=bc(r),A=[];e:{var N=B0.get(t);if(N!==void 0){var D=kc,V=t;switch(t){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":D=p2;break;case"focusin":V="focus",D=Vl;break;case"focusout":V="blur",D=Vl;break;case"beforeblur":case"afterblur":D=Vl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=r2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=w2;break;case D0:case k0:case L0:D=o2;break;case P0:D=v2;break;case"scroll":D=t2;break;case"wheel":D=C2;break;case"copy":case"cut":case"paste":D=l2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=rf}var F=(e&4)!==0,$=!F&&t==="scroll",M=F?N!==null?N+"Capture":null:N;F=[];for(var b=x,T;b!==null;){T=b;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,M!==null&&(P=to(b,M),P!=null&&F.push(lo(b,P,T)))),$)break;b=b.return}0<F.length&&(N=new D(N,V,null,r,C),A.push({event:N,listeners:F}))}}if(!(e&7)){e:{if(N=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",N&&r!==Tu&&(V=r.relatedTarget||r.fromElement)&&(ai(V)||V[ur]))break e;if((D||N)&&(N=C.window===C?C:(N=C.ownerDocument)?N.defaultView||N.parentWindow:window,D?(V=r.relatedTarget||r.toElement,D=x,V=V?ai(V):null,V!==null&&($=wi(V),V!==$||V.tag!==5&&V.tag!==6)&&(V=null)):(D=null,V=x),D!==V)){if(F=tf,P="onMouseLeave",M="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(F=rf,P="onPointerLeave",M="onPointerEnter",b="pointer"),$=D==null?N:Vi(D),T=V==null?N:Vi(V),N=new F(P,b+"leave",D,r,C),N.target=$,N.relatedTarget=T,P=null,ai(C)===x&&(F=new F(M,b+"enter",V,r,C),F.target=T,F.relatedTarget=$,P=F),$=P,D&&V)t:{for(F=D,M=V,b=0,T=F;T;T=Oi(T))b++;for(T=0,P=M;P;P=Oi(P))T++;for(;0<b-T;)F=Oi(F),b--;for(;0<T-b;)M=Oi(M),T--;for(;b--;){if(F===M||M!==null&&F===M.alternate)break t;F=Oi(F),M=Oi(M)}F=null}else F=null;D!==null&&pf(A,N,D,F,!1),V!==null&&$!==null&&pf(A,$,V,F,!0)}}e:{if(N=x?Vi(x):window,D=N.nodeName&&N.nodeName.toLowerCase(),D==="select"||D==="input"&&N.type==="file")var Q=N2;else if(af(N))if(b0)Q=D2;else{Q=M2;var W=O2}else(D=N.nodeName)&&D.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(Q=R2);if(Q&&(Q=Q(t,x))){T0(A,Q,r,C);break e}W&&W(t,N,x),t==="focusout"&&(W=N._wrapperState)&&W.controlled&&N.type==="number"&&Cu(N,"number",N.value)}switch(W=x?Vi(x):window,t){case"focusin":(af(W)||W.contentEditable==="true")&&(zi=W,ku=x,Ys=null);break;case"focusout":Ys=ku=zi=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,ff(A,r,C);break;case"selectionchange":if(P2)break;case"keydown":case"keyup":ff(A,r,C)}var B;if(Pc)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Ui?_0(t,r)&&(J="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(S0&&r.locale!=="ko"&&(Ui||J!=="onCompositionStart"?J==="onCompositionEnd"&&Ui&&(B=A0()):(Mr=C,Dc="value"in Mr?Mr.value:Mr.textContent,Ui=!0)),W=_a(x,J),0<W.length&&(J=new nf(J,t,null,r,C),A.push({event:J,listeners:W}),B?J.data=B:(B=I0(r),B!==null&&(J.data=B)))),(B=S2?_2(t,r):I2(t,r))&&(x=_a(x,"onBeforeInput"),0<x.length&&(C=new nf("onBeforeInput","beforeinput",null,r,C),A.push({event:C,listeners:x}),C.data=B))}F0(A,e)})}function lo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _a(t,e){for(var r=e+"Capture",o=[];t!==null;){var l=t,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=to(t,r),c!=null&&o.unshift(lo(t,c,l)),c=to(t,e),c!=null&&o.push(lo(t,c,l))),t=t.return}return o}function Oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pf(t,e,r,o,l){for(var c=e._reactName,d=[];r!==null&&r!==o;){var m=r,w=m.alternate,x=m.stateNode;if(w!==null&&w===o)break;m.tag===5&&x!==null&&(m=x,l?(w=to(r,c),w!=null&&d.unshift(lo(r,w,m))):l||(w=to(r,c),w!=null&&d.push(lo(r,w,m)))),r=r.return}d.length!==0&&t.push({event:e,listeners:d})}var U2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function mf(t){return(typeof t=="string"?t:""+t).replace(U2,`
`).replace(z2,"")}function Ko(t,e,r){if(e=mf(e),mf(t)!==e&&r)throw Error(K(425))}function Ia(){}var Pu=null,Bu=null;function Fu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,V2=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(t){return xf.resolve(null).then(t).catch(W2)}:ju;function W2(t){setTimeout(function(){throw t})}function Zl(t,e){var r=e,o=0;do{var l=r.nextSibling;if(t.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(o===0){t.removeChild(l),io(e);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=l}while(r);io(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ds,uo="__reactProps$"+ds,ur="__reactContainer$"+ds,Uu="__reactEvents$"+ds,G2="__reactListeners$"+ds,Y2="__reactHandles$"+ds;function ai(t){var e=t[Qn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ur]||r[Qn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wf(t);t!==null;){if(r=t[Qn])return r;t=wf(t)}return e}t=r,r=t.parentNode}return null}function Eo(t){return t=t[Qn]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Za(t){return t[uo]||null}var zu=[],Wi=-1;function Gr(t){return{current:t}}function Ke(t){0>Wi||(t.current=zu[Wi],zu[Wi]=null,Wi--)}function Ge(t,e){Wi++,zu[Wi]=t.current,t.current=e}var Hr={},jt=Gr(Hr),nn=Gr(!1),fi=Hr;function is(t,e){var r=t.type.contextTypes;if(!r)return Hr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in r)l[c]=e[c];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function rn(t){return t=t.childContextTypes,t!=null}function Ta(){Ke(nn),Ke(jt)}function yf(t,e,r){if(jt.current!==Hr)throw Error(K(168));Ge(jt,e),Ge(nn,r)}function U0(t,e,r){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var l in o)if(!(l in e))throw Error(K(108,Op(t)||"Unknown",l));return rt({},r,o)}function ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hr,fi=jt.current,Ge(jt,t),Ge(nn,nn.current),!0}function vf(t,e,r){var o=t.stateNode;if(!o)throw Error(K(169));r?(t=U0(t,e,fi),o.__reactInternalMemoizedMergedChildContext=t,Ke(nn),Ke(jt),Ge(jt,t)):Ke(nn),Ge(nn,r)}var rr=null,qa=!1,ql=!1;function z0(t){rr===null?rr=[t]:rr.push(t)}function X2(t){qa=!0,z0(t)}function Yr(){if(!ql&&rr!==null){ql=!0;var t=0,e=Pe;try{var r=rr;for(Pe=1;t<r.length;t++){var o=r[t];do o=o(!0);while(o!==null)}rr=null,qa=!1}catch(l){throw rr!==null&&(rr=rr.slice(t+1)),f0(Nc,Yr),l}finally{Pe=e,ql=!1}}return null}var Gi=[],Yi=0,Na=null,Oa=0,En=[],Cn=0,di=null,ir=1,sr="";function ri(t,e){Gi[Yi++]=Oa,Gi[Yi++]=Na,Na=t,Oa=e}function H0(t,e,r){En[Cn++]=ir,En[Cn++]=sr,En[Cn++]=di,di=t;var o=ir;t=sr;var l=32-Bn(o)-1;o&=~(1<<l),r+=1;var c=32-Bn(e)+l;if(30<c){var d=l-l%5;c=(o&(1<<d)-1).toString(32),o>>=d,l-=d,ir=1<<32-Bn(e)+l|r<<l|o,sr=c+t}else ir=1<<c|r<<l|o,sr=t}function Fc(t){t.return!==null&&(ri(t,1),H0(t,1,0))}function jc(t){for(;t===Na;)Na=Gi[--Yi],Gi[Yi]=null,Oa=Gi[--Yi],Gi[Yi]=null;for(;t===di;)di=En[--Cn],En[Cn]=null,sr=En[--Cn],En[Cn]=null,ir=En[--Cn],En[Cn]=null}var fn=null,hn=null,qe=!1,Pn=null;function V0(t,e){var r=An(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ef(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,hn=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=di!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=An(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fn=t,hn=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vu(t){if(qe){var e=hn;if(e){var r=e;if(!Ef(t,e)){if(Hu(t))throw Error(K(418));e=Pr(r.nextSibling);var o=fn;e&&Ef(t,e)?V0(o,r):(t.flags=t.flags&-4097|2,qe=!1,fn=t)}}else{if(Hu(t))throw Error(K(418));t.flags=t.flags&-4097|2,qe=!1,fn=t}}}function Cf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Qo(t){if(t!==fn)return!1;if(!qe)return Cf(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fu(t.type,t.memoizedProps)),e&&(e=hn)){if(Hu(t))throw W0(),Error(K(418));for(;e;)V0(t,e),e=Pr(e.nextSibling)}if(Cf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hn=Pr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=fn?Pr(t.stateNode.nextSibling):null;return!0}function W0(){for(var t=hn;t;)t=Pr(t.nextSibling)}function ss(){hn=fn=null,qe=!1}function Uc(t){Pn===null?Pn=[t]:Pn.push(t)}var $2=fr.ReactCurrentBatchConfig;function Ds(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var o=r.stateNode}if(!o)throw Error(K(147,t));var l=o,c=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var m=l.refs;d===null?delete m[c]:m[c]=d},e._stringRef=c,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Af(t){var e=t._init;return e(t._payload)}function G0(t){function e(M,b){if(t){var T=M.deletions;T===null?(M.deletions=[b],M.flags|=16):T.push(b)}}function r(M,b){if(!t)return null;for(;b!==null;)e(M,b),b=b.sibling;return null}function o(M,b){for(M=new Map;b!==null;)b.key!==null?M.set(b.key,b):M.set(b.index,b),b=b.sibling;return M}function l(M,b){return M=Ur(M,b),M.index=0,M.sibling=null,M}function c(M,b,T){return M.index=T,t?(T=M.alternate,T!==null?(T=T.index,T<b?(M.flags|=2,b):T):(M.flags|=2,b)):(M.flags|=1048576,b)}function d(M){return t&&M.alternate===null&&(M.flags|=2),M}function m(M,b,T,P){return b===null||b.tag!==6?(b=su(T,M.mode,P),b.return=M,b):(b=l(b,T),b.return=M,b)}function w(M,b,T,P){var Q=T.type;return Q===ji?C(M,b,T.props.children,P,T.key):b!==null&&(b.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===_r&&Af(Q)===b.type)?(P=l(b,T.props),P.ref=Ds(M,b,T),P.return=M,P):(P=xa(T.type,T.key,T.props,null,M.mode,P),P.ref=Ds(M,b,T),P.return=M,P)}function x(M,b,T,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=ou(T,M.mode,P),b.return=M,b):(b=l(b,T.children||[]),b.return=M,b)}function C(M,b,T,P,Q){return b===null||b.tag!==7?(b=hi(T,M.mode,P,Q),b.return=M,b):(b=l(b,T),b.return=M,b)}function A(M,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=su(""+b,M.mode,T),b.return=M,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uo:return T=xa(b.type,b.key,b.props,null,M.mode,T),T.ref=Ds(M,null,b),T.return=M,T;case Fi:return b=ou(b,M.mode,T),b.return=M,b;case _r:var P=b._init;return A(M,P(b._payload),T)}if(Fs(b)||bs(b))return b=hi(b,M.mode,T,null),b.return=M,b;Zo(M,b)}return null}function N(M,b,T,P){var Q=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Q!==null?null:m(M,b,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Uo:return T.key===Q?w(M,b,T,P):null;case Fi:return T.key===Q?x(M,b,T,P):null;case _r:return Q=T._init,N(M,b,Q(T._payload),P)}if(Fs(T)||bs(T))return Q!==null?null:C(M,b,T,P,null);Zo(M,T)}return null}function D(M,b,T,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number")return M=M.get(T)||null,m(b,M,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Uo:return M=M.get(P.key===null?T:P.key)||null,w(b,M,P,Q);case Fi:return M=M.get(P.key===null?T:P.key)||null,x(b,M,P,Q);case _r:var W=P._init;return D(M,b,T,W(P._payload),Q)}if(Fs(P)||bs(P))return M=M.get(T)||null,C(b,M,P,Q,null);Zo(b,P)}return null}function V(M,b,T,P){for(var Q=null,W=null,B=b,J=b=0,G=null;B!==null&&J<T.length;J++){B.index>J?(G=B,B=null):G=B.sibling;var me=N(M,B,T[J],P);if(me===null){B===null&&(B=G);break}t&&B&&me.alternate===null&&e(M,B),b=c(me,b,J),W===null?Q=me:W.sibling=me,W=me,B=G}if(J===T.length)return r(M,B),qe&&ri(M,J),Q;if(B===null){for(;J<T.length;J++)B=A(M,T[J],P),B!==null&&(b=c(B,b,J),W===null?Q=B:W.sibling=B,W=B);return qe&&ri(M,J),Q}for(B=o(M,B);J<T.length;J++)G=D(B,M,J,T[J],P),G!==null&&(t&&G.alternate!==null&&B.delete(G.key===null?J:G.key),b=c(G,b,J),W===null?Q=G:W.sibling=G,W=G);return t&&B.forEach(function(Be){return e(M,Be)}),qe&&ri(M,J),Q}function F(M,b,T,P){var Q=bs(T);if(typeof Q!="function")throw Error(K(150));if(T=Q.call(T),T==null)throw Error(K(151));for(var W=Q=null,B=b,J=b=0,G=null,me=T.next();B!==null&&!me.done;J++,me=T.next()){B.index>J?(G=B,B=null):G=B.sibling;var Be=N(M,B,me.value,P);if(Be===null){B===null&&(B=G);break}t&&B&&Be.alternate===null&&e(M,B),b=c(Be,b,J),W===null?Q=Be:W.sibling=Be,W=Be,B=G}if(me.done)return r(M,B),qe&&ri(M,J),Q;if(B===null){for(;!me.done;J++,me=T.next())me=A(M,me.value,P),me!==null&&(b=c(me,b,J),W===null?Q=me:W.sibling=me,W=me);return qe&&ri(M,J),Q}for(B=o(M,B);!me.done;J++,me=T.next())me=D(B,M,J,me.value,P),me!==null&&(t&&me.alternate!==null&&B.delete(me.key===null?J:me.key),b=c(me,b,J),W===null?Q=me:W.sibling=me,W=me);return t&&B.forEach(function(ue){return e(M,ue)}),qe&&ri(M,J),Q}function $(M,b,T,P){if(typeof T=="object"&&T!==null&&T.type===ji&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Uo:e:{for(var Q=T.key,W=b;W!==null;){if(W.key===Q){if(Q=T.type,Q===ji){if(W.tag===7){r(M,W.sibling),b=l(W,T.props.children),b.return=M,M=b;break e}}else if(W.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===_r&&Af(Q)===W.type){r(M,W.sibling),b=l(W,T.props),b.ref=Ds(M,W,T),b.return=M,M=b;break e}r(M,W);break}else e(M,W);W=W.sibling}T.type===ji?(b=hi(T.props.children,M.mode,P,T.key),b.return=M,M=b):(P=xa(T.type,T.key,T.props,null,M.mode,P),P.ref=Ds(M,b,T),P.return=M,M=P)}return d(M);case Fi:e:{for(W=T.key;b!==null;){if(b.key===W)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){r(M,b.sibling),b=l(b,T.children||[]),b.return=M,M=b;break e}else{r(M,b);break}else e(M,b);b=b.sibling}b=ou(T,M.mode,P),b.return=M,M=b}return d(M);case _r:return W=T._init,$(M,b,W(T._payload),P)}if(Fs(T))return V(M,b,T,P);if(bs(T))return F(M,b,T,P);Zo(M,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(r(M,b.sibling),b=l(b,T),b.return=M,M=b):(r(M,b),b=su(T,M.mode,P),b.return=M,M=b),d(M)):r(M,b)}return $}var os=G0(!0),Y0=G0(!1),Ma=Gr(null),Ra=null,Xi=null,zc=null;function Hc(){zc=Xi=Ra=null}function Vc(t){var e=Ma.current;Ke(Ma),t._currentValue=e}function Wu(t,e,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===r)break;t=t.return}}function ts(t,e){Ra=t,zc=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(zc!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Ra===null)throw Error(K(308));Xi=t,Ra.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var li=null;function Wc(t){li===null?li=[t]:li.push(t)}function X0(t,e,r,o){var l=e.interleaved;return l===null?(r.next=r,Wc(e)):(r.next=l.next,l.next=r),e.interleaved=r,cr(t,o)}function cr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ir=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Oe&2){var l=o.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),o.pending=e,cr(t,r)}return l=o.interleaved,l===null?(e.next=e,Wc(o)):(e.next=l.next,l.next=e),o.interleaved=e,cr(t,r)}function ha(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,Oc(t,r)}}function Sf(t,e){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var l=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?l=c=d:c=c.next=d,r=r.next}while(r!==null);c===null?l=c=e:c=c.next=e}else l=c=e;r={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Da(t,e,r,o){var l=t.updateQueue;Ir=!1;var c=l.firstBaseUpdate,d=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var w=m,x=w.next;w.next=null,d===null?c=x:d.next=x,d=w;var C=t.alternate;C!==null&&(C=C.updateQueue,m=C.lastBaseUpdate,m!==d&&(m===null?C.firstBaseUpdate=x:m.next=x,C.lastBaseUpdate=w))}if(c!==null){var A=l.baseState;d=0,C=x=w=null,m=c;do{var N=m.lane,D=m.eventTime;if((o&N)===N){C!==null&&(C=C.next={eventTime:D,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var V=t,F=m;switch(N=e,D=r,F.tag){case 1:if(V=F.payload,typeof V=="function"){A=V.call(D,A,N);break e}A=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=F.payload,N=typeof V=="function"?V.call(D,A,N):V,N==null)break e;A=rt({},A,N);break e;case 2:Ir=!0}}m.callback!==null&&m.lane!==0&&(t.flags|=64,N=l.effects,N===null?l.effects=[m]:N.push(m))}else D={eventTime:D,lane:N,tag:m.tag,payload:m.payload,callback:m.callback,next:null},C===null?(x=C=D,w=A):C=C.next=D,d|=N;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;N=m,m=N.next,N.next=null,l.lastBaseUpdate=N,l.shared.pending=null}}while(!0);if(C===null&&(w=A),l.baseState=w,l.firstBaseUpdate=x,l.lastBaseUpdate=C,e=l.shared.interleaved,e!==null){l=e;do d|=l.lane,l=l.next;while(l!==e)}else c===null&&(l.shared.lanes=0);pi|=d,t.lanes=d,t.memoizedState=A}}function _f(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],l=o.callback;if(l!==null){if(o.callback=null,o=r,typeof l!="function")throw Error(K(191,l));l.call(o)}}}var Co={},qn=Gr(Co),co=Gr(Co),ho=Gr(Co);function ui(t){if(t===Co)throw Error(K(174));return t}function Yc(t,e){switch(Ge(ho,e),Ge(co,t),Ge(qn,Co),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Su(e,t)}Ke(qn),Ge(qn,e)}function as(){Ke(qn),Ke(co),Ke(ho)}function K0(t){ui(ho.current);var e=ui(qn.current),r=Su(e,t.type);e!==r&&(Ge(co,t),Ge(qn,r))}function Xc(t){co.current===t&&(Ke(qn),Ke(co))}var tt=Gr(0);function ka(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jl=[];function $c(){for(var t=0;t<Jl.length;t++)Jl[t]._workInProgressVersionPrimary=null;Jl.length=0}var fa=fr.ReactCurrentDispatcher,eu=fr.ReactCurrentBatchConfig,gi=0,nt=null,xt=null,At=null,La=!1,Xs=!1,fo=0,K2=0;function Lt(){throw Error(K(321))}function Kc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jn(t[r],e[r]))return!1;return!0}function Qc(t,e,r,o,l,c){if(gi=c,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=t===null||t.memoizedState===null?J2:em,t=r(o,l),Xs){c=0;do{if(Xs=!1,fo=0,25<=c)throw Error(K(301));c+=1,At=xt=null,e.updateQueue=null,fa.current=tm,t=r(o,l)}while(Xs)}if(fa.current=Pa,e=xt!==null&&xt.next!==null,gi=0,At=xt=nt=null,La=!1,e)throw Error(K(300));return t}function Zc(){var t=fo!==0;return fo=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=t:At=At.next=t,At}function In(){if(xt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=At===null?nt.memoizedState:At.next;if(e!==null)At=e,xt=t;else{if(t===null)throw Error(K(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},At===null?nt.memoizedState=At=t:At=At.next=t}return At}function go(t,e){return typeof e=="function"?e(t):e}function tu(t){var e=In(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var o=xt,l=o.baseQueue,c=r.pending;if(c!==null){if(l!==null){var d=l.next;l.next=c.next,c.next=d}o.baseQueue=l=c,r.pending=null}if(l!==null){c=l.next,o=o.baseState;var m=d=null,w=null,x=c;do{var C=x.lane;if((gi&C)===C)w!==null&&(w=w.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),o=x.hasEagerState?x.eagerState:t(o,x.action);else{var A={lane:C,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};w===null?(m=w=A,d=o):w=w.next=A,nt.lanes|=C,pi|=C}x=x.next}while(x!==null&&x!==c);w===null?d=o:w.next=m,jn(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseState=d,e.baseQueue=w,r.lastRenderedState=o}if(t=r.interleaved,t!==null){l=t;do c=l.lane,nt.lanes|=c,pi|=c,l=l.next;while(l!==t)}else l===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function nu(t){var e=In(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var o=r.dispatch,l=r.pending,c=e.memoizedState;if(l!==null){r.pending=null;var d=l=l.next;do c=t(c,d.action),d=d.next;while(d!==l);jn(c,e.memoizedState)||(tn=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),r.lastRenderedState=c}return[c,o]}function Q0(){}function Z0(t,e){var r=nt,o=In(),l=e(),c=!jn(o.memoizedState,l);if(c&&(o.memoizedState=l,tn=!0),o=o.queue,qc(e1.bind(null,r,o,t),[t]),o.getSnapshot!==e||c||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,po(9,J0.bind(null,r,o,l,e),void 0,null),St===null)throw Error(K(349));gi&30||q0(r,e,l)}return l}function q0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function J0(t,e,r,o){e.value=r,e.getSnapshot=o,t1(e)&&n1(t)}function e1(t,e,r){return r(function(){t1(e)&&n1(t)})}function t1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!jn(t,r)}catch{return!0}}function n1(t){var e=cr(t,1);e!==null&&Fn(e,t,1,-1)}function If(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},e.queue=t,t=t.dispatch=q2.bind(null,nt,t),[e.memoizedState,t]}function po(t,e,r,o){return t={tag:t,create:e,destroy:r,deps:o,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,e.lastEffect=t)),t}function r1(){return In().memoizedState}function da(t,e,r,o){var l=$n();nt.flags|=t,l.memoizedState=po(1|e,r,void 0,o===void 0?null:o)}function Ja(t,e,r,o){var l=In();o=o===void 0?null:o;var c=void 0;if(xt!==null){var d=xt.memoizedState;if(c=d.destroy,o!==null&&Kc(o,d.deps)){l.memoizedState=po(e,r,c,o);return}}nt.flags|=t,l.memoizedState=po(1|e,r,c,o)}function Tf(t,e){return da(8390656,8,t,e)}function qc(t,e){return Ja(2048,8,t,e)}function i1(t,e){return Ja(4,2,t,e)}function s1(t,e){return Ja(4,4,t,e)}function o1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a1(t,e,r){return r=r!=null?r.concat([t]):null,Ja(4,4,o1.bind(null,e,t),r)}function Jc(){}function l1(t,e){var r=In();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&Kc(e,o[1])?o[0]:(r.memoizedState=[t,e],t)}function u1(t,e){var r=In();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&Kc(e,o[1])?o[0]:(t=t(),r.memoizedState=[t,e],t)}function c1(t,e,r){return gi&21?(jn(r,e)||(r=p0(),nt.lanes|=r,pi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function Q2(t,e){var r=Pe;Pe=r!==0&&4>r?r:4,t(!0);var o=eu.transition;eu.transition={};try{t(!1),e()}finally{Pe=r,eu.transition=o}}function h1(){return In().memoizedState}function Z2(t,e,r){var o=jr(t);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},f1(t))d1(e,r);else if(r=X0(t,e,r,o),r!==null){var l=Vt();Fn(r,t,o,l),g1(r,e,o)}}function q2(t,e,r){var o=jr(t),l={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(f1(t))d1(e,l);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,m=c(d,r);if(l.hasEagerState=!0,l.eagerState=m,jn(m,d)){var w=e.interleaved;w===null?(l.next=l,Wc(e)):(l.next=w.next,w.next=l),e.interleaved=l;return}}catch{}finally{}r=X0(t,e,l,o),r!==null&&(l=Vt(),Fn(r,t,o,l),g1(r,e,o))}}function f1(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function d1(t,e){Xs=La=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function g1(t,e,r){if(r&4194240){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,Oc(t,r)}}var Pa={readContext:_n,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},J2={readContext:_n,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Tf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,da(4194308,4,o1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return da(4194308,4,t,e)},useInsertionEffect:function(t,e){return da(4,2,t,e)},useMemo:function(t,e){var r=$n();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var o=$n();return e=r!==void 0?r(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Z2.bind(null,nt,t),[o.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:If,useDebugValue:Jc,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=If(!1),e=t[0];return t=Q2.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var o=nt,l=$n();if(qe){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),St===null)throw Error(K(349));gi&30||q0(o,e,r)}l.memoizedState=r;var c={value:r,getSnapshot:e};return l.queue=c,Tf(e1.bind(null,o,c,t),[t]),o.flags|=2048,po(9,J0.bind(null,o,c,r,e),void 0,null),r},useId:function(){var t=$n(),e=St.identifierPrefix;if(qe){var r=sr,o=ir;r=(o&~(1<<32-Bn(o)-1)).toString(32)+r,e=":"+e+"R"+r,r=fo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=K2++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},em={readContext:_n,useCallback:l1,useContext:_n,useEffect:qc,useImperativeHandle:a1,useInsertionEffect:i1,useLayoutEffect:s1,useMemo:u1,useReducer:tu,useRef:r1,useState:function(){return tu(go)},useDebugValue:Jc,useDeferredValue:function(t){var e=In();return c1(e,xt.memoizedState,t)},useTransition:function(){var t=tu(go)[0],e=In().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:Z0,useId:h1,unstable_isNewReconciler:!1},tm={readContext:_n,useCallback:l1,useContext:_n,useEffect:qc,useImperativeHandle:a1,useInsertionEffect:i1,useLayoutEffect:s1,useMemo:u1,useReducer:nu,useRef:r1,useState:function(){return nu(go)},useDebugValue:Jc,useDeferredValue:function(t){var e=In();return xt===null?e.memoizedState=t:c1(e,xt.memoizedState,t)},useTransition:function(){var t=nu(go)[0],e=In().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:Z0,useId:h1,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Gu(t,e,r,o){e=t.memoizedState,r=r(o,e),r=r==null?e:rt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var el={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var o=Vt(),l=jr(t),c=ar(o,l);c.payload=e,r!=null&&(c.callback=r),e=Br(t,c,l),e!==null&&(Fn(e,t,l,o),ha(e,t,l))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var o=Vt(),l=jr(t),c=ar(o,l);c.tag=1,c.payload=e,r!=null&&(c.callback=r),e=Br(t,c,l),e!==null&&(Fn(e,t,l,o),ha(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vt(),o=jr(t),l=ar(r,o);l.tag=2,e!=null&&(l.callback=e),e=Br(t,l,o),e!==null&&(Fn(e,t,o,r),ha(e,t,o))}};function bf(t,e,r,o,l,c,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,c,d):e.prototype&&e.prototype.isPureReactComponent?!oo(r,o)||!oo(l,c):!0}function p1(t,e,r){var o=!1,l=Hr,c=e.contextType;return typeof c=="object"&&c!==null?c=_n(c):(l=rn(e)?fi:jt.current,o=e.contextTypes,c=(o=o!=null)?is(t,l):Hr),e=new e(r,c),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=el,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=c),e}function Nf(t,e,r,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==t&&el.enqueueReplaceState(e,e.state,null)}function Yu(t,e,r,o){var l=t.stateNode;l.props=r,l.state=t.memoizedState,l.refs={},Gc(t);var c=e.contextType;typeof c=="object"&&c!==null?l.context=_n(c):(c=rn(e)?fi:jt.current,l.context=is(t,c)),l.state=t.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Gu(t,e,c,r),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&el.enqueueReplaceState(l,l.state,null),Da(t,r,l,o),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e){try{var r="",o=e;do r+=Np(o),o=o.return;while(o);var l=r}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:e,stack:l,digest:null}}function ru(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var nm=typeof WeakMap=="function"?WeakMap:Map;function m1(t,e,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var o=e.value;return r.callback=function(){Fa||(Fa=!0,rc=o),Xu(t,e)},r}function x1(t,e,r){r=ar(-1,r),r.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var l=e.value;r.payload=function(){return o(l)},r.callback=function(){Xu(t,e)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){Xu(t,e),typeof o!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),r}function Of(t,e,r){var o=t.pingCache;if(o===null){o=t.pingCache=new nm;var l=new Set;o.set(e,l)}else l=o.get(e),l===void 0&&(l=new Set,o.set(e,l));l.has(r)||(l.add(r),t=mm.bind(null,t,e,r),e.then(t,t))}function Mf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rf(t,e,r,o,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ar(-1,1),e.tag=2,Br(r,e,1))),r.lanes|=1),t)}var rm=fr.ReactCurrentOwner,tn=!1;function Ht(t,e,r,o){e.child=t===null?Y0(e,null,r,o):os(e,t.child,r,o)}function Df(t,e,r,o,l){r=r.render;var c=e.ref;return ts(e,l),o=Qc(t,e,r,o,c,l),r=Zc(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,hr(t,e,l)):(qe&&r&&Fc(e),e.flags|=1,Ht(t,e,o,l),e.child)}function kf(t,e,r,o,l){if(t===null){var c=r.type;return typeof c=="function"&&!ah(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=c,w1(t,e,c,o,l)):(t=xa(r.type,null,o,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!(t.lanes&l)){var d=c.memoizedProps;if(r=r.compare,r=r!==null?r:oo,r(d,o)&&t.ref===e.ref)return hr(t,e,l)}return e.flags|=1,t=Ur(c,o),t.ref=e.ref,t.return=e,e.child=t}function w1(t,e,r,o,l){if(t!==null){var c=t.memoizedProps;if(oo(c,o)&&t.ref===e.ref)if(tn=!1,e.pendingProps=o=c,(t.lanes&l)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,hr(t,e,l)}return $u(t,e,r,o,l)}function y1(t,e,r){var o=e.pendingProps,l=o.children,c=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ki,un),un|=r;else{if(!(r&1073741824))return t=c!==null?c.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Ki,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:r,Ge(Ki,un),un|=o}else c!==null?(o=c.baseLanes|r,e.memoizedState=null):o=r,Ge(Ki,un),un|=o;return Ht(t,e,l,r),e.child}function v1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $u(t,e,r,o,l){var c=rn(r)?fi:jt.current;return c=is(e,c),ts(e,l),r=Qc(t,e,r,o,c,l),o=Zc(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,hr(t,e,l)):(qe&&o&&Fc(e),e.flags|=1,Ht(t,e,r,l),e.child)}function Lf(t,e,r,o,l){if(rn(r)){var c=!0;ba(e)}else c=!1;if(ts(e,l),e.stateNode===null)ga(t,e),p1(e,r,o),Yu(e,r,o,l),o=!0;else if(t===null){var d=e.stateNode,m=e.memoizedProps;d.props=m;var w=d.context,x=r.contextType;typeof x=="object"&&x!==null?x=_n(x):(x=rn(r)?fi:jt.current,x=is(e,x));var C=r.getDerivedStateFromProps,A=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function";A||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==o||w!==x)&&Nf(e,d,o,x),Ir=!1;var N=e.memoizedState;d.state=N,Da(e,o,d,l),w=e.memoizedState,m!==o||N!==w||nn.current||Ir?(typeof C=="function"&&(Gu(e,r,C,o),w=e.memoizedState),(m=Ir||bf(e,r,m,o,N,w,x))?(A||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=w),d.props=o,d.state=w,d.context=x,o=m):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{d=e.stateNode,$0(t,e),m=e.memoizedProps,x=e.type===e.elementType?m:Rn(e.type,m),d.props=x,A=e.pendingProps,N=d.context,w=r.contextType,typeof w=="object"&&w!==null?w=_n(w):(w=rn(r)?fi:jt.current,w=is(e,w));var D=r.getDerivedStateFromProps;(C=typeof D=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==A||N!==w)&&Nf(e,d,o,w),Ir=!1,N=e.memoizedState,d.state=N,Da(e,o,d,l);var V=e.memoizedState;m!==A||N!==V||nn.current||Ir?(typeof D=="function"&&(Gu(e,r,D,o),V=e.memoizedState),(x=Ir||bf(e,r,x,o,N,V,w)||!1)?(C||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,V,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,V,w)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=V),d.props=o,d.state=V,d.context=w,o=x):(typeof d.componentDidUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(e.flags|=1024),o=!1)}return Ku(t,e,r,o,c,l)}function Ku(t,e,r,o,l,c){v1(t,e);var d=(e.flags&128)!==0;if(!o&&!d)return l&&vf(e,r,!1),hr(t,e,c);o=e.stateNode,rm.current=e;var m=d&&typeof r.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&d?(e.child=os(e,t.child,null,c),e.child=os(e,null,m,c)):Ht(t,e,m,c),e.memoizedState=o.state,l&&vf(e,r,!0),e.child}function E1(t){var e=t.stateNode;e.pendingContext?yf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yf(t,e.context,!1),Yc(t,e.containerInfo)}function Pf(t,e,r,o,l){return ss(),Uc(l),e.flags|=256,Ht(t,e,r,o),e.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function C1(t,e,r){var o=e.pendingProps,l=tt.current,c=!1,d=(e.flags&128)!==0,m;if((m=d)||(m=t!==null&&t.memoizedState===null?!1:(l&2)!==0),m?(c=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Ge(tt,l&1),t===null)return Vu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=o.children,t=o.fallback,c?(o=e.mode,c=e.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=rl(d,o,0,null),t=hi(t,o,r,null),c.return=e,t.return=e,c.sibling=t,e.child=c,e.child.memoizedState=Zu(r),e.memoizedState=Qu,t):eh(e,d));if(l=t.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return im(t,e,d,o,m,l,r);if(c){c=o.fallback,d=e.mode,l=t.child,m=l.sibling;var w={mode:"hidden",children:o.children};return!(d&1)&&e.child!==l?(o=e.child,o.childLanes=0,o.pendingProps=w,e.deletions=null):(o=Ur(l,w),o.subtreeFlags=l.subtreeFlags&14680064),m!==null?c=Ur(m,c):(c=hi(c,d,r,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,d=t.child.memoizedState,d=d===null?Zu(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=t.childLanes&~r,e.memoizedState=Qu,o}return c=t.child,t=c.sibling,o=Ur(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=r),o.return=e,o.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=o,e.memoizedState=null,o}function eh(t,e){return e=rl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qo(t,e,r,o){return o!==null&&Uc(o),os(e,t.child,null,r),t=eh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function im(t,e,r,o,l,c,d){if(r)return e.flags&256?(e.flags&=-257,o=ru(Error(K(422))),qo(t,e,d,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(c=o.fallback,l=e.mode,o=rl({mode:"visible",children:o.children},l,0,null),c=hi(c,l,d,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&os(e,t.child,null,d),e.child.memoizedState=Zu(d),e.memoizedState=Qu,c);if(!(e.mode&1))return qo(t,e,d,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var m=o.dgst;return o=m,c=Error(K(419)),o=ru(c,o,void 0),qo(t,e,d,o)}if(m=(d&t.childLanes)!==0,tn||m){if(o=St,o!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|d)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,cr(t,l),Fn(o,t,l,-1))}return oh(),o=ru(Error(K(421))),qo(t,e,d,o)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=xm.bind(null,t),l._reactRetry=e,null):(t=c.treeContext,hn=Pr(l.nextSibling),fn=e,qe=!0,Pn=null,t!==null&&(En[Cn++]=ir,En[Cn++]=sr,En[Cn++]=di,ir=t.id,sr=t.overflow,di=e),e=eh(e,o.children),e.flags|=4096,e)}function Bf(t,e,r){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Wu(t.return,e,r)}function iu(t,e,r,o,l){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:l}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=r,c.tailMode=l)}function A1(t,e,r){var o=e.pendingProps,l=o.revealOrder,c=o.tail;if(Ht(t,e,o.children,r),o=tt.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bf(t,r,e);else if(t.tag===19)Bf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Ge(tt,o),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(r=e.child,l=null;r!==null;)t=r.alternate,t!==null&&ka(t)===null&&(l=r),r=r.sibling;r=l,r===null?(l=e.child,e.child=null):(l=r.sibling,r.sibling=null),iu(e,!1,l,r,c);break;case"backwards":for(r=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&ka(t)===null){e.child=l;break}t=l.sibling,l.sibling=r,r=l,l=t}iu(e,!0,r,null,c);break;case"together":iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=Ur(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ur(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sm(t,e,r){switch(e.tag){case 3:E1(e),ss();break;case 5:K0(e);break;case 1:rn(e.type)&&ba(e);break;case 4:Yc(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,l=e.memoizedProps.value;Ge(Ma,o._currentValue),o._currentValue=l;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Ge(tt,tt.current&1),e.flags|=128,null):r&e.child.childLanes?C1(t,e,r):(Ge(tt,tt.current&1),t=hr(t,e,r),t!==null?t.sibling:null);Ge(tt,tt.current&1);break;case 19:if(o=(r&e.childLanes)!==0,t.flags&128){if(o)return A1(t,e,r);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ge(tt,tt.current),o)break;return null;case 22:case 23:return e.lanes=0,y1(t,e,r)}return hr(t,e,r)}var S1,qu,_1,I1;S1=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qu=function(){};_1=function(t,e,r,o){var l=t.memoizedProps;if(l!==o){t=e.stateNode,ui(qn.current);var c=null;switch(r){case"input":l=vu(t,l),o=vu(t,o),c=[];break;case"select":l=rt({},l,{value:void 0}),o=rt({},o,{value:void 0}),c=[];break;case"textarea":l=Au(t,l),o=Au(t,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Ia)}_u(r,o);var d;r=null;for(x in l)if(!o.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var m=l[x];for(d in m)m.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Js.hasOwnProperty(x)?c||(c=[]):(c=c||[]).push(x,null));for(x in o){var w=o[x];if(m=l!=null?l[x]:void 0,o.hasOwnProperty(x)&&w!==m&&(w!=null||m!=null))if(x==="style")if(m){for(d in m)!m.hasOwnProperty(d)||w&&w.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in w)w.hasOwnProperty(d)&&m[d]!==w[d]&&(r||(r={}),r[d]=w[d])}else r||(c||(c=[]),c.push(x,r)),r=w;else x==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(c=c||[]).push(x,w)):x==="children"?typeof w!="string"&&typeof w!="number"||(c=c||[]).push(x,""+w):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Js.hasOwnProperty(x)?(w!=null&&x==="onScroll"&&Xe("scroll",t),c||m===w||(c=[])):(c=c||[]).push(x,w))}r&&(c=c||[]).push("style",r);var x=c;(e.updateQueue=x)&&(e.flags|=4)}};I1=function(t,e,r,o){r!==o&&(e.flags|=4)};function ks(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(e)for(var l=t.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=o,t.childLanes=r,e}function om(t,e,r){var o=e.pendingProps;switch(jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return rn(e.type)&&Ta(),Pt(e),null;case 3:return o=e.stateNode,as(),Ke(nn),Ke(jt),$c(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Qo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(oc(Pn),Pn=null))),qu(t,e),Pt(e),null;case 5:Xc(e);var l=ui(ho.current);if(r=e.type,t!==null&&e.stateNode!=null)_1(t,e,r,o,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(K(166));return Pt(e),null}if(t=ui(qn.current),Qo(e)){o=e.stateNode,r=e.type;var c=e.memoizedProps;switch(o[Qn]=e,o[uo]=c,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":case"embed":Xe("load",o);break;case"video":case"audio":for(l=0;l<Us.length;l++)Xe(Us[l],o);break;case"source":Xe("error",o);break;case"img":case"image":case"link":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"input":Gh(o,c),Xe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Xe("invalid",o);break;case"textarea":Xh(o,c),Xe("invalid",o)}_u(r,c),l=null;for(var d in c)if(c.hasOwnProperty(d)){var m=c[d];d==="children"?typeof m=="string"?o.textContent!==m&&(c.suppressHydrationWarning!==!0&&Ko(o.textContent,m,t),l=["children",m]):typeof m=="number"&&o.textContent!==""+m&&(c.suppressHydrationWarning!==!0&&Ko(o.textContent,m,t),l=["children",""+m]):Js.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&Xe("scroll",o)}switch(r){case"input":zo(o),Yh(o,c,!0);break;case"textarea":zo(o),$h(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Ia)}o=l,e.updateQueue=o,o!==null&&(e.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=d.createElement(r,{is:o.is}):(t=d.createElement(r),r==="select"&&(d=t,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):t=d.createElementNS(t,r),t[Qn]=e,t[uo]=o,S1(t,e,!1,!1),e.stateNode=t;e:{switch(d=Iu(r,o),r){case"dialog":Xe("cancel",t),Xe("close",t),l=o;break;case"iframe":case"object":case"embed":Xe("load",t),l=o;break;case"video":case"audio":for(l=0;l<Us.length;l++)Xe(Us[l],t);l=o;break;case"source":Xe("error",t),l=o;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),l=o;break;case"details":Xe("toggle",t),l=o;break;case"input":Gh(t,o),l=vu(t,o),Xe("invalid",t);break;case"option":l=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},l=rt({},o,{value:void 0}),Xe("invalid",t);break;case"textarea":Xh(t,o),l=Au(t,o),Xe("invalid",t);break;default:l=o}_u(r,l),m=l;for(c in m)if(m.hasOwnProperty(c)){var w=m[c];c==="style"?r0(t,w):c==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&t0(t,w)):c==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&eo(t,w):typeof w=="number"&&eo(t,""+w):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Js.hasOwnProperty(c)?w!=null&&c==="onScroll"&&Xe("scroll",t):w!=null&&Sc(t,c,w,d))}switch(r){case"input":zo(t),Yh(t,o,!1);break;case"textarea":zo(t),$h(t);break;case"option":o.value!=null&&t.setAttribute("value",""+zr(o.value));break;case"select":t.multiple=!!o.multiple,c=o.value,c!=null?Zi(t,!!o.multiple,c,!1):o.defaultValue!=null&&Zi(t,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Ia)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)I1(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(K(166));if(r=ui(ho.current),ui(qn.current),Qo(e)){if(o=e.stateNode,r=e.memoizedProps,o[Qn]=e,(c=o.nodeValue!==r)&&(t=fn,t!==null))switch(t.tag){case 3:Ko(o.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ko(o.nodeValue,r,(t.mode&1)!==0)}c&&(e.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Qn]=e,e.stateNode=o}return Pt(e),null;case 13:if(Ke(tt),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&hn!==null&&e.mode&1&&!(e.flags&128))W0(),ss(),e.flags|=98560,c=!1;else if(c=Qo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(K(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(K(317));c[Qn]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),c=!1}else Pn!==null&&(oc(Pn),Pn=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?wt===0&&(wt=3):oh())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return as(),qu(t,e),t===null&&ao(e.stateNode.containerInfo),Pt(e),null;case 10:return Vc(e.type._context),Pt(e),null;case 17:return rn(e.type)&&Ta(),Pt(e),null;case 19:if(Ke(tt),c=e.memoizedState,c===null)return Pt(e),null;if(o=(e.flags&128)!==0,d=c.rendering,d===null)if(o)ks(c,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(d=ka(t),d!==null){for(e.flags|=128,ks(c,!1),o=d.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=r,r=e.child;r!==null;)c=r,t=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,t=d.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ge(tt,tt.current&1|2),e.child}t=t.sibling}c.tail!==null&&ht()>us&&(e.flags|=128,o=!0,ks(c,!1),e.lanes=4194304)}else{if(!o)if(t=ka(d),t!==null){if(e.flags|=128,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ks(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!qe)return Pt(e),null}else 2*ht()-c.renderingStartTime>us&&r!==1073741824&&(e.flags|=128,o=!0,ks(c,!1),e.lanes=4194304);c.isBackwards?(d.sibling=e.child,e.child=d):(r=c.last,r!==null?r.sibling=d:e.child=d,c.last=d)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=ht(),e.sibling=null,r=tt.current,Ge(tt,o?r&1|2:r&1),e):(Pt(e),null);case 22:case 23:return sh(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?un&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function am(t,e){switch(jc(e),e.tag){case 1:return rn(e.type)&&Ta(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(),Ke(nn),Ke(jt),$c(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xc(e),null;case 13:if(Ke(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(tt),null;case 4:return as(),null;case 10:return Vc(e.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var Jo=!1,Ft=!1,lm=typeof WeakSet=="function"?WeakSet:Set,se=null;function $i(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){ut(t,e,o)}else r.current=null}function Ju(t,e,r){try{r()}catch(o){ut(t,e,o)}}var Ff=!1;function um(t,e){if(Pu=Aa,t=M0(),Bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var d=0,m=-1,w=-1,x=0,C=0,A=t,N=null;t:for(;;){for(var D;A!==r||l!==0&&A.nodeType!==3||(m=d+l),A!==c||o!==0&&A.nodeType!==3||(w=d+o),A.nodeType===3&&(d+=A.nodeValue.length),(D=A.firstChild)!==null;)N=A,A=D;for(;;){if(A===t)break t;if(N===r&&++x===l&&(m=d),N===c&&++C===o&&(w=d),(D=A.nextSibling)!==null)break;A=N,N=A.parentNode}A=D}r=m===-1||w===-1?null:{start:m,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bu={focusedElem:t,selectionRange:r},Aa=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var V=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var F=V.memoizedProps,$=V.memoizedState,M=e.stateNode,b=M.getSnapshotBeforeUpdate(e.elementType===e.type?F:Rn(e.type,F),$);M.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(P){ut(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return V=Ff,Ff=!1,V}function $s(t,e,r){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&t)===t){var c=l.destroy;l.destroy=void 0,c!==void 0&&Ju(e,r,c)}l=l.next}while(l!==o)}}function tl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}}function ec(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function T1(t){var e=t.alternate;e!==null&&(t.alternate=null,T1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[uo],delete e[Uu],delete e[G2],delete e[Y2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function b1(t){return t.tag===5||t.tag===3||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tc(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ia));else if(o!==4&&(t=t.child,t!==null))for(tc(t,e,r),t=t.sibling;t!==null;)tc(t,e,r),t=t.sibling}function nc(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(nc(t,e,r),t=t.sibling;t!==null;)nc(t,e,r),t=t.sibling}var Nt=null,Dn=!1;function Er(t,e,r){for(r=r.child;r!==null;)N1(t,e,r),r=r.sibling}function N1(t,e,r){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Xa,r)}catch{}switch(r.tag){case 5:Ft||$i(r,e);case 6:var o=Nt,l=Dn;Nt=null,Er(t,e,r),Nt=o,Dn=l,Nt!==null&&(Dn?(t=Nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Dn?(t=Nt,r=r.stateNode,t.nodeType===8?Zl(t.parentNode,r):t.nodeType===1&&Zl(t,r),io(t)):Zl(Nt,r.stateNode));break;case 4:o=Nt,l=Dn,Nt=r.stateNode.containerInfo,Dn=!0,Er(t,e,r),Nt=o,Dn=l;break;case 0:case 11:case 14:case 15:if(!Ft&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Ju(r,e,d),l=l.next}while(l!==o)}Er(t,e,r);break;case 1:if(!Ft&&($i(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(m){ut(r,e,m)}Er(t,e,r);break;case 21:Er(t,e,r);break;case 22:r.mode&1?(Ft=(o=Ft)||r.memoizedState!==null,Er(t,e,r),Ft=o):Er(t,e,r);break;default:Er(t,e,r)}}function Uf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new lm),e.forEach(function(o){var l=wm.bind(null,t,o);r.has(o)||(r.add(o),o.then(l,l))})}}function On(t,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];try{var c=t,d=e,m=d;e:for(;m!==null;){switch(m.tag){case 5:Nt=m.stateNode,Dn=!1;break e;case 3:Nt=m.stateNode.containerInfo,Dn=!0;break e;case 4:Nt=m.stateNode.containerInfo,Dn=!0;break e}m=m.return}if(Nt===null)throw Error(K(160));N1(c,d,l),Nt=null,Dn=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(x){ut(l,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)O1(e,t),e=e.sibling}function O1(t,e){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Xn(t),o&4){try{$s(3,t,t.return),tl(3,t)}catch(F){ut(t,t.return,F)}try{$s(5,t,t.return)}catch(F){ut(t,t.return,F)}}break;case 1:On(e,t),Xn(t),o&512&&r!==null&&$i(r,r.return);break;case 5:if(On(e,t),Xn(t),o&512&&r!==null&&$i(r,r.return),t.flags&32){var l=t.stateNode;try{eo(l,"")}catch(F){ut(t,t.return,F)}}if(o&4&&(l=t.stateNode,l!=null)){var c=t.memoizedProps,d=r!==null?r.memoizedProps:c,m=t.type,w=t.updateQueue;if(t.updateQueue=null,w!==null)try{m==="input"&&c.type==="radio"&&c.name!=null&&qd(l,c),Iu(m,d);var x=Iu(m,c);for(d=0;d<w.length;d+=2){var C=w[d],A=w[d+1];C==="style"?r0(l,A):C==="dangerouslySetInnerHTML"?t0(l,A):C==="children"?eo(l,A):Sc(l,C,A,x)}switch(m){case"input":Eu(l,c);break;case"textarea":Jd(l,c);break;case"select":var N=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var D=c.value;D!=null?Zi(l,!!c.multiple,D,!1):N!==!!c.multiple&&(c.defaultValue!=null?Zi(l,!!c.multiple,c.defaultValue,!0):Zi(l,!!c.multiple,c.multiple?[]:"",!1))}l[uo]=c}catch(F){ut(t,t.return,F)}}break;case 6:if(On(e,t),Xn(t),o&4){if(t.stateNode===null)throw Error(K(162));l=t.stateNode,c=t.memoizedProps;try{l.nodeValue=c}catch(F){ut(t,t.return,F)}}break;case 3:if(On(e,t),Xn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{io(e.containerInfo)}catch(F){ut(t,t.return,F)}break;case 4:On(e,t),Xn(t);break;case 13:On(e,t),Xn(t),l=t.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(rh=ht())),o&4&&Uf(t);break;case 22:if(C=r!==null&&r.memoizedState!==null,t.mode&1?(Ft=(x=Ft)||C,On(e,t),Ft=x):On(e,t),Xn(t),o&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!C&&t.mode&1)for(se=t,C=t.child;C!==null;){for(A=se=C;se!==null;){switch(N=se,D=N.child,N.tag){case 0:case 11:case 14:case 15:$s(4,N,N.return);break;case 1:$i(N,N.return);var V=N.stateNode;if(typeof V.componentWillUnmount=="function"){o=N,r=N.return;try{e=o,V.props=e.memoizedProps,V.state=e.memoizedState,V.componentWillUnmount()}catch(F){ut(o,r,F)}}break;case 5:$i(N,N.return);break;case 22:if(N.memoizedState!==null){Hf(A);continue}}D!==null?(D.return=N,se=D):Hf(A)}C=C.sibling}e:for(C=null,A=t;;){if(A.tag===5){if(C===null){C=A;try{l=A.stateNode,x?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(m=A.stateNode,w=A.memoizedProps.style,d=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=n0("display",d))}catch(F){ut(t,t.return,F)}}}else if(A.tag===6){if(C===null)try{A.stateNode.nodeValue=x?"":A.memoizedProps}catch(F){ut(t,t.return,F)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;C===A&&(C=null),A=A.return}C===A&&(C=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:On(e,t),Xn(t),o&4&&Uf(t);break;case 21:break;default:On(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(b1(r)){var o=r;break e}r=r.return}throw Error(K(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(eo(l,""),o.flags&=-33);var c=jf(t);nc(t,c,l);break;case 3:case 4:var d=o.stateNode.containerInfo,m=jf(t);tc(t,m,d);break;default:throw Error(K(161))}}catch(w){ut(t,t.return,w)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cm(t,e,r){se=t,M1(t)}function M1(t,e,r){for(var o=(t.mode&1)!==0;se!==null;){var l=se,c=l.child;if(l.tag===22&&o){var d=l.memoizedState!==null||Jo;if(!d){var m=l.alternate,w=m!==null&&m.memoizedState!==null||Ft;m=Jo;var x=Ft;if(Jo=d,(Ft=w)&&!x)for(se=l;se!==null;)d=se,w=d.child,d.tag===22&&d.memoizedState!==null?Vf(l):w!==null?(w.return=d,se=w):Vf(l);for(;c!==null;)se=c,M1(c),c=c.sibling;se=l,Jo=m,Ft=x}zf(t)}else l.subtreeFlags&8772&&c!==null?(c.return=l,se=c):zf(t)}}function zf(t){for(;se!==null;){var e=se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||tl(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Ft)if(r===null)o.componentDidMount();else{var l=e.elementType===e.type?r.memoizedProps:Rn(e.type,r.memoizedProps);o.componentDidUpdate(l,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&_f(e,c,o);break;case 3:var d=e.updateQueue;if(d!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_f(e,d,r)}break;case 5:var m=e.stateNode;if(r===null&&e.flags&4){r=m;var w=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&r.focus();break;case"img":w.src&&(r.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var C=x.memoizedState;if(C!==null){var A=C.dehydrated;A!==null&&io(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ft||e.flags&512&&ec(e)}catch(N){ut(e,e.return,N)}}if(e===t){se=null;break}if(r=e.sibling,r!==null){r.return=e.return,se=r;break}se=e.return}}function Hf(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,se=r;break}se=e.return}}function Vf(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{tl(4,e)}catch(w){ut(e,r,w)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var l=e.return;try{o.componentDidMount()}catch(w){ut(e,l,w)}}var c=e.return;try{ec(e)}catch(w){ut(e,c,w)}break;case 5:var d=e.return;try{ec(e)}catch(w){ut(e,d,w)}}}catch(w){ut(e,e.return,w)}if(e===t){se=null;break}var m=e.sibling;if(m!==null){m.return=e.return,se=m;break}se=e.return}}var hm=Math.ceil,Ba=fr.ReactCurrentDispatcher,th=fr.ReactCurrentOwner,Sn=fr.ReactCurrentBatchConfig,Oe=0,St=null,dt=null,Mt=0,un=0,Ki=Gr(0),wt=0,mo=null,pi=0,nl=0,nh=0,Ks=null,Jt=null,rh=0,us=1/0,tr=null,Fa=!1,rc=null,Fr=null,ea=!1,Rr=null,ja=0,Qs=0,ic=null,pa=-1,ma=0;function Vt(){return Oe&6?ht():pa!==-1?pa:pa=ht()}function jr(t){return t.mode&1?Oe&2&&Mt!==0?Mt&-Mt:$2.transition!==null?(ma===0&&(ma=p0()),ma):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:C0(t.type)),t):1}function Fn(t,e,r,o){if(50<Qs)throw Qs=0,ic=null,Error(K(185));yo(t,r,o),(!(Oe&2)||t!==St)&&(t===St&&(!(Oe&2)&&(nl|=r),wt===4&&Nr(t,Mt)),sn(t,o),r===1&&Oe===0&&!(e.mode&1)&&(us=ht()+500,qa&&Yr()))}function sn(t,e){var r=t.callbackNode;$p(t,e);var o=Ca(t,t===St?Mt:0);if(o===0)r!==null&&Zh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(r!=null&&Zh(r),e===1)t.tag===0?X2(Wf.bind(null,t)):z0(Wf.bind(null,t)),V2(function(){!(Oe&6)&&Yr()}),r=null;else{switch(m0(o)){case 1:r=Nc;break;case 4:r=d0;break;case 16:r=Ea;break;case 536870912:r=g0;break;default:r=Ea}r=j1(r,R1.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function R1(t,e){if(pa=-1,ma=0,Oe&6)throw Error(K(327));var r=t.callbackNode;if(ns()&&t.callbackNode!==r)return null;var o=Ca(t,t===St?Mt:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Ua(t,o);else{e=o;var l=Oe;Oe|=2;var c=k1();(St!==t||Mt!==e)&&(tr=null,us=ht()+500,ci(t,e));do try{gm();break}catch(m){D1(t,m)}while(!0);Hc(),Ba.current=c,Oe=l,dt!==null?e=0:(St=null,Mt=0,e=wt)}if(e!==0){if(e===2&&(l=Mu(t),l!==0&&(o=l,e=sc(t,l))),e===1)throw r=mo,ci(t,0),Nr(t,o),sn(t,ht()),r;if(e===6)Nr(t,o);else{if(l=t.current.alternate,!(o&30)&&!fm(l)&&(e=Ua(t,o),e===2&&(c=Mu(t),c!==0&&(o=c,e=sc(t,c))),e===1))throw r=mo,ci(t,0),Nr(t,o),sn(t,ht()),r;switch(t.finishedWork=l,t.finishedLanes=o,e){case 0:case 1:throw Error(K(345));case 2:ii(t,Jt,tr);break;case 3:if(Nr(t,o),(o&130023424)===o&&(e=rh+500-ht(),10<e)){if(Ca(t,0)!==0)break;if(l=t.suspendedLanes,(l&o)!==o){Vt(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=ju(ii.bind(null,t,Jt,tr),e);break}ii(t,Jt,tr);break;case 4:if(Nr(t,o),(o&4194240)===o)break;for(e=t.eventTimes,l=-1;0<o;){var d=31-Bn(o);c=1<<d,d=e[d],d>l&&(l=d),o&=~c}if(o=l,o=ht()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*hm(o/1960))-o,10<o){t.timeoutHandle=ju(ii.bind(null,t,Jt,tr),o);break}ii(t,Jt,tr);break;case 5:ii(t,Jt,tr);break;default:throw Error(K(329))}}}return sn(t,ht()),t.callbackNode===r?R1.bind(null,t):null}function sc(t,e){var r=Ks;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=Ua(t,e),t!==2&&(e=Jt,Jt=r,e!==null&&oc(e)),t}function oc(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function fm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var l=r[o],c=l.getSnapshot;l=l.value;try{if(!jn(c(),l))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~nh,e&=~nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Bn(e),o=1<<r;t[r]=-1,e&=~o}}function Wf(t){if(Oe&6)throw Error(K(327));ns();var e=Ca(t,0);if(!(e&1))return sn(t,ht()),null;var r=Ua(t,e);if(t.tag!==0&&r===2){var o=Mu(t);o!==0&&(e=o,r=sc(t,o))}if(r===1)throw r=mo,ci(t,0),Nr(t,e),sn(t,ht()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ii(t,Jt,tr),sn(t,ht()),null}function ih(t,e){var r=Oe;Oe|=1;try{return t(e)}finally{Oe=r,Oe===0&&(us=ht()+500,qa&&Yr())}}function mi(t){Rr!==null&&Rr.tag===0&&!(Oe&6)&&ns();var e=Oe;Oe|=1;var r=Sn.transition,o=Pe;try{if(Sn.transition=null,Pe=1,t)return t()}finally{Pe=o,Sn.transition=r,Oe=e,!(Oe&6)&&Yr()}}function sh(){un=Ki.current,Ke(Ki)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,H2(r)),dt!==null)for(r=dt.return;r!==null;){var o=r;switch(jc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ta();break;case 3:as(),Ke(nn),Ke(jt),$c();break;case 5:Xc(o);break;case 4:as();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:Vc(o.type._context);break;case 22:case 23:sh()}r=r.return}if(St=t,dt=t=Ur(t.current,null),Mt=un=e,wt=0,mo=null,nh=nl=pi=0,Jt=Ks=null,li!==null){for(e=0;e<li.length;e++)if(r=li[e],o=r.interleaved,o!==null){r.interleaved=null;var l=o.next,c=r.pending;if(c!==null){var d=c.next;c.next=l,o.next=d}r.pending=o}li=null}return t}function D1(t,e){do{var r=dt;try{if(Hc(),fa.current=Pa,La){for(var o=nt.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}La=!1}if(gi=0,At=xt=nt=null,Xs=!1,fo=0,th.current=null,r===null||r.return===null){wt=1,mo=e,dt=null;break}e:{var c=t,d=r.return,m=r,w=e;if(e=Mt,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var x=w,C=m,A=C.tag;if(!(C.mode&1)&&(A===0||A===11||A===15)){var N=C.alternate;N?(C.updateQueue=N.updateQueue,C.memoizedState=N.memoizedState,C.lanes=N.lanes):(C.updateQueue=null,C.memoizedState=null)}var D=Mf(d);if(D!==null){D.flags&=-257,Rf(D,d,m,c,e),D.mode&1&&Of(c,x,e),e=D,w=x;var V=e.updateQueue;if(V===null){var F=new Set;F.add(w),e.updateQueue=F}else V.add(w);break e}else{if(!(e&1)){Of(c,x,e),oh();break e}w=Error(K(426))}}else if(qe&&m.mode&1){var $=Mf(d);if($!==null){!($.flags&65536)&&($.flags|=256),Rf($,d,m,c,e),Uc(ls(w,m));break e}}c=w=ls(w,m),wt!==4&&(wt=2),Ks===null?Ks=[c]:Ks.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var M=m1(c,w,e);Sf(c,M);break e;case 1:m=w;var b=c.type,T=c.stateNode;if(!(c.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Fr===null||!Fr.has(T)))){c.flags|=65536,e&=-e,c.lanes|=e;var P=x1(c,m,e);Sf(c,P);break e}}c=c.return}while(c!==null)}P1(r)}catch(Q){e=Q,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function k1(){var t=Ba.current;return Ba.current=Pa,t===null?Pa:t}function oh(){(wt===0||wt===3||wt===2)&&(wt=4),St===null||!(pi&268435455)&&!(nl&268435455)||Nr(St,Mt)}function Ua(t,e){var r=Oe;Oe|=2;var o=k1();(St!==t||Mt!==e)&&(tr=null,ci(t,e));do try{dm();break}catch(l){D1(t,l)}while(!0);if(Hc(),Oe=r,Ba.current=o,dt!==null)throw Error(K(261));return St=null,Mt=0,wt}function dm(){for(;dt!==null;)L1(dt)}function gm(){for(;dt!==null&&!jp();)L1(dt)}function L1(t){var e=F1(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?P1(t):dt=e,th.current=null}function P1(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=am(r,e),r!==null){r.flags&=32767,dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,dt=null;return}}else if(r=om(r,e,un),r!==null){dt=r;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);wt===0&&(wt=5)}function ii(t,e,r){var o=Pe,l=Sn.transition;try{Sn.transition=null,Pe=1,pm(t,e,r,o)}finally{Sn.transition=l,Pe=o}return null}function pm(t,e,r,o){do ns();while(Rr!==null);if(Oe&6)throw Error(K(327));r=t.finishedWork;var l=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var c=r.lanes|r.childLanes;if(Kp(t,c),t===St&&(dt=St=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,j1(Ea,function(){return ns(),null})),c=(r.flags&15990)!==0,r.subtreeFlags&15990||c){c=Sn.transition,Sn.transition=null;var d=Pe;Pe=1;var m=Oe;Oe|=4,th.current=null,um(t,r),O1(r,t),L2(Bu),Aa=!!Pu,Bu=Pu=null,t.current=r,cm(r),Up(),Oe=m,Pe=d,Sn.transition=c}else t.current=r;if(ea&&(ea=!1,Rr=t,ja=l),c=t.pendingLanes,c===0&&(Fr=null),Vp(r.stateNode),sn(t,ht()),e!==null)for(o=t.onRecoverableError,r=0;r<e.length;r++)l=e[r],o(l.value,{componentStack:l.stack,digest:l.digest});if(Fa)throw Fa=!1,t=rc,rc=null,t;return ja&1&&t.tag!==0&&ns(),c=t.pendingLanes,c&1?t===ic?Qs++:(Qs=0,ic=t):Qs=0,Yr(),null}function ns(){if(Rr!==null){var t=m0(ja),e=Sn.transition,r=Pe;try{if(Sn.transition=null,Pe=16>t?16:t,Rr===null)var o=!1;else{if(t=Rr,Rr=null,ja=0,Oe&6)throw Error(K(331));var l=Oe;for(Oe|=4,se=t.current;se!==null;){var c=se,d=c.child;if(se.flags&16){var m=c.deletions;if(m!==null){for(var w=0;w<m.length;w++){var x=m[w];for(se=x;se!==null;){var C=se;switch(C.tag){case 0:case 11:case 15:$s(8,C,c)}var A=C.child;if(A!==null)A.return=C,se=A;else for(;se!==null;){C=se;var N=C.sibling,D=C.return;if(T1(C),C===x){se=null;break}if(N!==null){N.return=D,se=N;break}se=D}}}var V=c.alternate;if(V!==null){var F=V.child;if(F!==null){V.child=null;do{var $=F.sibling;F.sibling=null,F=$}while(F!==null)}}se=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,se=d;else e:for(;se!==null;){if(c=se,c.flags&2048)switch(c.tag){case 0:case 11:case 15:$s(9,c,c.return)}var M=c.sibling;if(M!==null){M.return=c.return,se=M;break e}se=c.return}}var b=t.current;for(se=b;se!==null;){d=se;var T=d.child;if(d.subtreeFlags&2064&&T!==null)T.return=d,se=T;else e:for(d=b;se!==null;){if(m=se,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:tl(9,m)}}catch(Q){ut(m,m.return,Q)}if(m===d){se=null;break e}var P=m.sibling;if(P!==null){P.return=m.return,se=P;break e}se=m.return}}if(Oe=l,Yr(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Xa,t)}catch{}o=!0}return o}finally{Pe=r,Sn.transition=e}}return!1}function Gf(t,e,r){e=ls(r,e),e=m1(t,e,1),t=Br(t,e,1),e=Vt(),t!==null&&(yo(t,1,e),sn(t,e))}function ut(t,e,r){if(t.tag===3)Gf(t,t,r);else for(;e!==null;){if(e.tag===3){Gf(e,t,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fr===null||!Fr.has(o))){t=ls(r,t),t=x1(e,t,1),e=Br(e,t,1),t=Vt(),e!==null&&(yo(e,1,t),sn(e,t));break}}e=e.return}}function mm(t,e,r){var o=t.pingCache;o!==null&&o.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&r,St===t&&(Mt&r)===r&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>ht()-rh?ci(t,0):nh|=r),sn(t,e)}function B1(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var r=Vt();t=cr(t,e),t!==null&&(yo(t,e,r),sn(t,r))}function xm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),B1(t,r)}function wm(t,e){var r=0;switch(t.tag){case 13:var o=t.stateNode,l=t.memoizedState;l!==null&&(r=l.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(K(314))}o!==null&&o.delete(e),B1(t,r)}var F1;F1=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,sm(t,e,r);tn=!!(t.flags&131072)}else tn=!1,qe&&e.flags&1048576&&H0(e,Oa,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;ga(t,e),t=e.pendingProps;var l=is(e,jt.current);ts(e,r),l=Qc(null,e,o,t,l,r);var c=Zc();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(o)?(c=!0,ba(e)):c=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Gc(e),l.updater=el,e.stateNode=l,l._reactInternals=e,Yu(e,o,t,r),e=Ku(null,e,o,!0,c,r)):(e.tag=0,qe&&c&&Fc(e),Ht(null,e,l,r),e=e.child),e;case 16:o=e.elementType;e:{switch(ga(t,e),t=e.pendingProps,l=o._init,o=l(o._payload),e.type=o,l=e.tag=vm(o),t=Rn(o,t),l){case 0:e=$u(null,e,o,t,r);break e;case 1:e=Lf(null,e,o,t,r);break e;case 11:e=Df(null,e,o,t,r);break e;case 14:e=kf(null,e,o,Rn(o.type,t),r);break e}throw Error(K(306,o,""))}return e;case 0:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:Rn(o,l),$u(t,e,o,l,r);case 1:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:Rn(o,l),Lf(t,e,o,l,r);case 3:e:{if(E1(e),t===null)throw Error(K(387));o=e.pendingProps,c=e.memoizedState,l=c.element,$0(t,e),Da(e,o,null,r);var d=e.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){l=ls(Error(K(423)),e),e=Pf(t,e,o,r,l);break e}else if(o!==l){l=ls(Error(K(424)),e),e=Pf(t,e,o,r,l);break e}else for(hn=Pr(e.stateNode.containerInfo.firstChild),fn=e,qe=!0,Pn=null,r=Y0(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ss(),o===l){e=hr(t,e,r);break e}Ht(t,e,o,r)}e=e.child}return e;case 5:return K0(e),t===null&&Vu(e),o=e.type,l=e.pendingProps,c=t!==null?t.memoizedProps:null,d=l.children,Fu(o,l)?d=null:c!==null&&Fu(o,c)&&(e.flags|=32),v1(t,e),Ht(t,e,d,r),e.child;case 6:return t===null&&Vu(e),null;case 13:return C1(t,e,r);case 4:return Yc(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=os(e,null,o,r):Ht(t,e,o,r),e.child;case 11:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:Rn(o,l),Df(t,e,o,l,r);case 7:return Ht(t,e,e.pendingProps,r),e.child;case 8:return Ht(t,e,e.pendingProps.children,r),e.child;case 12:return Ht(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(o=e.type._context,l=e.pendingProps,c=e.memoizedProps,d=l.value,Ge(Ma,o._currentValue),o._currentValue=d,c!==null)if(jn(c.value,d)){if(c.children===l.children&&!nn.current){e=hr(t,e,r);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var m=c.dependencies;if(m!==null){d=c.child;for(var w=m.firstContext;w!==null;){if(w.context===o){if(c.tag===1){w=ar(-1,r&-r),w.tag=2;var x=c.updateQueue;if(x!==null){x=x.shared;var C=x.pending;C===null?w.next=w:(w.next=C.next,C.next=w),x.pending=w}}c.lanes|=r,w=c.alternate,w!==null&&(w.lanes|=r),Wu(c.return,r,e),m.lanes|=r;break}w=w.next}}else if(c.tag===10)d=c.type===e.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(K(341));d.lanes|=r,m=d.alternate,m!==null&&(m.lanes|=r),Wu(d,r,e),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Ht(t,e,l.children,r),e=e.child}return e;case 9:return l=e.type,o=e.pendingProps.children,ts(e,r),l=_n(l),o=o(l),e.flags|=1,Ht(t,e,o,r),e.child;case 14:return o=e.type,l=Rn(o,e.pendingProps),l=Rn(o.type,l),kf(t,e,o,l,r);case 15:return w1(t,e,e.type,e.pendingProps,r);case 17:return o=e.type,l=e.pendingProps,l=e.elementType===o?l:Rn(o,l),ga(t,e),e.tag=1,rn(o)?(t=!0,ba(e)):t=!1,ts(e,r),p1(e,o,l),Yu(e,o,l,r),Ku(null,e,o,!0,t,r);case 19:return A1(t,e,r);case 22:return y1(t,e,r)}throw Error(K(156,e.tag))};function j1(t,e){return f0(t,e)}function ym(t,e,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,r,o){return new ym(t,e,r,o)}function ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vm(t){if(typeof t=="function")return ah(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ic)return 11;if(t===Tc)return 14}return 2}function Ur(t,e){var r=t.alternate;return r===null?(r=An(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xa(t,e,r,o,l,c){var d=2;if(o=t,typeof t=="function")ah(t)&&(d=1);else if(typeof t=="string")d=5;else e:switch(t){case ji:return hi(r.children,l,c,e);case _c:d=8,l|=8;break;case mu:return t=An(12,r,e,l|2),t.elementType=mu,t.lanes=c,t;case xu:return t=An(13,r,e,l),t.elementType=xu,t.lanes=c,t;case wu:return t=An(19,r,e,l),t.elementType=wu,t.lanes=c,t;case Kd:return rl(r,l,c,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xd:d=10;break e;case $d:d=9;break e;case Ic:d=11;break e;case Tc:d=14;break e;case _r:d=16,o=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=An(d,r,e,l),e.elementType=t,e.type=o,e.lanes=c,e}function hi(t,e,r,o){return t=An(7,t,o,e),t.lanes=r,t}function rl(t,e,r,o){return t=An(22,t,o,e),t.elementType=Kd,t.lanes=r,t.stateNode={isHidden:!1},t}function su(t,e,r){return t=An(6,t,null,e),t.lanes=r,t}function ou(t,e,r){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Em(t,e,r,o,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function lh(t,e,r,o,l,c,d,m,w){return t=new Em(t,e,r,m,w),e===1?(e=1,c===!0&&(e|=8)):e=0,c=An(3,null,null,e),t.current=c,c.stateNode=t,c.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(c),t}function Cm(t,e,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:o==null?null:""+o,children:t,containerInfo:e,implementation:r}}function U1(t){if(!t)return Hr;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(rn(r))return U0(t,r,e)}return e}function z1(t,e,r,o,l,c,d,m,w){return t=lh(r,o,!0,t,l,c,d,m,w),t.context=U1(null),r=t.current,o=Vt(),l=jr(r),c=ar(o,l),c.callback=e??null,Br(r,c,l),t.current.lanes=l,yo(t,l,o),sn(t,o),t}function il(t,e,r,o){var l=e.current,c=Vt(),d=jr(l);return r=U1(r),e.context===null?e.context=r:e.pendingContext=r,e=ar(c,d),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Br(l,e,d),t!==null&&(Fn(t,l,d,c),ha(t,l,d)),d}function za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function uh(t,e){Yf(t,e),(t=t.alternate)&&Yf(t,e)}function Am(){return null}var H1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ch(t){this._internalRoot=t}sl.prototype.render=ch.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));il(t,e,null,null)};sl.prototype.unmount=ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){il(null,t,null,null)}),e[ur]=null}};function sl(t){this._internalRoot=t}sl.prototype.unstable_scheduleHydration=function(t){if(t){var e=y0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<br.length&&e!==0&&e<br[r].priority;r++);br.splice(r,0,t),r===0&&E0(t)}};function hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function Sm(t,e,r,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var x=za(d);c.call(x)}}var d=z1(e,o,t,0,null,!1,!1,"",Xf);return t._reactRootContainer=d,t[ur]=d.current,ao(t.nodeType===8?t.parentNode:t),mi(),d}for(;l=t.lastChild;)t.removeChild(l);if(typeof o=="function"){var m=o;o=function(){var x=za(w);m.call(x)}}var w=lh(t,0,!1,null,null,!1,!1,"",Xf);return t._reactRootContainer=w,t[ur]=w.current,ao(t.nodeType===8?t.parentNode:t),mi(function(){il(e,w,r,o)}),w}function al(t,e,r,o,l){var c=r._reactRootContainer;if(c){var d=c;if(typeof l=="function"){var m=l;l=function(){var w=za(d);m.call(w)}}il(e,d,t,l)}else d=Sm(r,e,t,l,o);return za(d)}x0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=js(e.pendingLanes);r!==0&&(Oc(e,r|1),sn(e,ht()),!(Oe&6)&&(us=ht()+500,Yr()))}break;case 13:mi(function(){var o=cr(t,1);if(o!==null){var l=Vt();Fn(o,t,1,l)}}),uh(t,1)}};Mc=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var r=Vt();Fn(e,t,134217728,r)}uh(t,134217728)}};w0=function(t){if(t.tag===13){var e=jr(t),r=cr(t,e);if(r!==null){var o=Vt();Fn(r,t,e,o)}uh(t,e)}};y0=function(){return Pe};v0=function(t,e){var r=Pe;try{return Pe=t,e()}finally{Pe=r}};bu=function(t,e,r){switch(e){case"input":if(Eu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==t&&o.form===t.form){var l=Za(o);if(!l)throw Error(K(90));Zd(o),Eu(o,l)}}}break;case"textarea":Jd(t,r);break;case"select":e=r.value,e!=null&&Zi(t,!!r.multiple,e,!1)}};o0=ih;a0=mi;var _m={usingClientEntryPoint:!1,Events:[Eo,Vi,Za,i0,s0,ih]},Ls={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Im={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||Am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Xa=ta.inject(Im),Zn=ta}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(e))throw Error(K(200));return Cm(t,e,null,r)};gn.createRoot=function(t,e){if(!hh(t))throw Error(K(299));var r=!1,o="",l=H1;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=lh(t,1,!1,null,null,r,!1,o,l),t[ur]=e.current,ao(t.nodeType===8?t.parentNode:t),new ch(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=c0(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return mi(t)};gn.hydrate=function(t,e,r){if(!ol(e))throw Error(K(200));return al(null,t,e,!0,r)};gn.hydrateRoot=function(t,e,r){if(!hh(t))throw Error(K(405));var o=r!=null&&r.hydratedSources||null,l=!1,c="",d=H1;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),e=z1(e,null,t,1,r??null,l,!1,c,d),t[ur]=e.current,ao(t),o)for(t=0;t<o.length;t++)r=o[t],l=r._getVersion,l=l(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,l]:e.mutableSourceEagerHydrationData.push(r,l);return new sl(e)};gn.render=function(t,e,r){if(!ol(e))throw Error(K(200));return al(null,t,e,!1,r)};gn.unmountComponentAtNode=function(t){if(!ol(t))throw Error(K(40));return t._reactRootContainer?(mi(function(){al(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1};gn.unstable_batchedUpdates=ih;gn.unstable_renderSubtreeIntoContainer=function(t,e,r,o){if(!ol(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return al(t,e,r,!1,o)};gn.version="18.3.1-next-f1338f8080-20240426";function V1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V1)}catch(t){console.error(t)}}V1(),Vd.exports=gn;var Tm=Vd.exports,W1,$f=Tm;W1=$f.createRoot,$f.hydrateRoot;const bm=()=>j.jsxs("header",{className:"bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-10",children:[j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"P"}),j.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"POS-Ku"})]}),j.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full",children:j.jsx("img",{src:"https://placehold.co/40x40/E2E8F0/4A5568?text=U",alt:"Avatar Pengguna",className:"rounded-full",onError:t=>{t.target.onerror=null,t.target.src="https://placehold.co/40x40/E2E8F0/4A5568?text=U"}})})]}),Nm=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Om=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Mm=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Rm=({className:t})=>j.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7v8a2 2 0 002 2h4M8 7a2 2 0 012-2h4a2 2 0 012 2v8a2 2 0 01-2 2h-4a2 2 0 01-2-2z"}),j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a2 2 0 012 2v8a2 2 0 01-2 2h-4a2 2 0 01-2-2V9a2 2 0 012-2h4z"})]}),Dm=({className:t})=>j.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),km=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.838-6.832a1.125 1.125 0 00-.965-1.41H5.64M7.5 14.25L5.106 5.165M7.5 14.25v-2.25"})}),Lm=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Pm=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Bm=({className:t})=>j.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v15m3.75-15v15m3.75-15v15m3.75-15v15m3.75-15v15M3 8.25h18M3 15.75h18"})}),Fm=({activeMenu:t,setActiveMenu:e})=>{const r=[{name:"Beranda",icon:Nm},{name:"Kasir",icon:Om},{name:"Laporan",icon:Mm},{name:"Manajemen",icon:Rm},{name:"Pengaturan",icon:Dm}];return j.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-1px_5px_rgba(0,0,0,0.1)]",children:j.jsx("div",{className:"flex justify-around max-w-lg mx-auto",children:r.map(o=>{const l=t===o.name,c=o.icon;return j.jsxs("button",{onClick:()=>e(o.name),className:"flex flex-col items-center justify-center w-full pt-2 pb-1 text-center transition-colors duration-200 focus:outline-none",children:[j.jsx(c,{className:`h-6 w-6 mb-1 ${l?"text-blue-600":"text-gray-500"}`}),j.jsx("span",{className:`text-xs ${l?"text-blue-600 font-semibold":"text-gray-600"}`,children:o.name})]},o.name)})})})},jm=({product:t,onAddToCart:e})=>j.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transform hover:scale-105 transition-transform duration-200 active:scale-95",onClick:()=>e(t),children:[j.jsx("div",{className:"w-full h-32 bg-gray-200 flex items-center justify-center",children:j.jsx("img",{src:t.imageUrl||`https://placehold.co/150x150/E2E8F0/4A5568?text=${t.name.charAt(0)}`,alt:t.name,className:"w-full h-full object-cover",onError:r=>{r.target.onerror=null,r.target.src=`https://placehold.co/150x150/E2E8F0/4A5568?text=${t.name.charAt(0)}`}})}),j.jsxs("div",{className:"p-3",children:[j.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:t.name}),j.jsx("p",{className:"text-blue-600 font-bold mt-1",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.price)})]})]}),Kf=({items:t,onUpdateQuantity:e,onRemoveItem:r,onClose:o,onPay:l})=>{const c=t.reduce((d,m)=>d+m.price*m.quantity,0);return j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex flex-col h-full",children:[j.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[j.jsx("h2",{className:"text-lg font-bold",children:"Keranjang"}),o&&j.jsx("button",{onClick:o,className:"md:hidden text-gray-500 hover:text-gray-800",children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),j.jsx("div",{className:"flex-grow overflow-y-auto",children:t.length===0?j.jsx("p",{className:"text-gray-500 text-center mt-8",children:"Keranjang masih kosong"}):j.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(d=>j.jsxs("li",{className:"py-3 flex items-center justify-between",children:[j.jsxs("div",{children:[j.jsx("p",{className:"font-semibold text-sm",children:d.name}),j.jsx("p",{className:"text-xs text-blue-600",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d.price)})]}),j.jsxs("div",{className:"flex items-center",children:[j.jsx("button",{onClick:()=>e(d.id,d.quantity-1),className:"w-6 h-6 bg-gray-200 rounded-full font-bold active:bg-gray-300",children:"-"}),j.jsx("span",{className:"w-8 text-center",children:d.quantity}),j.jsx("button",{onClick:()=>e(d.id,d.quantity+1),className:"w-6 h-6 bg-gray-200 rounded-full font-bold active:bg-gray-300",children:"+"})]})]},d.id))})}),j.jsxs("div",{className:"border-t pt-4 mt-4",children:[j.jsxs("div",{className:"flex justify-between items-center font-bold",children:[j.jsx("span",{children:"Total"}),j.jsx("span",{children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c)})]}),j.jsx("button",{onClick:l,className:"w-full bg-blue-600 text-white rounded-lg py-3 mt-4 font-bold hover:bg-blue-700 transition-colors disabled:bg-gray-400 active:bg-blue-800",disabled:t.length===0,children:"Bayar"})]})]})},au=["Kopi","Non-Kopi","Makanan Ringan","Makanan Berat","Kue & Roti","Lain-lain"],Um=({isOpen:t,onClose:e,onSave:r})=>{const[o,l]=at.useState({name:"",price:"",imageUrl:"",category:au[0]});if(!t)return null;const c=m=>{const{name:w,value:x}=m.target;l(C=>({...C,[w]:x}))},d=m=>{m.preventDefault(),o.name&&o.price&&o.category?(r({...o,price:parseFloat(o.price)}),l({name:"",price:"",imageUrl:"",category:au[0]}),e()):alert("Nama, Harga, dan Kategori tidak boleh kosong!")};return j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md m-4",children:[j.jsx("h2",{className:"text-xl font-bold mb-4",children:"Tambah Produk Baru"}),j.jsxs("form",{onSubmit:d,children:[j.jsxs("div",{className:"mb-4",children:[j.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Produk"}),j.jsx("input",{type:"text",name:"name",id:"name",value:o.name,onChange:c,className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),j.jsxs("div",{className:"mb-4",children:[j.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga"}),j.jsx("input",{type:"number",name:"price",id:"price",value:o.price,onChange:c,className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),j.jsxs("div",{className:"mb-4",children:[j.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),j.jsx("select",{name:"category",id:"category",value:o.category,onChange:c,className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:au.map(m=>j.jsx("option",{value:m,children:m},m))})]}),j.jsxs("div",{className:"mb-4",children:[j.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Gambar (Opsional)"}),j.jsx("input",{type:"text",name:"imageUrl",id:"imageUrl",value:o.imageUrl,onChange:c,className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),j.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[j.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 hover:bg-gray-300",children:"Batal"}),j.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg py-2 px-4 hover:bg-blue-700",children:"Simpan"})]})]})]})})},Qf=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),zm=({isOpen:t,onClose:e,totalPrice:r,onConfirmPayment:o})=>{const[l,c]=at.useState(""),[d,m]=at.useState(0);if(at.useEffect(()=>{const C=parseFloat(l);!isNaN(C)&&C>=r?m(C-r):m(0)},[l,r]),at.useEffect(()=>{t||(c(""),m(0))},[t]),!t)return null;const w=()=>{o(),e()},x=parseFloat(l)>=r;return j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm m-4",children:[j.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Pembayaran"}),j.jsxs("div",{className:"mb-4 bg-blue-50 p-4 rounded-lg text-center",children:[j.jsx("p",{className:"text-sm text-gray-600",children:"Total Belanja"}),j.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Qf(r)})]}),j.jsxs("div",{className:"mb-4",children:[j.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Uang Tunai Diterima"}),j.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:l,onChange:C=>c(C.target.value),className:"w-full text-lg p-2 border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Contoh: 50000",autoFocus:!0})]}),j.jsxs("div",{className:"mb-6 bg-green-50 p-4 rounded-lg text-center",children:[j.jsx("p",{className:"text-sm text-gray-600",children:"Kembalian"}),j.jsx("p",{className:"text-2xl font-bold text-green-600",children:Qf(d)})]}),j.jsxs("div",{className:"flex flex-col gap-3",children:[j.jsx("button",{onClick:w,disabled:!x,className:"w-full bg-blue-600 text-white rounded-lg py-3 font-bold hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Konfirmasi Pembayaran"}),j.jsx("button",{type:"button",onClick:e,className:"w-full bg-gray-200 text-gray-800 rounded-lg py-2 hover:bg-gray-300",children:"Batal"})]})]})})};var ie;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var Zf=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),qf;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(qf||(qf={}));function Hm(t){return Object.values(ie).includes(t)}var Vr;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vr||(Vr={}));var kn=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Vr.SCAN_TYPE_CAMERA,Vr.SCAN_TYPE_FILE],t}(),G1=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Zf.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Zf.get(e))},t}(),Jf=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),ac;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ac||(ac={}));var Y1=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:ac.UNKWOWN_ERROR}},t}(),X1=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Kn(t){return typeof t>"u"||t===null}function Vm(t,e,r){return t>r?r:t<e?e:t}var Qi=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Le=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),ed=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),$1=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var o=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),d=Object.keys(e),m=0,w=d;m<w.length;m++){var x=w[m];if(c.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),lc={exports:{}};(function(t,e){(function(r,o){o(e)})(Ot,function(r){function o(v){return v==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,n){v.__proto__=n}||function(v,n){for(var i in n)n.hasOwnProperty(i)&&(v[i]=n[i])};function c(v,n){l(v,n);function i(){this.constructor=v}v.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function d(v,n){var i=Object.setPrototypeOf;i?i(v,n):v.__proto__=n}function m(v,n){n===void 0&&(n=v.constructor);var i=Error.captureStackTrace;i&&i(v,n)}var w=function(v){c(n,v);function n(i){var s=this.constructor,a=v.call(this,i)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),d(a,s.prototype),m(a),a}return n}(Error);class x extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class C extends x{}C.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class N{constructor(n){if(this.binarizer=n,n===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,a){const u=this.binarizer.getLuminanceSource().crop(n,i,s,a);return new N(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends x{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class V{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(n,i,s,a,u){for(;u--;)s[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}class $ extends x{}$.kind="IndexOutOfBoundsException";class M extends ${constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}M.kind="ArrayIndexOutOfBoundsException";class b{static fill(n,i){for(let s=0,a=n.length;s<a;s++)n[s]=i}static fillWithin(n,i,s,a){b.rangeCheck(n.length,i,s);for(let u=i;u<s;u++)n[u]=a}static rangeCheck(n,i,s){if(i>s)throw new A("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new M(i);if(s>n)throw new M(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(u=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(u=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,a=n.length;s<a;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const a=s-i,u=new Int32Array(a);return F.arraycopy(n,i,u,0,a),u}static binarySearch(n,i,s){s===void 0&&(s=b.numberComparator);let a=0,u=n.length-1;for(;a<=u;){const h=u+a>>1,f=s(i,n[h]);if(f>0)a=h+1;else if(f<0)u=h-1;else return h}return-a-1}static numberComparator(n,i){return n-i}}class T{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=P.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=P.makeArray(n);F.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),u=s[a];u&=~((1<<(n&31))-1);const h=s.length;for(;u===0;){if(++a===h)return i;u=s[a]}const f=a*32+T.numberOfTrailingZeros(u);return f>i?i:f}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),u=~s[a];u&=~((1<<(n&31))-1);const h=s.length;for(;u===0;){if(++a===h)return i;u=~s[a]}const f=a*32+T.numberOfTrailingZeros(u);return f>i?i:f}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new A;if(i===n)return;i--;const s=Math.floor(n/32),a=Math.floor(i/32),u=this.bits;for(let h=s;h<=a;h++){const f=h>s?0:n&31,p=(2<<(h<a?31:i&31))-(1<<f);u[h]|=p}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new A;if(i===n)return!0;i--;const a=Math.floor(n/32),u=Math.floor(i/32),h=this.bits;for(let f=a;f<=u;f++){const g=f>a?0:n&31,y=(2<<(f<u?31:i&31))-(1<<g)&4294967295;if((h[f]&y)!==(s?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new A("Sizes don't match");const i=this.bits;for(let s=0,a=i.length;s<a;s++)i[s]^=n.bits[s]}toBytes(n,i,s,a){for(let u=0;u<a;u++){let h=0;for(let f=0;f<8;f++)this.get(n)&&(h|=1<<7-f),n++;i[s+u]=h}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,a=this.bits;for(let u=0;u<s;u++){let h=a[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,n[i-u]=h}if(this.size!==s*32){const u=s*32-this.size;let h=n[0]>>>u;for(let f=1;f<s;f++){const g=n[f];h|=g<<32-u,n[f-1]=h,h=g>>>u}n[s-1]=h}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof P))return!1;const i=n;return this.size===i.size&&b.equals(this.bits,i.bits)}hashCode(){return 31*this.size+b.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new P(this.size,this.bits.slice())}}var Q;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var W=Q;class B extends x{static getFormatInstance(){return new B}}B.kind="FormatException";var J;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(J||(J={}));class G{constructor(n,i,s,...a){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,G.VALUE_IDENTIFIER_TO_ECI.set(n,this),G.NAME_TO_ECI.set(s,this);const u=this.values;for(let h=0,f=u.length;h!==f;h++){const g=u[h];G.VALUES_TO_ECI.set(g,this)}for(const h of a)G.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new B("incorect value");const i=G.VALUES_TO_ECI.get(n);if(i===void 0)throw new B("incorect value");return i}static getCharacterSetECIByName(n){const i=G.NAME_TO_ECI.get(n);if(i===void 0)throw new B("incorect value");return i}equals(n){if(!(n instanceof G))return!1;const i=n;return this.getName()===i.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(J.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(J.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(J.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(J.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(J.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(J.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(J.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(J.Big5,28,"Big5"),G.GB18030=new G(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(J.EUC_KR,30,"EUC_KR","EUC-KR");class me extends x{}me.kind="UnsupportedOperationException";class Be{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!Be.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof G?n:G.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(Be.isDecodeFallbackSupported(s)){let a="";for(let u=0,h=n.length;u<h;u++){let f=n[u].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new me(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(G.UTF8)||n.equals(G.ISO8859_1)||n.equals(G.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let u=0;u<s.length;u++)a.push(s[u].charCodeAt(0));return new Uint8Array(a)}}class ue{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return Be.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(W.CHARACTER_SET)!==void 0)return i.get(W.CHARACTER_SET).toString();const s=n.length;let a=!0,u=!0,h=!0,f=0,g=0,p=0,y=0,E=0,S=0,I=0,O=0,R=0,k=0,H=0;const Z=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let q=0;q<s&&(a||u||h);q++){const X=n[q]&255;h&&(f>0?X&128?f--:h=!1:X&128&&(X&64?(f++,X&32?(f++,X&16?(f++,X&8?h=!1:y++):p++):g++):h=!1)),a&&(X>127&&X<160?a=!1:X>159&&(X<192||X===215||X===247)&&H++),u&&(E>0?X<64||X===127||X>252?u=!1:E--:X===128||X===160||X>239?u=!1:X>160&&X<224?(S++,O=0,I++,I>R&&(R=I)):X>127?(E++,I=0,O++,O>k&&(k=O)):(I=0,O=0))}return h&&f>0&&(h=!1),u&&E>0&&(u=!1),h&&(Z||g+p+y>0)?ue.UTF8:u&&(ue.ASSUME_SHIFT_JIS||R>=3||k>=3)?ue.SHIFT_JIS:a&&u?R===2&&S===2||H*10>=s?ue.SHIFT_JIS:ue.ISO88591:a?ue.ISO88591:u?ue.SHIFT_JIS:h?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function a(h,f,g,p,y,E){if(h==="%%")return"%";if(i[++s]===void 0)return;h=p?parseInt(p.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,I;switch(E){case"s":I=i[s];break;case"c":I=i[s][0];break;case"f":I=parseFloat(i[s]).toFixed(h);break;case"p":I=parseFloat(i[s]).toPrecision(h);break;case"e":I=parseFloat(i[s]).toExponential(h);break;case"x":I=parseInt(i[s]).toString(S||16);break;case"d":I=parseFloat(parseInt(i[s],S||10).toPrecision(h)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(S);let O=parseInt(g),R=g&&g[0]+""=="0"?"0":" ";for(;I.length<O;)I=f!==void 0?I+R:R+I;return I}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,a)}static getBytes(n,i){return Be.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ue.SHIFT_JIS=G.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=G.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=G.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class te{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let a=i;i<i+s;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class pe{constructor(n,i,s,a){if(this.width=n,this.height=i,this.rowSize=s,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new A("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,a=new pe(s,i);for(let u=0;u<i;u++){const h=n[u];for(let f=0;f<s;f++)h[f]&&a.set(f,u)}return a}static parseFromString(n,i,s){if(n===null)throw new A("stringRepresentation cannot be null");const a=new Array(n.length);let u=0,h=0,f=-1,g=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new A("row lengths do not match");h=u,g++}p++}else if(n.substring(p,p+i.length)===i)p+=i.length,a[u]=!0,u++;else if(n.substring(p,p+s.length)===s)p+=s.length,a[u]=!1,u++;else throw new A("illegal character encountered: "+n.substring(p));if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new A("row lengths do not match");g++}const y=new pe(f,g);for(let E=0;E<u;E++)a[E]&&y.set(Math.floor(E%f),Math.floor(E/f));return y}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new A("input matrix dimensions do not match");const i=new P(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let u=0,h=this.height;u<h;u++){const f=u*s,g=n.getRow(u,i).getBitArray();for(let p=0;p<s;p++)a[f+p]^=g[p]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,a){if(i<0||n<0)throw new A("Left and top must be nonnegative");if(a<1||s<1)throw new A("Height and width must be at least 1");const u=n+s,h=i+a;if(h>this.height||u>this.width)throw new A("The region must fit inside the matrix");const f=this.rowSize,g=this.bits;for(let p=i;p<h;p++){const y=p*f;for(let E=n;E<u;E++)g[y+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new P(this.width):i.clear();const s=this.rowSize,a=this.bits,u=n*s;for(let h=0;h<s;h++)i.setBulk(h*32,a[u+h]);return i}setRow(n,i){F.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new P(n),a=new P(n);for(let u=0,h=Math.floor((i+1)/2);u<h;u++)s=this.getRow(u,s),a=this.getRow(i-1-u,a),s.reverse(),a.reverse(),this.setRow(u,a),this.setRow(i-1-u,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,a=this.bits;let u=n,h=i,f=-1,g=-1;for(let p=0;p<i;p++)for(let y=0;y<s;y++){const E=a[p*s+y];if(E!==0){if(p<h&&(h=p),p>g&&(g=p),y*32<u){let S=0;for(;!(E<<31-S&4294967295);)S++;y*32+S<u&&(u=y*32+S)}if(y*32+31>f){let S=31;for(;!(E>>>S);)S--;y*32+S>f&&(f=y*32+S)}}}return f<u||g<h?null:Int32Array.from([u,h,f-u+1,g-h+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const a=s/n;let u=s%n*32;const h=i[s];let f=0;for(;!(h<<31-f&4294967295);)f++;return u+=f,Int32Array.from([u,a])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const a=Math.floor(s/n);let u=Math.floor(s%n)*32;const h=i[s];let f=31;for(;!(h>>>f);)f--;return u+=f,Int32Array.from([u,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof pe))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&b.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+b.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let a=new te;for(let u=0,h=this.height;u<h;u++){for(let f=0,g=this.width;f<g;f++)a.append(this.get(f,u)?n:i);a.append(s)}return a.toString()}clone(){return new pe(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends x{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class Ce extends V{constructor(n){super(n),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),a=s.getWidth();i==null||i.getSize()<a?i=new P(a):i.clear(),this.initArrays(a);const u=s.getRow(n,this.luminances),h=this.buckets;for(let g=0;g<a;g++)h[(u[g]&255)>>Ce.LUMINANCE_SHIFT]++;const f=Ce.estimateBlackPoint(h);if(a<3)for(let g=0;g<a;g++)(u[g]&255)<f&&i.set(g);else{let g=u[0]&255,p=u[1]&255;for(let y=1;y<a-1;y++){const E=u[y+1]&255;(p*4-g-E)/2<f&&i.set(y),g=p,p=E}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),a=new pe(i,s);this.initArrays(i);const u=this.buckets;for(let g=1;g<5;g++){const p=Math.floor(s*g/5),y=n.getRow(p,this.luminances),E=Math.floor(i*4/5);for(let S=Math.floor(i/5);S<E;S++){const I=y[S]&255;u[I>>Ce.LUMINANCE_SHIFT]++}}const h=Ce.estimateBlackPoint(u),f=n.getMatrix();for(let g=0;g<s;g++){const p=g*i;for(let y=0;y<i;y++)(f[p+y]&255)<h&&a.set(y,g)}return a}createBinarizer(n){return new Ce(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<Ce.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,a=0,u=0;for(let y=0;y<i;y++)n[y]>u&&(a=y,u=n[y]),n[y]>s&&(s=n[y]);let h=0,f=0;for(let y=0;y<i;y++){const E=y-a,S=n[y]*E*E;S>f&&(h=y,f=S)}if(a>h){const y=a;a=h,h=y}if(h-a<=i/16)throw new U;let g=h-1,p=-1;for(let y=h-1;y>a;y--){const E=y-a,S=E*E*(h-y)*(s-n[y]);S>p&&(g=y,p=S)}return g<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class xe extends Ce{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=xe.MINIMUM_DIMENSION&&s>=xe.MINIMUM_DIMENSION){const a=n.getMatrix();let u=i>>xe.BLOCK_SIZE_POWER;i&xe.BLOCK_SIZE_MASK&&u++;let h=s>>xe.BLOCK_SIZE_POWER;s&xe.BLOCK_SIZE_MASK&&h++;const f=xe.calculateBlackPoints(a,u,h,i,s),g=new pe(i,s);xe.calculateThresholdForBlock(a,u,h,i,s,f,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new xe(n)}static calculateThresholdForBlock(n,i,s,a,u,h,f){const g=u-xe.BLOCK_SIZE,p=a-xe.BLOCK_SIZE;for(let y=0;y<s;y++){let E=y<<xe.BLOCK_SIZE_POWER;E>g&&(E=g);const S=xe.cap(y,2,s-3);for(let I=0;I<i;I++){let O=I<<xe.BLOCK_SIZE_POWER;O>p&&(O=p);const R=xe.cap(I,2,i-3);let k=0;for(let Z=-2;Z<=2;Z++){const q=h[S+Z];k+=q[R-2]+q[R-1]+q[R]+q[R+1]+q[R+2]}const H=k/25;xe.thresholdBlock(n,O,E,H,a,f)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,a,u,h){for(let f=0,g=s*u+i;f<xe.BLOCK_SIZE;f++,g+=u)for(let p=0;p<xe.BLOCK_SIZE;p++)(n[g+p]&255)<=a&&h.set(i+p,s+f)}static calculateBlackPoints(n,i,s,a,u){const h=u-xe.BLOCK_SIZE,f=a-xe.BLOCK_SIZE,g=new Array(s);for(let p=0;p<s;p++){g[p]=new Int32Array(i);let y=p<<xe.BLOCK_SIZE_POWER;y>h&&(y=h);for(let E=0;E<i;E++){let S=E<<xe.BLOCK_SIZE_POWER;S>f&&(S=f);let I=0,O=255,R=0;for(let H=0,Z=y*a+S;H<xe.BLOCK_SIZE;H++,Z+=a){for(let q=0;q<xe.BLOCK_SIZE;q++){const X=n[Z+q]&255;I+=X,X<O&&(O=X),X>R&&(R=X)}if(R-O>xe.MIN_DYNAMIC_RANGE)for(H++,Z+=a;H<xe.BLOCK_SIZE;H++,Z+=a)for(let q=0;q<xe.BLOCK_SIZE;q++)I+=n[Z+q]&255}let k=I>>xe.BLOCK_SIZE_POWER*2;if(R-O<=xe.MIN_DYNAMIC_RANGE&&(k=O/2,p>0&&E>0)){const H=(g[p-1][E]+2*g[p][E-1]+g[p-1][E-1])/4;O<H&&(k=H)}g[p][E]=k}}return g}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class ne{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,a){throw new me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new me("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new te;for(let s=0;s<this.height;s++){const a=this.getRow(s,n);for(let u=0;u<this.width;u++){const h=a[u]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class fe extends ne{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),a=this.getWidth();for(let u=0;u<a;u++)s[u]=255-(s[u]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let a=0;a<i;a++)s[a]=255-(n[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,a){return new fe(this.delegate.crop(n,i,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ge extends ne{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return ge.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const a=new Uint8ClampedArray(i*s);for(let u=0,h=0,f=n.length;u<f;u+=4,h++){let g;if(n[u+3]===0)g=255;else{const y=n[u],E=n[u+1],S=n[u+2];g=306*y+601*E+117*S+512>>10}a[h]=g}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const s=this.getWidth(),a=n*s;return i===null?i=this.buffer.slice(a,a+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(a,a+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,a){return super.crop(n,i,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),a=n*ge.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*u+Math.abs(Math.sin(a))*h),g=Math.ceil(Math.abs(Math.sin(a))*u+Math.abs(Math.cos(a))*h);return i.width=f,i.height=g,s.translate(f/2,g/2),s.rotate(a),s.drawImage(this.canvas,u/-2,h/-2),this.buffer=ge.makeBufferFromCanvasImageData(i),this}invert(){return new fe(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Qe{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Te=(globalThis||Ot||self||window||void 0)&&(globalThis||Ot||self||window||void 0).__awaiter||function(v,n,i,s){function a(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(y){try{p(s.next(y))}catch(E){h(E)}}function g(y){try{p(s.throw(y))}catch(E){h(E)}}function p(y){y.done?u(y.value):a(y.value).then(f,g)}p((s=s.apply(v,n||[])).next())})};class mn{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;const u=s.deviceId||s.id,h=s.label||`Video device ${i.length+1}`,f=s.groupId,g={deviceId:u,label:h,kind:a,groupId:f};i.push(g)}return i})}getVideoInputDevices(){return Te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Qe(i.deviceId,i.label))})}findDeviceById(n){return Te(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Te(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const a={video:s};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return Te(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return Te(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return Te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return Te(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const u={video:a};return yield this.decodeFromConstraints(u,i,s)})}decodeFromConstraints(n,i,s){return Te(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,s)})}decodeFromStream(n,i,s){return Te(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Te(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Te(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new C(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new C(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new C("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new C("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new C("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new C("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new C("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new C("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new C("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new C("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,i);return s.src=n,a}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const a=(u,h)=>{if(this._stopAsyncDecode){h(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);u(f)}catch(f){const g=i&&f instanceof U,y=(f instanceof D||f instanceof B)&&s;if(g||y)return setTimeout(a,this._timeBetweenDecodingAttempts,u,h);h(f)}};return new Promise((u,h)=>a(u,h))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);i(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){i(null,a);const u=a instanceof D||a instanceof B,h=a instanceof U;(u||h)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new ge(i),a=new xe(s);return new N(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=a+"px",i.width=s,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Je{constructor(n,i,s=i==null?0:8*i.length,a,u,h=F.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=a,this.format=u,this.timestamp=h,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=a,this.format=u,this.resultMetadata=null,h==null?this.timestamp=F.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);F.arraycopy(i,0,s,0,i.length),F.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var $r;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($r||($r={}));var ae=$r,dr;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dr||(dr={}));var yt=dr;class ms{constructor(n,i,s,a,u=-1,h=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xs{exp(n){return this.expTable[n]}log(n){if(n===0)throw new A;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Yt{constructor(n,i){if(i.length===0)throw new A;this.field=n;const s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),F.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let h=0,f=i.length;h!==f;h++){const g=i[h];s=xs.addOrSubtract(s,g)}return s}s=i[0];const a=i.length,u=this.field;for(let h=1;h<a;h++)s=xs.addOrSubtract(u.multiply(n,s),i[h]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const h=i;i=s,s=h}let a=new Int32Array(s.length);const u=s.length-i.length;F.arraycopy(s,0,a,0,u);for(let h=u;h<s.length;h++)a[h]=xs.addOrSubtract(i[h-u],s[h]);return new Yt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,a=n.coefficients,u=a.length,h=new Int32Array(s+u-1),f=this.field;for(let g=0;g<s;g++){const p=i[g];for(let y=0;y<u;y++)h[g+y]=xs.addOrSubtract(h[g+y],f.multiply(p,a[y]))}return new Yt(f,h)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,a=new Int32Array(i),u=this.coefficients;for(let h=0;h<i;h++)a[h]=s.multiply(u[h],n);return new Yt(s,a)}multiplyByMonomial(n,i){if(n<0)throw new A;if(i===0)return this.field.getZero();const s=this.coefficients,a=s.length,u=new Int32Array(a+n),h=this.field;for(let f=0;f<a;f++)u[f]=h.multiply(s[f],i);return new Yt(h,u)}divide(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new A("Divide by 0");const i=this.field;let s=i.getZero(),a=this;const u=n.getCoefficient(n.getDegree()),h=i.inverse(u);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const f=a.getDegree()-n.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),h),p=n.multiplyByMonomial(f,g),y=i.buildMonomial(f,g);s=s.addOrSubtract(y),a=a.addOrSubtract(p)}return[s,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const a=this.field.log(s);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Io extends x{}Io.kind="ArithmeticException";class Me extends xs{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const a=new Int32Array(i);let u=1;for(let f=0;f<i;f++)a[f]=u,u*=2,u>=i&&(u^=n,u&=i-1);this.expTable=a;const h=new Int32Array(i);for(let f=0;f<i-1;f++)h[a[f]]=f;this.logTable=h,this.zero=new Yt(this,Int32Array.from([0])),this.one=new Yt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new A;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new Yt(this,s)}inverse(n){if(n===0)throw new Io;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class vi extends x{}vi.kind="ReedSolomonException";class Un extends x{}Un.kind="IllegalStateException";class ws{constructor(n){this.field=n}decode(n,i){const s=this.field,a=new Yt(s,n),u=new Int32Array(i);let h=!0;for(let I=0;I<i;I++){const O=a.evaluateAt(s.exp(I+s.getGeneratorBase()));u[u.length-1-I]=O,O!==0&&(h=!1)}if(h)return;const f=new Yt(s,u),g=this.runEuclideanAlgorithm(s.buildMonomial(i,1),f,i),p=g[0],y=g[1],E=this.findErrorLocations(p),S=this.findErrorMagnitudes(y,E);for(let I=0;I<E.length;I++){const O=n.length-1-s.log(E[I]);if(O<0)throw new vi("Bad error location");n[O]=Me.addOrSubtract(n[O],S[I])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const I=n;n=i,i=I}const a=this.field;let u=n,h=i,f=a.getZero(),g=a.getOne();for(;h.getDegree()>=(s/2|0);){let I=u,O=f;if(u=h,f=g,u.isZero())throw new vi("r_{i-1} was zero");h=I;let R=a.getZero();const k=u.getCoefficient(u.getDegree()),H=a.inverse(k);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const Z=h.getDegree()-u.getDegree(),q=a.multiply(h.getCoefficient(h.getDegree()),H);R=R.addOrSubtract(a.buildMonomial(Z,q)),h=h.addOrSubtract(u.multiplyByMonomial(Z,q))}if(g=R.multiply(f).addOrSubtract(O),h.getDegree()>=u.getDegree())throw new Un("Division algorithm failed to reduce polynomial?")}const p=g.getCoefficient(0);if(p===0)throw new vi("sigmaTilde(0) was zero");const y=a.inverse(p),E=g.multiplyScalar(y),S=h.multiplyScalar(y);return[E,S]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let a=0;const u=this.field;for(let h=1;h<u.getSize()&&a<i;h++)n.evaluateAt(h)===0&&(s[a]=u.inverse(h),a++);if(a!==i)throw new vi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,a=new Int32Array(s),u=this.field;for(let h=0;h<s;h++){const f=u.inverse(i[h]);let g=1;for(let p=0;p<s;p++)if(h!==p){const y=u.multiply(i[p],f),E=y&1?y&-2:y|1;g=u.multiply(g,E)}a[h]=u.multiply(n.evaluateAt(f),u.inverse(g)),u.getGeneratorBase()!==0&&(a[h]=u.multiply(a[h],f))}return a}}var _t;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(_t||(_t={}));class He{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),a=this.correctBits(s),u=He.convertBoolArrayToByteArray(a),h=He.getEncodedData(a),f=new ms(u,h,null,null);return f.setNumBits(a.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=_t.UPPER,a=_t.UPPER,u="",h=0;for(;h<i;)if(a===_t.BINARY){if(i-h<5)break;let f=He.readCode(n,h,5);if(h+=5,f===0){if(i-h<11)break;f=He.readCode(n,h,11)+31,h+=11}for(let g=0;g<f;g++){if(i-h<8){h=i;break}const p=He.readCode(n,h,8);u+=ue.castAsNonUtf8Char(p),h+=8}a=s}else{let f=a===_t.DIGIT?4:5;if(i-h<f)break;let g=He.readCode(n,h,f);h+=f;let p=He.getCharacter(a,g);p.startsWith("CTRL_")?(s=a,a=He.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=a)):(u+=p,a=s)}return u}static getTable(n){switch(n){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(n,i){switch(n){case _t.UPPER:return He.UPPER_TABLE[i];case _t.LOWER:return He.LOWER_TABLE[i];case _t.MIXED:return He.MIXED_TABLE[i];case _t.PUNCT:return He.PUNCT_TABLE[i];case _t.DIGIT:return He.DIGIT_TABLE[i];default:throw new Un("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=Me.AZTEC_DATA_10):(s=12,i=Me.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),u=n.length/s;if(u<a)throw new B;let h=n.length%s,f=new Int32Array(u);for(let S=0;S<u;S++,h+=s)f[S]=He.readCode(n,h,s);try{new ws(i).decode(f,u-a)}catch(S){throw new B(S)}let g=(1<<s)-1,p=0;for(let S=0;S<a;S++){let I=f[S];if(I===0||I===g)throw new B;(I===1||I===g-1)&&p++}let y=new Array(a*s-p),E=0;for(let S=0;S<a;S++){let I=f[S];if(I===1||I===g-1)y.fill(I>1,E,E+s-1),E+=s-1;else for(let O=s-1;O>=0;--O)y[E++]=(I&1<<O)!==0}return y}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),a=(i?11:14)+s*4,u=new Int32Array(a),h=new Array(this.totalBitsInLayer(s,i));if(i)for(let f=0;f<u.length;f++)u[f]=f;else{let f=a+1+2*T.truncDivision(T.truncDivision(a,2)-1,15),g=a/2,p=T.truncDivision(f,2);for(let y=0;y<g;y++){let E=y+T.truncDivision(y,15);u[g-y-1]=p-E-1,u[g+y]=p+E+1}}for(let f=0,g=0;f<s;f++){let p=(s-f)*4+(i?9:12),y=f*2,E=a-1-y;for(let S=0;S<p;S++){let I=S*2;for(let O=0;O<2;O++)h[g+I+O]=n.get(u[y+O],u[y+S]),h[g+2*p+I+O]=n.get(u[y+S],u[E-O]),h[g+4*p+I+O]=n.get(u[E-O],u[E-S]),h[g+6*p+I+O]=n.get(u[E-S],u[y+O])}g+=p*8}return h}static readCode(n,i,s){let a=0;for(let u=i;u<i+s;u++)a<<=1,n[u]&&(a|=1);return a}static readByte(n,i){let s=n.length-i;return s>=8?He.readCode(n,i,8):He.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=He.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}He.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],He.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],He.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],He.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],He.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class be{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,a){const u=n-s,h=i-a;return Math.sqrt(u*u+h*h)}static sum(n){let i=0;for(let s=0,a=n.length;s!==a;s++){const u=n[s];i+=u}return i}}class To{static floatToIntBits(n){return n}}To.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof oe){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*To.floatToIntBits(this.x)+To.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let u,h,f;if(s>=i&&s>=a?(h=n[0],u=n[1],f=n[2]):a>=s&&a>=i?(h=n[1],u=n[0],f=n[2]):(h=n[2],u=n[0],f=n[1]),this.crossProductZ(u,h,f)<0){const g=u;u=f,f=g}n[0]=u,n[1]=h,n[2]=f}static distance(n,i){return be.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const a=i.x,u=i.y;return(s.x-a)*(n.y-u)-(s.y-u)*(n.x-a)}}class bo{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class yh extends bo{constructor(n,i,s,a,u){super(n,i),this.compact=s,this.nbDatablocks=a,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Jn{constructor(n,i,s,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=Jn.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const u=i/2|0;if(this.leftInit=s-u,this.rightInit=s+u,this.upInit=a-u,this.downInit=a+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,a=this.downInit,u=!1,h=!0,f=!1,g=!1,p=!1,y=!1,E=!1;const S=this.width,I=this.height;for(;h;){h=!1;let O=!0;for(;(O||!g)&&i<S;)O=this.containsBlackPoint(s,a,i,!1),O?(i++,h=!0,g=!0):g||i++;if(i>=S){u=!0;break}let R=!0;for(;(R||!p)&&a<I;)R=this.containsBlackPoint(n,i,a,!0),R?(a++,h=!0,p=!0):p||a++;if(a>=I){u=!0;break}let k=!0;for(;(k||!y)&&n>=0;)k=this.containsBlackPoint(s,a,n,!1),k?(n--,h=!0,y=!0):y||n--;if(n<0){u=!0;break}let H=!0;for(;(H||!E)&&s>=0;)H=this.containsBlackPoint(n,i,s,!0),H?(s--,h=!0,E=!0):E||s--;if(s<0){u=!0;break}h&&(f=!0)}if(!u&&f){const O=i-n;let R=null;for(let q=1;R===null&&q<O;q++)R=this.getBlackPointOnSegment(n,a-q,n+q,a);if(R==null)throw new U;let k=null;for(let q=1;k===null&&q<O;q++)k=this.getBlackPointOnSegment(n,s+q,n+q,s);if(k==null)throw new U;let H=null;for(let q=1;H===null&&q<O;q++)H=this.getBlackPointOnSegment(i,s+q,i-q,s);if(H==null)throw new U;let Z=null;for(let q=1;Z===null&&q<O;q++)Z=this.getBlackPointOnSegment(i,a-q,i-q,a);if(Z==null)throw new U;return this.centerEdges(Z,R,H,k)}else throw new U}getBlackPointOnSegment(n,i,s,a){const u=be.round(be.distance(n,i,s,a)),h=(s-n)/u,f=(a-i)/u,g=this.image;for(let p=0;p<u;p++){const y=be.round(n+p*h),E=be.round(i+p*f);if(g.get(y,E))return new oe(y,E)}return null}centerEdges(n,i,s,a){const u=n.getX(),h=n.getY(),f=i.getX(),g=i.getY(),p=s.getX(),y=s.getY(),E=a.getX(),S=a.getY(),I=Jn.CORR;return u<this.width/2?[new oe(E-I,S+I),new oe(f+I,g+I),new oe(p-I,y-I),new oe(u+I,h-I)]:[new oe(E+I,S+I),new oe(f+I,g-I),new oe(p-I,y+I),new oe(u-I,h-I)]}containsBlackPoint(n,i,s,a){const u=this.image;if(a){for(let h=n;h<=i;h++)if(u.get(h,s))return!0}else for(let h=n;h<=i;h++)if(u.get(s,h))return!0;return!1}}Jn.INIT_SIZE=10,Jn.CORR=1;class pl{static checkAndNudgePoints(n,i){const s=n.getWidth(),a=n.getHeight();let u=!0;for(let h=0;h<i.length&&u;h+=2){const f=Math.floor(i[h]),g=Math.floor(i[h+1]);if(f<-1||f>s||g<-1||g>a)throw new U;u=!1,f===-1?(i[h]=0,u=!0):f===s&&(i[h]=s-1,u=!0),g===-1?(i[h+1]=0,u=!0):g===a&&(i[h+1]=a-1,u=!0)}u=!0;for(let h=i.length-2;h>=0&&u;h-=2){const f=Math.floor(i[h]),g=Math.floor(i[h+1]);if(f<-1||f>s||g<-1||g>a)throw new U;u=!1,f===-1?(i[h]=0,u=!0):f===s&&(i[h]=s-1,u=!0),g===-1?(i[h+1]=0,u=!0):g===a&&(i[h+1]=a-1,u=!0)}}}class Tn{constructor(n,i,s,a,u,h,f,g,p){this.a11=n,this.a21=i,this.a31=s,this.a12=a,this.a22=u,this.a32=h,this.a13=f,this.a23=g,this.a33=p}static quadrilateralToQuadrilateral(n,i,s,a,u,h,f,g,p,y,E,S,I,O,R,k){const H=Tn.quadrilateralToSquare(n,i,s,a,u,h,f,g);return Tn.squareToQuadrilateral(p,y,E,S,I,O,R,k).times(H)}transformPoints(n){const i=n.length,s=this.a11,a=this.a12,u=this.a13,h=this.a21,f=this.a22,g=this.a23,p=this.a31,y=this.a32,E=this.a33;for(let S=0;S<i;S+=2){const I=n[S],O=n[S+1],R=u*I+g*O+E;n[S]=(s*I+h*O+p)/R,n[S+1]=(a*I+f*O+y)/R}}transformPointsWithValues(n,i){const s=this.a11,a=this.a12,u=this.a13,h=this.a21,f=this.a22,g=this.a23,p=this.a31,y=this.a32,E=this.a33,S=n.length;for(let I=0;I<S;I++){const O=n[I],R=i[I],k=u*O+g*R+E;n[I]=(s*O+h*R+p)/k,i[I]=(a*O+f*R+y)/k}}static squareToQuadrilateral(n,i,s,a,u,h,f,g){const p=n-s+u-f,y=i-a+h-g;if(p===0&&y===0)return new Tn(s-n,u-s,n,a-i,h-a,i,0,0,1);{const E=s-u,S=f-u,I=a-h,O=g-h,R=E*O-S*I,k=(p*O-S*y)/R,H=(E*y-p*I)/R;return new Tn(s-n+k*s,f-n+H*f,n,a-i+k*a,g-i+H*g,i,k,H,1)}}static quadrilateralToSquare(n,i,s,a,u,h,f,g){return Tn.squareToQuadrilateral(n,i,s,a,u,h,f,g).buildAdjoint()}buildAdjoint(){return new Tn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Tn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class vh extends pl{sampleGrid(n,i,s,a,u,h,f,g,p,y,E,S,I,O,R,k,H,Z,q){const X=Tn.quadrilateralToQuadrilateral(a,u,h,f,g,p,y,E,S,I,O,R,k,H,Z,q);return this.sampleGridWithTransform(n,i,s,X)}sampleGridWithTransform(n,i,s,a){if(i<=0||s<=0)throw new U;const u=new pe(i,s),h=new Float32Array(2*i);for(let f=0;f<s;f++){const g=h.length,p=f+.5;for(let y=0;y<g;y+=2)h[y]=y/2+.5,h[y+1]=p;a.transformPoints(h),pl.checkAndNudgePoints(n,h);try{for(let y=0;y<g;y+=2)n.get(Math.floor(h[y]),Math.floor(h[y+1]))&&u.set(y/2,f)}catch{throw new U}}return u}}class gr{static setGridSampler(n){gr.gridSampler=n}static getInstance(){return gr.gridSampler}}gr.gridSampler=new vh;class Ut{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Eh{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let h=s[0];s[0]=s[2],s[2]=h}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),u=this.getMatrixCornerPoints(s);return new yh(a,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new U;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let a=0;for(let h=0;h<4;h++){let f=s[(this.shift+h)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let u=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,i){let s=0;n.forEach((a,u,h)=>{let f=(a>>i-2<<1)+(a&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(T.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new U}getCorrectedParameterData(n,i){let s,a;i?(s=7,a=2):(s=10,a=4);let u=s-a,h=new Int32Array(s);for(let g=s-1;g>=0;--g)h[g]=n&15,n>>=4;try{new ws(Me.AZTEC_PARAM).decode(h,u)}catch{throw new U}let f=0;for(let g=0;g<a;g++)f=(f<<4)+h[g];return f}getBullsEyeCorners(n){let i=n,s=n,a=n,u=n,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(i,h,1,-1),S=this.getFirstDifferent(s,h,1,1),I=this.getFirstDifferent(a,h,-1,1),O=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let R=this.distancePoint(O,E)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(R<.75||R>1.25||!this.isWhiteOrBlackRectangle(E,S,I,O))break}i=E,s=S,a=I,u=O,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let f=new oe(i.getX()+.5,i.getY()-.5),g=new oe(s.getX()+.5,s.getY()+.5),p=new oe(a.getX()-.5,a.getY()+.5),y=new oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([f,g,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,a;try{let f=new Jn(this.image).detect();n=f[0],i=f[1],s=f[2],a=f[3]}catch{let g=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Ut(g+7,p-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Ut(g+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ut(g-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ut(g-7,p-7),!1,-1,-1).toResultPoint()}let u=be.round((n.getX()+a.getX()+i.getX()+s.getX())/4),h=be.round((n.getY()+a.getY()+i.getY()+s.getY())/4);try{let f=new Jn(this.image,15,u,h).detect();n=f[0],i=f[1],s=f[2],a=f[3]}catch{n=this.getFirstDifferent(new Ut(u+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Ut(u+7,h+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ut(u-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ut(u-7,h-7),!1,-1,-1).toResultPoint()}return u=be.round((n.getX()+a.getX()+i.getX()+s.getX())/4),h=be.round((n.getY()+a.getY()+i.getY()+s.getY())/4),new Ut(u,h)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,a,u){let h=gr.getInstance(),f=this.getDimension(),g=f/2-this.nbCenterLayers,p=f/2+this.nbCenterLayers;return h.sampleGrid(n,f,f,g,g,p,g,p,p,g,p,i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY(),u.getX(),u.getY())}sampleLine(n,i,s){let a=0,u=this.distanceResultPoint(n,i),h=u/s,f=n.getX(),g=n.getY(),p=h*(i.getX()-n.getX())/u,y=h*(i.getY()-n.getY())/u;for(let E=0;E<s;E++)this.image.get(be.round(f+E*p),be.round(g+E*y))&&(a|=1<<s-E-1);return a}isWhiteOrBlackRectangle(n,i,s,a){let u=3;n=new Ut(n.getX()-u,n.getY()+u),i=new Ut(i.getX()-u,i.getY()-u),s=new Ut(s.getX()+u,s.getY()-u),a=new Ut(a.getX()+u,a.getY()+u);let h=this.getColor(a,n);if(h===0)return!1;let f=this.getColor(n,i);return f!==h||(f=this.getColor(i,s),f!==h)?!1:(f=this.getColor(s,a),f===h)}getColor(n,i){let s=this.distancePoint(n,i),a=(i.getX()-n.getX())/s,u=(i.getY()-n.getY())/s,h=0,f=n.getX(),g=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(s);for(let S=0;S<y;S++)f+=a,g+=u,this.image.get(be.round(f),be.round(g))!==p&&h++;let E=h/s;return E>.1&&E<.9?0:E<=.1===p?1:-1}getFirstDifferent(n,i,s,a){let u=n.getX()+s,h=n.getY()+a;for(;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=s,h+=a;for(u-=s,h-=a;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=s;for(u-=s;this.isValid(u,h)&&this.image.get(u,h)===i;)h+=a;return h-=a,new Ut(u,h)}expandSquare(n,i,s){let a=s/(2*i),u=n[0].getX()-n[2].getX(),h=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,p=new oe(f+a*u,g+a*h),y=new oe(f-a*u,g-a*h);u=n[1].getX()-n[3].getX(),h=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;let E=new oe(f+a*u,g+a*h),S=new oe(f-a*u,g-a*h);return[p,E,y,S]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=be.round(n.getX()),s=be.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return be.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return be.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class No{decode(n,i=null){let s=null,a=new Eh(n.getBlackMatrix()),u=null,h=null;try{let y=a.detectMirror(!1);u=y.getPoints(),this.reportFoundResultPoints(i,u),h=new He().decode(y)}catch(y){s=y}if(h==null)try{let y=a.detectMirror(!0);u=y.getPoints(),this.reportFoundResultPoints(i,u),h=new He().decode(y)}catch(y){throw s??y}let f=new Je(h.getText(),h.getRawBytes(),h.getNumBits(),u,ae.AZTEC,F.currentTimeMillis()),g=h.getByteSegments();g!=null&&f.putMetadata(yt.BYTE_SEGMENTS,g);let p=h.getECLevel();return p!=null&&f.putMetadata(yt.ERROR_CORRECTION_LEVEL,p),f}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(W.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((a,u,h)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class Cg extends mn{constructor(n=500){super(new No,n)}}class ft{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(W.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),h=this.doDecode(u,i),f=h.getResultMetadata();let g=270;f!==null&&f.get(yt.ORIENTATION)===!0&&(g=g+f.get(yt.ORIENTATION)%360),h.putMetadata(yt.ORIENTATION,g);const p=h.getResultPoints();if(p!==null){const y=u.getHeight();for(let E=0;E<p.length;E++)p[E]=new oe(y-p[E].getY()-1,p[E].getX())}return h}else throw new U}}reset(){}doDecode(n,i){const s=n.getWidth(),a=n.getHeight();let u=new P(s);const h=i&&i.get(W.TRY_HARDER)===!0,f=Math.max(1,a>>(h?8:5));let g;h?g=a:g=15;const p=Math.trunc(a/2);for(let y=0;y<g;y++){const E=Math.trunc((y+1)/2),S=(y&1)===0,I=p+f*(S?E:-E);if(I<0||I>=a)break;try{u=n.getBlackRow(I,u)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(u.reverse(),i&&i.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const R=new Map;i.forEach((k,H)=>R.set(H,k)),R.delete(W.NEED_RESULT_POINT_CALLBACK),i=R}try{const R=this.decodeRow(I,u,i);if(O===1){R.putMetadata(yt.ORIENTATION,180);const k=R.getResultPoints();k!==null&&(k[0]=new oe(s-k[0].getX()-1,k[0].getY()),k[1]=new oe(s-k[1].getX()-1,k[1].getY()))}return R}catch{}}}throw new U}static recordPattern(n,i,s){const a=s.length;for(let p=0;p<a;p++)s[p]=0;const u=n.getSize();if(i>=u)throw new U;let h=!n.get(i),f=0,g=i;for(;g<u;){if(n.get(g)!==h)s[f]++;else{if(++f===a)break;s[f]=1,h=!h}g++}if(!(f===a||f===a-1&&g===u))throw new U}static recordPatternInReverse(n,i,s){let a=s.length,u=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==u&&(a--,u=!u);if(a>=0)throw new U;ft.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const a=n.length;let u=0,h=0;for(let p=0;p<a;p++)u+=n[p],h+=i[p];if(u<h)return Number.POSITIVE_INFINITY;const f=u/h;s*=f;let g=0;for(let p=0;p<a;p++){const y=n[p],E=i[p]*f,S=y>E?y-E:E-y;if(S>s)return Number.POSITIVE_INFINITY;g+=S}return g/u}}class ee extends ft{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let a=0,u=Int32Array.from([0,0,0,0,0,0]),h=s,f=!1;const g=6;for(let p=s;p<i;p++)if(n.get(p)!==f)u[a]++;else{if(a===g-1){let y=ee.MAX_AVG_VARIANCE,E=-1;for(let S=ee.CODE_START_A;S<=ee.CODE_START_C;S++){const I=ft.patternMatchVariance(u,ee.CODE_PATTERNS[S],ee.MAX_INDIVIDUAL_VARIANCE);I<y&&(y=I,E=S)}if(E>=0&&n.isRange(Math.max(0,h-(p-h)/2),h,!1))return Int32Array.from([h,p,E]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[a-1]=0,u[a]=0,a--}else a++;u[a]=1,f=!f}throw new U}static decodeCode(n,i,s){ft.recordPattern(n,s,i);let a=ee.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<ee.CODE_PATTERNS.length;h++){const f=ee.CODE_PATTERNS[h],g=this.patternMatchVariance(i,f,ee.MAX_INDIVIDUAL_VARIANCE);g<a&&(a=g,u=h)}if(u>=0)return u;throw new U}decodeRow(n,i,s){const a=s&&s.get(W.ASSUME_GS1)===!0,u=ee.findStartPattern(i),h=u[2];let f=0;const g=new Uint8Array(20);g[f++]=h;let p;switch(h){case ee.CODE_START_A:p=ee.CODE_CODE_A;break;case ee.CODE_START_B:p=ee.CODE_CODE_B;break;case ee.CODE_START_C:p=ee.CODE_CODE_C;break;default:throw new B}let y=!1,E=!1,S="",I=u[0],O=u[1];const R=Int32Array.from([0,0,0,0,0,0]);let k=0,H=0,Z=h,q=0,X=!0,_e=!1,we=!1;for(;!y;){const Ni=E;switch(E=!1,k=H,H=ee.decodeCode(i,R,O),g[f++]=H,H!==ee.CODE_STOP&&(X=!0),H!==ee.CODE_STOP&&(q++,Z+=q*H),I=O,O+=R.reduce((Zg,qg)=>Zg+qg,0),H){case ee.CODE_START_A:case ee.CODE_START_B:case ee.CODE_START_C:throw new B}switch(p){case ee.CODE_CODE_A:if(H<64)we===_e?S+=String.fromCharCode(32+H):S+=String.fromCharCode(32+H+128),we=!1;else if(H<96)we===_e?S+=String.fromCharCode(H-64):S+=String.fromCharCode(H+64),we=!1;else switch(H!==ee.CODE_STOP&&(X=!1),H){case ee.CODE_FNC_1:a&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_FNC_2:case ee.CODE_FNC_3:break;case ee.CODE_FNC_4_A:!_e&&we?(_e=!0,we=!1):_e&&we?(_e=!1,we=!1):we=!0;break;case ee.CODE_SHIFT:E=!0,p=ee.CODE_CODE_B;break;case ee.CODE_CODE_B:p=ee.CODE_CODE_B;break;case ee.CODE_CODE_C:p=ee.CODE_CODE_C;break;case ee.CODE_STOP:y=!0;break}break;case ee.CODE_CODE_B:if(H<96)we===_e?S+=String.fromCharCode(32+H):S+=String.fromCharCode(32+H+128),we=!1;else switch(H!==ee.CODE_STOP&&(X=!1),H){case ee.CODE_FNC_1:a&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_FNC_2:case ee.CODE_FNC_3:break;case ee.CODE_FNC_4_B:!_e&&we?(_e=!0,we=!1):_e&&we?(_e=!1,we=!1):we=!0;break;case ee.CODE_SHIFT:E=!0,p=ee.CODE_CODE_A;break;case ee.CODE_CODE_A:p=ee.CODE_CODE_A;break;case ee.CODE_CODE_C:p=ee.CODE_CODE_C;break;case ee.CODE_STOP:y=!0;break}break;case ee.CODE_CODE_C:if(H<100)H<10&&(S+="0"),S+=H;else switch(H!==ee.CODE_STOP&&(X=!1),H){case ee.CODE_FNC_1:a&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_CODE_A:p=ee.CODE_CODE_A;break;case ee.CODE_CODE_B:p=ee.CODE_CODE_B;break;case ee.CODE_STOP:y=!0;break}break}Ni&&(p=p===ee.CODE_CODE_A?ee.CODE_CODE_B:ee.CODE_CODE_A)}const Qt=O-I;if(O=i.getNextUnset(O),!i.isRange(O,Math.min(i.getSize(),O+(O-I)/2),!1))throw new U;if(Z-=q*k,Z%103!==k)throw new D;const Nn=S.length;if(Nn===0)throw new U;Nn>0&&X&&(p===ee.CODE_CODE_C?S=S.substring(0,Nn-2):S=S.substring(0,Nn-1));const Zt=(u[1]+u[0])/2,ze=I+Qt/2,bt=g.length,on=new Uint8Array(bt);for(let Ni=0;Ni<bt;Ni++)on[Ni]=g[Ni];const bi=[new oe(Zt,n),new oe(ze,n)];return new Je(S,on,0,bi,ae.CODE_128,new Date().getTime())}}ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ee.MAX_AVG_VARIANCE=.25,ee.MAX_INDIVIDUAL_VARIANCE=.7,ee.CODE_SHIFT=98,ee.CODE_CODE_C=99,ee.CODE_CODE_B=100,ee.CODE_CODE_A=101,ee.CODE_FNC_1=102,ee.CODE_FNC_2=97,ee.CODE_FNC_3=96,ee.CODE_FNC_4_A=101,ee.CODE_FNC_4_B=100,ee.CODE_START_A=103,ee.CODE_START_B=104,ee.CODE_START_C=105,ee.CODE_STOP=106;class gt extends ft{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let a=this.counters;a.fill(0),this.decodeRowResult="";let u=gt.findAsteriskPattern(i,a),h=i.getNextSet(u[1]),f=i.getSize(),g,p;do{gt.recordPattern(i,h,a);let R=gt.toNarrowWidePattern(a);if(R<0)throw new U;g=gt.patternToChar(R),this.decodeRowResult+=g,p=h;for(let k of a)h+=k;h=i.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let R of a)y+=R;let E=h-p-y;if(h!==f&&E*2<y)throw new U;if(this.usingCheckDigit){let R=this.decodeRowResult.length-1,k=0;for(let H=0;H<R;H++)k+=gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(R)!==gt.ALPHABET_STRING.charAt(k%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new U;let S;this.extendedMode?S=gt.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let I=(u[1]+u[0])/2,O=p+y/2;return new Je(S,null,0,[new oe(I,n),new oe(O,n)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),a=n.getNextSet(0),u=0,h=a,f=!1,g=i.length;for(let p=a;p<s;p++)if(n.get(p)!==f)i[u]++;else{if(u===g-1){if(this.toNarrowWidePattern(i)===gt.ASTERISK_ENCODING&&n.isRange(Math.max(0,h-Math.floor((p-h)/2)),h,!1))return[h,p];h+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,f=!f}throw new U}static toNarrowWidePattern(n){let i=n.length,s=0,a;do{let u=2147483647;for(let g of n)g<u&&g>s&&(u=g);s=u,a=0;let h=0,f=0;for(let g=0;g<i;g++){let p=n[g];p>s&&(f|=1<<i-1-g,a++,h+=p)}if(a===3){for(let g=0;g<i&&a>0;g++){let p=n[g];if(p>s&&(a--,p*2>=h))return-1}return f}}while(a>3);return-1}static patternToChar(n){for(let i=0;i<gt.CHARACTER_ENCODINGS.length;i++)if(gt.CHARACTER_ENCODINGS[i]===n)return gt.ALPHABET_STRING.charAt(i);if(n===gt.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(n){let i=n.length,s="";for(let a=0;a<i;a++){let u=n.charAt(a);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=n.charAt(a+1),f="\0";switch(u){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new B;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new B;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new B;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new B;break}s+=f,a++}else s+=u}return s}}gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gt.ASTERISK_ENCODING=148;class je extends ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let a=this.decodeStart(i),u=this.decodeEnd(i),h=new te;je.decodeMiddle(i,a[1],u[0],h);let f=h.toString(),g=null;s!=null&&(g=s.get(W.ALLOWED_LENGTHS)),g==null&&(g=je.DEFAULT_ALLOWED_LENGTHS);let p=f.length,y=!1,E=0;for(let O of g){if(p===O){y=!0;break}O>E&&(E=O)}if(!y&&p>E&&(y=!0),!y)throw new B;const S=[new oe(a[1],n),new oe(u[0],n)];return new Je(f,null,0,S,ae.ITF,new Date().getTime())}static decodeMiddle(n,i,s,a){let u=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),h.fill(0),f.fill(0);i<s;){ft.recordPattern(n,i,u);for(let p=0;p<5;p++){let y=2*p;h[p]=u[y],f[p]=u[y+1]}let g=je.decodeDigit(h);a.append(g.toString()),g=this.decodeDigit(f),a.append(g.toString()),u.forEach(function(p){i+=p})}}decodeStart(n){let i=je.skipWhiteSpace(n),s=je.findGuardPattern(n,i,je.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let a=i-1;s>0&&a>=0&&!n.get(a);a--)s--;if(s!==0)throw new U}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new U;return s}decodeEnd(n){n.reverse();try{let i=je.skipWhiteSpace(n),s;try{s=je.findGuardPattern(n,i,je.END_PATTERN_REVERSED[0])}catch(u){u instanceof U&&(s=je.findGuardPattern(n,i,je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let a=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-a,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let a=s.length,u=new Int32Array(a),h=n.getSize(),f=!1,g=0,p=i;u.fill(0);for(let y=i;y<h;y++)if(n.get(y)!==f)u[g]++;else{if(g===a-1){if(ft.patternMatchVariance(u,s,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return[p,y];p+=u[0]+u[1],F.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,f=!f}throw new U}static decodeDigit(n){let i=je.MAX_AVG_VARIANCE,s=-1,a=je.PATTERNS.length;for(let u=0;u<a;u++){let h=je.PATTERNS[u],f=ft.patternMatchVariance(n,h,je.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,s=u):f===i&&(s=-1)}if(s>=0)return s%10;throw new U}}je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],je.MAX_AVG_VARIANCE=.38,je.MAX_INDIVIDUAL_VARIANCE=.5,je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],je.START_PATTERN=Int32Array.from([1,1,1,1]),je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class it extends ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,a=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),s=it.findGuardPattern(n,a,!1,this.START_END_PATTERN,u);let h=s[0];a=s[1];let f=h-(a-h);f>=0&&(i=n.isRange(f,h,!1))}return s}static checkChecksum(n){return it.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return it.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let u=n.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}s*=3;for(let a=i-2;a>=0;a-=2){let u=n.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}return(1e3-s)%10}static decodeEnd(n,i){return it.findGuardPattern(n,i,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,a){return this.findGuardPattern(n,i,s,a,new Int32Array(a.length))}static findGuardPattern(n,i,s,a,u){let h=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let f=0,g=i,p=a.length,y=s;for(let E=i;E<h;E++)if(n.get(E)!==y)u[f]++;else{if(f===p-1){if(ft.patternMatchVariance(u,a,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return Int32Array.from([g,E]);g+=u[0]+u[1];let S=u.slice(2,u.length-1);for(let I=0;I<f-1;I++)u[I]=S[I];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,y=!y}throw new U}static decodeDigit(n,i,s,a){this.recordPattern(n,s,i);let u=this.MAX_AVG_VARIANCE,h=-1,f=a.length;for(let g=0;g<f;g++){let p=a[g],y=ft.patternMatchVariance(i,p,it.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,h=g)}if(h>=0)return h;throw new U}}it.MAX_AVG_VARIANCE=.48,it.MAX_INDIVIDUAL_VARIANCE=.7,it.START_END_PATTERN=Int32Array.from([1,1,1]),it.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),it.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),it.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ys{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,a),h=a.toString(),f=ys.parseExtensionString(h),g=[new oe((s[0]+s[1])/2,n),new oe(u,n)],p=new Je(h,null,0,g,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=n.getSize(),h=i[1],f=0;for(let p=0;p<5&&h<u;p++){let y=it.decodeDigit(n,a,h,it.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of a)h+=E;y>=10&&(f|=1<<4-p),p!==4&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(s.length!==5)throw new U;let g=this.determineCheckDigit(f);if(ys.extensionChecksum(s.toString())!==g)throw new U;return h}static extensionChecksum(n){let i=n.length,s=0;for(let a=i-2;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;s*=3;for(let a=i-1;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new U}static parseExtensionString(n){if(n.length!==5)return null;let i=ys.parseExtension5String(n);return i==null?null:new Map([[yt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),a=(s/100).toString(),u=s%100,h=u<10?"0"+u:u.toString();return i+a+"."+h}}class ml{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,a),h=a.toString(),f=ml.parseExtensionString(h),g=[new oe((s[0]+s[1])/2,n),new oe(u,n)],p=new Je(h,null,0,g,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=n.getSize(),h=i[1],f=0;for(let g=0;g<2&&h<u;g++){let p=it.decodeDigit(n,a,h,it.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let y of a)h+=y;p>=10&&(f|=1<<1-g),g!==1&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(s.length!==2)throw new U;if(parseInt(s.toString())%4!==f)throw new U;return h}static parseExtensionString(n){return n.length!==2?null:new Map([[yt.ISSUE_NUMBER,parseInt(n)]])}}class Ch{static decodeRow(n,i,s){let a=it.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ys().decodeRow(n,i,a)}catch{return new ml().decodeRow(n,i,a)}}}Ch.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends it{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Re.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let a=0;a<i.length;a++)s[a]=i[i.length-a-1];Re.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let a=Re.findStartGuardPattern(i),u=s==null?null:s.get(W.NEED_RESULT_POINT_CALLBACK);if(u!=null){const X=new oe((a[0]+a[1])/2,n);u.foundPossibleResultPoint(X)}let h=this.decodeMiddle(i,a,this.decodeRowStringBuffer),f=h.rowOffset,g=h.resultString;if(u!=null){const X=new oe(f,n);u.foundPossibleResultPoint(X)}let p=this.decodeEnd(i,f);if(u!=null){const X=new oe((p[0]+p[1])/2,n);u.foundPossibleResultPoint(X)}let y=p[1],E=y+(y-p[0]);if(E>=i.getSize()||!i.isRange(y,E,!1))throw new U;let S=g.toString();if(S.length<8)throw new B;if(!Re.checkChecksum(S))throw new D;let I=(a[1]+a[0])/2,O=(p[1]+p[0])/2,R=this.getBarcodeFormat(),k=[new oe(I,n),new oe(O,n)],H=new Je(S,null,0,k,R,new Date().getTime()),Z=0;try{let X=Ch.decodeRow(n,i,p[1]);H.putMetadata(yt.UPC_EAN_EXTENSION,X.getText()),H.putAllMetadata(X.getResultMetadata()),H.addResultPoints(X.getResultPoints()),Z=X.getText().length}catch{}let q=s==null?null:s.get(W.ALLOWED_EAN_EXTENSIONS);if(q!=null){let X=!1;for(let _e in q)if(Z.toString()===_e){X=!0;break}if(!X)throw new U}return H}decodeEnd(n,i){return Re.findGuardPattern(n,i,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Re.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return Re.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let u=n.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}s*=3;for(let a=i-2;a>=0;a-=2){let u=n.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}return(1e3-s)%10}}class Kr extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=n.getSize(),h=i[1],f=0;for(let p=0;p<6&&h<u;p++){let y=Re.decodeDigit(n,a,h,Re.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of a)h+=E;y>=10&&(f|=1<<5-p)}s=Kr.determineFirstDigit(s,f),h=Re.findGuardPattern(n,h,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&h<u;p++){let y=Re.decodeDigit(n,a,h,Re.L_PATTERNS);s+=String.fromCharCode(48+y);for(let E of a)h+=E}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new U}}Kr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ah extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=n.getSize(),h=i[1];for(let g=0;g<4&&h<u;g++){let p=Re.decodeDigit(n,a,h,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let y of a)h+=y}h=Re.findGuardPattern(n,h,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&h<u;g++){let p=Re.decodeDigit(n,a,h,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let y of a)h+=y}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return ae.EAN_8}}class Sh extends Re{constructor(){super(...arguments),this.ean13Reader=new Kr}getBarcodeFormat(){return ae.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new Je(i.substring(1),null,null,n.getResultPoints(),ae.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new U}reset(){this.ean13Reader.reset()}}class bn extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters.map(p=>p);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const u=n.getSize();let h=i[1],f=0;for(let p=0;p<6&&h<u;p++){const y=bn.decodeDigit(n,a,h,bn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of a)h+=E;y>=10&&(f|=1<<5-p)}let g=bn.determineNumSysAndCheckDigit(s,f);return{rowOffset:h,resultString:g}}decodeEnd(n,i){return bn.findGuardPatternWithoutCounters(n,i,!0,bn.MIDDLE_END_PATTERN)}checkChecksum(n){return Re.checkChecksum(bn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let u=String.fromCharCode(48+s),h=String.fromCharCode(48+a);return u+n+h}throw U.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),s=new te;s.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(a),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(a);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class xl extends ft{constructor(n){super();let i=n==null?null:n.get(W.POSSIBLE_FORMATS),s=[];o(i)?(s.push(new Kr),s.push(new Sh),s.push(new Ah),s.push(new bn)):(i.indexOf(ae.EAN_13)>-1&&s.push(new Kr),i.indexOf(ae.UPC_A)>-1&&s.push(new Sh),i.indexOf(ae.EAN_8)>-1&&s.push(new Ah),i.indexOf(ae.UPC_E)>-1&&s.push(new bn)),this.readers=s}decodeRow(n,i,s){for(let a of this.readers)try{const u=a.decodeRow(n,i,s),h=u.getBarcodeFormat()===ae.EAN_13&&u.getText().charAt(0)==="0",f=s==null?null:s.get(W.POSSIBLE_FORMATS),g=f==null||f.includes(ae.UPC_A);if(h&&g){const p=u.getRawBytes(),y=new Je(u.getText().substring(1),p,p?p.length:null,u.getResultPoints(),ae.UPC_A);return y.putAllMetadata(u.getResultMetadata()),y}return u}catch{}throw new U}reset(){for(let n of this.readers)n.reset()}}class Dt extends ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(ft.patternMatchVariance(n,i[s],Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return s;throw new U}static count(n){return be.sum(new Int32Array(n))}static increment(n,i){let s=0,a=i[0];for(let u=1;u<n.length;u++)i[u]>a&&(a=i[u],s=u);n[s]++}static decrement(n,i){let s=0,a=i[0];for(let u=1;u<n.length;u++)i[u]<a&&(a=i[u],s=u);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],a=i/s;if(a>=Dt.MIN_FINDER_PATTERN_RATIO&&a<=Dt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of n)f>h&&(h=f),f<u&&(u=f);return h<10*u}return!1}}Dt.MAX_AVG_VARIANCE=.2,Dt.MAX_INDIVIDUAL_VARIANCE=.45,Dt.MIN_FINDER_PATTERN_RATIO=9.5/12,Dt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ei))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Oo{constructor(n,i,s,a,u){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new oe(s,u)),this.resultPoints.push(new oe(a,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Oo))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class zn{constructor(){}static getRSSvalue(n,i,s){let a=0;for(let g of n)a+=g;let u=0,h=0,f=n.length;for(let g=0;g<f-1;g++){let p;for(p=1,h|=1<<g;p<n[g];p++,h&=~(1<<g)){let y=zn.combins(a-p-1,f-g-2);if(s&&h===0&&a-p-(f-g-1)>=f-g-1&&(y-=zn.combins(a-p-(f-g),f-g-2)),f-g-1>1){let E=0;for(let S=a-p-(f-g-2);S>i;S--)E+=zn.combins(a-p-S-1,f-g-3);y-=E*(f-1-g)}else a-p>i&&y--;u+=y}a-=p}return u}static combins(n,i){let s,a;n-i>i?(a=i,s=n-i):(a=n-i,s=i);let u=1,h=1;for(let f=n;f>s;f--)u*=f,h<=a&&(u/=h,h++);for(;h<=a;)u/=h,h++;return u}}class Ag{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,a=new P(s),u=0,f=n[0].getRightChar().getValue();for(let g=11;g>=0;--g)f&1<<g&&a.set(u),u++;for(let g=1;g<n.length;++g){let p=n[g],y=p.getLeftChar().getValue();for(let E=11;E>=0;--E)y&1<<E&&a.set(u),u++;if(p.getRightChar()!=null){let E=p.getRightChar().getValue();for(let S=11;S>=0;--S)E&1<<S&&a.set(u),u++}}return a}}class Qr{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class wl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Xt extends wl{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Xt.FNC1}}Xt.FNC1="$";class Zr extends wl{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xn extends wl{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new B;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xn.FNC1}isSecondDigitFNC1(){return this.secondDigit===xn.FNC1}isAnyFNC1(){return this.firstDigit===xn.FNC1||this.secondDigit===xn.FNC1}}xn.FNC1=10;class re{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new U;let i=n.substring(0,2);for(let u of re.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===re.VARIABLE_LENGTH?re.processVariableAI(2,u[2],n):re.processFixedAI(2,u[1],n);if(n.length<3)throw new U;let s=n.substring(0,3);for(let u of re.THREE_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===re.VARIABLE_LENGTH?re.processVariableAI(3,u[2],n):re.processFixedAI(3,u[1],n);for(let u of re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,u[2],n):re.processFixedAI(4,u[1],n);if(n.length<4)throw new U;let a=n.substring(0,4);for(let u of re.FOUR_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,u[2],n):re.processFixedAI(4,u[1],n);throw new U}static processFixedAI(n,i,s){if(s.length<n)throw new U;let a=s.substring(0,n);if(s.length<n+i)throw new U;let u=s.substring(n,n+i),h=s.substring(n+i),f="("+a+")"+u,g=re.parseFieldsInGeneralPurpose(h);return g==null?f:f+g}static processVariableAI(n,i,s){let a=s.substring(0,n),u;s.length<n+i?u=s.length:u=n+i;let h=s.substring(n,u),f=s.substring(u),g="("+a+")"+h,p=re.parseFieldsInGeneralPurpose(f);return p==null?g:g+p}}re.VARIABLE_LENGTH=[],re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",re.VARIABLE_LENGTH,20],["22",re.VARIABLE_LENGTH,29],["30",re.VARIABLE_LENGTH,8],["37",re.VARIABLE_LENGTH,8],["90",re.VARIABLE_LENGTH,30],["91",re.VARIABLE_LENGTH,30],["92",re.VARIABLE_LENGTH,30],["93",re.VARIABLE_LENGTH,30],["94",re.VARIABLE_LENGTH,30],["95",re.VARIABLE_LENGTH,30],["96",re.VARIABLE_LENGTH,30],["97",re.VARIABLE_LENGTH,3],["98",re.VARIABLE_LENGTH,30],["99",re.VARIABLE_LENGTH,30]],re.THREE_DIGIT_DATA_LENGTH=[["240",re.VARIABLE_LENGTH,30],["241",re.VARIABLE_LENGTH,30],["242",re.VARIABLE_LENGTH,6],["250",re.VARIABLE_LENGTH,30],["251",re.VARIABLE_LENGTH,30],["253",re.VARIABLE_LENGTH,17],["254",re.VARIABLE_LENGTH,20],["400",re.VARIABLE_LENGTH,30],["401",re.VARIABLE_LENGTH,30],["402",17],["403",re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",re.VARIABLE_LENGTH,20],["421",re.VARIABLE_LENGTH,15],["422",3],["423",re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",re.VARIABLE_LENGTH,15],["391",re.VARIABLE_LENGTH,18],["392",re.VARIABLE_LENGTH,15],["393",re.VARIABLE_LENGTH,18],["703",re.VARIABLE_LENGTH,30]],re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",re.VARIABLE_LENGTH,20],["8003",re.VARIABLE_LENGTH,30],["8004",re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",re.VARIABLE_LENGTH,30],["8008",re.VARIABLE_LENGTH,12],["8018",18],["8020",re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",re.VARIABLE_LENGTH,70],["8200",re.VARIABLE_LENGTH,70]];class Ci{constructor(n){this.buffer=new te,this.information=n}decodeAllCodes(n,i){let s=i,a=null;do{let u=this.decodeGeneralPurposeField(s,a),h=re.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&n.append(h),u.isRemaining()?a=""+u.getRemainingValue():a=null,s===u.getNewPosition())break;s=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new xn(this.information.getSize(),xn.FNC1,xn.FNC1):new xn(this.information.getSize(),u-1,xn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,a=(i-8)%11;return new xn(n+7,s,a)}extractNumericValueFromBitArray(n,i){return Ci.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let a=0;for(let u=0;u<s;++u)n.get(i+u)&&(a|=1<<s-u-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Zr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Zr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new Zr(this.current.getPosition(),this.buffer.toString()):i=new Zr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Qr(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new Zr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Qr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Zr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Qr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Zr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Qr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Xt(n+5,Xt.FNC1);if(i>=5&&i<15)return new Xt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Xt(n+7,""+(s+1));if(s>=90&&s<116)return new Xt(n+7,""+(s+7));let a=this.extractNumericValueFromBitArray(n,8),u;switch(a){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new B}return new Xt(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Xt(n+5,Xt.FNC1);if(i>=5&&i<15)return new Xt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Xt(n+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Un("Decoding invalid alphanumeric value: "+s)}return new Xt(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class yl{constructor(n){this.information=n,this.generalDecoder=new Ci(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $t extends yl{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let a=0;a<4;++a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}$t.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let a=0;a<13;a++){let u=n.charAt(a+i).charCodeAt(0)-48;s+=a&1?u:3*u}s=10-s%10,s===10&&(s=0),n.append(s)}}$t.GTIN_SIZE=40;class Ai extends $t{constructor(n){super(n)}parseInformation(){let n=new te;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,Ai.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Ai.HEADER_SIZE+44)}}Ai.HEADER_SIZE=4;class Mo extends yl{constructor(n){super(n)}parseInformation(){let n=new te;return this.getGeneralDecoder().decodeAllCodes(n,Mo.HEADER_SIZE)}}Mo.HEADER_SIZE=5;class Ro extends $t{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,a);let u=this.checkWeight(a),h=1e5;for(let f=0;f<5;++f)u/h===0&&n.append("0"),h/=10;n.append(u)}}class Hn extends Ro{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Hn.HEADER_SIZE+Ro.GTIN_SIZE+Hn.WEIGHT_SIZE)throw new U;let n=new te;return this.encodeCompressedGtin(n,Hn.HEADER_SIZE),this.encodeCompressedWeight(n,Hn.HEADER_SIZE+Ro.GTIN_SIZE,Hn.WEIGHT_SIZE),n.toString()}}Hn.HEADER_SIZE=5,Hn.WEIGHT_SIZE=15;class Sg extends Hn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class _g extends Hn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Vn extends $t{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+$t.GTIN_SIZE)throw new U;let n=new te;this.encodeCompressedGtin(n,Vn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+$t.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+$t.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class zt extends $t{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<zt.HEADER_SIZE+$t.GTIN_SIZE)throw new U;let n=new te;this.encodeCompressedGtin(n,zt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+$t.GTIN_SIZE,zt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+$t.GTIN_SIZE+zt.LAST_DIGIT_SIZE,zt.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let a=this.getGeneralDecoder().decodeGeneralPurposeField(zt.HEADER_SIZE+$t.GTIN_SIZE+zt.LAST_DIGIT_SIZE+zt.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}zt.HEADER_SIZE=8,zt.LAST_DIGIT_SIZE=2,zt.FIRST_THREE_DIGITS_SIZE=10;class Ze extends Ro{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Ze.HEADER_SIZE+Ze.GTIN_SIZE+Ze.WEIGHT_SIZE+Ze.DATE_SIZE)throw new U;let n=new te;return this.encodeCompressedGtin(n,Ze.HEADER_SIZE),this.encodeCompressedWeight(n,Ze.HEADER_SIZE+Ze.GTIN_SIZE,Ze.WEIGHT_SIZE),this.encodeCompressedDate(n,Ze.HEADER_SIZE+Ze.GTIN_SIZE+Ze.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Ze.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=s%32;s/=32;let u=s%12+1;s/=12;let h=s;h/10==0&&n.append("0"),n.append(h),u/10==0&&n.append("0"),n.append(u),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}Ze.HEADER_SIZE=8,Ze.WEIGHT_SIZE=20,Ze.DATE_SIZE=16;function _h(v){try{if(v.get(1))return new Ai(v);if(!v.get(2))return new Mo(v);switch(Ci.extractNumericValueFromBitArray(v,1,4)){case 4:return new Sg(v);case 5:return new _g(v)}switch(Ci.extractNumericValueFromBitArray(v,1,5)){case 12:return new Vn(v);case 13:return new zt(v)}switch(Ci.extractNumericValueFromBitArray(v,1,7)){case 56:return new Ze(v,"310","11");case 57:return new Ze(v,"320","11");case 58:return new Ze(v,"310","13");case 59:return new Ze(v,"320","13");case 60:return new Ze(v,"310","15");case 61:return new Ze(v,"320","15");case 62:return new Ze(v,"310","17");case 63:return new Ze(v,"320","17")}}catch(n){throw console.log(n),new Un("unknown decoder: "+v)}}class pr{constructor(n,i,s,a){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof pr?pr.equalsOrNull(n.leftchar,i.leftchar)&&pr.equalsOrNull(n.rightchar,i.rightchar)&&pr.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:pr.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class vl{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof vl?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((a,u)=>{i.forEach(h=>{a.getLeftChar().getValue()===h.getLeftChar().getValue()&&a.getRightChar().getValue()===h.getRightChar().getValue()&&a.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(s=!0)})}),s}}class Y extends Dt{constructor(n){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(u){if(u instanceof U){if(!this.pairs.length)throw new U;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new U}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let h of n)this.pairs.push(h.getPairs());if(this.pairs.push(a.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(a);try{return this.checkRows(u,s+1)}catch(h){this.verbose&&console.log(h)}}throw new U}static isValidSequence(n){for(let i of Y.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,a=!1,u=!1;for(;s<this.rows.length;){let h=this.rows[s];if(h.getRowNumber()>n){u=h.isEquivalent(this.pairs);break}a=h.isEquivalent(this.pairs),s++}u||a||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new vl(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let a of s.getPairs())for(let u of n)if(pr.equals(a,u))break}}static isPartialRow(n,i){for(let s of i){let a=!0;for(let u of n){let h=!1;for(let f of s.getPairs())if(u.equals(f)){h=!0;break}if(!h){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=Ag.buildBitArray(n),a=_h(i).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),h=n[n.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],h[0],h[1]];return new Je(a,null,null,f,ae.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),u=2;for(let f=1;f<this.pairs.size();++f){let g=this.pairs.get(f);a+=g.getLeftChar().getChecksumPortion(),u++;let p=g.getRightChar();p!=null&&(a+=p.getChecksumPortion(),u++)}return a%=211,211*(u-4)+a==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let a=i.length%2==0;this.startFromEven&&(a=!a);let u,h=!0,f=-1;do this.findNextPair(n,i,f),u=this.parseFoundFinderPattern(n,s,a),u==null?f=Y.getNextSecondBar(n,this.startEnd[0]):h=!1;while(h);let g=this.decodeDataCharacter(n,u,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new U;let p;try{p=this.decodeDataCharacter(n,u,a,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new pr(g,p,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=n.getSize(),h;s>=0?h=s:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let g=!1;for(;h<u&&(g=!n.get(h),!!g);)h++;let p=0,y=h;for(let E=h;E<u;E++)if(n.get(E)!=g)a[p]++;else{if(p==3){if(f&&Y.reverseCounters(a),Y.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=E;return}f&&Y.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,g=!g}throw new U}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let a=n[s];n[s]=n[i-s-1],n[i-s-1]=a}}parseFoundFinderPattern(n,i,s){let a,u,h;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,a=this.startEnd[0]-p,u=p,h=this.startEnd[1]}else u=this.startEnd[0],h=n.getNextUnset(this.startEnd[1]+1),a=h-this.startEnd[1];let f=this.getDecodeFinderCounters();F.arraycopy(f,0,f,1,f.length-1),f[0]=a;let g;try{g=this.parseFinderValue(f,Y.FINDER_PATTERNS)}catch{return null}return new Oo(g,[u,h],u,h,i)}decodeDataCharacter(n,i,s,a){let u=this.getDataCharacterCounters();for(let ze=0;ze<u.length;ze++)u[ze]=0;if(a)Y.recordPatternInReverse(n,i.getStartEnd()[0],u);else{Y.recordPattern(n,i.getStartEnd()[1],u);for(let ze=0,bt=u.length-1;ze<bt;ze++,bt--){let on=u[ze];u[ze]=u[bt],u[bt]=on}}let h=17,f=be.sum(new Int32Array(u))/h,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-g)/g>.3)throw new U;let p=this.getOddCounts(),y=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let ze=0;ze<u.length;ze++){let bt=1*u[ze]/f,on=bt+.5;if(on<1){if(bt<.3)throw new U;on=1}else if(on>8){if(bt>8.7)throw new U;on=8}let bi=ze/2;ze&1?(y[bi]=on,S[bi]=bt-on):(p[bi]=on,E[bi]=bt-on)}this.adjustOddEvenCounts(h);let I=4*i.getValue()+(s?0:2)+(a?0:1)-1,O=0,R=0;for(let ze=p.length-1;ze>=0;ze--){if(Y.isNotA1left(i,s,a)){let bt=Y.WEIGHTS[I][2*ze];R+=p[ze]*bt}O+=p[ze]}let k=0;for(let ze=y.length-1;ze>=0;ze--)if(Y.isNotA1left(i,s,a)){let bt=Y.WEIGHTS[I][2*ze+1];k+=y[ze]*bt}let H=R+k;if(O&1||O>13||O<4)throw new U;let Z=(13-O)/2,q=Y.SYMBOL_WIDEST[Z],X=9-q,_e=zn.getRSSvalue(p,q,!0),we=zn.getRSSvalue(y,X,!1),Qt=Y.EVEN_TOTAL_SUBSET[Z],Nn=Y.GSUM[Z],Zt=_e*Qt+we+Nn;return new Ei(Zt,H)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=be.sum(new Int32Array(this.getOddCounts())),s=be.sum(new Int32Array(this.getEvenCounts())),a=!1,u=!1;i>13?u=!0:i<4&&(a=!0);let h=!1,f=!1;s>13?f=!0:s<4&&(h=!0);let g=i+s-n,p=(i&1)==1,y=(s&1)==0;if(g==1)if(p){if(y)throw new U;u=!0}else{if(!y)throw new U;f=!0}else if(g==-1)if(p){if(y)throw new U;a=!0}else{if(!y)throw new U;h=!0}else if(g==0){if(p){if(!y)throw new U;i<s?(a=!0,f=!0):(u=!0,h=!0)}else if(y)throw new U}else throw new U;if(a){if(u)throw new U;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new U;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class Ig extends Ei{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class st extends Dt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const a=this.decodePair(i,!1,n,s);st.addOrTally(this.possibleLeftPairs,a),i.reverse();let u=this.decodePair(i,!0,n,s);st.addOrTally(this.possibleRightPairs,u),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&st.checkChecksum(h,f))return st.constructResult(h,f)}throw new U}static addOrTally(n,i){if(i==null)return;let s=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),a=new String(s).toString(),u=new te;for(let p=13-a.length;p>0;p--)u.append("0");u.append(a);let h=0;for(let p=0;p<13;p++){let y=u.charAt(p).charCodeAt(0)-48;h+=p&1?y:3*y}h=10-h%10,h===10&&(h=0),u.append(h.toString());let f=n.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new Je(u.toString(),null,0,[f[0],f[1],g[0],g[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(n,i,s,a){try{let u=this.findFinderPattern(n,i),h=this.parseFoundFinderPattern(n,s,i,u),f=a==null?null:a.get(W.NEED_RESULT_POINT_CALLBACK);if(f!=null){let y=(u[0]+u[1])/2;i&&(y=n.getSize()-1-y),f.foundPossibleResultPoint(new oe(y,s))}let g=this.decodeDataCharacter(n,h,!0),p=this.decodeDataCharacter(n,h,!1);return new Ig(1597*g.getValue()+p.getValue(),g.getChecksumPortion()+4*p.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(n,i,s){let a=this.getDataCharacterCounters();for(let k=0;k<a.length;k++)a[k]=0;if(s)ft.recordPatternInReverse(n,i.getStartEnd()[0],a);else{ft.recordPattern(n,i.getStartEnd()[1]+1,a);for(let k=0,H=a.length-1;k<H;k++,H--){let Z=a[k];a[k]=a[H],a[H]=Z}}let u=s?16:15,h=be.sum(new Int32Array(a))/u,f=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let k=0;k<a.length;k++){let H=a[k]/h,Z=Math.floor(H+.5);Z<1?Z=1:Z>8&&(Z=8);let q=Math.floor(k/2);k&1?(g[q]=Z,y[q]=H-Z):(f[q]=Z,p[q]=H-Z)}this.adjustOddEvenCounts(s,u);let E=0,S=0;for(let k=f.length-1;k>=0;k--)S*=9,S+=f[k],E+=f[k];let I=0,O=0;for(let k=g.length-1;k>=0;k--)I*=9,I+=g[k],O+=g[k];let R=S+3*I;if(s){if(E&1||E>12||E<4)throw new U;let k=(12-E)/2,H=st.OUTSIDE_ODD_WIDEST[k],Z=9-H,q=zn.getRSSvalue(f,H,!1),X=zn.getRSSvalue(g,Z,!0),_e=st.OUTSIDE_EVEN_TOTAL_SUBSET[k],we=st.OUTSIDE_GSUM[k];return new Ei(q*_e+X+we,R)}else{if(O&1||O>10||O<4)throw new U;let k=(10-O)/2,H=st.INSIDE_ODD_WIDEST[k],Z=9-H,q=zn.getRSSvalue(f,H,!0),X=zn.getRSSvalue(g,Z,!1),_e=st.INSIDE_ODD_TOTAL_SUBSET[k],we=st.INSIDE_GSUM[k];return new Ei(X*_e+q+we,R)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=n.getSize(),u=!1,h=0;for(;h<a&&(u=!n.get(h),i!==u);)h++;let f=0,g=h;for(let p=h;p<a;p++)if(n.get(p)!==u)s[f]++;else{if(f===3){if(Dt.isFinderPattern(s))return[g,p];g+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,u=!u}throw new U}parseFoundFinderPattern(n,i,s,a){let u=n.get(a[0]),h=a[0]-1;for(;h>=0&&u!==n.get(h);)h--;h++;const f=a[0]-h,g=this.getDecodeFinderCounters(),p=new Int32Array(g.length);F.arraycopy(g,0,p,1,g.length-1),p[0]=f;const y=this.parseFinderValue(p,st.FINDER_PATTERNS);let E=h,S=a[1];return s&&(E=n.getSize()-1-E,S=n.getSize()-1-S),new Oo(y,[h,a[1]],E,S,i)}adjustOddEvenCounts(n,i){let s=be.sum(new Int32Array(this.getOddCounts())),a=be.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,f=!1,g=!1;n?(s>12?h=!0:s<4&&(u=!0),a>12?g=!0:a<4&&(f=!0)):(s>11?h=!0:s<5&&(u=!0),a>10?g=!0:a<4&&(f=!0));let p=s+a-i,y=(s&1)===(n?1:0),E=(a&1)===1;if(p===1)if(y){if(E)throw new U;h=!0}else{if(!E)throw new U;g=!0}else if(p===-1)if(y){if(E)throw new U;u=!0}else{if(!E)throw new U;f=!0}else if(p===0){if(y){if(!E)throw new U;s<a?(u=!0,g=!0):(h=!0,f=!0)}else if(E)throw new U}else throw new U;if(u){if(h)throw new U;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new U;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],st.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],st.OUTSIDE_GSUM=[0,161,961,2015,2715],st.INSIDE_GSUM=[0,336,1036,1516],st.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],st.INSIDE_ODD_WIDEST=[2,4,6,8],st.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Si extends ft{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(W.POSSIBLE_FORMATS):null,a=n&&n.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ae.EAN_13)||s.includes(ae.UPC_A)||s.includes(ae.EAN_8)||s.includes(ae.UPC_E))&&this.readers.push(new xl(n)),s.includes(ae.CODE_39)&&this.readers.push(new gt(a)),s.includes(ae.CODE_128)&&this.readers.push(new ee),s.includes(ae.ITF)&&this.readers.push(new je),s.includes(ae.RSS_14)&&this.readers.push(new st),s.includes(ae.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new xl(n)),this.readers.push(new gt),this.readers.push(new xl(n)),this.readers.push(new ee),this.readers.push(new je),this.readers.push(new st),this.readers.push(new Y(this.verbose)))}decodeRow(n,i,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,s)}catch{}throw new U}reset(){this.readers.forEach(n=>n.reset())}}class Tg extends mn{constructor(n=500,i){super(new Si(i),n,i)}}class ke{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class De{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(n,i,s,a,u,h){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=u,this.ecBlocks=h;let f=0;const g=h.getECCodewords(),p=h.getECBlocks();for(let y of p)f+=y.getCount()*(y.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new B;for(let s of Ie.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ie(1,10,10,8,8,new ke(5,new De(1,3))),new Ie(2,12,12,10,10,new ke(7,new De(1,5))),new Ie(3,14,14,12,12,new ke(10,new De(1,8))),new Ie(4,16,16,14,14,new ke(12,new De(1,12))),new Ie(5,18,18,16,16,new ke(14,new De(1,18))),new Ie(6,20,20,18,18,new ke(18,new De(1,22))),new Ie(7,22,22,20,20,new ke(20,new De(1,30))),new Ie(8,24,24,22,22,new ke(24,new De(1,36))),new Ie(9,26,26,24,24,new ke(28,new De(1,44))),new Ie(10,32,32,14,14,new ke(36,new De(1,62))),new Ie(11,36,36,16,16,new ke(42,new De(1,86))),new Ie(12,40,40,18,18,new ke(48,new De(1,114))),new Ie(13,44,44,20,20,new ke(56,new De(1,144))),new Ie(14,48,48,22,22,new ke(68,new De(1,174))),new Ie(15,52,52,24,24,new ke(42,new De(2,102))),new Ie(16,64,64,14,14,new ke(56,new De(2,140))),new Ie(17,72,72,16,16,new ke(36,new De(4,92))),new Ie(18,80,80,18,18,new ke(48,new De(4,114))),new Ie(19,88,88,20,20,new ke(56,new De(4,144))),new Ie(20,96,96,22,22,new ke(68,new De(4,174))),new Ie(21,104,104,24,24,new ke(56,new De(6,136))),new Ie(22,120,120,18,18,new ke(68,new De(6,175))),new Ie(23,132,132,20,20,new ke(62,new De(8,163))),new Ie(24,144,144,22,22,new ke(62,new De(8,156),new De(2,155))),new Ie(25,8,18,6,16,new ke(7,new De(1,5))),new Ie(26,8,32,6,14,new ke(11,new De(1,10))),new Ie(27,12,26,10,24,new ke(14,new De(1,16))),new Ie(28,12,36,10,16,new ke(18,new De(1,22))),new Ie(29,16,36,14,16,new ke(24,new De(1,32))),new Ie(30,16,48,14,22,new ke(28,new De(1,49)))]}}Ie.VERSIONS=Ie.buildVersions();class El{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new B;this.version=El.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return Ie.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,a=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,g=!1,p=!1,y=!1;do if(s===u&&a===0&&!f)n[i++]=this.readCorner1(u,h)&255,s-=2,a+=2,f=!0;else if(s===u-2&&a===0&&h&3&&!g)n[i++]=this.readCorner2(u,h)&255,s-=2,a+=2,g=!0;else if(s===u+4&&a===2&&!(h&7)&&!p)n[i++]=this.readCorner3(u,h)&255,s-=2,a+=2,p=!0;else if(s===u-2&&a===0&&(h&7)===4&&!y)n[i++]=this.readCorner4(u,h)&255,s-=2,a+=2,y=!0;else{do s<u&&a>=0&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,u,h)&255),s-=2,a+=2;while(s>=0&&a<h);s+=1,a+=3;do s>=0&&a<h&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,u,h)&255),s+=2,a-=2;while(s<u&&a>=0);s+=3,a+=1}while(s<u||a<h);if(i!==this.version.getTotalCodewords())throw new B;return n}readModule(n,i,s,a){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,a){let u=0;return this.readModule(n-2,i-2,s,a)&&(u|=1),u<<=1,this.readModule(n-2,i-1,s,a)&&(u|=1),u<<=1,this.readModule(n-1,i-2,s,a)&&(u|=1),u<<=1,this.readModule(n-1,i-1,s,a)&&(u|=1),u<<=1,this.readModule(n-1,i,s,a)&&(u|=1),u<<=1,this.readModule(n,i-2,s,a)&&(u|=1),u<<=1,this.readModule(n,i-1,s,a)&&(u|=1),u<<=1,this.readModule(n,i,s,a)&&(u|=1),u}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new A("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=i/a|0,f=s/u|0,g=h*a,p=f*u,y=new pe(p,g);for(let E=0;E<h;++E){const S=E*a;for(let I=0;I<f;++I){const O=I*u;for(let R=0;R<a;++R){const k=E*(a+2)+1+R,H=S+R;for(let Z=0;Z<u;++Z){const q=I*(u+2)+1+Z;if(n.get(q,k)){const X=O+Z;y.set(X,H)}}}}}return y}}class Cl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let a=0;const u=s.getECBlocks();for(let R of u)a+=R.getCount();const h=new Array(a);let f=0;for(let R of u)for(let k=0;k<R.getCount();k++){const H=R.getDataCodewords(),Z=s.getECCodewords()+H;h[f++]=new Cl(H,new Uint8Array(Z))}const p=h[0].codewords.length-s.getECCodewords(),y=p-1;let E=0;for(let R=0;R<y;R++)for(let k=0;k<f;k++)h[k].codewords[R]=n[E++];const S=i.getVersionNumber()===24,I=S?8:f;for(let R=0;R<I;R++)h[R].codewords[p-1]=n[E++];const O=h[0].codewords.length;for(let R=p;R<O;R++)for(let k=0;k<f;k++){const H=S?(k+8)%f:k,Z=S&&H>7?R-1:R;h[H].codewords[Z]=n[E++]}if(E!==n.length)throw new A;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Al{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new A(""+n);let i=0,s=this.bitOffset,a=this.byteOffset;const u=this.bytes;if(s>0){const h=8-s,f=n<h?n:h,g=h-f,p=255>>8-f<<g;i=(u[a]&p)>>g,n-=f,s+=f,s===8&&(s=0,a++)}if(n>0){for(;n>=8;)i=i<<8|u[a]&255,a++,n-=8;if(n>0){const h=8-n,f=255>>h<<h;i=i<<n|(u[a]&f)>>h,s+=n}}return this.bitOffset=s,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(pt||(pt={}));class mr{static decode(n){const i=new Al(n),s=new te,a=new te,u=new Array;let h=pt.ASCII_ENCODE;do if(h===pt.ASCII_ENCODE)h=this.decodeAsciiSegment(i,s,a);else{switch(h){case pt.C40_ENCODE:this.decodeC40Segment(i,s);break;case pt.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case pt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case pt.BASE256_ENCODE:this.decodeBase256Segment(i,s,u);break;default:throw new B}h=pt.ASCII_ENCODE}while(h!==pt.PAD_ENCODE&&i.available()>0);return a.length()>0&&s.append(a.toString()),new ms(n,s.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,i,s){let a=!1;do{let u=n.readBits(8);if(u===0)throw new B;if(u<=128)return a&&(u+=128),i.append(String.fromCharCode(u-1)),pt.ASCII_ENCODE;if(u===129)return pt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&i.append("0"),i.append(""+h)}else switch(u){case 230:return pt.C40_ENCODE;case 231:return pt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return pt.ANSIX12_ENCODE;case 239:return pt.TEXT_ENCODE;case 240:return pt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new B;break}}while(n.available()>0);return pt.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const a=[];let u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),a);for(let f=0;f<3;f++){const g=a[f];switch(u){case 0:if(g<3)u=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new B;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new B}u=0;break;case 3:s?(i.append(String.fromCharCode(g+224)),s=!1):i.append(String.fromCharCode(g+96)),u=0;break;default:throw new B}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,a=[],u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),a);for(let f=0;f<3;f++){const g=a[f];switch(u){case 0:if(g<3)u=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new B;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new B}u=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p),u=0}else throw new B;break;default:throw new B}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),s);for(let u=0;u<3;u++){const h=s[u];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new B;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let a=(n<<8)+i-1,u=Math.floor(a/1600);s[0]=u,a-=u*1600,u=Math.floor(a/40),s[1]=u,s[2]=a-u*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let a=n.readBits(6);if(a===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let a=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),a++);let h;if(u===0?h=n.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(n.readBits(8),a++),h<0)throw new B;const f=new Uint8Array(h);for(let g=0;g<h;g++){if(n.available()<8)throw new B;f[g]=this.unrandomize255State(n.readBits(8),a++)}s.push(f);try{i.append(Be.decode(f,ue.ISO88591))}catch(g){throw new Un("Platform does not support required encoding: "+g.message)}}static unrandomize255State(n,i){const s=149*i%255+1,a=n-s;return a>=0?a:a+256}}mr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mr.TEXT_SHIFT2_SET_CHARS=mr.C40_SHIFT2_SET_CHARS,mr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class bg{constructor(){this.rsDecoder=new ws(Me.DATA_MATRIX_FIELD_256)}decode(n){const i=new El(n),s=i.getVersion(),a=i.readCodewords(),u=Cl.getDataBlocks(a,s);let h=0;for(let p of u)h+=p.getNumDataCodewords();const f=new Uint8Array(h),g=u.length;for(let p=0;p<g;p++){const y=u[p],E=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(E,S);for(let I=0;I<S;I++)f[I*g+p]=E[I]}return mr.decode(f)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new D}for(let a=0;a<i;a++)n[a]=s[a]}}class ct{constructor(n){this.image=n,this.rectangleDetector=new Jn(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new U;i=this.shiftToModuleCenter(i);const s=i[0],a=i[1],u=i[2],h=i[3];let f=this.transitionsBetween(s,h)+1,g=this.transitionsBetween(u,h)+1;(f&1)===1&&(f+=1),(g&1)===1&&(g+=1),4*f<7*g&&4*g<7*f&&(f=g=Math.max(f,g));let p=ct.sampleGrid(this.image,s,a,u,h,f,g);return new bo(p,[s,a,u,h])}static shiftPoint(n,i,s){let a=(i.getX()-n.getX())/(s+1),u=(i.getY()-n.getY())/(s+1);return new oe(n.getX()+a,n.getY()+u)}static moveAway(n,i,s){let a=n.getX(),u=n.getY();return a<i?a-=1:a+=1,u<s?u-=1:u+=1,new oe(a,u)}detectSolid1(n){let i=n[0],s=n[1],a=n[3],u=n[2],h=this.transitionsBetween(i,s),f=this.transitionsBetween(s,a),g=this.transitionsBetween(a,u),p=this.transitionsBetween(u,i),y=h,E=[u,i,s,a];return y>f&&(y=f,E[0]=i,E[1]=s,E[2]=a,E[3]=u),y>g&&(y=g,E[0]=s,E[1]=a,E[2]=u,E[3]=i),y>p&&(E[0]=a,E[1]=u,E[2]=i,E[3]=s),E}detectSolid2(n){let i=n[0],s=n[1],a=n[2],u=n[3],h=this.transitionsBetween(i,u),f=ct.shiftPoint(s,a,(h+1)*4),g=ct.shiftPoint(a,s,(h+1)*4),p=this.transitionsBetween(f,i),y=this.transitionsBetween(g,u);return p<y?(n[0]=i,n[1]=s,n[2]=a,n[3]=u):(n[0]=s,n[1]=a,n[2]=u,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],a=n[2],u=n[3],h=this.transitionsBetween(i,u),f=this.transitionsBetween(s,u),g=ct.shiftPoint(i,s,(f+1)*4),p=ct.shiftPoint(a,s,(h+1)*4);h=this.transitionsBetween(g,u),f=this.transitionsBetween(p,u);let y=new oe(u.getX()+(a.getX()-s.getX())/(h+1),u.getY()+(a.getY()-s.getY())/(h+1)),E=new oe(u.getX()+(i.getX()-s.getX())/(f+1),u.getY()+(i.getY()-s.getY())/(f+1));if(!this.isValid(y))return this.isValid(E)?E:null;if(!this.isValid(E))return y;let S=this.transitionsBetween(g,y)+this.transitionsBetween(p,y),I=this.transitionsBetween(g,E)+this.transitionsBetween(p,E);return S>I?y:E}shiftToModuleCenter(n){let i=n[0],s=n[1],a=n[2],u=n[3],h=this.transitionsBetween(i,u)+1,f=this.transitionsBetween(a,u)+1,g=ct.shiftPoint(i,s,f*4),p=ct.shiftPoint(a,s,h*4);h=this.transitionsBetween(g,u)+1,f=this.transitionsBetween(p,u)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let y=(i.getX()+s.getX()+a.getX()+u.getX())/4,E=(i.getY()+s.getY()+a.getY()+u.getY())/4;i=ct.moveAway(i,y,E),s=ct.moveAway(s,y,E),a=ct.moveAway(a,y,E),u=ct.moveAway(u,y,E);let S,I;return g=ct.shiftPoint(i,s,f*4),g=ct.shiftPoint(g,u,h*4),S=ct.shiftPoint(s,i,f*4),S=ct.shiftPoint(S,a,h*4),p=ct.shiftPoint(a,u,f*4),p=ct.shiftPoint(p,s,h*4),I=ct.shiftPoint(u,a,f*4),I=ct.shiftPoint(I,i,h*4),[g,S,p,I]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,a,u,h,f){return gr.getInstance().sampleGrid(n,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,i.getX(),i.getY(),u.getX(),u.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),f=Math.abs(h-a)>Math.abs(u-s);if(f){let R=s;s=a,a=R,R=u,u=h,h=R}let g=Math.abs(u-s),p=Math.abs(h-a),y=-g/2,E=a<h?1:-1,S=s<u?1:-1,I=0,O=this.image.get(f?a:s,f?s:a);for(let R=s,k=a;R!==u;R+=S){let H=this.image.get(f?k:R,f?R:k);if(H!==O&&(I++,O=H),y+=p,y>0){if(k===h)break;k+=E,y-=g}}return I}}class xr{constructor(){this.decoder=new bg}decode(n,i=null){let s,a;if(i!=null&&i.has(W.PURE_BARCODE)){const p=xr.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(p),a=xr.NO_POINTS}else{const p=new ct(n.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),a=p.getPoints()}const u=s.getRawBytes(),h=new Je(s.getText(),u,8*u.length,a,ae.DATA_MATRIX,F.currentTimeMillis()),f=s.getByteSegments();f!=null&&h.putMetadata(yt.BYTE_SEGMENTS,f);const g=s.getECLevel();return g!=null&&h.putMetadata(yt.ERROR_CORRECTION_LEVEL,g),h}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new U;const a=this.moduleSize(i,n);let u=i[1];const h=s[1];let f=i[0];const p=(s[0]-f+1)/a,y=(h-u+1)/a;if(p<=0||y<=0)throw new U;const E=a/2;u+=E,f+=E;const S=new pe(p,y);for(let I=0;I<y;I++){const O=u+I*a;for(let R=0;R<p;R++)n.get(f+R*a,O)&&S.set(R,I)}return S}static moduleSize(n,i){const s=i.getWidth();let a=n[0];const u=n[1];for(;a<s&&i.get(a,u);)a++;if(a===s)throw new U;const h=a-n[0];if(h===0)throw new U;return h}}xr.NO_POINTS=[];class Ng extends mn{constructor(n=500){super(new xr,n)}}var _i;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(_i||(_i={}));class Ve{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,Ve.FOR_BITS.set(s,this),Ve.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Ve.L;case"M":return Ve.M;case"Q":return Ve.Q;case"H":return Ve.H;default:throw new C(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Ve))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=Ve.FOR_BITS.size)throw new A;return Ve.FOR_BITS.get(n)}}Ve.FOR_BITS=new Map,Ve.FOR_VALUE=new Map,Ve.L=new Ve(_i.L,"L",1),Ve.M=new Ve(_i.M,"M",0),Ve.Q=new Ve(_i.Q,"Q",3),Ve.H=new Ve(_i.H,"H",2);class kt{constructor(n){this.errorCorrectionLevel=Ve.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return T.bitCount(n^i)}static decodeFormatInformation(n,i){const s=kt.doDecodeFormatInformation(n,i);return s!==null?s:kt.doDecodeFormatInformation(n^kt.FORMAT_INFO_MASK_QR,i^kt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,a=0;for(const u of kt.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===n||h===i)return new kt(u[1]);let f=kt.numBitsDiffering(n,h);f<s&&(a=u[1],s=f),n!==i&&(f=kt.numBitsDiffering(i,h),f<s&&(a=u[1],s=f))}return s<=3?new kt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof kt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}kt.FORMAT_INFO_MASK_QR=21522,kt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class L{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class le{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let a=0;const u=s[0].getECCodewordsPerBlock(),h=s[0].getECBlocks();for(const f of h)a+=f.getCount()*(f.getDataCodewords()+u);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new B;try{return this.getVersionForNumber((n-17)/4)}catch{throw new B}}static getVersionForNumber(n){if(n<1||n>40)throw new A;return le.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<le.VERSION_DECODE_INFO.length;a++){const u=le.VERSION_DECODE_INFO[a];if(u===n)return le.getVersionForNumber(a+7);const h=kt.numBitsDiffering(n,u);h<i&&(s=a+7,i=h)}return i<=3?le.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new pe(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){const u=this.alignmentPatternCenters[a]-2;for(let h=0;h<s;h++)a===0&&(h===0||h===s-1)||a===s-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),le.VERSIONS=[new le(1,new Int32Array(0),new L(7,new _(1,19)),new L(10,new _(1,16)),new L(13,new _(1,13)),new L(17,new _(1,9))),new le(2,Int32Array.from([6,18]),new L(10,new _(1,34)),new L(16,new _(1,28)),new L(22,new _(1,22)),new L(28,new _(1,16))),new le(3,Int32Array.from([6,22]),new L(15,new _(1,55)),new L(26,new _(1,44)),new L(18,new _(2,17)),new L(22,new _(2,13))),new le(4,Int32Array.from([6,26]),new L(20,new _(1,80)),new L(18,new _(2,32)),new L(26,new _(2,24)),new L(16,new _(4,9))),new le(5,Int32Array.from([6,30]),new L(26,new _(1,108)),new L(24,new _(2,43)),new L(18,new _(2,15),new _(2,16)),new L(22,new _(2,11),new _(2,12))),new le(6,Int32Array.from([6,34]),new L(18,new _(2,68)),new L(16,new _(4,27)),new L(24,new _(4,19)),new L(28,new _(4,15))),new le(7,Int32Array.from([6,22,38]),new L(20,new _(2,78)),new L(18,new _(4,31)),new L(18,new _(2,14),new _(4,15)),new L(26,new _(4,13),new _(1,14))),new le(8,Int32Array.from([6,24,42]),new L(24,new _(2,97)),new L(22,new _(2,38),new _(2,39)),new L(22,new _(4,18),new _(2,19)),new L(26,new _(4,14),new _(2,15))),new le(9,Int32Array.from([6,26,46]),new L(30,new _(2,116)),new L(22,new _(3,36),new _(2,37)),new L(20,new _(4,16),new _(4,17)),new L(24,new _(4,12),new _(4,13))),new le(10,Int32Array.from([6,28,50]),new L(18,new _(2,68),new _(2,69)),new L(26,new _(4,43),new _(1,44)),new L(24,new _(6,19),new _(2,20)),new L(28,new _(6,15),new _(2,16))),new le(11,Int32Array.from([6,30,54]),new L(20,new _(4,81)),new L(30,new _(1,50),new _(4,51)),new L(28,new _(4,22),new _(4,23)),new L(24,new _(3,12),new _(8,13))),new le(12,Int32Array.from([6,32,58]),new L(24,new _(2,92),new _(2,93)),new L(22,new _(6,36),new _(2,37)),new L(26,new _(4,20),new _(6,21)),new L(28,new _(7,14),new _(4,15))),new le(13,Int32Array.from([6,34,62]),new L(26,new _(4,107)),new L(22,new _(8,37),new _(1,38)),new L(24,new _(8,20),new _(4,21)),new L(22,new _(12,11),new _(4,12))),new le(14,Int32Array.from([6,26,46,66]),new L(30,new _(3,115),new _(1,116)),new L(24,new _(4,40),new _(5,41)),new L(20,new _(11,16),new _(5,17)),new L(24,new _(11,12),new _(5,13))),new le(15,Int32Array.from([6,26,48,70]),new L(22,new _(5,87),new _(1,88)),new L(24,new _(5,41),new _(5,42)),new L(30,new _(5,24),new _(7,25)),new L(24,new _(11,12),new _(7,13))),new le(16,Int32Array.from([6,26,50,74]),new L(24,new _(5,98),new _(1,99)),new L(28,new _(7,45),new _(3,46)),new L(24,new _(15,19),new _(2,20)),new L(30,new _(3,15),new _(13,16))),new le(17,Int32Array.from([6,30,54,78]),new L(28,new _(1,107),new _(5,108)),new L(28,new _(10,46),new _(1,47)),new L(28,new _(1,22),new _(15,23)),new L(28,new _(2,14),new _(17,15))),new le(18,Int32Array.from([6,30,56,82]),new L(30,new _(5,120),new _(1,121)),new L(26,new _(9,43),new _(4,44)),new L(28,new _(17,22),new _(1,23)),new L(28,new _(2,14),new _(19,15))),new le(19,Int32Array.from([6,30,58,86]),new L(28,new _(3,113),new _(4,114)),new L(26,new _(3,44),new _(11,45)),new L(26,new _(17,21),new _(4,22)),new L(26,new _(9,13),new _(16,14))),new le(20,Int32Array.from([6,34,62,90]),new L(28,new _(3,107),new _(5,108)),new L(26,new _(3,41),new _(13,42)),new L(30,new _(15,24),new _(5,25)),new L(28,new _(15,15),new _(10,16))),new le(21,Int32Array.from([6,28,50,72,94]),new L(28,new _(4,116),new _(4,117)),new L(26,new _(17,42)),new L(28,new _(17,22),new _(6,23)),new L(30,new _(19,16),new _(6,17))),new le(22,Int32Array.from([6,26,50,74,98]),new L(28,new _(2,111),new _(7,112)),new L(28,new _(17,46)),new L(30,new _(7,24),new _(16,25)),new L(24,new _(34,13))),new le(23,Int32Array.from([6,30,54,78,102]),new L(30,new _(4,121),new _(5,122)),new L(28,new _(4,47),new _(14,48)),new L(30,new _(11,24),new _(14,25)),new L(30,new _(16,15),new _(14,16))),new le(24,Int32Array.from([6,28,54,80,106]),new L(30,new _(6,117),new _(4,118)),new L(28,new _(6,45),new _(14,46)),new L(30,new _(11,24),new _(16,25)),new L(30,new _(30,16),new _(2,17))),new le(25,Int32Array.from([6,32,58,84,110]),new L(26,new _(8,106),new _(4,107)),new L(28,new _(8,47),new _(13,48)),new L(30,new _(7,24),new _(22,25)),new L(30,new _(22,15),new _(13,16))),new le(26,Int32Array.from([6,30,58,86,114]),new L(28,new _(10,114),new _(2,115)),new L(28,new _(19,46),new _(4,47)),new L(28,new _(28,22),new _(6,23)),new L(30,new _(33,16),new _(4,17))),new le(27,Int32Array.from([6,34,62,90,118]),new L(30,new _(8,122),new _(4,123)),new L(28,new _(22,45),new _(3,46)),new L(30,new _(8,23),new _(26,24)),new L(30,new _(12,15),new _(28,16))),new le(28,Int32Array.from([6,26,50,74,98,122]),new L(30,new _(3,117),new _(10,118)),new L(28,new _(3,45),new _(23,46)),new L(30,new _(4,24),new _(31,25)),new L(30,new _(11,15),new _(31,16))),new le(29,Int32Array.from([6,30,54,78,102,126]),new L(30,new _(7,116),new _(7,117)),new L(28,new _(21,45),new _(7,46)),new L(30,new _(1,23),new _(37,24)),new L(30,new _(19,15),new _(26,16))),new le(30,Int32Array.from([6,26,52,78,104,130]),new L(30,new _(5,115),new _(10,116)),new L(28,new _(19,47),new _(10,48)),new L(30,new _(15,24),new _(25,25)),new L(30,new _(23,15),new _(25,16))),new le(31,Int32Array.from([6,30,56,82,108,134]),new L(30,new _(13,115),new _(3,116)),new L(28,new _(2,46),new _(29,47)),new L(30,new _(42,24),new _(1,25)),new L(30,new _(23,15),new _(28,16))),new le(32,Int32Array.from([6,34,60,86,112,138]),new L(30,new _(17,115)),new L(28,new _(10,46),new _(23,47)),new L(30,new _(10,24),new _(35,25)),new L(30,new _(19,15),new _(35,16))),new le(33,Int32Array.from([6,30,58,86,114,142]),new L(30,new _(17,115),new _(1,116)),new L(28,new _(14,46),new _(21,47)),new L(30,new _(29,24),new _(19,25)),new L(30,new _(11,15),new _(46,16))),new le(34,Int32Array.from([6,34,62,90,118,146]),new L(30,new _(13,115),new _(6,116)),new L(28,new _(14,46),new _(23,47)),new L(30,new _(44,24),new _(7,25)),new L(30,new _(59,16),new _(1,17))),new le(35,Int32Array.from([6,30,54,78,102,126,150]),new L(30,new _(12,121),new _(7,122)),new L(28,new _(12,47),new _(26,48)),new L(30,new _(39,24),new _(14,25)),new L(30,new _(22,15),new _(41,16))),new le(36,Int32Array.from([6,24,50,76,102,128,154]),new L(30,new _(6,121),new _(14,122)),new L(28,new _(6,47),new _(34,48)),new L(30,new _(46,24),new _(10,25)),new L(30,new _(2,15),new _(64,16))),new le(37,Int32Array.from([6,28,54,80,106,132,158]),new L(30,new _(17,122),new _(4,123)),new L(28,new _(29,46),new _(14,47)),new L(30,new _(49,24),new _(10,25)),new L(30,new _(24,15),new _(46,16))),new le(38,Int32Array.from([6,32,58,84,110,136,162]),new L(30,new _(4,122),new _(18,123)),new L(28,new _(13,46),new _(32,47)),new L(30,new _(48,24),new _(14,25)),new L(30,new _(42,15),new _(32,16))),new le(39,Int32Array.from([6,26,54,82,110,138,166]),new L(30,new _(20,117),new _(4,118)),new L(28,new _(40,47),new _(7,48)),new L(30,new _(43,24),new _(22,25)),new L(30,new _(10,15),new _(67,16))),new le(40,Int32Array.from([6,30,58,86,114,142,170]),new L(30,new _(19,118),new _(6,119)),new L(28,new _(18,47),new _(31,48)),new L(30,new _(34,24),new _(34,25)),new L(30,new _(20,15),new _(61,16)))];var vt;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(vt||(vt={}));class wn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let a=0;a<i;a++)this.isMasked(s,a)&&n.flip(a,s)}}wn.values=new Map([[vt.DATA_MASK_000,new wn(vt.DATA_MASK_000,(v,n)=>(v+n&1)===0)],[vt.DATA_MASK_001,new wn(vt.DATA_MASK_001,(v,n)=>(v&1)===0)],[vt.DATA_MASK_010,new wn(vt.DATA_MASK_010,(v,n)=>n%3===0)],[vt.DATA_MASK_011,new wn(vt.DATA_MASK_011,(v,n)=>(v+n)%3===0)],[vt.DATA_MASK_100,new wn(vt.DATA_MASK_100,(v,n)=>(Math.floor(v/2)+Math.floor(n/3)&1)===0)],[vt.DATA_MASK_101,new wn(vt.DATA_MASK_101,(v,n)=>v*n%6===0)],[vt.DATA_MASK_110,new wn(vt.DATA_MASK_110,(v,n)=>v*n%6<3)],[vt.DATA_MASK_111,new wn(vt.DATA_MASK_111,(v,n)=>(v+n+v*n%3&1)===0)]]);class Og{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new B;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const i=this.bitMatrix.getHeight();let s=0;const a=i-7;for(let u=i-1;u>=a;u--)s=this.copyBit(8,u,s);for(let u=i-8;u<i;u++)s=this.copyBit(u,8,s);if(this.parsedFormatInfo=kt.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return le.getVersionForNumber(i);let s=0;const a=n-11;for(let h=5;h>=0;h--)for(let f=n-9;f>=a;f--)s=this.copyBit(f,h,s);let u=le.decodeVersionInformation(s);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;s=0;for(let h=5;h>=0;h--)for(let f=n-9;f>=a;f--)s=this.copyBit(h,f,s);if(u=le.decodeVersionInformation(s),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new B}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=wn.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);const u=i.buildFunctionPattern();let h=!0;const f=new Uint8Array(i.getTotalCodewords());let g=0,p=0,y=0;for(let E=a-1;E>0;E-=2){E===6&&E--;for(let S=0;S<a;S++){const I=h?a-1-S:S;for(let O=0;O<2;O++)u.get(E-O,I)||(y++,p<<=1,this.bitMatrix.get(E-O,I)&&(p|=1),y===8&&(f[g++]=p,y=0,p=0))}h=!h}if(g!==i.getTotalCodewords())throw new B;return f}remask(){if(this.parsedFormatInfo===null)return;const n=wn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let a=i+1,u=n.getHeight();a<u;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class Sl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new A;const a=i.getECBlocksForLevel(s);let u=0;const h=a.getECBlocks();for(const O of h)u+=O.getCount();const f=new Array(u);let g=0;for(const O of h)for(let R=0;R<O.getCount();R++){const k=O.getDataCodewords(),H=a.getECCodewordsPerBlock()+k;f[g++]=new Sl(k,new Uint8Array(H))}const p=f[0].codewords.length;let y=f.length-1;for(;y>=0&&f[y].codewords.length!==p;)y--;y++;const E=p-a.getECCodewordsPerBlock();let S=0;for(let O=0;O<E;O++)for(let R=0;R<g;R++)f[R].codewords[O]=n[S++];for(let O=y;O<g;O++)f[O].codewords[E]=n[S++];const I=f[0].codewords.length;for(let O=E;O<I;O++)for(let R=0;R<g;R++){const k=R<y?O:O+1;f[R].codewords[k]=n[S++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var yn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(yn||(yn={}));class ce{constructor(n,i,s,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=a,ce.FOR_BITS.set(a,this),ce.FOR_VALUE.set(n,this)}static forBits(n){const i=ce.FOR_BITS.get(n);if(i===void 0)throw new A;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof ce))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}ce.FOR_BITS=new Map,ce.FOR_VALUE=new Map,ce.TERMINATOR=new ce(yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ce.NUMERIC=new ce(yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ce.ALPHANUMERIC=new ce(yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ce.STRUCTURED_APPEND=new ce(yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ce.BYTE=new ce(yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ce.ECI=new ce(yn.ECI,"ECI",Int32Array.from([0,0,0]),7),ce.KANJI=new ce(yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ce.FNC1_FIRST_POSITION=new ce(yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ce.FNC1_SECOND_POSITION=new ce(yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ce.HANZI=new ce(yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class et{static decode(n,i,s,a){const u=new Al(n);let h=new te;const f=new Array;let g=-1,p=-1;try{let y=null,E=!1,S;do{if(u.available()<4)S=ce.TERMINATOR;else{const I=u.readBits(4);S=ce.forBits(I)}switch(S){case ce.TERMINATOR:break;case ce.FNC1_FIRST_POSITION:case ce.FNC1_SECOND_POSITION:E=!0;break;case ce.STRUCTURED_APPEND:if(u.available()<16)throw new B;g=u.readBits(8),p=u.readBits(8);break;case ce.ECI:const I=et.parseECIValue(u);if(y=G.getCharacterSetECIByValue(I),y===null)throw new B;break;case ce.HANZI:const O=u.readBits(4),R=u.readBits(S.getCharacterCountBits(i));O===et.GB2312_SUBSET&&et.decodeHanziSegment(u,h,R);break;default:const k=u.readBits(S.getCharacterCountBits(i));switch(S){case ce.NUMERIC:et.decodeNumericSegment(u,h,k);break;case ce.ALPHANUMERIC:et.decodeAlphanumericSegment(u,h,k,E);break;case ce.BYTE:et.decodeByteSegment(u,h,k,y,f,a);break;case ce.KANJI:et.decodeKanjiSegment(u,h,k);break;default:throw new B}break}}while(S!==ce.TERMINATOR)}catch{throw new B}return new ms(n,h.toString(),f.length===0?null:f,s===null?null:s.toString(),g,p)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new B;const a=new Uint8Array(2*s);let u=0;for(;s>0;){const h=n.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,a[u]=f>>8&255,a[u+1]=f&255,u+=2,s--}try{i.append(Be.decode(a,ue.GB2312))}catch(h){throw new B(h)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new B;const a=new Uint8Array(2*s);let u=0;for(;s>0;){const h=n.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,a[u]=f>>8,a[u+1]=f,u+=2,s--}try{i.append(Be.decode(a,ue.SHIFT_JIS))}catch(h){throw new B(h)}}static decodeByteSegment(n,i,s,a,u,h){if(8*s>n.available())throw new B;const f=new Uint8Array(s);for(let p=0;p<s;p++)f[p]=n.readBits(8);let g;a===null?g=ue.guessEncoding(f,h):g=a.getName();try{i.append(Be.decode(f,g))}catch(p){throw new B(p)}u.push(f)}static toAlphaNumericChar(n){if(n>=et.ALPHANUMERIC_CHARS.length)throw new B;return et.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,a){const u=i.length();for(;s>1;){if(n.available()<11)throw new B;const h=n.readBits(11);i.append(et.toAlphaNumericChar(Math.floor(h/45))),i.append(et.toAlphaNumericChar(h%45)),s-=2}if(s===1){if(n.available()<6)throw new B;i.append(et.toAlphaNumericChar(n.readBits(6)))}if(a)for(let h=u;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new B;const a=n.readBits(10);if(a>=1e3)throw new B;i.append(et.toAlphaNumericChar(Math.floor(a/100))),i.append(et.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(et.toAlphaNumericChar(a%10)),s-=3}if(s===2){if(n.available()<7)throw new B;const a=n.readBits(7);if(a>=100)throw new B;i.append(et.toAlphaNumericChar(Math.floor(a/10))),i.append(et.toAlphaNumericChar(a%10))}else if(s===1){if(n.available()<4)throw new B;const a=n.readBits(4);if(a>=10)throw new B;i.append(et.toAlphaNumericChar(a))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new B}}et.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",et.GB2312_SUBSET=1;class Ih{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class Mg{constructor(){this.rsDecoder=new ws(Me.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(pe.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new Og(n);let a=null;try{return this.decodeBitMatrixParser(s,i)}catch(u){a=u}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const u=this.decodeBitMatrixParser(s,i);return u.setOther(new Ih(!0)),u}catch(u){throw a!==null?a:u}}decodeBitMatrixParser(n,i){const s=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),h=Sl.getDataBlocks(u,s,a);let f=0;for(const y of h)f+=y.getNumDataCodewords();const g=new Uint8Array(f);let p=0;for(const y of h){const E=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(E,S);for(let I=0;I<S;I++)g[p++]=E[I]}return et.decode(g,s,a,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new D}for(let a=0;a<i;a++)n[a]=s[a]}}class _l extends oe{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=(this.getX()+i)/2,u=(this.getY()+n)/2,h=(this.estimatedModuleSize+s)/2;return new _l(a,u,h)}}class Do{constructor(n,i,s,a,u,h,f){this.image=n,this.startX=i,this.startY=s,this.width=a,this.height=u,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,a=n+s,u=this.startY+i/2,h=new Int32Array(3),f=this.image;for(let g=0;g<i;g++){const p=u+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));h[0]=0,h[1]=0,h[2]=0;let y=n;for(;y<a&&!f.get(y,p);)y++;let E=0;for(;y<a;){if(f.get(y,p))if(E===1)h[1]++;else if(E===2){if(this.foundPatternCross(h)){const S=this.handlePossibleCenter(h,p,y);if(S!==null)return S}h[0]=h[2],h[1]=1,h[2]=0,E=1}else h[++E]++;else E===1&&E++,h[E]++;y++}if(this.foundPatternCross(h)){const S=this.handlePossibleCenter(h,p,a);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=s)return!1;return!0}crossCheckVertical(n,i,s,a){const u=this.image,h=u.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let g=n;for(;g>=0&&u.get(i,g)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&!u.get(i,g)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<h&&u.get(i,g)&&f[1]<=s;)f[1]++,g++;if(g===h||f[1]>s)return NaN;for(;g<h&&!u.get(i,g)&&f[2]<=s;)f[2]++,g++;if(f[2]>s)return NaN;const p=f[0]+f[1]+f[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(f)?Do.centerFromEnd(f,g):NaN}handlePossibleCenter(n,i,s){const a=n[0]+n[1]+n[2],u=Do.centerFromEnd(n,s),h=this.crossCheckVertical(i,u,2*n[1],a);if(!isNaN(h)){const f=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(f,h,u))return p.combineEstimate(h,u,f);const g=new _l(u,h,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Il extends oe{constructor(n,i,s,a){super(n,i),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=this.count+1,u=(this.count*this.getX()+i)/a,h=(this.count*this.getY()+n)/a,f=(this.count*this.estimatedModuleSize+s)/a;return new Il(u,h,f,a)}}class Rg{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Et{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(W.TRY_HARDER)!==void 0,s=n!=null&&n.get(W.PURE_BARCODE)!==void 0,a=this.image,u=a.getHeight(),h=a.getWidth();let f=Math.floor(3*u/(4*Et.MAX_MODULES));(f<Et.MIN_SKIP||i)&&(f=Et.MIN_SKIP);let g=!1;const p=new Int32Array(5);for(let E=f-1;E<u&&!g;E+=f){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let S=0;for(let I=0;I<h;I++)if(a.get(I,E))(S&1)===1&&S++,p[S]++;else if(S&1)p[S]++;else if(S===4)if(Et.foundPatternCross(p)){if(this.handlePossibleCenter(p,E,I,s)===!0)if(f=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const R=this.findRowSkip();R>p[2]&&(E+=R-p[2]-f,I=h-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,S=3;continue}S=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,S=3;else p[++S]++;Et.foundPatternCross(p)&&this.handlePossibleCenter(p,E,h,s)===!0&&(f=p[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return oe.orderBestPatterns(y),new Rg(y)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let u=0;u<5;u++){const h=n[u];if(h===0)return!1;i+=h}if(i<7)return!1;const s=i/7,a=s/2;return Math.abs(s-n[0])<a&&Math.abs(s-n[1])<a&&Math.abs(3*s-n[2])<3*a&&Math.abs(s-n[3])<a&&Math.abs(s-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,a){const u=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;n>=h&&i>=h&&f.get(i-h,n-h);)u[2]++,h++;if(n<h||i<h)return!1;for(;n>=h&&i>=h&&!f.get(i-h,n-h)&&u[1]<=s;)u[1]++,h++;if(n<h||i<h||u[1]>s)return!1;for(;n>=h&&i>=h&&f.get(i-h,n-h)&&u[0]<=s;)u[0]++,h++;if(u[0]>s)return!1;const g=f.getHeight(),p=f.getWidth();for(h=1;n+h<g&&i+h<p&&f.get(i+h,n+h);)u[2]++,h++;if(n+h>=g||i+h>=p)return!1;for(;n+h<g&&i+h<p&&!f.get(i+h,n+h)&&u[3]<s;)u[3]++,h++;if(n+h>=g||i+h>=p||u[3]>=s)return!1;for(;n+h<g&&i+h<p&&f.get(i+h,n+h)&&u[4]<s;)u[4]++,h++;if(u[4]>=s)return!1;const y=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(y-a)<2*a&&Et.foundPatternCross(u)}crossCheckVertical(n,i,s,a){const u=this.image,h=u.getHeight(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&u.get(i,g);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(i,g)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&u.get(i,g)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<h&&u.get(i,g);)f[2]++,g++;if(g===h)return NaN;for(;g<h&&!u.get(i,g)&&f[3]<s;)f[3]++,g++;if(g===h||f[3]>=s)return NaN;for(;g<h&&u.get(i,g)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-a)>=2*a?NaN:Et.foundPatternCross(f)?Et.centerFromEnd(f,g):NaN}crossCheckHorizontal(n,i,s,a){const u=this.image,h=u.getWidth(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&u.get(g,i);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(g,i)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&u.get(g,i)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<h&&u.get(g,i);)f[2]++,g++;if(g===h)return NaN;for(;g<h&&!u.get(g,i)&&f[3]<s;)f[3]++,g++;if(g===h||f[3]>=s)return NaN;for(;g<h&&u.get(g,i)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-a)>=a?NaN:Et.foundPatternCross(f)?Et.centerFromEnd(f,g):NaN}handlePossibleCenter(n,i,s,a){const u=n[0]+n[1]+n[2]+n[3]+n[4];let h=Et.centerFromEnd(n,s),f=this.crossCheckVertical(i,Math.floor(h),n[2],u);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),n[2],u),!isNaN(h)&&(!a||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),n[2],u)))){const g=u/7;let p=!1;const y=this.possibleCenters;for(let E=0,S=y.length;E<S;E++){const I=y[E];if(I.aboutEquals(g,f,h)){y[E]=I.combineEstimate(f,h,g),p=!0;break}}if(!p){const E=new Il(h,f,g);y.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=Et.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Et.CENTER_QUORUM&&(n++,i+=h.getEstimatedModuleSize());if(n<3)return!1;const a=i/s;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-a);return u<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new U;const i=this.possibleCenters;let s;if(n>3){let a=0,u=0;for(const g of this.possibleCenters){const p=g.getEstimatedModuleSize();a+=p,u+=p*p}s=a/n;let h=Math.sqrt(u/n-s*s);i.sort((g,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-s),E=Math.abs(g.getEstimatedModuleSize()-s);return y<E?-1:y>E?1:0});const f=Math.max(.2*s,h);for(let g=0;g<i.length&&i.length>3;g++){const p=i[g];Math.abs(p.getEstimatedModuleSize()-s)>f&&(i.splice(g,1),g--)}}if(i.length>3){let a=0;for(const u of i)a+=u.getEstimatedModuleSize();s=a/i.length,i.sort((u,h)=>{if(h.getCount()===u.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-s),g=Math.abs(u.getEstimatedModuleSize()-s);return f<g?1:f>g?-1:0}else return h.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Et.CENTER_QUORUM=2,Et.MIN_SKIP=3,Et.MAX_MODULES=57;class vs{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(W.NEED_RESULT_POINT_CALLBACK);const s=new Et(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),a=n.getBottomLeft(),u=this.calculateModuleSize(i,s,a);if(u<1)throw new U("No pattern found in proccess finder.");const h=vs.computeDimension(i,s,a,u),f=le.getProvisionalVersionForDimension(h),g=f.getDimensionForVersion()-7;let p=null;if(f.getAlignmentPatternCenters().length>0){const I=s.getX()-i.getX()+a.getX(),O=s.getY()-i.getY()+a.getY(),R=1-3/g,k=Math.floor(i.getX()+R*(I-i.getX())),H=Math.floor(i.getY()+R*(O-i.getY()));for(let Z=4;Z<=16;Z<<=1)try{p=this.findAlignmentInRegion(u,k,H,Z);break}catch(q){if(!(q instanceof U))throw q}}const y=vs.createTransform(i,s,a,p,h),E=vs.sampleGrid(this.image,y,h);let S;return p===null?S=[a,i,s]:S=[a,i,s,p],new bo(E,S)}static createTransform(n,i,s,a,u){const h=u-3.5;let f,g,p,y;return a!==null?(f=a.getX(),g=a.getY(),p=h-3,y=p):(f=i.getX()-n.getX()+s.getX(),g=i.getY()-n.getY()+s.getY(),p=h,y=h),Tn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,p,y,3.5,h,n.getX(),n.getY(),i.getX(),i.getY(),f,g,s.getX(),s.getY())}static sampleGrid(n,i,s){return gr.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,a){const u=be.round(oe.distance(n,i)/a),h=be.round(oe.distance(n,s)/a);let f=Math.floor((u+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new U("Dimensions could be not found.")}return f}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,a){let u=this.sizeOfBlackWhiteBlackRun(n,i,s,a),h=1,f=n-(s-n);f<0?(h=n/(n-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let g=Math.floor(i-(a-i)*h);return h=1,g<0?(h=i/(i-g),g=0):g>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),f=Math.floor(n+(f-n)*h),u+=this.sizeOfBlackWhiteBlackRun(n,i,f,g),u-1}sizeOfBlackWhiteBlackRun(n,i,s,a){const u=Math.abs(a-i)>Math.abs(s-n);if(u){let I=n;n=i,i=I,I=s,s=a,a=I}const h=Math.abs(s-n),f=Math.abs(a-i);let g=-h/2;const p=n<s?1:-1,y=i<a?1:-1;let E=0;const S=s+p;for(let I=n,O=i;I!==S;I+=p){const R=u?O:I,k=u?I:O;if(E===1===this.image.get(R,k)){if(E===2)return be.distance(I,O,n,i);E++}if(g+=f,g>0){if(O===a)break;O+=y,g-=h}}return E===2?be.distance(s+p,a,n,i):NaN}findAlignmentInRegion(n,i,s,a){const u=Math.floor(a*n),h=Math.max(0,i-u),f=Math.min(this.image.getWidth()-1,i+u);if(f-h<n*3)throw new U("Alignment top exceeds estimated module size.");const g=Math.max(0,s-u),p=Math.min(this.image.getHeight()-1,s+u);if(p-g<n*3)throw new U("Alignment bottom exceeds estimated module size.");return new Do(this.image,h,g,f-h,p-g,n,this.resultPointCallback).find()}}class wr{constructor(){this.decoder=new Mg}getDecoder(){return this.decoder}decode(n,i){let s,a;if(i!=null&&i.get(W.PURE_BARCODE)!==void 0){const g=wr.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(g,i),a=wr.NO_POINTS}else{const g=new vs(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(g.getBits(),i),a=g.getPoints()}s.getOther()instanceof Ih&&s.getOther().applyMirroredCorrection(a);const u=new Je(s.getText(),s.getRawBytes(),void 0,a,ae.QR_CODE,void 0),h=s.getByteSegments();h!==null&&u.putMetadata(yt.BYTE_SEGMENTS,h);const f=s.getECLevel();return f!==null&&u.putMetadata(yt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(u.putMetadata(yt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),u.putMetadata(yt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new U;const a=this.moduleSize(i,n);let u=i[1],h=s[1],f=i[0],g=s[0];if(f>=g||u>=h)throw new U;if(h-u!==g-f&&(g=f+(h-u),g>=n.getWidth()))throw new U;const p=Math.round((g-f+1)/a),y=Math.round((h-u+1)/a);if(p<=0||y<=0)throw new U;if(y!==p)throw new U;const E=Math.floor(a/2);u+=E,f+=E;const S=f+Math.floor((p-1)*a)-g;if(S>0){if(S>E)throw new U;f-=S}const I=u+Math.floor((y-1)*a)-h;if(I>0){if(I>E)throw new U;u-=I}const O=new pe(p,y);for(let R=0;R<y;R++){const k=u+Math.floor(R*a);for(let H=0;H<p;H++)n.get(f+Math.floor(H*a),k)&&O.set(H,R)}return O}static moduleSize(n,i){const s=i.getHeight(),a=i.getWidth();let u=n[0],h=n[1],f=!0,g=0;for(;u<a&&h<s;){if(f!==i.get(u,h)){if(++g===5)break;f=!f}u++,h++}if(u===a||h===s)throw new U;return(u-n[0])/7}}wr.NO_POINTS=new Array;class de{PDF417Common(){}static getBitCountSum(n){return be.sum(n)}static toIntArray(n){if(n==null||!n.length)return de.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const a of n)i[s++]=a;return i}static getCodeword(n){const i=b.binarySearch(de.SYMBOL_TABLE,n&262143);return i<0?-1:(de.CODEWORD_TABLE[i]-1)%de.NUMBER_OF_CODEWORDS}}de.NUMBER_OF_CODEWORDS=929,de.MAX_CODEWORDS_IN_BARCODE=de.NUMBER_OF_CODEWORDS-1,de.MIN_ROWS_IN_BARCODE=3,de.MAX_ROWS_IN_BARCODE=90,de.MODULES_IN_CODEWORD=17,de.MODULES_IN_STOP_PATTERN=18,de.BARS_IN_MODULE=8,de.EMPTY_INT_ARRAY=new Int32Array([]),de.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),de.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Dg{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ve{static detectMultiple(n,i,s){let a=n.getBlackMatrix(),u=ve.detect(s,a);return u.length||(a=a.clone(),a.rotate180(),u=ve.detect(s,a)),new Dg(a,u)}static detect(n,i){const s=new Array;let a=0,u=0,h=!1;for(;a<i.getHeight();){const f=ve.findVertices(i,a,u);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,u=0;for(const g of s)g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())));a+=ve.ROW_STEP;continue}if(h=!0,s.push(f),!n)break;f[2]!=null?(u=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(u=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return s}static findVertices(n,i,s){const a=n.getHeight(),u=n.getWidth(),h=new Array(8);return ve.copyToResult(h,ve.findRowsWithPattern(n,a,u,i,s,ve.START_PATTERN),ve.INDEXES_START_PATTERN),h[4]!=null&&(s=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),ve.copyToResult(h,ve.findRowsWithPattern(n,a,u,i,s,ve.STOP_PATTERN),ve.INDEXES_STOP_PATTERN),h}static copyToResult(n,i,s){for(let a=0;a<s.length;a++)n[s[a]]=i[a]}static findRowsWithPattern(n,i,s,a,u,h){const f=new Array(4);let g=!1;const p=new Int32Array(h.length);for(;a<i;a+=ve.ROW_STEP){let E=ve.findGuardPattern(n,u,a,s,!1,h,p);if(E!=null){for(;a>0;){const S=ve.findGuardPattern(n,u,--a,s,!1,h,p);if(S!=null)E=S;else{a++;break}}f[0]=new oe(E[0],a),f[1]=new oe(E[1],a),g=!0;break}}let y=a+1;if(g){let E=0,S=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;y<i;y++){const I=ve.findGuardPattern(n,S[0],y,s,!1,h,p);if(I!=null&&Math.abs(S[0]-I[0])<ve.MAX_PATTERN_DRIFT&&Math.abs(S[1]-I[1])<ve.MAX_PATTERN_DRIFT)S=I,E=0;else{if(E>ve.SKIPPED_ROW_COUNT_MAX)break;E++}}y-=E+1,f[2]=new oe(S[0],y),f[3]=new oe(S[1],y)}return y-a<ve.BARCODE_MIN_HEIGHT&&b.fill(f,null),f}static findGuardPattern(n,i,s,a,u,h,f){b.fillWithin(f,0,f.length,0);let g=i,p=0;for(;n.get(g,s)&&g>0&&p++<ve.MAX_PIXEL_DRIFT;)g--;let y=g,E=0,S=h.length;for(let I=u;y<a;y++)if(n.get(y,s)!==I)f[E]++;else{if(E===S-1){if(ve.patternMatchVariance(f,h,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE)return new Int32Array([g,y]);g+=f[0]+f[1],F.arraycopy(f,2,f,0,E-1),f[E-1]=0,f[E]=0,E--}else E++;f[E]=1,I=!I}return E===S-1&&ve.patternMatchVariance(f,h,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE?new Int32Array([g,y-1]):null}static patternMatchVariance(n,i,s){let a=n.length,u=0,h=0;for(let p=0;p<a;p++)u+=n[p],h+=i[p];if(u<h)return 1/0;let f=u/h;s*=f;let g=0;for(let p=0;p<a;p++){let y=n[p],E=i[p]*f,S=y>E?y-E:E-y;if(S>s)return 1/0;g+=S}return g/u}}ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ve.MAX_AVG_VARIANCE=.42,ve.MAX_INDIVIDUAL_VARIANCE=.8,ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ve.MAX_PIXEL_DRIFT=3,ve.MAX_PATTERN_DRIFT=5,ve.SKIPPED_ROW_COUNT_MAX=25,ve.ROW_STEP=5,ve.BARCODE_MIN_HEIGHT=10;class It{constructor(n,i){if(i.length===0)throw new A;this.field=n;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),F.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let u of this.coefficients)a=this.field.add(a,u);return a}let i=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let h=i;i=s,s=h}let a=new Int32Array(s.length),u=s.length-i.length;F.arraycopy(s,0,a,0,u);for(let h=u;h<s.length;h++)a[h]=this.field.add(i[h-u],s[h]);return new It(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof It?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new It(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,a=n.coefficients,u=a.length,h=new Int32Array(s+u-1);for(let f=0;f<s;f++){let g=i[f];for(let p=0;p<u;p++)h[f+p]=this.field.add(h[f+p],this.field.multiply(g,a[p]))}return new It(this.field,h)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new It(this.field,i)}multiplyScalar(n){if(n===0)return new It(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.multiply(this.coefficients[a],n);return new It(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new A;if(i===0)return new It(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+n);for(let u=0;u<s;u++)a[u]=this.field.multiply(this.coefficients[u],i);return new It(this.field,a)}toString(){let n=new te;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class kg{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new A;return this.logTable[n]}inverse(n){if(n===0)throw new Io;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Tl extends kg{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let a=0;a<n;a++)this.expTable[a]=s,s=s*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new It(this,new Int32Array([0])),this.one=new It(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new A;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new It(this,s)}}Tl.PDF417_GF=new Tl(de.NUMBER_OF_CODEWORDS,3);class Th{constructor(){this.field=Tl.PDF417_GF}decode(n,i,s){let a=new It(this.field,n),u=new Int32Array(i),h=!1;for(let O=i;O>0;O--){let R=a.evaluateAt(this.field.exp(O));u[i-O]=R,R!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(s!=null)for(const O of s){let R=this.field.exp(n.length-1-O),k=new It(this.field,new Int32Array([this.field.subtract(0,R),1]));f=f.multiply(k)}let g=new It(this.field,u),p=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),y=p[0],E=p[1],S=this.findErrorLocations(y),I=this.findErrorMagnitudes(E,y,S);for(let O=0;O<S.length;O++){let R=n.length-1-this.field.log(S[O]);if(R<0)throw D.getChecksumInstance();n[R]=this.field.subtract(n[R],I[O])}return S.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let S=n;n=i,i=S}let a=n,u=i,h=this.field.getZero(),f=this.field.getOne();for(;u.getDegree()>=Math.round(s/2);){let S=a,I=h;if(a=u,h=f,a.isZero())throw D.getChecksumInstance();u=S;let O=this.field.getZero(),R=a.getCoefficient(a.getDegree()),k=this.field.inverse(R);for(;u.getDegree()>=a.getDegree()&&!u.isZero();){let H=u.getDegree()-a.getDegree(),Z=this.field.multiply(u.getCoefficient(u.getDegree()),k);O=O.add(this.field.buildMonomial(H,Z)),u=u.subtract(a.multiplyByMonomial(H,Z))}f=O.multiply(h).subtract(I).negative()}let g=f.getCoefficient(0);if(g===0)throw D.getChecksumInstance();let p=this.field.inverse(g),y=f.multiply(p),E=u.multiply(p);return[y,E]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),a=0;for(let u=1;u<this.field.getSize()&&a<i;u++)n.evaluateAt(u)===0&&(s[a]=this.field.inverse(u),a++);if(a!==i)throw D.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let a=i.getDegree(),u=new Int32Array(a);for(let p=1;p<=a;p++)u[a-p]=this.field.multiply(p,i.getCoefficient(p));let h=new It(this.field,u),f=s.length,g=new Int32Array(f);for(let p=0;p<f;p++){let y=this.field.inverse(s[p]),E=this.field.subtract(0,n.evaluateAt(y)),S=this.field.inverse(h.evaluateAt(y));g[p]=this.field.multiply(E,S)}return g}}class qr{constructor(n,i,s,a,u){n instanceof qr?this.constructor_2(n):this.constructor_1(n,i,s,a,u)}constructor_1(n,i,s,a,u){const h=i==null||s==null,f=a==null||u==null;if(h&&f)throw new U;h?(i=new oe(0,a.getY()),s=new oe(0,u.getY())):f&&(a=new oe(n.getWidth()-1,i.getY()),u=new oe(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=a,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new qr(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let a=this.topLeft,u=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(n>0){let g=s?this.topLeft:this.topRight,p=Math.trunc(g.getY()-n);p<0&&(p=0);let y=new oe(g.getX(),p);s?a=y:h=y}if(i>0){let g=s?this.bottomLeft:this.bottomRight,p=Math.trunc(g.getY()+i);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new oe(g.getX(),p);s?u=y:f=y}return new qr(this.image,a,u,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Lg{constructor(n,i,s,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Es{constructor(){this.buffer=""}static form(n,i){let s=-1;function a(h,f,g,p,y,E){if(h==="%%")return"%";if(i[++s]===void 0)return;h=p?parseInt(p.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,I;switch(E){case"s":I=i[s];break;case"c":I=i[s][0];break;case"f":I=parseFloat(i[s]).toFixed(h);break;case"p":I=parseFloat(i[s]).toPrecision(h);break;case"e":I=parseFloat(i[s]).toExponential(h);break;case"x":I=parseInt(i[s]).toString(S||16);break;case"d":I=parseFloat(parseInt(i[s],S||10).toPrecision(h)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(S);let O=parseInt(g),R=g&&g[0]+""=="0"?"0":" ";for(;I.length<O;)I=f!==void 0?I+R:R+I;return I}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,a)}format(n,...i){this.buffer+=Es.form(n,i)}toString(){return this.buffer}}class Cs{constructor(n){this.boundingBox=new qr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<Cs.MAX_NEARBY_DISTANCE;s++){let a=this.imageRowToCodewordIndex(n)-s;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(n)+s,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Es;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}Cs.MAX_NEARBY_DISTANCE=5;class As{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,a]of this.values.entries()){const u={getKey:()=>s,getValue:()=>a};u.getValue()>n?(n=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===n&&i.push(u.getKey())}return de.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class bh extends Cs{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=-1,p=1,y=0;for(let E=h;E<f;E++){if(i[E]==null)continue;let S=i[E],I=S.getRowNumber()-g;if(I===0)y++;else if(I===1)p=Math.max(p,y),y=1,g=S.getRowNumber();else if(I<0||S.getRowNumber()>=n.getRowCount()||I>E)i[E]=null;else{let O;p>2?O=(p-2)*I:O=I;let R=O>=E;for(let k=1;k<=O&&!R;k++)R=i[E-k]!=null;R?i[E]=null:(g=S.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),g=-1;for(let p=u;p<h;p++){if(f[p]==null)continue;let y=f[p];y.setRowNumberAsRowIndicatorColumn();let E=y.getRowNumber()-g;E===0||(E===1?g=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?f[p]=null:g=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new As,s=new As,a=new As,u=new As;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let g=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(g*3+1);break;case 1:u.setValue(g/3),a.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<de.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>de.MAX_ROWS_IN_BARCODE)return null;let h=new Lg(i.getValue()[0],s.getValue()[0],a.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,h),h}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let a=n[s];if(n[s]==null)continue;let u=a.getValue()%30,h=a.getRowNumber();if(h>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:u+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ss{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=de.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let u=this.detectionResultColumns[a].getCodewords()[s];u!=null&&(u.setRowNumber(n[s].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[s];f!=null&&(u=Ss.adjustRowNumberIfValid(a,u,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[s];f!=null&&(u=Ss.adjustRowNumberIfValid(a,u,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let a=s[i],u=this.detectionResultColumns[n-1].getCodewords(),h=u;this.detectionResultColumns[n+1]!=null&&(h=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=u[i],f[3]=h[i],i>0&&(f[0]=s[i-1],f[4]=u[i-1],f[5]=h[i-1]),i>1&&(f[8]=s[i-2],f[10]=u[i-2],f[11]=h[i-2]),i<s.length-1&&(f[1]=s[i+1],f[6]=u[i+1],f[7]=h[i+1]),i<s.length-2&&(f[9]=s[i+2],f[12]=u[i+2],f[13]=h[i+2]);for(let g of f)if(Ss.adjustRowNumber(a,g))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Es;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[a].getCodewords()[s];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class _s{constructor(n,i,s,a){this.rowNumber=_s.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==_s.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}_s.BARCODE_ROW_UNKNOWN=-1;class Kt{static initialize(){for(let n=0;n<de.SYMBOL_TABLE.length;n++){let i=de.SYMBOL_TABLE[n],s=i&1;for(let a=0;a<de.BARS_IN_MODULE;a++){let u=0;for(;(i&1)===s;)u+=1,i>>=1;s=i&1,Kt.RATIOS_TABLE[n]||(Kt.RATIOS_TABLE[n]=new Array(de.BARS_IN_MODULE)),Kt.RATIOS_TABLE[n][de.BARS_IN_MODULE-a-1]=Math.fround(u/de.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Kt.getDecodedCodewordValue(Kt.sampleBitCounts(n));return i!==-1?i:Kt.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=be.sum(n),s=new Int32Array(de.BARS_IN_MODULE),a=0,u=0;for(let h=0;h<de.MODULES_IN_CODEWORD;h++){let f=i/(2*de.MODULES_IN_CODEWORD)+h*i/de.MODULES_IN_CODEWORD;u+n[a]<=f&&(u+=n[a],a++),s[a]++}return s}static getDecodedCodewordValue(n){let i=Kt.getBitValue(n);return de.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let a=0;a<n[s];a++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=be.sum(n),s=new Array(de.BARS_IN_MODULE);if(i>1)for(let h=0;h<s.length;h++)s[h]=Math.fround(n[h]/i);let a=To.MAX_VALUE,u=-1;this.bSymbolTableReady||Kt.initialize();for(let h=0;h<Kt.RATIOS_TABLE.length;h++){let f=0,g=Kt.RATIOS_TABLE[h];for(let p=0;p<de.BARS_IN_MODULE;p++){let y=Math.fround(g[p]-s[p]);if(f+=Math.fround(y*y),f>=a)break}f<a&&(a=f,u=de.SYMBOL_TABLE[h])}return u}}Kt.bSymbolTableReady=!1,Kt.RATIOS_TABLE=new Array(de.SYMBOL_TABLE.length).map(v=>new Array(de.BARS_IN_MODULE));class Nh{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class Oh{static parseLong(n,i=void 0){return parseInt(n,i)}}class Mh extends x{}Mh.kind="NullPointerException";class Pg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new Mh;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new $;if(s===0)return;for(let a=0;a<s;a++)this.write(n[i+a])}flush(){}close(){}}class Bg extends x{}class Fg extends Pg{constructor(n=32){if(super(),this.count=0,n<0)throw new A("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new Bg;s=T.MAX_VALUE}this.buf=b.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new $;this.ensureCapacity(this.count+s),F.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return b.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Fe;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fe||(Fe={}));function Rh(){if(typeof window<"u")return window.BigInt||null;if(typeof Ot<"u")return Ot.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ko;function yr(v){if(typeof ko>"u"&&(ko=Rh()),ko===null)throw new Error("BigInt is not supported!");return ko(v)}function jg(){let v=[];v[0]=yr(1);let n=yr(900);v[1]=n;for(let i=2;i<16;i++)v[i]=v[i-1]*n;return v}class z{static decode(n,i){let s=new te(""),a=G.ISO8859_1;s.enableDecoding(a);let u=1,h=n[u++],f=new Nh;for(;u<n[0];){switch(h){case z.TEXT_COMPACTION_MODE_LATCH:u=z.textCompaction(n,u,s);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:u=z.byteCompaction(h,n,a,u,s);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:u=z.numericCompaction(n,u,s);break;case z.ECI_CHARSET:G.getCharacterSetECIByValue(n[u++]);break;case z.ECI_GENERAL_PURPOSE:u+=2;break;case z.ECI_USER_DEFINED:u++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=z.decodeMacroBlock(n,u,f);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new B;default:u--,u=z.textCompaction(n,u,s);break}if(u<n.length)h=n[u++];else throw B.getFormatInstance()}if(s.length()===0)throw B.getFormatInstance();let g=new ms(null,s.toString(),null,i);return g.setOther(f),g}static decodeMacroBlock(n,i,s){if(i+z.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw B.getFormatInstance();let a=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)a[f]=n[i];s.setSegmentIndex(T.parseInt(z.decodeBase900toBase10(a,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new te;i=z.textCompaction(n,i,u),s.setFileId(u.toString());let h=-1;for(n[i]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<n[0];)switch(n[i]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new te;i=z.textCompaction(n,i+1,f),s.setFileName(f.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new te;i=z.textCompaction(n,i+1,g),s.setSender(g.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new te;i=z.textCompaction(n,i+1,p),s.setAddressee(p.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new te;i=z.numericCompaction(n,i+1,y),s.setSegmentCount(T.parseInt(y.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new te;i=z.numericCompaction(n,i+1,E),s.setTimestamp(Oh.parseLong(E.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new te;i=z.numericCompaction(n,i+1,S),s.setChecksum(T.parseInt(S.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new te;i=z.numericCompaction(n,i+1,I),s.setFileSize(Oh.parseLong(I.toString()));break;default:throw B.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(h!==-1){let f=i-h;s.isLastSegment()&&f--,s.setOptionalData(b.copyOfRange(n,h,h+f))}return i}static textCompaction(n,i,s){let a=new Int32Array((n[0]-i)*2),u=new Int32Array((n[0]-i)*2),h=0,f=!1;for(;i<n[0]&&!f;){let g=n[i++];if(g<z.TEXT_COMPACTION_MODE_LATCH)a[h]=g/30,a[h+1]=g%30,h+=2;else switch(g){case z.TEXT_COMPACTION_MODE_LATCH:a[h++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[h]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[i++],u[h]=g,h++;break}}return z.decodeTextCompaction(a,u,h,s),i}static decodeTextCompaction(n,i,s,a){let u=Fe.ALPHA,h=Fe.ALPHA,f=0;for(;f<s;){let g=n[f],p="";switch(u){case Fe.ALPHA:if(g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case z.LL:u=Fe.LOWER;break;case z.ML:u=Fe.MIXED;break;case z.PS:h=u,u=Fe.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:u=Fe.ALPHA;break}break;case Fe.LOWER:if(g<26)p=String.fromCharCode(97+g);else switch(g){case 26:p=" ";break;case z.AS:h=u,u=Fe.ALPHA_SHIFT;break;case z.ML:u=Fe.MIXED;break;case z.PS:h=u,u=Fe.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:u=Fe.ALPHA;break}break;case Fe.MIXED:if(g<z.PL)p=z.MIXED_CHARS[g];else switch(g){case z.PL:u=Fe.PUNCT;break;case 26:p=" ";break;case z.LL:u=Fe.LOWER;break;case z.AL:u=Fe.ALPHA;break;case z.PS:h=u,u=Fe.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:u=Fe.ALPHA;break}break;case Fe.PUNCT:if(g<z.PAL)p=z.PUNCT_CHARS[g];else switch(g){case z.PAL:u=Fe.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:u=Fe.ALPHA;break}break;case Fe.ALPHA_SHIFT:if(u=h,g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:u=Fe.ALPHA;break}break;case Fe.PUNCT_SHIFT:if(u=h,g<z.PAL)p=z.PUNCT_CHARS[g];else switch(g){case z.PAL:u=Fe.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:u=Fe.ALPHA;break}break}p!==""&&a.append(p),f++}}static byteCompaction(n,i,s,a,u){let h=new Fg,f=0,g=0,p=!1;switch(n){case z.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),E=i[a++];for(;a<i[0]&&!p;)switch(y[f++]=E,g=900*g+E,E=i[a++],E){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(f%5===0&&f>0){for(let S=0;S<6;++S)h.write(Number(yr(g)>>yr(8*(5-S))));g=0,f=0}break}a===i[0]&&E<z.TEXT_COMPACTION_MODE_LATCH&&(y[f++]=E);for(let S=0;S<f;S++)h.write(y[S]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!p;){let S=i[a++];if(S<z.TEXT_COMPACTION_MODE_LATCH)f++,g=900*g+S;else switch(S){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(f%5===0&&f>0){for(let I=0;I<6;++I)h.write(Number(yr(g)>>yr(8*(5-I))));g=0,f=0}}break}return u.append(Be.decode(h.toByteArray(),s)),a}static numericCompaction(n,i,s){let a=0,u=!1,h=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!u;){let f=n[i++];if(i===n[0]&&(u=!0),f<z.TEXT_COMPACTION_MODE_LATCH)h[a]=f,a++;else switch(f){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(a%z.MAX_NUMERIC_CODEWORDS===0||f===z.NUMERIC_COMPACTION_MODE_LATCH||u)&&a>0&&(s.append(z.decodeBase900toBase10(h,a)),a=0)}return i}static decodeBase900toBase10(n,i){let s=yr(0);for(let u=0;u<i;u++)s+=z.EXP900[i-u-1]*yr(n[u]);let a=s.toString();if(a.charAt(0)!=="1")throw new B;return a.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=Rh()?jg():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ee{constructor(){}static decode(n,i,s,a,u,h,f){let g=new qr(n,i,s,a,u),p=null,y=null,E;for(let O=!0;;O=!1){if(i!=null&&(p=Ee.getRowIndicatorColumn(n,g,i,!0,h,f)),a!=null&&(y=Ee.getRowIndicatorColumn(n,g,a,!1,h,f)),E=Ee.merge(p,y),E==null)throw U.getNotFoundInstance();let R=E.getBoundingBox();if(O&&R!=null&&(R.getMinY()<g.getMinY()||R.getMaxY()>g.getMaxY()))g=R;else break}E.setBoundingBox(g);let S=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,p),E.setDetectionResultColumn(S,y);let I=p!=null;for(let O=1;O<=S;O++){let R=I?O:S-O;if(E.getDetectionResultColumn(R)!==void 0)continue;let k;R===0||R===S?k=new bh(g,R===0):k=new Cs(g),E.setDetectionResultColumn(R,k);let H=-1,Z=H;for(let q=g.getMinY();q<=g.getMaxY();q++){if(H=Ee.getStartColumn(E,R,q,I),H<0||H>g.getMaxX()){if(Z===-1)continue;H=Z}let X=Ee.detectCodeword(n,g.getMinX(),g.getMaxX(),I,H,q,h,f);X!=null&&(k.setCodeword(q,X),Z=H,h=Math.min(h,X.getWidth()),f=Math.max(f,X.getWidth()))}}return Ee.createDecoderResult(E)}static merge(n,i){if(n==null&&i==null)return null;let s=Ee.getBarcodeMetadata(n,i);if(s==null)return null;let a=qr.merge(Ee.adjustBoundingBox(n),Ee.adjustBoundingBox(i));return new Ss(s,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=Ee.getMax(i),a=0;for(let f of i)if(a+=s-f,f>0)break;let u=n.getCodewords();for(let f=0;a>0&&u[f]==null;f++)a--;let h=0;for(let f=i.length-1;f>=0&&(h+=s-i[f],!(i[f]>0));f--);for(let f=u.length-1;h>0&&u[f]==null;f--)h--;return n.getBoundingBox().addMissingRows(a,h,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,a,u,h){let f=new bh(i,a);for(let g=0;g<2;g++){let p=g===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=i.getMaxY()&&E>=i.getMinY();E+=p){let S=Ee.detectCodeword(n,0,n.getWidth(),a,y,E,u,h);S!=null&&(f.setCodeword(E,S),a?y=S.getStartX():y=S.getEndX())}}return f}static adjustCodewordCount(n,i){let s=i[0][1],a=s.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Ee.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(u<1||u>de.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();s.setValue(u)}else a[0]!==u&&s.setValue(u)}static createDecoderResult(n){let i=Ee.createBarcodeMatrix(n);Ee.adjustCodewordCount(n,i);let s=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],h=new Array;for(let g=0;g<n.getBarcodeRowCount();g++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=i[g][p+1].getValue(),E=g*n.getBarcodeColumnCount()+p;y.length===0?s.push(E):y.length===1?a[E]=y[0]:(h.push(E),u.push(y))}let f=new Array(u.length);for(let g=0;g<f.length;g++)f[g]=u[g];return Ee.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,de.toIntArray(s),de.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(n,i,s,a,u){let h=new Int32Array(a.length),f=100;for(;f-- >0;){for(let g=0;g<h.length;g++)i[a[g]]=u[g][h[g]];try{return Ee.decodeCodewords(i,n,s)}catch(g){if(!(g instanceof D))throw g}if(h.length===0)throw D.getChecksumInstance();for(let g=0;g<h.length;g++)if(h[g]<u[g].length-1){h[g]++;break}else if(h[g]=0,g===h.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let u=0;u<i[a].length;u++)i[a][u]=new As;let s=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let u of a.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][s].setValue(u.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,a){let u=a?1:-1,h=null;if(Ee.isValidBarcodeColumn(n,i-u)&&(h=n.getDetectionResultColumn(i-u).getCodeword(s)),h!=null)return a?h.getEndX():h.getStartX();if(h=n.getDetectionResultColumn(i).getCodewordNearby(s),h!=null)return a?h.getStartX():h.getEndX();if(Ee.isValidBarcodeColumn(n,i-u)&&(h=n.getDetectionResultColumn(i-u).getCodewordNearby(s)),h!=null)return a?h.getEndX():h.getStartX();let f=0;for(;Ee.isValidBarcodeColumn(n,i-u);){i-=u;for(let g of n.getDetectionResultColumn(i).getCodewords())if(g!=null)return(a?g.getEndX():g.getStartX())+u*f*(g.getEndX()-g.getStartX());f++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,a,u,h,f,g){u=Ee.adjustCodewordStartColumn(n,i,s,a,u,h);let p=Ee.getModuleBitCount(n,i,s,a,u,h);if(p==null)return null;let y,E=be.sum(p);if(a)y=u+E;else{for(let O=0;O<p.length/2;O++){let R=p[O];p[O]=p[p.length-1-O],p[p.length-1-O]=R}y=u,u=y-E}if(!Ee.checkCodewordSkew(E,f,g))return null;let S=Kt.getDecodedValue(p),I=de.getCodeword(S);return I===-1?null:new _s(u,y,Ee.getCodewordBucketNumber(S),I)}static getModuleBitCount(n,i,s,a,u,h){let f=u,g=new Int32Array(8),p=0,y=a?1:-1,E=a;for(;(a?f<s:f>=i)&&p<g.length;)n.get(f,h)===E?(g[p]++,f+=y):(p++,E=!E);return p===g.length||f===(a?s:i)&&p===g.length-1?g:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,a,u,h){let f=u,g=a?-1:1;for(let p=0;p<2;p++){for(;(a?f>=i:f<s)&&a===n.get(f,h);){if(Math.abs(u-f)>Ee.CODEWORD_SKEW_SIZE)return u;f+=g}g=-g,a=!a}return f}static checkCodewordSkew(n,i,s){return i-Ee.CODEWORD_SKEW_SIZE<=n&&n<=s+Ee.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw B.getFormatInstance();let a=1<<i+1,u=Ee.correctErrors(n,s,a);Ee.verifyCodewordCount(n,a);let h=z.decode(n,""+i);return h.setErrorsCorrected(u),h.setErasures(s.length),h}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+Ee.MAX_ERRORS||s<0||s>Ee.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return Ee.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw B.getFormatInstance();let s=n[0];if(s>n.length)throw B.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw B.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,a=i.length-1;for(;!((n&1)!==s&&(s=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Ee.getCodewordBucketNumber(Ee.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Es;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let a=0;a<n[s].length;a++){let u=n[s][a];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Ee.CODEWORD_SKEW_SIZE=2,Ee.MAX_ERRORS=3,Ee.MAX_EC_CODEWORDS=512,Ee.errorCorrection=new Th;class Tt{decode(n,i=null){let s=Tt.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw U.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return Tt.decode(n,i,!0)}catch(s){throw s instanceof B||s instanceof D?U.getNotFoundInstance():s}}static decode(n,i,s){const a=new Array,u=ve.detectMultiple(n,i,s);for(const h of u.getPoints()){const f=Ee.decode(u.getBits(),h[4],h[5],h[6],h[7],Tt.getMinCodewordWidth(h),Tt.getMaxCodewordWidth(h)),g=new Je(f.getText(),f.getRawBytes(),void 0,h,ae.PDF_417);g.putMetadata(yt.ERROR_CORRECTION_LEVEL,f.getECLevel());const p=f.getOther();p!=null&&g.putMetadata(yt.PDF417_EXTRA_METADATA,p),a.push(g)}return a.map(h=>h)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?T.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Tt.getMaxWidth(n[0],n[4]),Tt.getMaxWidth(n[6],n[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.max(Tt.getMaxWidth(n[1],n[5]),Tt.getMaxWidth(n[7],n[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Tt.getMinWidth(n[0],n[4]),Tt.getMinWidth(n[6],n[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.min(Tt.getMinWidth(n[1],n[5]),Tt.getMinWidth(n[7],n[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}reset(){}}class Lo extends x{}Lo.kind="ReaderException";class Dh{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!o(n)&&n.get(W.TRY_HARDER)===!0,s=o(n)?null:n.get(W.POSSIBLE_FORMATS),a=new Array;if(!o(s)){const u=s.some(h=>h===ae.UPC_A||h===ae.UPC_E||h===ae.EAN_13||h===ae.EAN_8||h===ae.CODABAR||h===ae.CODE_39||h===ae.CODE_93||h===ae.CODE_128||h===ae.ITF||h===ae.RSS_14||h===ae.RSS_EXPANDED);u&&!i&&a.push(new Si(n,this.verbose)),s.includes(ae.QR_CODE)&&a.push(new wr),s.includes(ae.DATA_MATRIX)&&a.push(new xr),s.includes(ae.AZTEC)&&a.push(new No),s.includes(ae.PDF_417)&&a.push(new Tt),u&&i&&a.push(new Si(n,this.verbose))}a.length===0&&(i||a.push(new Si(n,this.verbose)),a.push(new wr),a.push(new xr),a.push(new No),a.push(new Tt),i&&a.push(new Si(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Lo("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof Lo)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class Ug extends mn{constructor(n=null,i=500){const s=new Dh;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class zg extends mn{constructor(n=500){super(new Tt,n)}}class Hg extends mn{constructor(n=500){super(new wr,n)}}var bl;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(bl||(bl={}));var mt=bl;class Nl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Yt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const a=this.field;for(let u=i.length;u<=n;u++){const h=s.multiply(new Yt(a,Int32Array.from([1,a.exp(u-1+a.getGeneratorBase())])));i.push(h),s=h}}return i[n]}encode(n,i){if(i===0)throw new A("No error correction bytes");const s=n.length-i;if(s<=0)throw new A("No data bytes provided");const a=this.buildGenerator(i),u=new Int32Array(s);F.arraycopy(n,0,u,0,s);let h=new Yt(this.field,u);h=h.multiplyByMonomial(i,1);const g=h.divide(a)[1].getCoefficients(),p=i-g.length;for(let y=0;y<p;y++)n[s+y]=0;F.arraycopy(g,0,n,s+p,g.length)}}class ot{constructor(){}static applyMaskPenaltyRule1(n){return ot.applyMaskPenaltyRule1Internal(n,!0)+ot.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),a=n.getWidth(),u=n.getHeight();for(let h=0;h<u-1;h++){const f=s[h];for(let g=0;g<a-1;g++){const p=f[g];p===f[g+1]&&p===s[h+1][g]&&p===s[h+1][g+1]&&i++}}return ot.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),a=n.getWidth(),u=n.getHeight();for(let h=0;h<u;h++)for(let f=0;f<a;f++){const g=s[h];f+6<a&&g[f]===1&&g[f+1]===0&&g[f+2]===1&&g[f+3]===1&&g[f+4]===1&&g[f+5]===0&&g[f+6]===1&&(ot.isWhiteHorizontal(g,f-4,f)||ot.isWhiteHorizontal(g,f+7,f+11))&&i++,h+6<u&&s[h][f]===1&&s[h+1][f]===0&&s[h+2][f]===1&&s[h+3][f]===1&&s[h+4][f]===1&&s[h+5][f]===0&&s[h+6][f]===1&&(ot.isWhiteVertical(s,f,h-4,h)||ot.isWhiteVertical(s,f,h+7,h+11))&&i++}return i*ot.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let a=i;a<s;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,i,s,a){s=Math.max(s,0),a=Math.min(a,n.length);for(let u=s;u<a;u++)if(n[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),a=n.getWidth(),u=n.getHeight();for(let g=0;g<u;g++){const p=s[g];for(let y=0;y<a;y++)p[y]===1&&i++}const h=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*ot.N4}static getDataMaskBit(n,i,s){let a,u;switch(n){case 0:a=s+i&1;break;case 1:a=s&1;break;case 2:a=i%3;break;case 3:a=(s+i)%3;break;case 4:a=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:u=s*i,a=(u&1)+u%3;break;case 6:u=s*i,a=(u&1)+u%3&1;break;case 7:u=s*i,a=u%3+(s+i&1)&1;break;default:throw new A("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const a=i?n.getHeight():n.getWidth(),u=i?n.getWidth():n.getHeight(),h=n.getArray();for(let f=0;f<a;f++){let g=0,p=-1;for(let y=0;y<u;y++){const E=i?h[f][y]:h[y][f];E===p?g++:(g>=5&&(s+=ot.N1+(g-5)),g=1,p=E)}g>=5&&(s+=ot.N1+(g-5))}return s}}ot.N1=3,ot.N2=3,ot.N3=40,ot.N4=10;class Po{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let a=0;a!==i;a++)s[a]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)b.fill(i,n)}equals(n){if(!(n instanceof Po))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,a=this.height;s<a;++s){const u=this.bytes[s],h=i.bytes[s];for(let f=0,g=this.width;f<g;++f)if(u[f]!==h[f])return!1}return!0}toString(){const n=new te;for(let i=0,s=this.height;i<s;++i){const a=this.bytes[i];for(let u=0,h=this.width;u<h;++u)switch(a[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new te;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Jr.NUM_MASK_PATTERNS}}Jr.NUM_MASK_PATTERNS=8;class Ue extends x{}Ue.kind="WriterException";class he{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,a,u){he.clearMatrix(u),he.embedBasicPatterns(s,u),he.embedTypeInfo(i,a,u),he.maybeEmbedVersionInfo(s,u),he.embedDataBits(n,a,u)}static embedBasicPatterns(n,i){he.embedPositionDetectionPatternsAndSeparators(i),he.embedDarkDotAtLeftBottomCorner(i),he.maybeEmbedPositionAdjustmentPatterns(n,i),he.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const a=new P;he.makeTypeInfoBits(n,i,a);for(let u=0,h=a.getSize();u<h;++u){const f=a.get(a.getSize()-1-u),g=he.TYPE_INFO_COORDINATES[u],p=g[0],y=g[1];if(s.setBoolean(p,y,f),u<8){const E=s.getWidth()-u-1;s.setBoolean(E,8,f)}else{const S=s.getHeight()-7+(u-8);s.setBoolean(8,S,f)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new P;he.makeVersionInfoBits(n,s);let a=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const f=s.get(a);a--,i.setBoolean(u,i.getHeight()-11+h,f),i.setBoolean(i.getHeight()-11+h,u,f)}}static embedDataBits(n,i,s){let a=0,u=-1,h=s.getWidth()-1,f=s.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<s.getHeight();){for(let g=0;g<2;++g){const p=h-g;if(!he.isEmpty(s.get(p,f)))continue;let y;a<n.getSize()?(y=n.get(a),++a):y=!1,i!==255&&ot.getDataMaskBit(i,p,f)&&(y=!y),s.setBoolean(p,f,y)}f+=u}u=-u,f+=u,h-=2}if(a!==n.getSize())throw new Ue("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-T.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new A("0 polynomial");const s=he.findMSBSet(i);for(n<<=s-1;he.findMSBSet(n)>=s;)n^=i<<he.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!Jr.isValidMaskPattern(i))throw new Ue("Invalid mask pattern");const a=n.getBits()<<3|i;s.appendBits(a,5);const u=he.calculateBCHCode(a,he.TYPE_INFO_POLY);s.appendBits(u,10);const h=new P;if(h.appendBits(he.TYPE_INFO_MASK_PATTERN,15),s.xor(h),s.getSize()!==15)throw new Ue("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=he.calculateBCHCode(n.getVersionNumber(),he.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Ue("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;he.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),he.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ue;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let a=0;a<8;++a){if(!he.isEmpty(s.get(n+a,i)))throw new Ue;s.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let a=0;a<7;++a){if(!he.isEmpty(s.get(n,i+a)))throw new Ue;s.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let a=0;a<5;++a){const u=he.POSITION_ADJUSTMENT_PATTERN[a];for(let h=0;h<5;++h)s.setNumber(n+h,i+a,u[h])}}static embedPositionDetectionPattern(n,i,s){for(let a=0;a<7;++a){const u=he.POSITION_DETECTION_PATTERN[a];for(let h=0;h<7;++h)s.setNumber(n+h,i+a,u[h])}}static embedPositionDetectionPatternsAndSeparators(n){const i=he.POSITION_DETECTION_PATTERN[0].length;he.embedPositionDetectionPattern(0,0,n),he.embedPositionDetectionPattern(n.getWidth()-i,0,n),he.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;he.embedHorizontalSeparationPattern(0,s-1,n),he.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),he.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const a=7;he.embedVerticalSeparationPattern(a,0,n),he.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),he.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,a=he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let u=0,h=a.length;u!==h;u++){const f=a[u];if(f>=0)for(let g=0;g!==h;g++){const p=a[g];p>=0&&he.isEmpty(i.get(p,f))&&he.embedPositionAdjustmentPattern(p-2,f-2,i)}}}}he.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),he.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),he.VERSION_INFO_POLY=7973,he.TYPE_INFO_POLY=1335,he.TYPE_INFO_MASK_PATTERN=21522;class Vg{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ye{constructor(){}static calculateMaskPenalty(n){return ot.applyMaskPenaltyRule1(n)+ot.applyMaskPenaltyRule2(n)+ot.applyMaskPenaltyRule3(n)+ot.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let a=Ye.DEFAULT_BYTE_MODE_ENCODING;const u=s!==null&&s.get(mt.CHARACTER_SET)!==void 0;u&&(a=s.get(mt.CHARACTER_SET).toString());const h=this.chooseMode(n,a),f=new P;if(h===ce.BYTE&&(u||Ye.DEFAULT_BYTE_MODE_ENCODING!==a)){const q=G.getCharacterSetECIByName(a);q!==void 0&&this.appendECI(q,f)}this.appendModeInfo(h,f);const g=new P;this.appendBytes(n,h,g,a);let p;if(s!==null&&s.get(mt.QR_VERSION)!==void 0){const q=Number.parseInt(s.get(mt.QR_VERSION).toString(),10);p=le.getVersionForNumber(q);const X=this.calculateBitsNeeded(h,f,g,p);if(!this.willFit(X,p,i))throw new Ue("Data too big for requested version")}else p=this.recommendVersion(i,h,f,g);const y=new P;y.appendBitArray(f);const E=h===ce.BYTE?g.getSizeInBytes():n.length;this.appendLengthInfo(E,p,h,y),y.appendBitArray(g);const S=p.getECBlocksForLevel(i),I=p.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(I,y);const O=this.interleaveWithECBytes(y,p.getTotalCodewords(),I,S.getNumBlocks()),R=new Jr;R.setECLevel(i),R.setMode(h),R.setVersion(p);const k=p.getDimensionForVersion(),H=new Po(k,k),Z=this.chooseMaskPattern(O,i,p,H);return R.setMaskPattern(Z),he.buildMatrix(O,i,p,Z,H),R.setMatrix(H),R}static recommendVersion(n,i,s,a){const u=this.calculateBitsNeeded(i,s,a,le.getVersionForNumber(1)),h=this.chooseVersion(u,n),f=this.calculateBitsNeeded(i,s,a,h);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,i,s,a){return i.getSize()+n.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(n){return n<Ye.ALPHANUMERIC_TABLE.length?Ye.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(G.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return ce.KANJI;let s=!1,a=!1;for(let u=0,h=n.length;u<h;++u){const f=n.charAt(u);if(Ye.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return ce.BYTE}return a?ce.ALPHANUMERIC:s?ce.NUMERIC:ce.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=Be.encode(n,G.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){const u=i[a]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,i,s,a){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<Jr.NUM_MASK_PATTERNS;f++){he.buildMatrix(n,i,s,f,a);let g=this.calculateMaskPenalty(a);g<u&&(u=g,h=f)}return h}static chooseVersion(n,i){for(let s=1;s<=40;s++){const a=le.getVersionForNumber(s);if(Ye.willFit(n,a,i))return a}throw new Ue("Data too big")}static willFit(n,i,s){const a=i.getTotalCodewords(),h=i.getECBlocksForLevel(s).getTotalECCodewords(),f=a-h,g=(n+7)/8;return f>=g}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new Ue("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let h=0;h<4&&i.getSize()<s;++h)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let h=a;h<8;h++)i.appendBit(!1);const u=n-i.getSizeInBytes();for(let h=0;h<u;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==s)throw new Ue("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,a,u,h){if(a>=s)throw new Ue("Block ID too large");const f=n%s,g=s-f,p=Math.floor(n/s),y=p+1,E=Math.floor(i/s),S=E+1,I=p-E,O=y-S;if(I!==O)throw new Ue("EC bytes mismatch");if(s!==g+f)throw new Ue("RS blocks mismatch");if(n!==(E+I)*g+(S+O)*f)throw new Ue("Total bytes mismatch");a<g?(u[0]=E,h[0]=I):(u[0]=S,h[0]=O)}static interleaveWithECBytes(n,i,s,a){if(n.getSizeInBytes()!==s)throw new Ue("Number of bits and data bytes does not match");let u=0,h=0,f=0;const g=new Array;for(let y=0;y<a;++y){const E=new Int32Array(1),S=new Int32Array(1);Ye.getNumDataBytesAndNumECBytesForBlockID(i,s,a,y,E,S);const I=E[0],O=new Uint8Array(I);n.toBytes(8*u,O,0,I);const R=Ye.generateECBytes(O,S[0]);g.push(new Vg(O,R)),h=Math.max(h,I),f=Math.max(f,R.length),u+=E[0]}if(s!==u)throw new Ue("Data bytes does not match offset");const p=new P;for(let y=0;y<h;++y)for(const E of g){const S=E.getDataBytes();y<S.length&&p.appendBits(S[y],8)}for(let y=0;y<f;++y)for(const E of g){const S=E.getErrorCorrectionBytes();y<S.length&&p.appendBits(S[y],8)}if(i!==p.getSizeInBytes())throw new Ue("Interleaving error: "+i+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,i){const s=n.length,a=new Int32Array(s+i);for(let h=0;h<s;h++)a[h]=n[h]&255;new Nl(Me.QR_CODE_FIELD_256).encode(a,i);const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=a[s+h];return u}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,a){const u=s.getCharacterCountBits(i);if(n>=1<<u)throw new Ue(n+" is bigger than "+((1<<u)-1));a.appendBits(n,u)}static appendBytes(n,i,s,a){switch(i){case ce.NUMERIC:Ye.appendNumericBytes(n,s);break;case ce.ALPHANUMERIC:Ye.appendAlphanumericBytes(n,s);break;case ce.BYTE:Ye.append8BitBytes(n,s,a);break;case ce.KANJI:Ye.appendKanjiBytes(n,s);break;default:throw new Ue("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Ye.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const u=Ye.getDigit(n.charAt(a));if(a+2<s){const h=Ye.getDigit(n.charAt(a+1)),f=Ye.getDigit(n.charAt(a+2));i.appendBits(u*100+h*10+f,10),a+=3}else if(a+1<s){const h=Ye.getDigit(n.charAt(a+1));i.appendBits(u*10+h,7),a+=2}else i.appendBits(u,4),a++}}static appendAlphanumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const u=Ye.getAlphanumericCode(n.charCodeAt(a));if(u===-1)throw new Ue;if(a+1<s){const h=Ye.getAlphanumericCode(n.charCodeAt(a+1));if(h===-1)throw new Ue;i.appendBits(u*45+h,11),a+=2}else i.appendBits(u,6),a++}}static append8BitBytes(n,i,s){let a;try{a=Be.encode(n,s)}catch(u){throw new Ue(u)}for(let u=0,h=a.length;u!==h;u++){const f=a[u];i.appendBits(f,8)}}static appendKanjiBytes(n,i){let s;try{s=Be.encode(n,G.SJIS)}catch(u){throw new Ue(u)}const a=s.length;for(let u=0;u<a;u+=2){const h=s[u]&255,f=s[u+1]&255,g=h<<8&4294967295|f;let p=-1;if(g>=33088&&g<=40956?p=g-33088:g>=57408&&g<=60351&&(p=g-49472),p===-1)throw new Ue("Invalid byte sequence");const y=(p>>8)*192+(p&255);i.appendBits(y,13)}}static appendECI(n,i){i.appendBits(ce.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Ye.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ye.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class ei{write(n,i,s,a=null){if(n.length===0)throw new A("Found empty contents");if(i<0||s<0)throw new A("Requested dimensions are too small: "+i+"x"+s);let u=Ve.L,h=ei.QUIET_ZONE_SIZE;a!==null&&(a.get(mt.ERROR_CORRECTION)!==void 0&&(u=Ve.fromString(a.get(mt.ERROR_CORRECTION).toString())),a.get(mt.MARGIN)!==void 0&&(h=Number.parseInt(a.get(mt.MARGIN).toString(),10)));const f=Ye.encode(n,u,a);return this.renderResult(f,i,s,h)}writeToDom(n,i,s,a,u=null){typeof n=="string"&&(n=document.querySelector(n));const h=this.write(i,s,a,u);n&&n.appendChild(h)}renderResult(n,i,s,a){const u=n.getMatrix();if(u===null)throw new Un;const h=u.getWidth(),f=u.getHeight(),g=h+a*2,p=f+a*2,y=Math.max(i,g),E=Math.max(s,p),S=Math.min(Math.floor(y/g),Math.floor(E/p)),I=Math.floor((y-h*S)/2),O=Math.floor((E-f*S)/2),R=this.createSVGElement(y,E);for(let k=0,H=O;k<f;k++,H+=S)for(let Z=0,q=I;Z<h;Z++,q+=S)if(u.get(Z,k)===1){const X=this.createSvgRectElement(q,H,S,S);R.appendChild(X)}return R}createSVGElement(n,i){const s=document.createElementNS(ei.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,a){const u=document.createElementNS(ei.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",a.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ei.QUIET_ZONE_SIZE=4,ei.SVG_NS="http://www.w3.org/2000/svg";class Ii{encode(n,i,s,a,u){if(n.length===0)throw new A("Found empty contents");if(i!==ae.QR_CODE)throw new A("Can only encode QR_CODE, but got "+i);if(s<0||a<0)throw new A(`Requested dimensions are too small: ${s}x${a}`);let h=Ve.L,f=Ii.QUIET_ZONE_SIZE;u!==null&&(u.get(mt.ERROR_CORRECTION)!==void 0&&(h=Ve.fromString(u.get(mt.ERROR_CORRECTION).toString())),u.get(mt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(mt.MARGIN).toString(),10)));const g=Ye.encode(n,h,u);return Ii.renderResult(g,s,a,f)}static renderResult(n,i,s,a){const u=n.getMatrix();if(u===null)throw new Un;const h=u.getWidth(),f=u.getHeight(),g=h+a*2,p=f+a*2,y=Math.max(i,g),E=Math.max(s,p),S=Math.min(Math.floor(y/g),Math.floor(E/p)),I=Math.floor((y-h*S)/2),O=Math.floor((E-f*S)/2),R=new pe(y,E);for(let k=0,H=O;k<f;k++,H+=S)for(let Z=0,q=I;Z<h;Z++,q+=S)u.get(Z,k)===1&&R.setRegion(q,H,S,S);return R}}Ii.QUIET_ZONE_SIZE=4;class Wg{encode(n,i,s,a,u){let h;switch(i){case ae.QR_CODE:h=new Ii;break;default:throw new A("No encoder available for format "+i)}return h.encode(n,i,s,a,u)}}class Wn extends ne{constructor(n,i,s,a,u,h,f,g){if(super(h,f),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=u,a+h>i||u+f>s)throw new A("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(h,f)}getRow(n,i){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,a=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return F.arraycopy(this.yuvData,u,a,0,s),a;for(let h=0;h<i;h++){const f=h*n;F.arraycopy(this.yuvData,u,a,f,n),u+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new Wn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,a,!1)}renderThumbnail(){const n=this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),a=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const f=h*n;for(let g=0;g<n;g++){const p=a[u+g*Wn.THUMBNAIL_SCALE_FACTOR]&255;s[f+g]=4278190080|p*65793}u+=this.dataWidth*Wn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let a=0,u=this.top*this.dataWidth+this.left;a<i;a++,u+=this.dataWidth){const h=u+n/2;for(let f=u,g=u+n-1;f<h;f++,g--){const p=s[f];s[f]=s[g],s[g]=p}}}invert(){return new fe(this)}}Wn.THUMBNAIL_SCALE_FACTOR=2;class Ol extends ne{constructor(n,i,s,a,u,h,f){if(super(i,s),this.dataWidth=a,this.dataHeight=u,this.left=h,this.top=f,n.BYTES_PER_ELEMENT===4){const g=i*s,p=new Uint8ClampedArray(g);for(let y=0;y<g;y++){const E=n[y],S=E>>16&255,I=E>>7&510,O=E&255;p[y]=(S+I+O)/4&255}this.luminances=p}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=s),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,a=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return F.arraycopy(this.luminances,u,a,0,s),a;for(let h=0;h<i;h++){const f=h*n;F.arraycopy(this.luminances,u,a,f,n),u+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new Ol(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new fe(this)}}class kh extends G{static forName(n){return this.getCharacterSetECIByName(n)}}class Ml{}Ml.ISO_8859_1=G.ISO8859_1;class Lh{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Ph{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class Gg{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ti extends Gg{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Ti(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ti(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+T.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Rl extends Ti{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new Rl(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yg(v,n,i){return new Rl(v,n,i)}function Is(v,n,i){return new Ti(v,n,i)}const Xg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vr=0,Bo=1,vn=2,Bh=3,Gn=4,$g=new Ti(null,0,0),Dl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Kg(v){for(let n of v)b.fill(n,-1);return v[vr][Gn]=0,v[Bo][Gn]=0,v[Bo][vr]=28,v[Bh][Gn]=0,v[vn][Gn]=0,v[vn][vr]=15,v}const Fh=Kg(b.createInt32Array(6,6));class Yn{constructor(n,i,s,a){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,a=this.token;if(n!==this.mode){let h=Dl[this.mode][n];a=Is(a,h&65535,h>>16),s+=h>>16}let u=n===vn?4:5;return a=Is(a,i,u),new Yn(a,n,0,s+u)}shiftAndAppend(n,i){let s=this.token,a=this.mode===vn?4:5;return s=Is(s,Fh[this.mode][n],a),s=Is(s,i,5),new Yn(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,a=this.bitCount;if(this.mode===Gn||this.mode===vn){let f=Dl[s][vr];i=Is(i,f&65535,f>>16),a+=f>>16,s=vr}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Yn(i,s,this.binaryShiftByteCount+1,a+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(n+1)),h}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Yg(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(Dl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=Yn.calculateBinaryShiftCost(n)-Yn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let s=new P;for(const a of i)a.appendTo(s,n);return s}toString(){return ue.format("%s bits=%d bytes=%d",Xg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Yn.INITIAL_STATE=new Yn($g,vr,0,0);function Qg(v){const n=ue.getCharCode(" "),i=ue.getCharCode("."),s=ue.getCharCode(",");v[vr][n]=1;const a=ue.getCharCode("Z"),u=ue.getCharCode("A");for(let S=u;S<=a;S++)v[vr][S]=S-u+2;v[Bo][n]=1;const h=ue.getCharCode("z"),f=ue.getCharCode("a");for(let S=f;S<=h;S++)v[Bo][S]=S-f+2;v[vn][n]=1;const g=ue.getCharCode("9"),p=ue.getCharCode("0");for(let S=p;S<=g;S++)v[vn][S]=S-p+2;v[vn][s]=12,v[vn][i]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<y.length;S++)v[Bh][ue.getCharCode(y[S])]=S;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<E.length;S++)ue.getCharCode(E[S])>0&&(v[Gn][ue.getCharCode(E[S])]=S);return v}const kl=Qg(b.createInt32Array(5,256));class Ts{constructor(n){this.text=n}encode(){const n=ue.getCharCode(" "),i=ue.getCharCode(`
`);let s=Ph.singletonList(Yn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,f=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ue.getCharCode("\r"):h=f===i?2:0;break;case ue.getCharCode("."):h=f===n?3:0;break;case ue.getCharCode(","):h=f===n?4:0;break;case ue.getCharCode(":"):h=f===n?5:0;break;default:h=0}h>0?(s=Ts.updateStateListForPair(s,u,h),u++):s=this.updateStateListForChar(s,u)}return Ph.min(s,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let a of n)this.updateStateForChar(a,i,s);return Ts.simplifyStates(s)}updateStateForChar(n,i,s){let a=this.text[i]&255,u=kl[n.getMode()][a]>0,h=null;for(let f=0;f<=Gn;f++){let g=kl[f][a];if(g>0){if(h==null&&(h=n.endBinaryShift(i)),!u||f===n.getMode()||f===vn){const p=h.latchAndAppend(f,g);s.push(p)}if(!u&&Fh[n.getMode()][f]>=0){const p=h.shiftAndAppend(f,g);s.push(p)}}}if(n.getBinaryShiftByteCount()>0||kl[n.getMode()][a]===0){let f=n.addBinaryShiftChar(i);s.push(f)}}static updateStateListForPair(n,i,s){const a=[];for(let u of n)this.updateStateForPair(u,i,s,a);return this.simplifyStates(a)}static updateStateForPair(n,i,s,a){let u=n.endBinaryShift(i);if(a.push(u.latchAndAppend(Gn,s)),n.getMode()!==Gn&&a.push(u.shiftAndAppend(Gn,s)),s===3||s===4){let h=u.latchAndAppend(vn,16-s).latchAndAppend(vn,1);a.push(h)}if(n.getBinaryShiftByteCount()>0){let h=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(h)}}static simplifyStates(n){let i=[];for(const s of n){let a=!0;for(const u of i){if(u.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(u)&&(i=i.filter(h=>h!==u))}a&&i.push(s)}return i}}class Ne{constructor(){}static encodeBytes(n){return Ne.encode(n,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let a=new Ts(n).encode(),u=T.truncDivision(a.getSize()*i,100)+11,h=a.getSize()+u,f,g,p,y,E;if(s!==Ne.DEFAULT_AZTEC_LAYERS){if(f=s<0,g=Math.abs(s),g>(f?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new A(ue.format("Illegal value %s for layers",s));p=Ne.totalBitsInLayer(g,f),y=Ne.WORD_SIZE[g];let X=p-p%y;if(E=Ne.stuffBits(a,y),E.getSize()+u>X)throw new A("Data to large for user specified layer");if(f&&E.getSize()>y*64)throw new A("Data to large for user specified layer")}else{y=0,E=null;for(let X=0;;X++){if(X>Ne.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(f=X<=3,g=f?X+1:X,p=Ne.totalBitsInLayer(g,f),h>p)continue;(E==null||y!==Ne.WORD_SIZE[g])&&(y=Ne.WORD_SIZE[g],E=Ne.stuffBits(a,y));let _e=p-p%y;if(!(f&&E.getSize()>y*64)&&E.getSize()+u<=_e)break}}let S=Ne.generateCheckWords(E,p,y),I=E.getSize()/y,O=Ne.generateModeMessage(f,g,I),R=(f?11:14)+g*4,k=new Int32Array(R),H;if(f){H=R;for(let X=0;X<k.length;X++)k[X]=X}else{H=R+1+2*T.truncDivision(T.truncDivision(R,2)-1,15);let X=T.truncDivision(R,2),_e=T.truncDivision(H,2);for(let we=0;we<X;we++){let Qt=we+T.truncDivision(we,15);k[X-we-1]=_e-Qt-1,k[X+we]=_e+Qt+1}}let Z=new pe(H);for(let X=0,_e=0;X<g;X++){let we=(g-X)*4+(f?9:12);for(let Qt=0;Qt<we;Qt++){let Nn=Qt*2;for(let Zt=0;Zt<2;Zt++)S.get(_e+Nn+Zt)&&Z.set(k[X*2+Zt],k[X*2+Qt]),S.get(_e+we*2+Nn+Zt)&&Z.set(k[X*2+Qt],k[R-1-X*2-Zt]),S.get(_e+we*4+Nn+Zt)&&Z.set(k[R-1-X*2-Zt],k[R-1-X*2-Qt]),S.get(_e+we*6+Nn+Zt)&&Z.set(k[R-1-X*2-Qt],k[X*2+Zt])}_e+=we*8}if(Ne.drawModeMessage(Z,f,H,O),f)Ne.drawBullsEye(Z,T.truncDivision(H,2),5);else{Ne.drawBullsEye(Z,T.truncDivision(H,2),7);for(let X=0,_e=0;X<T.truncDivision(R,2)-1;X+=15,_e+=16)for(let we=T.truncDivision(H,2)&1;we<H;we+=2)Z.set(T.truncDivision(H,2)-_e,we),Z.set(T.truncDivision(H,2)+_e,we),Z.set(we,T.truncDivision(H,2)-_e),Z.set(we,T.truncDivision(H,2)+_e)}let q=new Lh;return q.setCompact(f),q.setSize(H),q.setLayers(g),q.setCodeWords(I),q.setMatrix(Z),q}static drawBullsEye(n,i,s){for(let a=0;a<s;a+=2)for(let u=i-a;u<=i+a;u++)n.set(u,i-a),n.set(u,i+a),n.set(i-a,u),n.set(i+a,u);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let a=new P;return n?(a.appendBits(i-1,2),a.appendBits(s-1,6),a=Ne.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(s-1,11),a=Ne.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,s,a){let u=T.truncDivision(s,2);if(i)for(let h=0;h<7;h++){let f=u-3+h;a.get(h)&&n.set(f,u-5),a.get(h+7)&&n.set(u+5,f),a.get(20-h)&&n.set(f,u+5),a.get(27-h)&&n.set(u-5,f)}else for(let h=0;h<10;h++){let f=u-5+h+T.truncDivision(h,5);a.get(h)&&n.set(f,u-7),a.get(h+10)&&n.set(u+7,f),a.get(29-h)&&n.set(f,u+7),a.get(39-h)&&n.set(u-7,f)}}static generateCheckWords(n,i,s){let a=n.getSize()/s,u=new Nl(Ne.getGF(s)),h=T.truncDivision(i,s),f=Ne.bitsToWords(n,s,h);u.encode(f,h-a);let g=i%s,p=new P;p.appendBits(0,g);for(const y of Array.from(f))p.appendBits(y,s);return p}static bitsToWords(n,i,s){let a=new Int32Array(s),u,h;for(u=0,h=n.getSize()/i;u<h;u++){let f=0;for(let g=0;g<i;g++)f|=n.get(u*i+g)?1<<i-g-1:0;a[u]=f}return a}static getGF(n){switch(n){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new A("Unsupported word size "+n)}}static stuffBits(n,i){let s=new P,a=n.getSize(),u=(1<<i)-2;for(let h=0;h<a;h+=i){let f=0;for(let g=0;g<i;g++)(h+g>=a||n.get(h+g))&&(f|=1<<i-1-g);(f&u)===u?(s.appendBits(f&u,i),h--):f&u?s.appendBits(f,i):(s.appendBits(f|1,i),h--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Fo{encode(n,i,s,a){return this.encodeWithHints(n,i,s,a,null)}encodeWithHints(n,i,s,a,u){let h=Ml.ISO_8859_1,f=Ne.DEFAULT_EC_PERCENT,g=Ne.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(mt.CHARACTER_SET)&&(h=kh.forName(u.get(mt.CHARACTER_SET).toString())),u.has(mt.ERROR_CORRECTION)&&(f=T.parseInt(u.get(mt.ERROR_CORRECTION).toString())),u.has(mt.AZTEC_LAYERS)&&(g=T.parseInt(u.get(mt.AZTEC_LAYERS).toString()))),Fo.encodeLayers(n,i,s,a,h,f,g)}static encodeLayers(n,i,s,a,u,h,f){if(i!==ae.AZTEC)throw new A("Can only encode AZTEC, but got "+i);let g=Ne.encode(ue.getBytes(n,u),h,f);return Fo.renderResult(g,s,a)}static renderResult(n,i,s){let a=n.getMatrix();if(a==null)throw new Un;let u=a.getWidth(),h=a.getHeight(),f=Math.max(i,u),g=Math.max(s,h),p=Math.min(f/u,g/h),y=(f-u*p)/2,E=(g-h*p)/2,S=new pe(f,g);for(let I=0,O=E;I<h;I++,O+=p)for(let R=0,k=y;R<u;R++,k+=p)a.get(R,I)&&S.setRegion(k,O,p,p);return S}}r.AbstractExpandedDecoder=yl,r.ArgumentException=C,r.ArithmeticException=Io,r.AztecCode=Lh,r.AztecCodeReader=No,r.AztecCodeWriter=Fo,r.AztecDecoder=He,r.AztecDetector=Eh,r.AztecDetectorResult=yh,r.AztecEncoder=Ne,r.AztecHighLevelEncoder=Ts,r.AztecPoint=Ut,r.BarcodeFormat=ae,r.Binarizer=V,r.BinaryBitmap=N,r.BitArray=P,r.BitMatrix=pe,r.BitSource=Al,r.BrowserAztecCodeReader=Cg,r.BrowserBarcodeReader=Tg,r.BrowserCodeReader=mn,r.BrowserDatamatrixCodeReader=Ng,r.BrowserMultiFormatReader=Ug,r.BrowserPDF417Reader=zg,r.BrowserQRCodeReader=Hg,r.BrowserQRCodeSvgWriter=ei,r.CharacterSetECI=G,r.ChecksumException=D,r.Code128Reader=ee,r.Code39Reader=gt,r.DataMatrixDecodedBitStreamParser=mr,r.DataMatrixReader=xr,r.DecodeHintType=W,r.DecoderResult=ms,r.DefaultGridSampler=vh,r.DetectorResult=bo,r.EAN13Reader=Kr,r.EncodeHintType=mt,r.Exception=x,r.FormatException=B,r.GenericGF=Me,r.GenericGFPoly=Yt,r.GlobalHistogramBinarizer=Ce,r.GridSampler=pl,r.GridSamplerInstance=gr,r.HTMLCanvasElementLuminanceSource=ge,r.HybridBinarizer=xe,r.ITFReader=je,r.IllegalArgumentException=A,r.IllegalStateException=Un,r.InvertedLuminanceSource=fe,r.LuminanceSource=ne,r.MathUtils=be,r.MultiFormatOneDReader=Si,r.MultiFormatReader=Dh,r.MultiFormatWriter=Wg,r.NotFoundException=U,r.OneDReader=ft,r.PDF417DecodedBitStreamParser=z,r.PDF417DecoderErrorCorrection=Th,r.PDF417Reader=Tt,r.PDF417ResultMetadata=Nh,r.PerspectiveTransform=Tn,r.PlanarYUVLuminanceSource=Wn,r.QRCodeByteMatrix=Po,r.QRCodeDataMask=wn,r.QRCodeDecodedBitStreamParser=et,r.QRCodeDecoderErrorCorrectionLevel=Ve,r.QRCodeDecoderFormatInformation=kt,r.QRCodeEncoder=Ye,r.QRCodeEncoderQRCode=Jr,r.QRCodeMaskUtil=ot,r.QRCodeMatrixUtil=he,r.QRCodeMode=ce,r.QRCodeReader=wr,r.QRCodeVersion=le,r.QRCodeWriter=Ii,r.RGBLuminanceSource=Ol,r.RSS14Reader=st,r.RSSExpandedReader=Y,r.ReaderException=Lo,r.ReedSolomonDecoder=ws,r.ReedSolomonEncoder=Nl,r.ReedSolomonException=vi,r.Result=Je,r.ResultMetadataType=yt,r.ResultPoint=oe,r.StringUtils=ue,r.UnsupportedOperationException=me,r.VideoInputDevice=Qe,r.WhiteRectangleDetector=Jn,r.WriterException=Ue,r.ZXingArrays=b,r.ZXingCharset=kh,r.ZXingInteger=T,r.ZXingStandardCharsets=Ml,r.ZXingStringBuilder=te,r.ZXingStringEncoding=Be,r.ZXingSystem=F,r.createAbstractExpandedDecoder=_h,Object.defineProperty(r,"__esModule",{value:!0})})})(lc,lc.exports);var $e=lc.exports;const Wm=ep($e),Gm=Jg({__proto__:null,default:Wm},[$e]);var td=function(){function t(e,r,o){if(this.formatMap=new Map([[ie.QR_CODE,$e.BarcodeFormat.QR_CODE],[ie.AZTEC,$e.BarcodeFormat.AZTEC],[ie.CODABAR,$e.BarcodeFormat.CODABAR],[ie.CODE_39,$e.BarcodeFormat.CODE_39],[ie.CODE_93,$e.BarcodeFormat.CODE_93],[ie.CODE_128,$e.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,$e.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,$e.BarcodeFormat.MAXICODE],[ie.ITF,$e.BarcodeFormat.ITF],[ie.EAN_13,$e.BarcodeFormat.EAN_13],[ie.EAN_8,$e.BarcodeFormat.EAN_8],[ie.PDF_417,$e.BarcodeFormat.PDF_417],[ie.RSS_14,$e.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,$e.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,$e.BarcodeFormat.UPC_A],[ie.UPC_E,$e.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,$e.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Gm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var l=this.createZXingFormats(e),c=new Map;c.set($e.DecodeHintType.POSSIBLE_FORMATS,l),c.set($e.DecodeHintType.TRY_HARDER,!1),this.hints=c}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(o,l){try{o(r.decode(e))}catch(c){l(c)}})},t.prototype.decode=function(e){var r=new $e.MultiFormatReader(this.verbose,this.hints),o=new $e.HTMLCanvasElementLuminanceSource(e),l=new $e.BinaryBitmap(new $e.HybridBinarizer(o)),c=r.decode(l);return{text:c.text,format:G1.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,o,l){e.set(r,o)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],o=0,l=e;o<l.length;o++){var c=l[o];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Ym=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},Xm=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},nd=function(){function t(e,r,o){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Ym(this,void 0,void 0,function(){var r,o;return Xm(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:G1.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,o=0,l=0,c=e;l<c.length;l++){var d=c[l],m=d.boundingBox.width*d.boundingBox.height;m>o&&(o=m,r=d)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],o=0,l=e;o<l.length;o++){var c=l[o];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,o,l){e.set(r,o)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),rd=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},id=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},$m=function(){function t(e,r,o,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&nd.isSupported()?(this.primaryDecoder=new nd(e,o,l),this.secondaryDecoder=new td(e,o,l)):this.primaryDecoder=new td(e,o,l)}return t.prototype.decodeAsync=function(e){return rd(this,void 0,void 0,function(){var r;return id(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return rd(this,void 0,void 0,function(){var r,o;return id(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(o=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,o=this.executionResults;r<o.length;r++){var l=o[r];e+=l}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),fh=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ha=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},Va=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},K1=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),Km=function(t){fh(e,t);function e(r,o){return t.call(this,r,o)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var o={};o[this.name]=r;var l={advanced:[o]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(K1),Qm=function(t){fh(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(Km),Zm=function(t){fh(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(K1),qm=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Qm(this.track)},t.prototype.torchFeature=function(){return new Zm(this.track)},t}(),Jm=function(){function t(e,r,o){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(o,l),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,o,l){return Ha(this,void 0,void 0,function(){var c,d;return Va(this,function(m){switch(m.label){case 0:return c=new t(e,r,l),o.aspectRatio?(d={aspectRatio:o.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return c.setupSurface(),[2,c]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,o=function(){setTimeout(e,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Ha(this,void 0,void 0,function(){return Va(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,o){var l=e.mediaStream.getVideoTracks(),c=l.length,d=0;e.mediaStream.getVideoTracks().forEach(function(m){e.mediaStream.removeTrack(m),m.stop(),++d,d>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new qm(this.getFirstTrackOrFail())},t}(),ex=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,o){return Ha(this,void 0,void 0,function(){return Va(this,function(l){return[2,Jm.create(e,this.mediaStream,r,o)]})})},t.create=function(e){return Ha(this,void 0,void 0,function(){var r,o;return Va(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=l.sent(),[2,new t(o)]}})})},t}(),sd=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},od=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},tx=function(){function t(){}return t.failIfNotSupported=function(){return sd(this,void 0,void 0,function(){return od(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return sd(this,void 0,void 0,function(){return od(this,function(r){return[2,ex.create(e)]})})},t}(),nx=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},rx=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ix=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Qi.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Qi.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return nx(this,void 0,void 0,function(){var e,r,o,l,c,d,m;return rx(this,function(w){switch(w.label){case 0:return e=function(x){for(var C=x.getVideoTracks(),A=0,N=C;A<N.length;A++){var D=N[A];D.enabled=!1,D.stop(),x.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),l=[],c=0,d=o;c<d.length;c++)m=d[c],m.kind==="videoinput"&&l.push({id:m.deviceId,label:m.label});return e(r),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var o=function(c){for(var d=[],m=0,w=c;m<w.length;m++){var x=w[m];x.kind==="video"&&d.push({id:x.id,label:x.label})}e(d)},l=MediaStreamTrack;l.getSources(o)})},t}(),lt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(lt||(lt={}));var sx=function(){function t(){this.state=lt.NOT_STARTED,this.onGoingTransactionNewState=lt.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=lt.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=lt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==lt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case lt.UNKNOWN:throw"Transition from unknown is not allowed";case lt.NOT_STARTED:this.failIfNewStateIs(e,[lt.PAUSED]);break;case lt.SCANNING:break;case lt.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var o=0,l=r;o<l.length;o++){var c=l[o];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),ox=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===lt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==lt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===lt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===lt.PAUSED},t}(),ax=function(){function t(){}return t.create=function(){return new ox(new sx)},t}(),lx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),an=function(t){lx(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(kn),ux=function(){function t(e,r){this.logger=r,this.fps=an.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=an.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Kn(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),ad=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new X1(this.verbose),this.qrcode=new $m(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ax.create()}return t.prototype.start=function(e,r,o,l){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;l?d=l:d=this.verbose?this.logger.log:function(){};var m=ux.create(r,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,C=document.getElementById(this.elementId);C.clientWidth?C.clientWidth:an.DEFAULT_WIDTH,C.style.position="relative",this.shouldScan=!0,this.element=C;var A=this,N=this.stateManagerProxy.startTransition(lt.SCANNING);return new Promise(function(D,V){var F=x?m.videoConstraints:A.createVideoConstraints(e);if(!F){N.cancel(),V("videoConstraints should be defined");return}var $={};(!x||m.aspectRatio)&&($.aspectRatio=m.aspectRatio);var M={onRenderSurfaceReady:function(b,T){A.setupUi(b,T,m),A.isScanning=!0,A.foreverScan(m,o,d)}};tx.failIfNotSupported().then(function(b){b.create(F).then(function(T){return T.render(c.element,$,M).then(function(P){A.renderedCamera=P,N.execute(),D(null)}).catch(function(P){N.cancel(),V(P)})}).catch(function(T){N.cancel(),V(Qi.errorGettingUserMedia(T))})}).catch(function(b){N.cancel(),V(Qi.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(lt.PAUSED),this.showPausedState(),(Kn(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(lt.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(lt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(e.element){var c=document.getElementById(an.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),o(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(o){return o.decodedText})},t.prototype.scanFileV2=function(e,r){var o=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Kn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(e);var d=new Image;d.onload=function(){var m=d.width,w=d.height,x=document.getElementById(o.elementId),C=x.clientWidth?x.clientWidth:an.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:w,an.FILE_SCAN_MIN_HEIGHT),N=o.computeCanvasDrawConfig(m,w,C,A);if(r){var D=o.createCanvasElement(C,A,"qr-canvas-visible");D.style.display="inline-block",x.appendChild(D);var V=D.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=C,V.canvas.height=A,V.drawImage(d,0,0,m,w,N.x,N.y,N.width,N.height)}var F=an.FILE_SCAN_HIDDEN_CANVAS_PADDING,$=Math.max(d.width,N.width),M=Math.max(d.height,N.height),b=$+2*F,T=M+2*F,P=o.createCanvasElement(b,T);x.appendChild(P);var Q=P.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=b,Q.canvas.height=T,Q.drawImage(d,0,0,m,w,F,F,$,M);try{o.qrcode.decodeRobustlyAsync(P).then(function(W){l(Jf.createFromQrcodeResult(W))}).catch(c)}catch(W){c("QR code parse error, error = ".concat(W))}},d.onerror=c,d.onabort=c,d.onstalled=c,d.onsuspend=c,d.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return ix.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!$1.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],l=0,c=e.formatsToSupport;l<c.length;l++){var d=c[l];Hm(d)?o.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Kn(e))return!0;if(!Kn(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Kn(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Kn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,o){var l=this,c=o.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(e,r,c),m=function(x){if(x<an.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(an.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};m(d.width),m(d.height),d.width=w(d.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(e,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return o},t.prototype.setupUi=function(e,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,o);var l=Kn(o.qrbox)?{width:e,height:r}:o.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(e,r,l);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=o.isShadedBoxEnabled()&&c.height<=r,m={x:0,y:0,width:e,height:r},w=d?this.getShadedRegionBounds(e,r,c):m,x=this.createCanvasElement(w.width,w.height),C={willReadFrequently:!0},A=x.getContext("2d",C);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,e,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Qi.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,Jf.createFromQrcodeResult(l)),o.possiblyUpdateShaders(!0),!0}).catch(function(l){o.possiblyUpdateShaders(!1);var c=Qi.codeParseError(l);return r(c,Y1.createFrom(c)),!1})},t.prototype.foreverScan=function(e,r,o){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),d=c.videoWidth/c.clientWidth,m=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*d,x=this.qrRegion.height*m,C=this.qrRegion.x*d,A=this.qrRegion.y*m;this.context.drawImage(c,C,A,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,r,o)},l.getTimeoutFps(e.fps))};this.scanContext(r,o).then(function(D){!D&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,o).finally(function(){N()})):N()}).catch(function(D){l.logger.logError("Error happend while scanning context",D),N()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",o="deviceId",l={},c="exact",d=function(V){if(V in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},m=Object.keys(e);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(e)[0];if(w!==r&&w!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var x=e.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(c in x){if(d(x["".concat(c)]))return{facingMode:{exact:x["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var C=typeof x;throw"Invalid type of 'facingMode' = ".concat(C)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(c in A)return{deviceId:{exact:A["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var N=typeof A;throw"Invalid type of 'deviceId' = ".concat(N)}}}var D=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},t.prototype.computeCanvasDrawConfig=function(e,r,o,l){if(e<=o&&r<=l){var c=(o-e)/2,d=(l-r)/2;return{x:c,y:d,width:e,height:r}}else{var m=e,w=r;return e>o&&(r=o/e*r,e=o),r>l&&(e=l/r*e,r=l),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,o,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?an.BORDER_SHADER_MATCH_COLOR:an.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,o){var l=e,c=r,d=document.createElement("canvas");return d.style.width="".concat(l,"px"),d.style.height="".concat(c,"px"),d.style.display="none",d.id=Kn(o)?"qr-canvas":o,d},t.prototype.getShadedRegionBounds=function(e,r,o){if(o.width>e||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},t.prototype.possiblyInsertShadingElement=function(e,r,o,l){if(!(r-l.width<1||o-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var d=(r-l.width)/2,m=(o-l.height)/2;if(c.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(an.SHADED_REGION_ELEMENT_ID),r-l.width<11||o-l.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(c,x,w,-w,null,0,!0),this.insertShaderBorders(c,x,w,-w,null,0,!1),this.insertShaderBorders(c,x,w,null,-w,0,!0),this.insertShaderBorders(c,x,w,null,-w,0,!1),this.insertShaderBorders(c,w,x+w,-w,null,-w,!0),this.insertShaderBorders(c,w,x+w,null,-w,-w,!0),this.insertShaderBorders(c,w,x+w,-w,null,-w,!1),this.insertShaderBorders(c,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(c)}},t.prototype.insertShaderBorders=function(e,r,o,l,c,d,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=an.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(o,"px"),l!==null&&(w.style.top="".concat(l,"px")),c!==null&&(w.style.bottom="".concat(c,"px")),m?w.style.left="".concat(d,"px"):w.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),dh="data:image/svg+xml;base64,",cx=dh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",hx=dh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ld=dh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",fx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",ud=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),dx=function(){function t(){this.data=ud.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=ud.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),gx=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ed.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var o=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=ed.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),px=function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ld,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return r.onHoverIn()},this.infoIcon.onmouseout=function(o){return r.onHoverOut()},this.infoIcon.onclick=function(o){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=fx,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ld,this.infoIcon.style.opacity="0.6")},t}(),mx=function(){function t(){var e=this;this.infoDiv=new gx,this.infoIcon=new px(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),xx=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},wx=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},cd=function(){function t(){}return t.hasPermissions=function(){return xx(this,void 0,void 0,function(){var e,r,o,l;return wx(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=c.sent(),r=0,o=e;r<o.length;r++)if(l=o[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},t}(),Cr=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var o=r[e];if(t.isCameraScanType(o))return!0}return!1},t.isCameraScanType=function(e){return e===Vr.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Vr.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return kn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=kn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var o=0,l=e;o<l.length;o++){var c=l[o];if(!kn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return e},t}(),cn=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),or=function(){function t(){}return t.createElement=function(e,r){var o=document.createElement(e);return o.id=r,o.classList.add(cn.ALL_ELEMENT_CLASS),e==="button"&&o.setAttribute("type","button"),o},t}(),Q1=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})},Z1=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(C){return w([x,C])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(o=1,l&&(c=x[0]&2?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(C){x=[6,C],l=0}finally{o=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},hd=function(){function t(e,r,o){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=o}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return Q1(this,void 0,void 0,function(){var e,r;return Z1(this,function(o){switch(o.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=o.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?Le.torchOffButton():Le.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var o=e?Le.torchOnFailedMessage():Le.torchOffFailedMessage();r&&(o+="; Error = "+r),this.onTorchActionFailureCallback(o)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),yx=function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=or.createElement("button",cn.TORCH_BUTTON_ID),this.torchController=new hd(e,this,r)}return t.prototype.render=function(e,r){var o=this;this.torchButton.innerText=Le.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return Q1(o,void 0,void 0,function(){return Z1(this,function(d){switch(d.label){case 0:return[4,l.torchController.flipState()];case 1:return d.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(cn.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(cn.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(cn.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(cn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new hd(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Le.torchOnButton(),this.torchController.reset()},t.create=function(e,r,o,l){var c=new t(r,l);return c.render(e,o),c},t}(),vx=function(){function t(e,r,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=or.createElement("button",cn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=or.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var w=m.target;if(!(w.files&&w.files.length===0)){var x=w.files,C=x[0],A=C.name;c.setImageNameToButton(A),o(C)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var w=m.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var C=!1,A=0;A<x.length;++A){var N=x.item(A);if(N){var D=/image.*/;if(N.type.match(D)){C=!0;var V=N.name;c.setImageNameToButton(V),o(N),d.innerText=Le.dragAndDropMessage();break}}}C||(d.innerText=Le.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Le.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var o=e.substring(0,8),l=e.length,c=e.substring(l-8,l);e="".concat(o,"....").concat(c)}var d=Le.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=d},t.prototype.setInitialValueToButton=function(){var e=Le.fileSelectionChooseImage()+" - "+Le.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,o){var l=new t(e,r,o);return l},t}(),Ex=function(){function t(e){this.selectElement=or.createElement("select",cn.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)r.style.display="none";else{var l=Le.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,d=0,m=this.cameras;d<m.length;d++){var w=m[d],x=w.id,C=w.label==null?x:w.label;(!C||C==="")&&(C=[Le.anonymousCameraPrefix(),c++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=C,this.options.push(A),this.selectElement.appendChild(A)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,o=this.options;r<o.length;r++){var l=o[r];if(l.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var o=new t(r);return o.render(e),o},t}(),Cx=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=or.createElement("input",cn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Le.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Le.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,o,l){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var o=new t;return o.render(e,r),o},t}(),ln;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ln||(ln={}));function Ax(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function Sx(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var _x=function(){function t(e,r,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=o===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Cr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new X1(this.verbose),this.persistedDataManager=new dx,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,d){if(e)e(c,d);else{if(o.lastMatchFound===c)return;o.lastMatchFound=c,o.setHeaderMessage(Le.lastMatch(c),ln.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,d){r&&r(c,d)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new ad(this.getScanRegionId(),Sx(this.config,this.verbose))},t.prototype.pause=function(e){(Kn(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var o=document.getElementById(e.elementId);o&&(o.innerHTML="",e.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,l){if(!e.html5Qrcode){o();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(c){if(!e.html5Qrcode){o();return}e.html5Qrcode.clear(),r(),o()}).catch(function(c){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(e.html5Qrcode.clear(),r(),o())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=kn.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!kn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=kn.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=kn.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:kn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:kn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:kn.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),o=this.getScanRegionId();r.id=o,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),Cr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",e.appendChild(l),this.setupInitialDashboard(l)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var o=new mx;o.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,o){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Le.cameraPermissionRequesting());var c=function(){o||l.createPermissionButton(e,r)};ad.getCameras().then(function(d){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),d&&d.length>0?(e.removeChild(r),l.renderCameraSelection(d)):(l.setHeaderMessage(Le.noCameraFound(),ln.STATUS_WARNING),c())}).catch(function(d){l.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:c(),l.setHeaderMessage(d,ln.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var o=this,l=or.createElement("button",this.getCameraPermissionButtonId());l.innerText=Le.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,o.createCameraListUi(e,r,l)}),r.appendChild(l)},t.prototype.createPermissionsUi=function(e,r){var o=this;if(Cr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){cd.hasPermissions().then(function(l){l?o.createCameraListUi(e,r):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,r))}).catch(function(l){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Cr.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(o);var l=document.createElement("div");l.style.textAlign="center",o.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,l),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=Cr.isFileScanType(this.currentScanType),o=this,l=function(c){if(!o.html5Qrcode)throw"html5Qrcode not defined";Cr.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Le.loadingImage()),o.html5Qrcode.scanFileV2(c,!0).then(function(d){o.resetHeaderMessage(),o.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){o.setHeaderMessage(d,ln.STATUS_WARNING),o.qrCodeErrorCallback(d,Y1.createFrom(d))}))};this.fileSelectionUi=vx.create(e,r,l)},t.prototype.renderCameraSelection=function(e){var r=this,o=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=Cx.create(l,!1),d=function(F){var $=F.zoomFeature();if($.isSupported()){c.setOnCameraZoomValueChangeCallback(function(b){$.apply(b)});var M=1;r.config.defaultZoomValueIfSupported&&(M=r.config.defaultZoomValueIfSupported),M=Vm(M,$.min(),$.max()),c.setValues($.min(),$.max(),M,$.step()),c.show()}},m=Ex.create(l,e),w=document.createElement("span"),x=or.createElement("button",cn.CAMERA_START_BUTTON_ID);x.innerText=Le.scanButtonStartScanningText(),w.appendChild(x);var C=or.createElement("button",cn.CAMERA_STOP_BUTTON_ID);C.innerText=Le.scanButtonStopScanningText(),C.style.display="none",C.disabled=!0,w.appendChild(C);var A,N=function(F){if(!F.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(F.torchFeature()):A=yx.create(w,F.torchFeature(),{display:"none",marginLeft:"5px"},function($){o.setHeaderMessage($,ln.STATUS_WARNING)}),A.show()};l.appendChild(w);var D=function(F){F||(x.style.display="none"),x.innerText=Le.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,F&&(x.style.display="inline-block")};if(x.addEventListener("click",function(F){x.innerText=Le.scanButtonScanningStarting(),m.disable(),x.disabled=!0,x.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var $=m.getValue();o.persistedDataManager.setLastUsedCameraId($),o.html5Qrcode.start($,Ax(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(M){C.disabled=!1,C.style.display="inline-block",D(!1);var b=o.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&N(b),r.config.showZoomSliderIfSupported===!0&&d(b)}).catch(function(M){o.showHideScanTypeSwapLink(!0),m.enable(),D(!0),o.setHeaderMessage(M,ln.STATUS_WARNING)})}),m.hasSingleItem()&&x.click(),C.addEventListener("click",function(F){if(!o.html5Qrcode)throw"html5Qrcode not defined";C.disabled=!0,o.html5Qrcode.stop().then(function($){r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),m.enable(),x.disabled=!1,C.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),o.insertCameraScanImageToScanRegion()}).catch(function($){C.disabled=!1,o.setHeaderMessage($,ln.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var V=o.persistedDataManager.getLastUsedCameraId();m.hasValue(V)?(m.setValue(V),x.click()):o.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=Le.textIfCameraScanSelected(),o=Le.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var d=or.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=Cr.isCameraScanType(this.currentScanType)?r:o,d.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Cr.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),d.innerText=o,e.currentScanType=Vr.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),d.innerText=r,e.currentScanType=Vr.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),c.appendChild(d),l.appendChild(c)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){cd.hasPermissions().then(function(o){if(o){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(o){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=ln.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=e,o.style.display="block",r){case ln.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case ln.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case ln.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=cx,this.cameraScanImage.alt=Le.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=hx,this.fileScanImage.alt=Le.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return cn.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return cn.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const Ix=({isOpen:t,onClose:e,onScanSuccess:r})=>(at.useEffect(()=>{if(!t)return;const o={fps:10,qrbox:{width:250,height:250},rememberLastUsedCamera:!0},l=new _x("barcode-scanner-container",o,!1),c=(m,w)=>{l.clear(),r(m)},d=m=>{};return l.render(c,d),()=>{l&&l.clear().catch(m=>{console.error("Gagal membersihkan scanner.",m)})}},[t,r]),t?j.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex flex-col justify-center items-center",children:[j.jsx("div",{id:"barcode-scanner-container",className:"w-full max-w-md bg-white rounded-lg overflow-hidden"}),j.jsx("button",{onClick:e,className:"mt-4 bg-white text-black font-bold py-2 px-6 rounded-lg",children:"Tutup"})]}):null),Tx="modulepreload",bx=function(t){return"/kasirku/"+t},fd={},Ao=function(e,r,o){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(r.map(w=>{if(w=bx(w),w in fd)return;fd[w]=!0;const x=w.endsWith(".css"),C=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${C}`))return;const A=document.createElement("link");if(A.rel=x?"stylesheet":Tx,x||(A.as="script"),A.crossOrigin="",A.href=w,m&&A.setAttribute("nonce",m),document.head.appendChild(A),x)return new Promise((N,D)=>{A.addEventListener("load",N),A.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${w}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return l.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})},Nx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ao(async()=>{const{default:o}=await Promise.resolve().then(()=>gs);return{default:o}},void 0).then(({default:o})=>o(...r)):e=fetch,(...r)=>e(...r)};class gh extends Error{constructor(e,r="FunctionsError",o){super(e),this.name=r,this.context=o}}class Ox extends gh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dd extends gh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gd extends gh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uc||(uc={}));var Mx=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};class Rx{constructor(e,{headers:r={},customFetch:o,region:l=uc.Any}={}){this.url=e,this.headers=r,this.region=l,this.fetch=Nx(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var o;return Mx(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:d}=r;let m={},{region:w}=r;w||(w=this.region);const x=new URL(`${this.url}/${e}`);w&&w!=="any"&&(m["x-region"]=w,x.searchParams.set("forceFunctionRegion",w));let C;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",C=d):typeof d=="string"?(m["Content-Type"]="text/plain",C=d):typeof FormData<"u"&&d instanceof FormData?C=d:(m["Content-Type"]="application/json",C=JSON.stringify(d)));const A=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:C}).catch(F=>{throw new Ox(F)}),N=A.headers.get("x-relay-error");if(N&&N==="true")throw new dd(A);if(!A.ok)throw new gd(A);let D=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return D==="application/json"?V=yield A.json():D==="application/octet-stream"?V=yield A.blob():D==="text/event-stream"?V=A:D==="multipart/form-data"?V=yield A.formData():V=yield A.text(),{data:V,error:null,response:A}}catch(l){return{data:null,error:l,response:l instanceof gd||l instanceof dd?l.context:void 0}}})}}var en={},ph={},ll={},So={},ul={},cl={},Dx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cs=Dx();const kx=cs.fetch,q1=cs.fetch.bind(cs),J1=cs.Headers,Lx=cs.Request,Px=cs.Response,gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:J1,Request:Lx,Response:Px,default:q1,fetch:kx},Symbol.toStringTag,{value:"Module"})),Bx=tp(gs);var hl={};Object.defineProperty(hl,"__esModule",{value:!0});let Fx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};hl.default=Fx;var eg=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cl,"__esModule",{value:!0});const jx=eg(Bx),Ux=eg(hl);let zx=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,m,w;let x=null,C=null,A=null,N=c.status,D=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=M:C=JSON.parse(M))}const F=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),$=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");F&&$&&$.length>1&&(A=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(x={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,A=null,N=406,D="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const F=await c.text();try{x=JSON.parse(F),Array.isArray(x)&&c.status===404&&(C=[],x=null,N=200,D="OK")}catch{c.status===404&&F===""?(N=204,D="No Content"):x={message:F}}if(x&&this.isMaybeSingle&&(!((w=x==null?void 0:x.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,N=200,D="OK"),x&&this.shouldThrowOnError)throw new Ux.default(x)}return{error:x,data:C,count:A,status:N,statusText:D}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,m,w;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(w=c==null?void 0:c.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),l.then(e,r)}returns(){return this}overrideTypes(){return this}};cl.default=zx;var Hx=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});const Vx=Hx(cl);let Wx=class extends Vx.default{select(e){let r=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${e}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:o=r}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${e}`),this}range(e,r,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${e}`),this.url.searchParams.set(d,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var m;const w=[e?"analyze":null,r?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${x}"; options=${w};`,d==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ul.default=Wx;var Gx=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(So,"__esModule",{value:!0});const Yx=Gx(ul);let Xx=class extends Yx.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const o=Array.from(new Set(r)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(e,`in.(${o})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(e,`${c}fts${d}.${r}`),this}match(e){return Object.entries(e).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(e,r,o){return this.url.searchParams.append(e,`not.${r}.${o}`),this}or(e,{foreignTable:r,referencedTable:o=r}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${e})`),this}filter(e,r,o){return this.url.searchParams.append(e,`${r}.${o}`),this}};So.default=Xx;var $x=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ll,"__esModule",{value:!0});const Ps=$x(So);let Kx=class{constructor(e,{headers:r={},schema:o,fetch:l}){this.url=e,this.headers=r,this.schema=o,this.fetch=l}select(e,{head:r=!1,count:o}={}){const l=r?"HEAD":"GET";let c=!1;const d=(e??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new Ps.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),r&&c.push(`count=${r}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const d=e.reduce((m,w)=>m.concat(Object.keys(w)),[]);if(d.length>0){const m=[...new Set(d)].map(w=>`"${w}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ps.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const d="POST",m=[`resolution=${o?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&m.push(this.headers.Prefer),l&&m.push(`count=${l}`),c||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(e)){const w=e.reduce((x,C)=>x.concat(Object.keys(C)),[]);if(w.length>0){const x=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",x.join(","))}}return new Ps.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),this.headers.Prefer=l.join(","),new Ps.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",o=[];return e&&o.push(`count=${e}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new Ps.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ll.default=Kx;var fl={},dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.version=void 0;dl.version="0.0.0-automated";Object.defineProperty(fl,"__esModule",{value:!0});fl.DEFAULT_HEADERS=void 0;const Qx=dl;fl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Qx.version}`};var tg=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ph,"__esModule",{value:!0});const Zx=tg(ll),qx=tg(So),Jx=fl;let ew=class ng{constructor(e,{headers:r={},schema:o,fetch:l}={}){this.url=e,this.headers=Object.assign(Object.assign({},Jx.DEFAULT_HEADERS),r),this.schemaName=o,this.fetch=l}from(e){const r=new URL(`${this.url}/${e}`);return new Zx.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ng(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:o=!1,get:l=!1,count:c}={}){let d;const m=new URL(`${this.url}/rpc/${e}`);let w;o||l?(d=o?"HEAD":"GET",Object.entries(r).filter(([C,A])=>A!==void 0).map(([C,A])=>[C,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([C,A])=>{m.searchParams.append(C,A)})):(d="POST",w=r);const x=Object.assign({},this.headers);return c&&(x.Prefer=`count=${c}`),new qx.default({method:d,url:m,headers:x,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}};ph.default=ew;var ps=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});en.PostgrestError=en.PostgrestBuilder=en.PostgrestTransformBuilder=en.PostgrestFilterBuilder=en.PostgrestQueryBuilder=en.PostgrestClient=void 0;const rg=ps(ph);en.PostgrestClient=rg.default;const ig=ps(ll);en.PostgrestQueryBuilder=ig.default;const sg=ps(So);en.PostgrestFilterBuilder=sg.default;const og=ps(ul);en.PostgrestTransformBuilder=og.default;const ag=ps(cl);en.PostgrestBuilder=ag.default;const lg=ps(hl);en.PostgrestError=lg.default;var tw=en.default={PostgrestClient:rg.default,PostgrestQueryBuilder:ig.default,PostgrestFilterBuilder:sg.default,PostgrestTransformBuilder:og.default,PostgrestBuilder:ag.default,PostgrestError:lg.default};const{PostgrestClient:nw,PostgrestQueryBuilder:Jy,PostgrestFilterBuilder:e3,PostgrestTransformBuilder:t3,PostgrestBuilder:n3,PostgrestError:r3}=tw;function rw(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const iw=rw(),sw="2.11.15",ow=`realtime-js/${sw}`,aw="1.0.0",ug=1e4,lw=1e3;var Zs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zs||(Zs={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var cc;(function(t){t.websocket="websocket"})(cc||(cc={}));var oi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(oi||(oi={}));class uw{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,r,o)}_decodeBroadcast(e,r,o){const l=r.getUint8(1),c=r.getUint8(2);let d=this.HEADER_LENGTH+2;const m=o.decode(e.slice(d,d+l));d=d+l;const w=o.decode(e.slice(d,d+c));d=d+c;const x=JSON.parse(o.decode(e.slice(d,e.byteLength)));return{ref:null,topic:m,event:w,payload:x}}}class cg{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const pd=(t,e,r={})=>{var o;const l=(o=r.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(e).reduce((c,d)=>(c[d]=cw(d,t,e,l),c),{})},cw=(t,e,r,o)=>{const l=e.find(m=>m.name===t),c=l==null?void 0:l.type,d=r[t];return c&&!o.includes(c)?hg(c,d):hc(d)},hg=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gw(e,r)}switch(t){case We.bool:return hw(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return fw(e);case We.json:case We.jsonb:return dw(e);case We.timestamp:return pw(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return hc(e);default:return hc(e)}},hc=t=>t,hw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,o=t[r];if(t[0]==="{"&&o==="}"){let c;const d=t.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(m=>hg(e,m))}return t},pw=t=>typeof t=="string"?t.replace(" ","T"):t,fg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class lu{constructor(e,r,o={},l=ug){this.channel=e,this.event=r,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var o;return this._hasReceived(e)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var md;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(md||(md={}));class qs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qs.syncState(this.state,l,c,d),this.pendingDiffs.forEach(w=>{this.state=qs.syncDiff(this.state,w,c,d)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=qs.syncDiff(this.state,l,c,d),m())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,o,l){const c=this.cloneDeep(e),d=this.transformState(r),m={},w={};return this.map(c,(x,C)=>{d[x]||(w[x]=C)}),this.map(d,(x,C)=>{const A=c[x];if(A){const N=C.map($=>$.presence_ref),D=A.map($=>$.presence_ref),V=C.filter($=>D.indexOf($.presence_ref)<0),F=A.filter($=>N.indexOf($.presence_ref)<0);V.length>0&&(m[x]=V),F.length>0&&(w[x]=F)}else m[x]=C}),this.syncDiff(c,{joins:m,leaves:w},o,l)}static syncDiff(e,r,o,l){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(m,w)=>{var x;const C=(x=e[m])!==null&&x!==void 0?x:[];if(e[m]=this.cloneDeep(w),C.length>0){const A=e[m].map(D=>D.presence_ref),N=C.filter(D=>A.indexOf(D.presence_ref)<0);e[m].unshift(...N)}o(m,C,w)}),this.map(d,(m,w)=>{let x=e[m];if(!x)return;const C=w.map(A=>A.presence_ref);x=x.filter(A=>C.indexOf(A.presence_ref)<0),e[m]=x,l(m,x,w),x.length===0&&delete e[m]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(o=>r(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,o)=>{const l=e[o];return"metas"in l?r[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[o]=l,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xd||(xd={}));var wd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wd||(wd={}));var nr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class mh{constructor(e,r={config:{}},o){this.topic=e,this.params=r,this.socket=o,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lu(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new cg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new qs(this),this.broadcastEndpointURL=fg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:c,presence:d,private:m}}=this.params;this._onError(C=>e==null?void 0:e(nr.CHANNEL_ERROR,C)),this._onClose(()=>e==null?void 0:e(nr.CLOSED));const w={},x={broadcast:c,presence:d,postgres_changes:(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(C=>C.filter))!==null&&l!==void 0?l:[],private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var A;if(this.socket.setAuth(),C===void 0){e==null||e(nr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,D=(A=N==null?void 0:N.length)!==null&&A!==void 0?A:0,V=[];for(let F=0;F<D;F++){const $=N[F],{filter:{event:M,schema:b,table:T,filter:P}}=$,Q=C&&C[F];if(Q&&Q.event===M&&Q.schema===b&&Q.table===T&&Q.filter===P)V.push(Object.assign(Object.assign({},$),{id:Q.id}));else{this.unsubscribe(),this.state=Bt.errored,e==null||e(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,e&&e(nr.SUBSCRIBED);return}}).receive("error",C=>{this.state=Bt.errored,e==null||e(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,o){return this._on(e,r,o)}async send(e,r={}){var o,l;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,w={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,w,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=x.body)===null||l===void 0?void 0:l.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,m,w;const x=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((w=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||w===void 0)&&w.ack)&&c("ok"),x.receive("ok",()=>c("ok")),x.receive("error",()=>c("error")),x.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new lu(this,Ln.leave,{},e),o.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(c),d}_push(e,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new lu(this,e,r,o);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,r,o){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,o){var l,c;const d=e.toLocaleLowerCase(),{close:m,error:w,leave:x,join:C}=Ln;if(o&&[m,w,x,C].indexOf(d)>=0&&o!==this._joinRef())return;let N=this._onMessage(d,r,o);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(D=>{var V,F,$;return((V=D.filter)===null||V===void 0?void 0:V.event)==="*"||(($=(F=D.filter)===null||F===void 0?void 0:F.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===d}).map(D=>D.callback(N,o)):(c=this.bindings[d])===null||c===void 0||c.filter(D=>{var V,F,$,M,b,T;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in D){const P=D.id,Q=(V=D.filter)===null||V===void 0?void 0:V.event;return P&&((F=r.ids)===null||F===void 0?void 0:F.includes(P))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===(($=r.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{const P=(b=(M=D==null?void 0:D.filter)===null||M===void 0?void 0:M.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return P==="*"||P===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return D.type.toLocaleLowerCase()===d}).map(D=>{if(typeof N=="object"&&"ids"in N){const V=N.data,{schema:F,table:$,commit_timestamp:M,type:b,errors:T}=V;N=Object.assign(Object.assign({},{schema:F,table:$,commit_timestamp:M,eventType:b,new:{},old:{},errors:T}),this._getPayloadRecords(V))}D.callback(N,o)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,o){const l=e.toLocaleLowerCase(),c={type:l,filter:r,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,r){const o=e.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&mh.isEqual(l.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(e[o]!==r[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=pd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=pd(e.columns,e.old_record)),r}}const yd=()=>{},mw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xw{constructor(e,r){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ug,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yd,this.ref=0,this.logger=yd,this.conn=null,this.sendBuffer=[],this.serializer=new uw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...m)=>Ao(async()=>{const{default:w}=await Promise.resolve().then(()=>gs);return{default:w}},void 0).then(({default:w})=>w(...m)):d=fetch,(...m)=>d(...m)},this.endPoint=`${e}/${cc.websocket}`,this.httpEndpoint=fg(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const l=(o=r==null?void 0:r.params)===null||o===void 0?void 0:o.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(c,d)=>d(JSON.stringify(c)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=iw),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aw}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,o){this.logger(e,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Zs.connecting:return oi.Connecting;case Zs.open:return oi.Open;case Zs.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}channel(e,r={config:{}}){const o=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new mh(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:o,payload:l,ref:c}=e,d=()=>{this.encode(e,m=>{var w;(w=this.conn)===null||w===void 0||w.send(m)})};this.log("push",`${r} ${o} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const l={access_token:r,version:ow};r&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Ln.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(lw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:o,event:l,payload:c,ref:d}=r;o==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${l} ${d&&"("+d+")"||""}`,c),Array.from(this.channels).filter(m=>m._isMember(o)).forEach(m=>m._trigger(l,c,d)),this.stateChangeCallbacks.message.forEach(m=>m(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const o=e.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${e}${o}${l}`}_workerObjectUrl(e){let r;if(e)r=e;else{const o=new Blob([mw],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}}class xh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ww extends xh{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fc extends xh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var yw=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};const dg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ao(async()=>{const{default:o}=await Promise.resolve().then(()=>gs);return{default:o}},void 0).then(({default:o})=>o(...r)):e=fetch,(...r)=>e(...r)},vw=()=>yw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ao(()=>Promise.resolve().then(()=>gs),void 0)).Response:Response}),dc=t=>{if(Array.isArray(t))return t.map(r=>dc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,o])=>{const l=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=dc(o)}),e};var yi=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};const uu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ew=(t,e,r)=>yi(void 0,void 0,void 0,function*(){const o=yield vw();t instanceof o&&!(r!=null&&r.noResolveJson)?t.json().then(l=>{e(new ww(uu(l),t.status||500))}).catch(l=>{e(new fc(uu(l),l))}):e(new fc(uu(t),t))}),Cw=(t,e,r,o)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o&&(l.body=JSON.stringify(o)),Object.assign(Object.assign({},l),r))};function _o(t,e,r,o,l,c){return yi(this,void 0,void 0,function*(){return new Promise((d,m)=>{t(r,Cw(e,o,l,c)).then(w=>{if(!w.ok)throw w;return o!=null&&o.noResolveJson?w:w.json()}).then(w=>d(w)).catch(w=>Ew(w,m,o))})})}function Wa(t,e,r,o){return yi(this,void 0,void 0,function*(){return _o(t,"GET",e,r,o)})}function Tr(t,e,r,o,l){return yi(this,void 0,void 0,function*(){return _o(t,"POST",e,o,l,r)})}function Aw(t,e,r,o,l){return yi(this,void 0,void 0,function*(){return _o(t,"PUT",e,o,l,r)})}function Sw(t,e,r,o){return yi(this,void 0,void 0,function*(){return _o(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function gg(t,e,r,o,l){return yi(this,void 0,void 0,function*(){return _o(t,"DELETE",e,o,l,r)})}var qt=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};const _w={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Iw{constructor(e,r={},o,l){this.url=e,this.headers=r,this.bucketId=o,this.fetch=dg(l)}uploadOrUpdate(e,r,o,l){return qt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},vd),l);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const w=d.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),w&&c.append("metadata",this.encodeMetadata(w)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",d.cacheControl),w&&c.append("metadata",this.encodeMetadata(w))):(c=o,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,w&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(w)))),l!=null&&l.headers&&(m=Object.assign(Object.assign({},m),l.headers));const x=this._removeEmptyFolders(r),C=this._getFinalPath(x),A=yield this.fetch(`${this.url}/object/${C}`,Object.assign({method:e,body:c,headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{})),N=yield A.json();return A.ok?{data:{path:x,id:N.Id,fullPath:N.Key},error:null}:{data:null,error:N}}catch(c){if(Ct(c))return{data:null,error:c};throw c}})}upload(e,r,o){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,o)})}uploadToSignedUrl(e,r,o,l){return qt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let w;const x=Object.assign({upsert:vd.upsert},l),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&o instanceof Blob?(w=new FormData,w.append("cacheControl",x.cacheControl),w.append("",o)):typeof FormData<"u"&&o instanceof FormData?(w=o,w.append("cacheControl",x.cacheControl)):(w=o,C["cache-control"]=`max-age=${x.cacheControl}`,C["content-type"]=x.contentType);const A=yield this.fetch(m.toString(),{method:"PUT",body:w,headers:C}),N=yield A.json();return A.ok?{data:{path:c,fullPath:N.Key},error:null}:{data:null,error:N}}catch(w){if(Ct(w))return{data:null,error:w};throw w}})}createSignedUploadUrl(e,r){return qt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=yield Tr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(this.url+c.url),m=d.searchParams.get("token");if(!m)throw new xh("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:m},error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}update(e,r,o){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,o)})}move(e,r,o){return qt(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}copy(e,r,o){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}createSignedUrl(e,r,o){return qt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield Tr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}createSignedUrls(e,r,o){return qt(this,void 0,void 0,function*(){try{const l=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}download(e,r){return qt(this,void 0,void 0,function*(){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=c?`?${c}`:"";try{const m=this._getFinalPath(e);return{data:yield(yield Wa(this.fetch,`${this.url}/${l}/${m}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Ct(m))return{data:null,error:m};throw m}})}info(e){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const o=yield Wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dc(o),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}exists(e){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Sw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ct(o)&&o instanceof fc){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,r){const o=this._getFinalPath(e),l=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",w=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});w!==""&&l.push(w);let x=l.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${x}`)}}}remove(e){return qt(this,void 0,void 0,function*(){try{return{data:yield gg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}list(e,r,o){return qt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},_w),r),{prefix:e||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Tw="2.7.1",bw={"X-Client-Info":`storage-js/${Tw}`};var Mi=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};class Nw{constructor(e,r={},o){this.url=e,this.headers=Object.assign(Object.assign({},bw),r),this.fetch=dg(o)}listBuckets(){return Mi(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ct(e))return{data:null,error:e};throw e}})}getBucket(e){return Mi(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Mi(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return Mi(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}emptyBucket(e){return Mi(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Mi(this,void 0,void 0,function*(){try{return{data:yield gg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}}class Ow extends Nw{constructor(e,r={},o){super(e,r,o)}from(e){return new Iw(this.url,this.headers,e,this.fetch)}}const Mw="2.52.1";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const Rw={"X-Client-Info":`supabase-js-${zs}/${Mw}`},Dw={headers:Rw},kw={schema:"public"},Lw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pw={};var Bw=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};const Fw=t=>{let e;return t?e=t:typeof fetch>"u"?e=q1:e=fetch,(...r)=>e(...r)},jw=()=>typeof Headers>"u"?J1:Headers,Uw=(t,e,r)=>{const o=Fw(r),l=jw();return(c,d)=>Bw(void 0,void 0,void 0,function*(){var m;const w=(m=yield e())!==null&&m!==void 0?m:t;let x=new l(d==null?void 0:d.headers);return x.has("apikey")||x.set("apikey",t),x.has("Authorization")||x.set("Authorization",`Bearer ${w}`),o(c,Object.assign(Object.assign({},d),{headers:x}))})};var zw=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};function Hw(t){return t.endsWith("/")?t:t+"/"}function Vw(t,e){var r,o;const{db:l,auth:c,realtime:d,global:m}=t,{db:w,auth:x,realtime:C,global:A}=e,N={db:Object.assign(Object.assign({},w),l),auth:Object.assign(Object.assign({},x),c),realtime:Object.assign(Object.assign({},C),d),global:Object.assign(Object.assign(Object.assign({},A),m),{headers:Object.assign(Object.assign({},(r=A==null?void 0:A.headers)!==null&&r!==void 0?r:{}),(o=m==null?void 0:m.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>zw(this,void 0,void 0,function*(){return""})};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}const pg="2.71.1",Pi=30*1e3,gc=3,cu=gc*Pi,Ww="http://localhost:9999",Gw="supabase.auth.token",Yw={"X-Client-Info":`gotrue-js/${pg}`},pc="X-Supabase-Api-Version",mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$w=10*60*1e3;class wh extends Error{constructor(e,r,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Kw extends wh{constructor(e,r,o){super(e,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function Qw(t){return ye(t)&&t.name==="AuthApiError"}class xg extends wh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xr extends wh{constructor(e,r,o,l){super(e,o,l),this.name=r,this.status=o}}class Sr extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zw(t){return ye(t)&&t.name==="AuthSessionMissingError"}class na extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ra extends Xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ia extends Xr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qw(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ed extends Xr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mc extends Xr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function hu(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class Cd extends Xr{constructor(e,r,o){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}class xc extends Xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ga="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ad=` 	
\r=`.split(""),Jw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ad.length;e+=1)t[Ad[e].charCodeAt(0)]=-2;for(let e=0;e<Ga.length;e+=1)t[Ga[e].charCodeAt(0)]=e;return t})();function Sd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(Ga[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(Ga[o]),e.queuedBits-=6}}function wg(t,e,r){const o=Jw[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _d(t){const e=[],r=d=>{e.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{ny(d,o,r)};for(let d=0;d<t.length;d+=1)wg(t.charCodeAt(d),l,c);return e.join("")}function ey(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ty(t,e){for(let r=0;r<t.length;r+=1){let o=t.charCodeAt(r);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(t.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}ey(o,e)}}function ny(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let o=1;o<6;o+=1)if(!(t>>7-o&1)){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ry(t){const e=[],r={queue:0,queuedBits:0},o=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)wg(t.charCodeAt(l),r,o);return new Uint8Array(e)}function iy(t){const e=[];return ty(t,r=>e.push(r)),new Uint8Array(e)}function sy(t){const e=[],r={queue:0,queuedBits:0},o=l=>{e.push(l)};return t.forEach(l=>Sd(l,r,o)),Sd(null,r,o),e.join("")}function oy(t){return Math.round(Date.now()/1e3)+t}function ay(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mn=()=>typeof window<"u"&&typeof document<"u",ti={tested:!1,writable:!1},yg=()=>{if(!Mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ti.tested)return ti.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ti.tested=!0,ti.writable=!0}catch{ti.tested=!0,ti.writable=!1}return ti.writable};function ly(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return r.searchParams.forEach((o,l)=>{e[l]=o}),e}const vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ao(async()=>{const{default:o}=await Promise.resolve().then(()=>gs);return{default:o}},void 0).then(({default:o})=>o(...r)):e=fetch,(...r)=>e(...r)},uy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ni=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ar=async(t,e)=>{await t.removeItem(e)};class gl{constructor(){this.promise=new gl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}gl.promiseConstructor=Promise;function fu(t){const e=t.split(".");if(e.length!==3)throw new xc("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!Xw.test(e[o]))throw new xc("JWT not in base64url format");return{header:JSON.parse(_d(e[0])),payload:JSON.parse(_d(e[1])),signature:ry(e[2]),raw:{header:e[0],payload:e[1]}}}async function cy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hy(t,e){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await t(c);if(!e(c,null,d)){o(d);return}}catch(d){if(!e(c,d)){l(d);return}}})()})}function fy(t){return("0"+t.toString(16)).substr(-2)}function dy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let l="";for(let c=0;c<56;c++)l+=r.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(e),Array.from(e,fy).join("")}async function gy(t){const r=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function py(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await gy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(t,e,r=!1){const o=dy();let l=o;r&&(l+="/PASSWORD_RECOVERY"),await Bi(t,`${e}-code-verifier`,l);const c=await py(o);return[c,o===c?"plain":"s256"]}const my=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xy(t){const e=t.headers.get(pc);if(!e||!e.match(my))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(t){if(!vy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function du(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Id(t){return JSON.parse(JSON.stringify(t))}var Ey=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(r[o[l]]=t[o[l]]);return r};const si=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cy=[502,503,504];async function Td(t){var e;if(!uy(t))throw new mc(si(t),0);if(Cy.includes(t.status))throw new mc(si(t),t.status);let r;try{r=await t.json()}catch(c){throw new xg(si(c),c)}let o;const l=xy(t);if(l&&l.getTime()>=mg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new Cd(si(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Sr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Cd(si(r),t.status,r.weak_password.reasons);throw new Kw(si(r),t.status||500,o)}const Ay=(t,e,r,o)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),r))};async function Ae(t,e,r,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[pc]||(c[pc]=mg["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",w=await Sy(t,e,r+m,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(w):{data:Object.assign({},w),error:null}}async function Sy(t,e,r,o,l,c){const d=Ay(e,o,l,c);let m;try{m=await t(r,Object.assign({},d))}catch(w){throw console.error(w),new mc(si(w),0)}if(m.ok||await Td(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(w){await Td(w)}}function er(t){var e;let r=null;by(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=oy(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:o},error:null}}function bd(t){const e=er(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Or(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _y(t){return{data:t,error:null}}function Iy(t){const{action_link:e,email_otp:r,hashed_token:o,redirect_to:l,verification_type:c}=t,d=Ey(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:r,hashed_token:o,redirect_to:l,verification_type:c},w=Object.assign({},d);return{data:{properties:m,user:w},error:null}}function Ty(t){return t}function by(t){return t.access_token&&t.refresh_token&&t.expires_in}const gu=["global","local","others"];var Ny=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(r[o[l]]=t[o[l]]);return r};class Oy{constructor({url:e="",headers:r={},fetch:o}){this.url=e,this.headers=r,this.fetch=vg(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=gu[0]){if(gu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gu.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ye(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Or})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:r}=e,o=Ny(e,["options"]),l=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Iy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,o,l,c,d,m,w;try{const x={nextPage:null,lastPage:0,total:0},C=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ty});if(C.error)throw C.error;const A=await C.json(),N=(d=C.headers.get("x-total-count"))!==null&&d!==void 0?d:0,D=(w=(m=C.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&w!==void 0?w:[];return D.length>0&&(D.forEach(V=>{const F=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(V.split(";")[1].split("=")[1]);x[`${$}Page`]=F}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},A),x),error:null}}catch(x){if(ye(x))return{data:{users:[]},error:x};throw x}}async getUserById(e){Di(e);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Di(e);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Or})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,r=!1){Di(e);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Or})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Di(e.userId);try{const{data:r,error:o}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:o}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Di(e.userId),Di(e.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}function Nd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function My(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ki={debug:!!(globalThis&&yg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Eg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ry extends Eg{}async function Dy(t,e,r){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await r()}finally{ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ry(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ki.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}My();const ky={url:Ww,storageKey:Gw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Od(t,e,r){return await r()}const Li={};class xo{constructor(e){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xo.nextInstanceID,xo.nextInstanceID+=1,this.instanceID>0&&Mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},ky),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Oy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=vg(l.fetch),this.lock=l.lock||Od,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Dy:this.lock=Od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:yg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),Mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ly(window.location.href);let o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),Mn()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(r,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),qw(c)){const w=(e=c.details)===null||e===void 0?void 0:e.code;if(w==="identity_already_exists"||w==="identity_not_found"||w==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?{error:r}:{error:new xg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,o,l;try{const c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:er}),{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const w=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",w)),{data:{user:x,session:w},error:null}}catch(c){if(ye(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var r,o,l;try{let c;if("email"in e){const{email:C,password:A,options:N}=e;let D=null,V=null;this.flowType==="pkce"&&([D,V]=await Ri(this.storage,this.storageKey)),c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:C,password:A,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:D,code_challenge_method:V},xform:er})}else if("phone"in e){const{phone:C,password:A,options:N}=e;c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:A,data:(o=N==null?void 0:N.data)!==null&&o!==void 0?o:{},channel:(l=N==null?void 0:N.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:er})}else throw new ra("You must provide either an email or phone number and a password");const{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const w=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",w)),{data:{user:x,session:w},error:null}}catch(c){if(ye(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:d,options:m}=e;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:bd})}else if("phone"in e){const{phone:c,password:d,options:m}=e;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:bd})}else throw new ra("You must provide either an email or phone number and a password");const{data:o,error:l}=r;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new na}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,o,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,o,l,c,d,m,w,x,C,A,N,D;let V,F;if("message"in e)V=e.message,F=e.signature;else{const{chain:$,wallet:M,statement:b,options:T}=e;let P;if(Mn())if(typeof M=="object")P=M;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))P=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=M}const Q=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const W=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),b?{statement:b}:null));let B;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")B=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)B=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)V=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),F=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");V=[`${Q.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(l=(o=T==null?void 0:T.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((w=T==null?void 0:T.signInWithSolana)===null||w===void 0)&&w.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((x=T==null?void 0:T.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((A=(C=T==null?void 0:T.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||A===void 0)&&A.length?["Resources",...T.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const W=await P.signMessage(new TextEncoder().encode(V),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");F=W}}try{const{data:$,error:M}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:V,signature:sy(F)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(D=e.options)===null||D===void 0?void 0:D.captchaToken}}:null),xform:er});if(M)throw M;return!$||!$.session||!$.user?{data:{user:null,session:null},error:new na}:($.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),{data:Object.assign({},$),error:M})}catch($){if(ye($))return{data:{user:null,session:null},error:$};throw $}}async _exchangeCodeForSession(e){const r=await ni(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(r??"").split("/");try{const{data:c,error:d}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:er});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new na}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(ye(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:r,provider:o,token:l,access_token:c,nonce:d}=e,m=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:er}),{data:w,error:x}=m;return x?{data:{user:null,session:null},error:x}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new na}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:w,error:x})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,o,l,c,d;try{if("email"in e){const{email:m,options:w}=e;let x=null,C=null;this.flowType==="pkce"&&([x,C]=await Ri(this.storage,this.storageKey));const{error:A}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},create_user:(o=w==null?void 0:w.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:C},redirectTo:w==null?void 0:w.emailRedirectTo});return{data:{user:null,session:null},error:A}}if("phone"in e){const{phone:m,options:w}=e,{data:x,error:C}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},create_user:(c=w==null?void 0:w.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},channel:(d=w==null?void 0:w.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:C}}throw new ra("You must provide either an email or phone number.")}catch(m){if(ye(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(e){var r,o;try{let l,c;"options"in e&&(l=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:m}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:er});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const w=d.session,x=d.user;return w!=null&&w.access_token&&(await this._saveSession(w),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",w)),{data:{user:x,session:w},error:null}}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var r,o,l;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Ri(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:_y})}catch(c){if(ye(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new Sr;const{error:l}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:o,type:l,options:c}=e,{error:d}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:o,type:l,options:c}=e,{data:d,error:m}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new ra("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<cu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const d=await ni(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=du()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(w,x,C)=>(!d&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(w,x,C))})}return{data:{session:e},error:null}}const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Or}):await this._useSession(async r=>{var o,l,c;const{data:d,error:m}=r;if(m)throw m;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Or})})}catch(r){if(ye(r))return Zw(r)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new Sr;const d=l.session;let m=null,w=null;this.flowType==="pkce"&&e.email!=null&&([m,w]=await Ri(this.storage,this.storageKey));const{data:x,error:C}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:w}),jwt:d.access_token,xform:Or});if(C)throw C;return d.user=x.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sr;const r=Date.now()/1e3;let o=r,l=!0,c=null;const{payload:d}=fu(e.access_token);if(d.exp&&(o=d.exp,l=o<=r),l){const{session:m,error:w}=await this._callRefreshToken(e.refresh_token);if(w)return{data:{user:null,session:null},error:w};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:w}=await this._getUser(e.access_token);if(w)throw w;c={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var o;if(!e){const{data:d,error:m}=r;if(m)throw m;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Sr;const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Mn())throw new ia("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ia(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ia("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ed("No code detected.");const{data:b,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:m,expires_at:w,token_type:x}=e;if(!c||!m||!d||!x)throw new ia("No session defined in URL");const C=Math.round(Date.now()/1e3),A=parseInt(m);let N=C+A;w&&(N=parseInt(w));const D=N-C;D*1e3<=Pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${D}s, should have been closer to ${A}s`);const V=N-A;C-V>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",V,N,C):C-V<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",V,N,C);const{data:F,error:$}=await this._getUser(c);if($)throw $;const M={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:A,expires_at:N,refresh_token:d,token_type:x,user:F.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(o){if(ye(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ni(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:l,error:c}=r;if(c)return{error:c};const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:m}=await this.admin.signOut(d,e);if(m&&!(Qw(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return e!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ay(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async r=>{var o,l;try{const{data:{session:c},error:d}=r;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ri(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(ye(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:o,error:l}=await this._useSession(async c=>{var d,m,w,x,C;const{data:A,error:N}=c;if(N)throw N;const D=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(w=e.options)===null||w===void 0?void 0:w.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",D,{headers:this.headers,jwt:(C=(x=A.session)===null||x===void 0?void 0:x.access_token)!==null&&C!==void 0?C:void 0})});if(l)throw l;return Mn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(ye(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var o,l;const{data:c,error:d}=r;if(d)throw d;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await hy(async l=>(l>0&&await cy(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:er})),(l,c)=>{const d=200*Math.pow(2,l);return c&&hu(c)&&Date.now()+d-o<Pi})}catch(o){if(this._debug(r,"error",o),ye(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),Mn()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await ni(this.storage,this.storageKey);if(l&&this.userStorage){let d=await ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Bi(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:du()}else if(l&&!l.user&&!l.user){const d=await ni(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await Ar(this.storage,this.storageKey+"-user"),await Bi(this.storage,this.storageKey,l)):l.user=du()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cu;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${cu}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),hu(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(l.access_token);!m&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var r,o;if(!e)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new gl;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new Sr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(l,"error",c),ye(c)){const d={session:null,error:c};return hu(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,r,o=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,r)}catch(w){c.push(w)}});if(await Promise.all(d),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Bi(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const c=Id(l);await Bi(this.storage,this.storageKey,c)}else{const l=Id(r);await Bi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey),await Ar(this.storage,this.storageKey+"-code-verifier"),await Ar(this.storage,this.storageKey+"-user"),this.userStorage&&await Ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-e)/Pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Pi}ms, refresh threshold is ${gc} ticks`),l<=gc&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Eg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,o){const l=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,d]=await Ri(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(m.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var o;const{data:l,error:c}=r;return c?{data:null,error:c}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var o,l;const{data:c,error:d}=r;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:w,error:x}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return x?{data:null,error:x}:(e.factorType==="totp"&&(!((l=w==null?void 0:w.totp)===null||l===void 0)&&l.qr_code)&&(w.totp.qr_code=`data:image/svg+xml;utf-8,${w.totp.qr_code}`),{data:w,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:l,error:c}=r;if(c)return{data:null,error:c};const{data:d,error:m}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:m})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:l,error:c}=r;return c?{data:null,error:c}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const o=(e==null?void 0:e.factors)||[],l=o.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=o.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:o,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,o;const{data:{session:l},error:c}=e;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=fu(l.access_token);let m=null;d.aal&&(m=d.aal);let w=m;((o=(r=l.user.factors)===null||r===void 0?void 0:r.filter(A=>A.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(w="aal2");const C=d.amr||[];return{data:{currentLevel:m,nextLevel:w,currentAuthenticationMethods:C},error:null}}))}async fetchJwk(e,r={keys:[]}){let o=r.keys.find(m=>m.kid===e);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(m=>m.kid===e),o&&this.jwks_cached_at+$w>l)return o;const{data:c,error:d}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(m=>m.kid===e),!o)?null:o}async getClaims(e,r={}){try{let o=e;if(!o){const{data:D,error:V}=await this.getSession();if(V||!D.session)return{data:null,error:V};o=D.session.access_token}const{header:l,payload:c,signature:d,raw:{header:m,payload:w}}=fu(o);r!=null&&r.allowExpired||wy(c.exp);const x=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!x){const{error:D}=await this.getUser(o);if(D)throw D;return{data:{claims:c,header:l,signature:d},error:null}}const C=yy(l.alg),A=await crypto.subtle.importKey("jwk",x,C,!0,["verify"]);if(!await crypto.subtle.verify(C,A,d,iy(`${m}.${w}`)))throw new xc("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(o){if(ye(o))return{data:null,error:o};throw o}}}xo.nextInstanceID=0;const Ly=xo;class Py extends Ly{constructor(e){super(e)}}var By=function(t,e,r,o){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(C){try{x(o.next(C))}catch(A){d(A)}}function w(C){try{x(o.throw(C))}catch(A){d(A)}}function x(C){C.done?c(C.value):l(C.value).then(m,w)}x((o=o.apply(t,e||[])).next())})};class Fy{constructor(e,r,o){var l,c,d;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const m=Hw(e),w=new URL(m);this.realtimeUrl=new URL("realtime/v1",w),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",w),this.storageUrl=new URL("storage/v1",w),this.functionsUrl=new URL("functions/v1",w);const x=`sb-${w.hostname.split(".")[0]}-auth-token`,C={db:kw,realtime:Pw,auth:Object.assign(Object.assign({},Lw),{storageKey:x}),global:Dw},A=Vw(o??{},C);this.storageKey=(l=A.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=A.global.headers)!==null&&c!==void 0?c:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(N,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=A.auth)!==null&&d!==void 0?d:{},this.headers,A.global.fetch),this.fetch=Uw(r,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.rest=new nw(new URL("rest/v1",w).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),A.accessToken||this._listenForAuthEvents()}get functions(){return new Rx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ow(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},o={}){return this.rest.rpc(e,r,o)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return By(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(r=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:o,storage:l,storageKey:c,flowType:d,lock:m,debug:w},x,C){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Py({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),x),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:o,storage:l,flowType:d,lock:m,debug:w,fetch:C,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,o)=>{this._handleTokenChanged(r,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,r,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jy=(t,e,r)=>new Fy(t,e,r);function Uy(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Uy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zy="https://ogjrgbvuwyuknhzoajfc.supabase.co",Hy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nanJnYnZ1d3l1a25oem9hamZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2OTQ5ODUsImV4cCI6MjA2OTI3MDk4NX0.UwImCi4NyvBm1IBHhKt51asdVEEZMslzjdmDdGzHzf4",sa=jy(zy,Hy),Vy=()=>{const[t,e]=at.useState([]),[r,o]=at.useState([]),[l,c]=at.useState(!0),[d,m]=at.useState(""),[w,x]=at.useState("Semua"),[C,A]=at.useState(!1),[N,D]=at.useState(!1),[V,F]=at.useState(!1),[$,M]=at.useState(!1),[b,T]=at.useState("");at.useEffect(()=>{(async()=>{c(!0);const{data:pe,error:U}=await sa.from("products").select("*").order("created_at",{ascending:!1});U?console.error("Error fetching products:",U):e(pe),c(!1)})()},[]);const P=async te=>{M(!1);const{data:pe,error:U}=await sa.from("products").select("*").eq("barcode",te).single();if(U&&U.code!=="PGRST116"){console.error("Error saat mencari barcode:",U),alert("Terjadi kesalahan saat mencari produk.");return}pe?(B(pe),alert(`Produk "${pe.name}" ditambahkan ke keranjang.`)):(T(te),D(!0))},Q=async te=>{try{const{data:pe,error:U}=await sa.from("products").insert([te]).select();if(U)throw U;pe&&(e(Ce=>[pe[0],...Ce]),T(""))}catch(pe){console.error("Gagal menyimpan produk: ",pe),alert("Gagal menyimpan produk. Mungkin barcode sudah ada?")}},W=async()=>{if(r.length===0)return;const te={total_price:me,items:r.map(U=>({product_id:U.id,name:U.name,price:U.price,quantity:U.quantity}))},{error:pe}=await sa.from("transactions").insert([te]);pe?alert("Gagal menyimpan transaksi!"):(alert("Transaksi berhasil!"),o([]))},B=te=>{o(pe=>pe.find(Ce=>Ce.id===te.id)?pe.map(Ce=>Ce.id===te.id?{...Ce,quantity:Ce.quantity+1}:Ce):[...pe,{...te,quantity:1}])},J=(te,pe)=>{pe<=0?o(U=>U.filter(Ce=>Ce.id!==te)):o(U=>U.map(Ce=>Ce.id===te?{...Ce,quantity:pe}:Ce))},G=r.reduce((te,pe)=>te+pe.quantity,0),me=r.reduce((te,pe)=>te+pe.price*pe.quantity,0),Be=at.useMemo(()=>["Semua",...new Set(t.map(te=>te.category))],[t]),ue=t.filter(te=>w==="Semua"||te.category===w).filter(te=>te.name.toLowerCase().includes(d.toLowerCase()));return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-4 h-full",children:[j.jsxs("div",{className:"md:col-span-2",children:[j.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[j.jsx("h2",{className:"text-xl font-bold text-gray-800 self-start sm:self-center",children:"Daftar Produk"}),j.jsxs("div",{className:"relative w-full sm:w-auto",children:[j.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:j.jsx(Pm,{className:"h-5 w-5 text-gray-400"})}),j.jsx("input",{type:"text",placeholder:"Cari produk...",value:d,onChange:te=>m(te.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),j.jsx("div",{className:"mb-4 flex items-center gap-2 overflow-x-auto pb-2",children:Be.map(te=>j.jsx("button",{onClick:()=>x(te),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${w===te?"bg-blue-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"}`,children:te},te))}),j.jsxs("div",{className:"flex justify-end mb-4 gap-3",children:[j.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-green-700 active:bg-green-800",children:[j.jsx(Bm,{className:"h-5 w-5"}),j.jsx("span",{children:"Scan"})]}),j.jsxs("button",{onClick:()=>{T(""),D(!0)},className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-blue-700 active:bg-blue-800",children:[j.jsx(Lm,{className:"h-5 w-5"}),j.jsx("span",{children:"Tambah"})]})]}),l?j.jsx("div",{className:"text-center text-gray-500 py-10",children:"Memuat produk..."}):j.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:ue.length>0?ue.map(te=>j.jsx(jm,{product:te,onAddToCart:B},te.id)):j.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:j.jsx("p",{children:"Produk tidak ditemukan."})})})]}),j.jsx("div",{className:"hidden md:block md:col-span-1",children:j.jsx(Kf,{items:r,onUpdateQuantity:J,onPay:()=>F(!0)})})]}),j.jsx("div",{className:"md:hidden fixed bottom-20 right-4 z-20",children:j.jsxs("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white rounded-full p-4 shadow-lg transform hover:scale-110 transition-transform",children:[j.jsx(km,{className:"h-7 w-7"}),G>0&&j.jsxs("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:[" ",G," "]})]})}),C&&j.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30 flex items-end",onClick:()=>A(!1),children:j.jsx("div",{className:"bg-gray-50 w-full rounded-t-2xl p-1 h-[85%] animate-slide-up",onClick:te=>te.stopPropagation(),children:j.jsx("div",{className:"p-4 bg-white rounded-t-2xl h-full",children:j.jsx(Kf,{items:r,onUpdateQuantity:J,onClose:()=>A(!1),onPay:()=>{A(!1),F(!0)}})})})}),j.jsx(Um,{isOpen:N,onClose:()=>D(!1),onSave:Q,initialBarcode:b}),j.jsx(zm,{isOpen:V,onClose:()=>F(!1),totalPrice:me,onConfirmPayment:W}),j.jsx(Ix,{isOpen:$,onClose:()=>M(!1),onScanSuccess:P})]})},Md=()=>j.jsx("div",{className:"p-4 text-center text-gray-700",children:"Selamat Datang di Halaman Beranda!"}),Wy=()=>j.jsx("div",{className:"p-4 text-center text-gray-700",children:"Halaman Laporan akan kita bangun di sini."}),Gy=()=>j.jsx("div",{className:"p-4 text-center text-gray-700",children:"Halaman Manajemen akan kita bangun di sini."}),Yy=()=>j.jsx("div",{className:"p-4 text-center text-gray-700",children:"Halaman Pengaturan akan kita bangun di sini."});function Xy(){const[t,e]=at.useState("Beranda"),r=()=>{switch(t){case"Beranda":return j.jsx(Md,{});case"Kasir":return j.jsx(Vy,{});case"Laporan":return j.jsx(Wy,{});case"Manajemen":return j.jsx(Gy,{});case"Pengaturan":return j.jsx(Yy,{});default:return j.jsx(Md,{})}};return j.jsxs("div",{className:"bg-gray-50 font-sans h-screen flex flex-col",children:[j.jsx(bm,{}),j.jsx("main",{className:"flex-grow overflow-y-auto pb-20",children:r()}),j.jsx(Fm,{activeMenu:t,setActiveMenu:e})]})}W1(document.getElementById("root")).render(j.jsx(at.StrictMode,{children:j.jsx(Xy,{})}));
